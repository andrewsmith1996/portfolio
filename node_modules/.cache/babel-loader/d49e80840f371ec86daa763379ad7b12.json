{"remainingRequest":"/Users/andrew/Projects/Andrew/portfolio/node_modules/babel-loader/lib/index.js!/Users/andrew/Projects/Andrew/portfolio/node_modules/eslint-loader/index.js??ref--13-0!/Users/andrew/Projects/Andrew/portfolio/src/assets/images/projects/Gooey Menu_files/commonLibs-f5489cf690cbd8eeac55398b1729b3033fad1b38546322969bb251fad3795ce3.js","dependencies":[{"path":"/Users/andrew/Projects/Andrew/portfolio/src/assets/images/projects/Gooey Menu_files/commonLibs-f5489cf690cbd8eeac55398b1729b3033fad1b38546322969bb251fad3795ce3.js","mtime":1578559904060},{"path":"/Users/andrew/Projects/Andrew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":1578559901126},{"path":"/Users/andrew/Projects/Andrew/portfolio/node_modules/babel-loader/lib/index.js","mtime":1578559901059},{"path":"/Users/andrew/Projects/Andrew/portfolio/node_modules/eslint-loader/index.js","mtime":1578559901695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmV2ZXJ5Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1mbG9hdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtY2xhbXBlZC1hcnJheSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXgiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLnRvLWpzb24iKTsKCnZhciBfdHlwZW9mID0gcmVxdWlyZSgiL1VzZXJzL2FuZHJldy9Qcm9qZWN0cy9BbmRyZXcvcG9ydGZvbGlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpOwoKLyohIGpRdWVyeSBVSSAtIHYxLjExLjMgLSAyMDE1LTAzLTA1CiogaHR0cDovL2pxdWVyeXVpLmNvbQoqIEluY2x1ZGVzOiBjb3JlLmpzLCB3aWRnZXQuanMsIG1vdXNlLmpzLCBkcmFnZ2FibGUuanMsIGRyb3BwYWJsZS5qcywgcmVzaXphYmxlLmpzLCBzb3J0YWJsZS5qcwoqIENvcHlyaWdodCAyMDE1IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqLwohZnVuY3Rpb24gKHQpIHsKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbImpxdWVyeSJdLCB0KSA6IHQoalF1ZXJ5KTsKfShmdW5jdGlvbiAodCkgewogIGZ1bmN0aW9uIGUoZSwgbikgewogICAgdmFyIHMsCiAgICAgICAgbywKICAgICAgICByLAogICAgICAgIGEgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICByZXR1cm4gImFyZWEiID09PSBhID8gKG8gPSAocyA9IGUucGFyZW50Tm9kZSkubmFtZSwgISghZS5ocmVmIHx8ICFvIHx8ICJtYXAiICE9PSBzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpICYmICEhKHIgPSB0KCJpbWdbdXNlbWFwPScjIiArIG8gKyAiJ10iKVswXSkgJiYgaShyKSkgOiAoL14oaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC8udGVzdChhKSA/ICFlLmRpc2FibGVkIDogImEiID09PSBhICYmIGUuaHJlZiB8fCBuKSAmJiBpKGUpOwogIH0KCiAgZnVuY3Rpb24gaShlKSB7CiAgICByZXR1cm4gdC5leHByLmZpbHRlcnMudmlzaWJsZShlKSAmJiAhdChlKS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAiaGlkZGVuIiA9PT0gdC5jc3ModGhpcywgInZpc2liaWxpdHkiKTsKICAgIH0pLmxlbmd0aDsKICB9CgogIHZhciBuLCBzLCBvLCByOwogIC8qIQogICAqIGpRdWVyeSBVSSBDb3JlIDEuMTEuMwogICAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICAgKgogICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAgICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogICAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICAgKgogICAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2NhdGVnb3J5L3VpLWNvcmUvCiAgICovCgogIHQudWkgPSB0LnVpIHx8IHt9LCB0LmV4dGVuZCh0LnVpLCB7CiAgICB2ZXJzaW9uOiAiMS4xMS4zIiwKICAgIGtleUNvZGU6IHsKICAgICAgQkFDS1NQQUNFOiA4LAogICAgICBDT01NQTogMTg4LAogICAgICBERUxFVEU6IDQ2LAogICAgICBET1dOOiA0MCwKICAgICAgRU5EOiAzNSwKICAgICAgRU5URVI6IDEzLAogICAgICBFU0NBUEU6IDI3LAogICAgICBIT01FOiAzNiwKICAgICAgTEVGVDogMzcsCiAgICAgIFBBR0VfRE9XTjogMzQsCiAgICAgIFBBR0VfVVA6IDMzLAogICAgICBQRVJJT0Q6IDE5MCwKICAgICAgUklHSFQ6IDM5LAogICAgICBTUEFDRTogMzIsCiAgICAgIFRBQjogOSwKICAgICAgVVA6IDM4CiAgICB9CiAgfSksIHQuZm4uZXh0ZW5kKHsKICAgIHNjcm9sbFBhcmVudDogZnVuY3Rpb24gc2Nyb2xsUGFyZW50KGUpIHsKICAgICAgdmFyIGkgPSB0aGlzLmNzcygicG9zaXRpb24iKSwKICAgICAgICAgIG4gPSAiYWJzb2x1dGUiID09PSBpLAogICAgICAgICAgcyA9IGUgPyAvKGF1dG98c2Nyb2xsfGhpZGRlbikvIDogLyhhdXRvfHNjcm9sbCkvLAogICAgICAgICAgbyA9IHRoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSB0KHRoaXMpOwogICAgICAgIHJldHVybiAoIW4gfHwgInN0YXRpYyIgIT09IGUuY3NzKCJwb3NpdGlvbiIpKSAmJiBzLnRlc3QoZS5jc3MoIm92ZXJmbG93IikgKyBlLmNzcygib3ZlcmZsb3cteSIpICsgZS5jc3MoIm92ZXJmbG93LXgiKSk7CiAgICAgIH0pLmVxKDApOwogICAgICByZXR1cm4gImZpeGVkIiAhPT0gaSAmJiBvLmxlbmd0aCA/IG8gOiB0KHRoaXNbMF0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCk7CiAgICB9LAogICAgdW5pcXVlSWQ6IChuID0gMCwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmlkIHx8ICh0aGlzLmlkID0gInVpLWlkLSIgKyArK24pOwogICAgICB9KTsKICAgIH0pLAogICAgcmVtb3ZlVW5pcXVlSWQ6IGZ1bmN0aW9uIHJlbW92ZVVuaXF1ZUlkKCkgewogICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAvXnVpLWlkLVxkKyQvLnRlc3QodGhpcy5pZCkgJiYgdCh0aGlzKS5yZW1vdmVBdHRyKCJpZCIpOwogICAgICB9KTsKICAgIH0KICB9KSwgdC5leHRlbmQodC5leHByWyI6Il0sIHsKICAgIGRhdGE6IHQuZXhwci5jcmVhdGVQc2V1ZG8gPyB0LmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoaSkgewogICAgICAgIHJldHVybiAhIXQuZGF0YShpLCBlKTsKICAgICAgfTsKICAgIH0pIDogZnVuY3Rpb24gKGUsIGksIG4pIHsKICAgICAgcmV0dXJuICEhdC5kYXRhKGUsIG5bM10pOwogICAgfSwKICAgIGZvY3VzYWJsZTogZnVuY3Rpb24gZm9jdXNhYmxlKGkpIHsKICAgICAgcmV0dXJuIGUoaSwgIWlzTmFOKHQuYXR0cihpLCAidGFiaW5kZXgiKSkpOwogICAgfSwKICAgIHRhYmJhYmxlOiBmdW5jdGlvbiB0YWJiYWJsZShpKSB7CiAgICAgIHZhciBuID0gdC5hdHRyKGksICJ0YWJpbmRleCIpLAogICAgICAgICAgcyA9IGlzTmFOKG4pOwogICAgICByZXR1cm4gKHMgfHwgbiA+PSAwKSAmJiBlKGksICFzKTsKICAgIH0KICB9KSwgdCgiPGE+Iikub3V0ZXJXaWR0aCgxKS5qcXVlcnkgfHwgdC5lYWNoKFsiV2lkdGgiLCAiSGVpZ2h0Il0sIGZ1bmN0aW9uIChlLCBpKSB7CiAgICBmdW5jdGlvbiBuKGUsIGksIG4sIG8pIHsKICAgICAgcmV0dXJuIHQuZWFjaChzLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaSAtPSBwYXJzZUZsb2F0KHQuY3NzKGUsICJwYWRkaW5nIiArIHRoaXMpKSB8fCAwLCBuICYmIChpIC09IHBhcnNlRmxvYXQodC5jc3MoZSwgImJvcmRlciIgKyB0aGlzICsgIldpZHRoIikpIHx8IDApLCBvICYmIChpIC09IHBhcnNlRmxvYXQodC5jc3MoZSwgIm1hcmdpbiIgKyB0aGlzKSkgfHwgMCk7CiAgICAgIH0pLCBpOwogICAgfQoKICAgIHZhciBzID0gIldpZHRoIiA9PT0gaSA/IFsiTGVmdCIsICJSaWdodCJdIDogWyJUb3AiLCAiQm90dG9tIl0sCiAgICAgICAgbyA9IGkudG9Mb3dlckNhc2UoKSwKICAgICAgICByID0gewogICAgICBpbm5lcldpZHRoOiB0LmZuLmlubmVyV2lkdGgsCiAgICAgIGlubmVySGVpZ2h0OiB0LmZuLmlubmVySGVpZ2h0LAogICAgICBvdXRlcldpZHRoOiB0LmZuLm91dGVyV2lkdGgsCiAgICAgIG91dGVySGVpZ2h0OiB0LmZuLm91dGVySGVpZ2h0CiAgICB9OwogICAgdC5mblsiaW5uZXIiICsgaV0gPSBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZSA9PT0gdW5kZWZpbmVkID8gclsiaW5uZXIiICsgaV0uY2FsbCh0aGlzKSA6IHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdCh0aGlzKS5jc3Mobywgbih0aGlzLCBlKSArICJweCIpOwogICAgICB9KTsKICAgIH0sIHQuZm5bIm91dGVyIiArIGldID0gZnVuY3Rpb24gKGUsIHMpIHsKICAgICAgcmV0dXJuICJudW1iZXIiICE9IHR5cGVvZiBlID8gclsib3V0ZXIiICsgaV0uY2FsbCh0aGlzLCBlKSA6IHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdCh0aGlzKS5jc3Mobywgbih0aGlzLCBlLCAhMCwgcykgKyAicHgiKTsKICAgICAgfSk7CiAgICB9OwogIH0pLCB0LmZuLmFkZEJhY2sgfHwgKHQuZm4uYWRkQmFjayA9IGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gdGhpcy5hZGQobnVsbCA9PSB0ID8gdGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlcih0KSk7CiAgfSksIHQoIjxhPiIpLmRhdGEoImEtYiIsICJhIikucmVtb3ZlRGF0YSgiYS1iIikuZGF0YSgiYS1iIikgJiYgKHQuZm4ucmVtb3ZlRGF0YSA9IChzID0gdC5mbi5yZW1vdmVEYXRhLCBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBzLmNhbGwodGhpcywgdC5jYW1lbENhc2UoZSkpIDogcy5jYWxsKHRoaXMpOwogIH0pKSwgdC51aS5pZSA9ICEhL21zaWUgW1x3Ll0rLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSksIHQuZm4uZXh0ZW5kKHsKICAgIGZvY3VzOiAociA9IHQuZm4uZm9jdXMsIGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgIHJldHVybiAibnVtYmVyIiA9PSB0eXBlb2YgZSA/IHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG4gPSB0aGlzOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdChuKS5mb2N1cygpLCBpICYmIGkuY2FsbChuKTsKICAgICAgICB9LCBlKTsKICAgICAgfSkgOiByLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9KSwKICAgIGRpc2FibGVTZWxlY3Rpb246IChvID0gIm9uc2VsZWN0c3RhcnQiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpID8gInNlbGVjdHN0YXJ0IiA6ICJtb3VzZWRvd24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLmJpbmQobyArICIudWktZGlzYWJsZVNlbGVjdGlvbiIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9KTsKICAgIH0pLAogICAgZW5hYmxlU2VsZWN0aW9uOiBmdW5jdGlvbiBlbmFibGVTZWxlY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLnVuYmluZCgiLnVpLWRpc2FibGVTZWxlY3Rpb24iKTsKICAgIH0sCiAgICB6SW5kZXg6IGZ1bmN0aW9uIHpJbmRleChlKSB7CiAgICAgIGlmIChlICE9PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLmNzcygiekluZGV4IiwgZSk7CiAgICAgIGlmICh0aGlzLmxlbmd0aCkgZm9yICh2YXIgaSwgbiwgcyA9IHQodGhpc1swXSk7IHMubGVuZ3RoICYmIHNbMF0gIT09IGRvY3VtZW50OykgewogICAgICAgIGlmICgoImFic29sdXRlIiA9PT0gKGkgPSBzLmNzcygicG9zaXRpb24iKSkgfHwgInJlbGF0aXZlIiA9PT0gaSB8fCAiZml4ZWQiID09PSBpKSAmJiAobiA9IHBhcnNlSW50KHMuY3NzKCJ6SW5kZXgiKSwgMTApLCAhaXNOYU4obikgJiYgMCAhPT0gbikpIHJldHVybiBuOwogICAgICAgIHMgPSBzLnBhcmVudCgpOwogICAgICB9CiAgICAgIHJldHVybiAwOwogICAgfQogIH0pLCB0LnVpLnBsdWdpbiA9IHsKICAgIGFkZDogZnVuY3Rpb24gYWRkKGUsIGksIG4pIHsKICAgICAgdmFyIHMsCiAgICAgICAgICBvID0gdC51aVtlXS5wcm90b3R5cGU7CgogICAgICBmb3IgKHMgaW4gbikgewogICAgICAgIG8ucGx1Z2luc1tzXSA9IG8ucGx1Z2luc1tzXSB8fCBbXSwgby5wbHVnaW5zW3NdLnB1c2goW2ksIG5bc11dKTsKICAgICAgfQogICAgfSwKICAgIGNhbGw6IGZ1bmN0aW9uIGNhbGwodCwgZSwgaSwgbikgewogICAgICB2YXIgcywKICAgICAgICAgIG8gPSB0LnBsdWdpbnNbZV07CiAgICAgIGlmIChvICYmIChuIHx8IHQuZWxlbWVudFswXS5wYXJlbnROb2RlICYmIDExICE9PSB0LmVsZW1lbnRbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZSkpIGZvciAocyA9IDA7IHMgPCBvLmxlbmd0aDsgcysrKSB7CiAgICAgICAgdC5vcHRpb25zW29bc11bMF1dICYmIG9bc11bMV0uYXBwbHkodC5lbGVtZW50LCBpKTsKICAgICAgfQogICAgfQogIH07CiAgLyohCiAgICogalF1ZXJ5IFVJIFdpZGdldCAxLjExLjMKICAgKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAgICoKICAgKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICAgKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAgICoKICAgKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9qUXVlcnkud2lkZ2V0LwogICAqLwoKICB2YXIgYSA9IDAsCiAgICAgIGggPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7CiAgdC5jbGVhbkRhdGEgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChpKSB7CiAgICAgIHZhciBuLCBzLCBvOwoKICAgICAgZm9yIChvID0gMDsgbnVsbCAhPSAocyA9IGlbb10pOyBvKyspIHsKICAgICAgICB0cnkgewogICAgICAgICAgKG4gPSB0Ll9kYXRhKHMsICJldmVudHMiKSkgJiYgbi5yZW1vdmUgJiYgdChzKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIik7CiAgICAgICAgfSBjYXRjaCAocikge30KICAgICAgfQoKICAgICAgZShpKTsKICAgIH07CiAgfSh0LmNsZWFuRGF0YSksIHQud2lkZ2V0ID0gZnVuY3Rpb24gKGUsIGksIG4pIHsKICAgIHZhciBzLAogICAgICAgIG8sCiAgICAgICAgciwKICAgICAgICBhLAogICAgICAgIGggPSB7fSwKICAgICAgICBsID0gZS5zcGxpdCgiLiIpWzBdOwogICAgcmV0dXJuIGUgPSBlLnNwbGl0KCIuIilbMV0sIHMgPSBsICsgIi0iICsgZSwgbiB8fCAobiA9IGksIGkgPSB0LldpZGdldCksIHQuZXhwclsiOiJdW3MudG9Mb3dlckNhc2UoKV0gPSBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gISF0LmRhdGEoZSwgcyk7CiAgICB9LCB0W2xdID0gdFtsXSB8fCB7fSwgbyA9IHRbbF1bZV0sIHIgPSB0W2xdW2VdID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgaWYgKCF0aGlzLl9jcmVhdGVXaWRnZXQpIHJldHVybiBuZXcgcih0LCBlKTsKICAgICAgYXJndW1lbnRzLmxlbmd0aCAmJiB0aGlzLl9jcmVhdGVXaWRnZXQodCwgZSk7CiAgICB9LCB0LmV4dGVuZChyLCBvLCB7CiAgICAgIHZlcnNpb246IG4udmVyc2lvbiwKICAgICAgX3Byb3RvOiB0LmV4dGVuZCh7fSwgbiksCiAgICAgIF9jaGlsZENvbnN0cnVjdG9yczogW10KICAgIH0pLCAoYSA9IG5ldyBpKCkpLm9wdGlvbnMgPSB0LndpZGdldC5leHRlbmQoe30sIGEub3B0aW9ucyksIHQuZWFjaChuLCBmdW5jdGlvbiAoZSwgbikgewogICAgICB2YXIgcywgbzsKICAgICAgdC5pc0Z1bmN0aW9uKG4pID8gaFtlXSA9IChzID0gZnVuY3Rpb24gcygpIHsKICAgICAgICByZXR1cm4gaS5wcm90b3R5cGVbZV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfSwgbyA9IGZ1bmN0aW9uIG8odCkgewogICAgICAgIHJldHVybiBpLnByb3RvdHlwZVtlXS5hcHBseSh0aGlzLCB0KTsKICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBlID0gdGhpcy5fc3VwZXIsCiAgICAgICAgICAgIGkgPSB0aGlzLl9zdXBlckFwcGx5OwogICAgICAgIHJldHVybiB0aGlzLl9zdXBlciA9IHMsIHRoaXMuX3N1cGVyQXBwbHkgPSBvLCB0ID0gbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0aGlzLl9zdXBlciA9IGUsIHRoaXMuX3N1cGVyQXBwbHkgPSBpLCB0OwogICAgICB9KSA6IGhbZV0gPSBuOwogICAgfSksIHIucHJvdG90eXBlID0gdC53aWRnZXQuZXh0ZW5kKGEsIHsKICAgICAgd2lkZ2V0RXZlbnRQcmVmaXg6IG8gJiYgYS53aWRnZXRFdmVudFByZWZpeCB8fCBlCiAgICB9LCBoLCB7CiAgICAgIGNvbnN0cnVjdG9yOiByLAogICAgICBuYW1lc3BhY2U6IGwsCiAgICAgIHdpZGdldE5hbWU6IGUsCiAgICAgIHdpZGdldEZ1bGxOYW1lOiBzCiAgICB9KSwgbyA/ICh0LmVhY2goby5fY2hpbGRDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgIHZhciBuID0gaS5wcm90b3R5cGU7CiAgICAgIHQud2lkZ2V0KG4ubmFtZXNwYWNlICsgIi4iICsgbi53aWRnZXROYW1lLCByLCBpLl9wcm90byk7CiAgICB9KSwgZGVsZXRlIG8uX2NoaWxkQ29uc3RydWN0b3JzKSA6IGkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2gociksIHQud2lkZ2V0LmJyaWRnZShlLCByKSwgcjsKICB9LCB0LndpZGdldC5leHRlbmQgPSBmdW5jdGlvbiAoZSkgewogICAgZm9yICh2YXIgaSwgbiwgcyA9IGguY2FsbChhcmd1bWVudHMsIDEpLCBvID0gMCwgciA9IHMubGVuZ3RoOyBvIDwgcjsgbysrKSB7CiAgICAgIGZvciAoaSBpbiBzW29dKSB7CiAgICAgICAgbiA9IHNbb11baV0sIHNbb10uaGFzT3duUHJvcGVydHkoaSkgJiYgbiAhPT0gdW5kZWZpbmVkICYmICh0LmlzUGxhaW5PYmplY3QobikgPyBlW2ldID0gdC5pc1BsYWluT2JqZWN0KGVbaV0pID8gdC53aWRnZXQuZXh0ZW5kKHt9LCBlW2ldLCBuKSA6IHQud2lkZ2V0LmV4dGVuZCh7fSwgbikgOiBlW2ldID0gbik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZTsKICB9LCB0LndpZGdldC5icmlkZ2UgPSBmdW5jdGlvbiAoZSwgaSkgewogICAgdmFyIG4gPSBpLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZSB8fCBlOwoKICAgIHQuZm5bZV0gPSBmdW5jdGlvbiAocykgewogICAgICB2YXIgbyA9ICJzdHJpbmciID09IHR5cGVvZiBzLAogICAgICAgICAgciA9IGguY2FsbChhcmd1bWVudHMsIDEpLAogICAgICAgICAgYSA9IHRoaXM7CiAgICAgIHJldHVybiBvID8gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgaSwKICAgICAgICAgICAgbyA9IHQuZGF0YSh0aGlzLCBuKTsKICAgICAgICByZXR1cm4gImluc3RhbmNlIiA9PT0gcyA/IChhID0gbywgITEpIDogbyA/IHQuaXNGdW5jdGlvbihvW3NdKSAmJiAiXyIgIT09IHMuY2hhckF0KDApID8gKGkgPSBvW3NdLmFwcGx5KG8sIHIpKSAhPT0gbyAmJiBpICE9PSB1bmRlZmluZWQgPyAoYSA9IGkgJiYgaS5qcXVlcnkgPyBhLnB1c2hTdGFjayhpLmdldCgpKSA6IGksICExKSA6IHZvaWQgMCA6IHQuZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciICsgcyArICInIGZvciAiICsgZSArICIgd2lkZ2V0IGluc3RhbmNlIikgOiB0LmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIgKyBlICsgIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciICsgcyArICInIik7CiAgICAgIH0pIDogKHIubGVuZ3RoICYmIChzID0gdC53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsIFtzXS5jb25jYXQocikpKSwgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IHQuZGF0YSh0aGlzLCBuKTsKICAgICAgICBlID8gKGUub3B0aW9uKHMgfHwge30pLCBlLl9pbml0ICYmIGUuX2luaXQoKSkgOiB0LmRhdGEodGhpcywgbiwgbmV3IGkocywgdGhpcykpOwogICAgICB9KSksIGE7CiAgICB9OwogIH0sIHQuV2lkZ2V0ID0gZnVuY3Rpb24gKCkge30sIHQuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycyA9IFtdLCB0LldpZGdldC5wcm90b3R5cGUgPSB7CiAgICB3aWRnZXROYW1lOiAid2lkZ2V0IiwKICAgIHdpZGdldEV2ZW50UHJlZml4OiAiIiwKICAgIGRlZmF1bHRFbGVtZW50OiAiPGRpdj4iLAogICAgb3B0aW9uczogewogICAgICBkaXNhYmxlZDogITEsCiAgICAgIGNyZWF0ZTogbnVsbAogICAgfSwKICAgIF9jcmVhdGVXaWRnZXQ6IGZ1bmN0aW9uIF9jcmVhdGVXaWRnZXQoZSwgaSkgewogICAgICBpID0gdChpIHx8IHRoaXMuZGVmYXVsdEVsZW1lbnQgfHwgdGhpcylbMF0sIHRoaXMuZWxlbWVudCA9IHQoaSksIHRoaXMudXVpZCA9IGErKywgdGhpcy5ldmVudE5hbWVzcGFjZSA9ICIuIiArIHRoaXMud2lkZ2V0TmFtZSArIHRoaXMudXVpZCwgdGhpcy5iaW5kaW5ncyA9IHQoKSwgdGhpcy5ob3ZlcmFibGUgPSB0KCksIHRoaXMuZm9jdXNhYmxlID0gdCgpLCBpICE9PSB0aGlzICYmICh0LmRhdGEoaSwgdGhpcy53aWRnZXRGdWxsTmFtZSwgdGhpcyksIHRoaXMuX29uKCEwLCB0aGlzLmVsZW1lbnQsIHsKICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSh0KSB7CiAgICAgICAgICB0LnRhcmdldCA9PT0gaSAmJiB0aGlzLmRlc3Ryb3koKTsKICAgICAgICB9CiAgICAgIH0pLCB0aGlzLmRvY3VtZW50ID0gdChpLnN0eWxlID8gaS5vd25lckRvY3VtZW50IDogaS5kb2N1bWVudCB8fCBpKSwgdGhpcy53aW5kb3cgPSB0KHRoaXMuZG9jdW1lbnRbMF0uZGVmYXVsdFZpZXcgfHwgdGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKSwgdGhpcy5vcHRpb25zID0gdC53aWRnZXQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSwgZSksIHRoaXMuX2NyZWF0ZSgpLCB0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLCBudWxsLCB0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSksIHRoaXMuX2luaXQoKTsKICAgIH0sCiAgICBfZ2V0Q3JlYXRlT3B0aW9uczogdC5ub29wLAogICAgX2dldENyZWF0ZUV2ZW50RGF0YTogdC5ub29wLAogICAgX2NyZWF0ZTogdC5ub29wLAogICAgX2luaXQ6IHQubm9vcCwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIHRoaXMuX2Rlc3Ryb3koKSwgdGhpcy5lbGVtZW50LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0RnVsbE5hbWUpLnJlbW92ZURhdGEodC5jYW1lbENhc2UodGhpcy53aWRnZXRGdWxsTmFtZSkpLCB0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSArICItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKSwgdGhpcy5iaW5kaW5ncy51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSksIHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLCB0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKTsKICAgIH0sCiAgICBfZGVzdHJveTogdC5ub29wLAogICAgd2lkZ2V0OiBmdW5jdGlvbiB3aWRnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7CiAgICB9LAogICAgb3B0aW9uOiBmdW5jdGlvbiBvcHRpb24oZSwgaSkgewogICAgICB2YXIgbiwKICAgICAgICAgIHMsCiAgICAgICAgICBvLAogICAgICAgICAgciA9IGU7CiAgICAgIGlmICgwID09PSBhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdC53aWRnZXQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMpOwogICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIGUpIGlmIChyID0ge30sIGUgPSAobiA9IGUuc3BsaXQoIi4iKSkuc2hpZnQoKSwgbi5sZW5ndGgpIHsKICAgICAgICBmb3IgKHMgPSByW2VdID0gdC53aWRnZXQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnNbZV0pLCBvID0gMDsgbyA8IG4ubGVuZ3RoIC0gMTsgbysrKSB7CiAgICAgICAgICBzW25bb11dID0gc1tuW29dXSB8fCB7fSwgcyA9IHNbbltvXV07CiAgICAgICAgfQoKICAgICAgICBpZiAoZSA9IG4ucG9wKCksIDEgPT09IGFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBzW2VdID09PSB1bmRlZmluZWQgPyBudWxsIDogc1tlXTsKICAgICAgICBzW2VdID0gaTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoMSA9PT0gYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMub3B0aW9uc1tlXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHRoaXMub3B0aW9uc1tlXTsKICAgICAgICByW2VdID0gaTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhyKSwgdGhpczsKICAgIH0sCiAgICBfc2V0T3B0aW9uczogZnVuY3Rpb24gX3NldE9wdGlvbnModCkgewogICAgICB2YXIgZTsKCiAgICAgIGZvciAoZSBpbiB0KSB7CiAgICAgICAgdGhpcy5fc2V0T3B0aW9uKGUsIHRbZV0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBfc2V0T3B0aW9uOiBmdW5jdGlvbiBfc2V0T3B0aW9uKHQsIGUpIHsKICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0XSA9IGUsICJkaXNhYmxlZCIgPT09IHQgJiYgKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSArICItZGlzYWJsZWQiLCAhIWUpLCBlICYmICh0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSwgdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpKSwgdGhpczsKICAgIH0sCiAgICBlbmFibGU6IGZ1bmN0aW9uIGVuYWJsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoewogICAgICAgIGRpc2FibGVkOiAhMQogICAgICB9KTsKICAgIH0sCiAgICBkaXNhYmxlOiBmdW5jdGlvbiBkaXNhYmxlKCkgewogICAgICByZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7CiAgICAgICAgZGlzYWJsZWQ6ICEwCiAgICAgIH0pOwogICAgfSwKICAgIF9vbjogZnVuY3Rpb24gX29uKGUsIGksIG4pIHsKICAgICAgdmFyIHMsCiAgICAgICAgICBvID0gdGhpczsKICAgICAgImJvb2xlYW4iICE9IHR5cGVvZiBlICYmIChuID0gaSwgaSA9IGUsIGUgPSAhMSksIG4gPyAoaSA9IHMgPSB0KGkpLCB0aGlzLmJpbmRpbmdzID0gdGhpcy5iaW5kaW5ncy5hZGQoaSkpIDogKG4gPSBpLCBpID0gdGhpcy5lbGVtZW50LCBzID0gdGhpcy53aWRnZXQoKSksIHQuZWFjaChuLCBmdW5jdGlvbiAobiwgcikgewogICAgICAgIGZ1bmN0aW9uIGEoKSB7CiAgICAgICAgICBpZiAoZSB8fCAhMCAhPT0gby5vcHRpb25zLmRpc2FibGVkICYmICF0KHRoaXMpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKSByZXR1cm4gKCJzdHJpbmciID09IHR5cGVvZiByID8gb1tyXSA6IHIpLmFwcGx5KG8sIGFyZ3VtZW50cyk7CiAgICAgICAgfQoKICAgICAgICAic3RyaW5nIiAhPSB0eXBlb2YgciAmJiAoYS5ndWlkID0gci5ndWlkID0gci5ndWlkIHx8IGEuZ3VpZCB8fCB0Lmd1aWQrKyk7CiAgICAgICAgdmFyIGggPSBuLm1hdGNoKC9eKFtcdzotXSopXHMqKC4qKSQvKSwKICAgICAgICAgICAgbCA9IGhbMV0gKyBvLmV2ZW50TmFtZXNwYWNlLAogICAgICAgICAgICBjID0gaFsyXTsKICAgICAgICBjID8gcy5kZWxlZ2F0ZShjLCBsLCBhKSA6IGkuYmluZChsLCBhKTsKICAgICAgfSk7CiAgICB9LAogICAgX29mZjogZnVuY3Rpb24gX29mZihlLCBpKSB7CiAgICAgIGkgPSAoaSB8fCAiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UgKyAiICIpICsgdGhpcy5ldmVudE5hbWVzcGFjZSwgZS51bmJpbmQoaSkudW5kZWxlZ2F0ZShpKSwgdGhpcy5iaW5kaW5ncyA9IHQodGhpcy5iaW5kaW5ncy5ub3QoZSkuZ2V0KCkpLCB0aGlzLmZvY3VzYWJsZSA9IHQodGhpcy5mb2N1c2FibGUubm90KGUpLmdldCgpKSwgdGhpcy5ob3ZlcmFibGUgPSB0KHRoaXMuaG92ZXJhYmxlLm5vdChlKS5nZXQoKSk7CiAgICB9LAogICAgX2RlbGF5OiBmdW5jdGlvbiBfZGVsYXkodCwgZSkgewogICAgICBmdW5jdGlvbiBpKCkgewogICAgICAgIHJldHVybiAoInN0cmluZyIgPT0gdHlwZW9mIHQgPyBuW3RdIDogdCkuYXBwbHkobiwgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgdmFyIG4gPSB0aGlzOwogICAgICByZXR1cm4gc2V0VGltZW91dChpLCBlIHx8IDApOwogICAgfSwKICAgIF9ob3ZlcmFibGU6IGZ1bmN0aW9uIF9ob3ZlcmFibGUoZSkgewogICAgICB0aGlzLmhvdmVyYWJsZSA9IHRoaXMuaG92ZXJhYmxlLmFkZChlKSwgdGhpcy5fb24oZSwgewogICAgICAgIG1vdXNlZW50ZXI6IGZ1bmN0aW9uIG1vdXNlZW50ZXIoZSkgewogICAgICAgICAgdChlLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpOwogICAgICAgIH0sCiAgICAgICAgbW91c2VsZWF2ZTogZnVuY3Rpb24gbW91c2VsZWF2ZShlKSB7CiAgICAgICAgICB0KGUuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBfZm9jdXNhYmxlOiBmdW5jdGlvbiBfZm9jdXNhYmxlKGUpIHsKICAgICAgdGhpcy5mb2N1c2FibGUgPSB0aGlzLmZvY3VzYWJsZS5hZGQoZSksIHRoaXMuX29uKGUsIHsKICAgICAgICBmb2N1c2luOiBmdW5jdGlvbiBmb2N1c2luKGUpIHsKICAgICAgICAgIHQoZS5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKTsKICAgICAgICB9LAogICAgICAgIGZvY3Vzb3V0OiBmdW5jdGlvbiBmb2N1c291dChlKSB7CiAgICAgICAgICB0KGUuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBfdHJpZ2dlcjogZnVuY3Rpb24gX3RyaWdnZXIoZSwgaSwgbikgewogICAgICB2YXIgcywKICAgICAgICAgIG8sCiAgICAgICAgICByID0gdGhpcy5vcHRpb25zW2VdOwogICAgICBpZiAobiA9IG4gfHwge30sIChpID0gdC5FdmVudChpKSkudHlwZSA9IChlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID8gZSA6IHRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyBlKS50b0xvd2VyQ2FzZSgpLCBpLnRhcmdldCA9IHRoaXMuZWxlbWVudFswXSwgbyA9IGkub3JpZ2luYWxFdmVudCkgZm9yIChzIGluIG8pIHsKICAgICAgICBzIGluIGkgfHwgKGlbc10gPSBvW3NdKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnRyaWdnZXIoaSwgbiksICEodC5pc0Z1bmN0aW9uKHIpICYmICExID09PSByLmFwcGx5KHRoaXMuZWxlbWVudFswXSwgW2ldLmNvbmNhdChuKSkgfHwgaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSk7CiAgICB9CiAgfSwgdC5lYWNoKHsKICAgIHNob3c6ICJmYWRlSW4iLAogICAgaGlkZTogImZhZGVPdXQiCiAgfSwgZnVuY3Rpb24gKGUsIGkpIHsKICAgIHQuV2lkZ2V0LnByb3RvdHlwZVsiXyIgKyBlXSA9IGZ1bmN0aW9uIChuLCBzLCBvKSB7CiAgICAgICJzdHJpbmciID09IHR5cGVvZiBzICYmIChzID0gewogICAgICAgIGVmZmVjdDogcwogICAgICB9KTsKICAgICAgdmFyIHIsCiAgICAgICAgICBhID0gcyA/ICEwID09PSBzIHx8ICJudW1iZXIiID09IHR5cGVvZiBzID8gaSA6IHMuZWZmZWN0IHx8IGkgOiBlOwogICAgICAibnVtYmVyIiA9PSB0eXBlb2YgKHMgPSBzIHx8IHt9KSAmJiAocyA9IHsKICAgICAgICBkdXJhdGlvbjogcwogICAgICB9KSwgciA9ICF0LmlzRW1wdHlPYmplY3QocyksIHMuY29tcGxldGUgPSBvLCBzLmRlbGF5ICYmIG4uZGVsYXkocy5kZWxheSksIHIgJiYgdC5lZmZlY3RzICYmIHQuZWZmZWN0cy5lZmZlY3RbYV0gPyBuW2VdKHMpIDogYSAhPT0gZSAmJiBuW2FdID8gblthXShzLmR1cmF0aW9uLCBzLmVhc2luZywgbykgOiBuLnF1ZXVlKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgdCh0aGlzKVtlXSgpLCBvICYmIG8uY2FsbChuWzBdKSwgaSgpOwogICAgICB9KTsKICAgIH07CiAgfSk7CiAgdC53aWRnZXQ7CiAgLyohCiAgICogalF1ZXJ5IFVJIE1vdXNlIDEuMTEuMwogICAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICAgKgogICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAgICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogICAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICAgKgogICAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL21vdXNlLwogICAqLwoKICB2YXIgbCA9ICExOwogIHQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24gKCkgewogICAgbCA9ICExOwogIH0pOwogIHQud2lkZ2V0KCJ1aS5tb3VzZSIsIHsKICAgIHZlcnNpb246ICIxLjExLjMiLAogICAgb3B0aW9uczogewogICAgICBjYW5jZWw6ICJpbnB1dCx0ZXh0YXJlYSxidXR0b24sc2VsZWN0LG9wdGlvbiIsCiAgICAgIGRpc3RhbmNlOiAxLAogICAgICBkZWxheTogMAogICAgfSwKICAgIF9tb3VzZUluaXQ6IGZ1bmN0aW9uIF9tb3VzZUluaXQoKSB7CiAgICAgIHZhciBlID0gdGhpczsKICAgICAgdGhpcy5lbGVtZW50LmJpbmQoIm1vdXNlZG93bi4iICsgdGhpcy53aWRnZXROYW1lLCBmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiBlLl9tb3VzZURvd24odCk7CiAgICAgIH0pLmJpbmQoImNsaWNrLiIgKyB0aGlzLndpZGdldE5hbWUsIGZ1bmN0aW9uIChpKSB7CiAgICAgICAgaWYgKCEwID09PSB0LmRhdGEoaS50YXJnZXQsIGUud2lkZ2V0TmFtZSArICIucHJldmVudENsaWNrRXZlbnQiKSkgcmV0dXJuIHQucmVtb3ZlRGF0YShpLnRhcmdldCwgZS53aWRnZXROYW1lICsgIi5wcmV2ZW50Q2xpY2tFdmVudCIpLCBpLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCAhMTsKICAgICAgfSksIHRoaXMuc3RhcnRlZCA9ICExOwogICAgfSwKICAgIF9tb3VzZURlc3Ryb3k6IGZ1bmN0aW9uIF9tb3VzZURlc3Ryb3koKSB7CiAgICAgIHRoaXMuZWxlbWVudC51bmJpbmQoIi4iICsgdGhpcy53aWRnZXROYW1lKSwgdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUgJiYgdGhpcy5kb2N1bWVudC51bmJpbmQoIm1vdXNlbW92ZS4iICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkudW5iaW5kKCJtb3VzZXVwLiIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSk7CiAgICB9LAogICAgX21vdXNlRG93bjogZnVuY3Rpb24gX21vdXNlRG93bihlKSB7CiAgICAgIGlmICghbCkgewogICAgICAgIHRoaXMuX21vdXNlTW92ZWQgPSAhMSwgdGhpcy5fbW91c2VTdGFydGVkICYmIHRoaXMuX21vdXNlVXAoZSksIHRoaXMuX21vdXNlRG93bkV2ZW50ID0gZTsKICAgICAgICB2YXIgaSA9IHRoaXMsCiAgICAgICAgICAgIG4gPSAxID09PSBlLndoaWNoLAogICAgICAgICAgICBzID0gISgic3RyaW5nIiAhPSB0eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCB8fCAhZS50YXJnZXQubm9kZU5hbWUpICYmIHQoZS50YXJnZXQpLmNsb3Nlc3QodGhpcy5vcHRpb25zLmNhbmNlbCkubGVuZ3RoOwogICAgICAgIHJldHVybiAhKG4gJiYgIXMgJiYgdGhpcy5fbW91c2VDYXB0dXJlKGUpKSB8fCAodGhpcy5tb3VzZURlbGF5TWV0ID0gIXRoaXMub3B0aW9ucy5kZWxheSwgdGhpcy5tb3VzZURlbGF5TWV0IHx8ICh0aGlzLl9tb3VzZURlbGF5VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGkubW91c2VEZWxheU1ldCA9ICEwOwogICAgICAgIH0sIHRoaXMub3B0aW9ucy5kZWxheSkpLCB0aGlzLl9tb3VzZURpc3RhbmNlTWV0KGUpICYmIHRoaXMuX21vdXNlRGVsYXlNZXQoZSkgJiYgKHRoaXMuX21vdXNlU3RhcnRlZCA9ICExICE9PSB0aGlzLl9tb3VzZVN0YXJ0KGUpLCAhdGhpcy5fbW91c2VTdGFydGVkKSA/IChlLnByZXZlbnREZWZhdWx0KCksICEwKSA6ICghMCA9PT0gdC5kYXRhKGUudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyAiLnByZXZlbnRDbGlja0V2ZW50IikgJiYgdC5yZW1vdmVEYXRhKGUudGFyZ2V0LCB0aGlzLndpZGdldE5hbWUgKyAiLnByZXZlbnRDbGlja0V2ZW50IiksIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiBpLl9tb3VzZU1vdmUodCk7CiAgICAgICAgfSwgdGhpcy5fbW91c2VVcERlbGVnYXRlID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiBpLl9tb3VzZVVwKHQpOwogICAgICAgIH0sIHRoaXMuZG9jdW1lbnQuYmluZCgibW91c2Vtb3ZlLiIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5iaW5kKCJtb3VzZXVwLiIgKyB0aGlzLndpZGdldE5hbWUsIHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksIGUucHJldmVudERlZmF1bHQoKSwgbCA9ICEwLCAhMCkpOwogICAgICB9CiAgICB9LAogICAgX21vdXNlTW92ZTogZnVuY3Rpb24gX21vdXNlTW92ZShlKSB7CiAgICAgIGlmICh0aGlzLl9tb3VzZU1vdmVkKSB7CiAgICAgICAgaWYgKHQudWkuaWUgJiYgKCFkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDwgOSkgJiYgIWUuYnV0dG9uKSByZXR1cm4gdGhpcy5fbW91c2VVcChlKTsKICAgICAgICBpZiAoIWUud2hpY2gpIHJldHVybiB0aGlzLl9tb3VzZVVwKGUpOwogICAgICB9CgogICAgICByZXR1cm4gKGUud2hpY2ggfHwgZS5idXR0b24pICYmICh0aGlzLl9tb3VzZU1vdmVkID0gITApLCB0aGlzLl9tb3VzZVN0YXJ0ZWQgPyAodGhpcy5fbW91c2VEcmFnKGUpLCBlLnByZXZlbnREZWZhdWx0KCkpIDogKHRoaXMuX21vdXNlRGlzdGFuY2VNZXQoZSkgJiYgdGhpcy5fbW91c2VEZWxheU1ldChlKSAmJiAodGhpcy5fbW91c2VTdGFydGVkID0gITEgIT09IHRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsIGUpLCB0aGlzLl9tb3VzZVN0YXJ0ZWQgPyB0aGlzLl9tb3VzZURyYWcoZSkgOiB0aGlzLl9tb3VzZVVwKGUpKSwgIXRoaXMuX21vdXNlU3RhcnRlZCk7CiAgICB9LAogICAgX21vdXNlVXA6IGZ1bmN0aW9uIF9tb3VzZVVwKGUpIHsKICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQudW5iaW5kKCJtb3VzZW1vdmUuIiArIHRoaXMud2lkZ2V0TmFtZSwgdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLnVuYmluZCgibW91c2V1cC4iICsgdGhpcy53aWRnZXROYW1lLCB0aGlzLl9tb3VzZVVwRGVsZWdhdGUpLCB0aGlzLl9tb3VzZVN0YXJ0ZWQgJiYgKHRoaXMuX21vdXNlU3RhcnRlZCA9ICExLCBlLnRhcmdldCA9PT0gdGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0ICYmIHQuZGF0YShlLnRhcmdldCwgdGhpcy53aWRnZXROYW1lICsgIi5wcmV2ZW50Q2xpY2tFdmVudCIsICEwKSwgdGhpcy5fbW91c2VTdG9wKGUpKSwgbCA9ICExLCAhMTsKICAgIH0sCiAgICBfbW91c2VEaXN0YW5jZU1ldDogZnVuY3Rpb24gX21vdXNlRGlzdGFuY2VNZXQodCkgewogICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVggLSB0LnBhZ2VYKSwgTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVkgLSB0LnBhZ2VZKSkgPj0gdGhpcy5vcHRpb25zLmRpc3RhbmNlOwogICAgfSwKICAgIF9tb3VzZURlbGF5TWV0OiBmdW5jdGlvbiBfbW91c2VEZWxheU1ldCgpIHsKICAgICAgcmV0dXJuIHRoaXMubW91c2VEZWxheU1ldDsKICAgIH0sCiAgICBfbW91c2VTdGFydDogZnVuY3Rpb24gX21vdXNlU3RhcnQoKSB7fSwKICAgIF9tb3VzZURyYWc6IGZ1bmN0aW9uIF9tb3VzZURyYWcoKSB7fSwKICAgIF9tb3VzZVN0b3A6IGZ1bmN0aW9uIF9tb3VzZVN0b3AoKSB7fSwKICAgIF9tb3VzZUNhcHR1cmU6IGZ1bmN0aW9uIF9tb3VzZUNhcHR1cmUoKSB7CiAgICAgIHJldHVybiAhMDsKICAgIH0KICB9KTsKICAvKiEKICAgKiBqUXVlcnkgVUkgRHJhZ2dhYmxlIDEuMTEuMwogICAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICAgKgogICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAgICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogICAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICAgKgogICAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RyYWdnYWJsZS8KICAgKi8KCiAgdC53aWRnZXQoInVpLmRyYWdnYWJsZSIsIHQudWkubW91c2UsIHsKICAgIHZlcnNpb246ICIxLjExLjMiLAogICAgd2lkZ2V0RXZlbnRQcmVmaXg6ICJkcmFnIiwKICAgIG9wdGlvbnM6IHsKICAgICAgYWRkQ2xhc3NlczogITAsCiAgICAgIGFwcGVuZFRvOiAicGFyZW50IiwKICAgICAgYXhpczogITEsCiAgICAgIGNvbm5lY3RUb1NvcnRhYmxlOiAhMSwKICAgICAgY29udGFpbm1lbnQ6ICExLAogICAgICBjdXJzb3I6ICJhdXRvIiwKICAgICAgY3Vyc29yQXQ6ICExLAogICAgICBncmlkOiAhMSwKICAgICAgaGFuZGxlOiAhMSwKICAgICAgaGVscGVyOiAib3JpZ2luYWwiLAogICAgICBpZnJhbWVGaXg6ICExLAogICAgICBvcGFjaXR5OiAhMSwKICAgICAgcmVmcmVzaFBvc2l0aW9uczogITEsCiAgICAgIHJldmVydDogITEsCiAgICAgIHJldmVydER1cmF0aW9uOiA1MDAsCiAgICAgIHNjb3BlOiAiZGVmYXVsdCIsCiAgICAgIHNjcm9sbDogITAsCiAgICAgIHNjcm9sbFNlbnNpdGl2aXR5OiAyMCwKICAgICAgc2Nyb2xsU3BlZWQ6IDIwLAogICAgICBzbmFwOiAhMSwKICAgICAgc25hcE1vZGU6ICJib3RoIiwKICAgICAgc25hcFRvbGVyYW5jZTogMjAsCiAgICAgIHN0YWNrOiAhMSwKICAgICAgekluZGV4OiAhMSwKICAgICAgZHJhZzogbnVsbCwKICAgICAgc3RhcnQ6IG51bGwsCiAgICAgIHN0b3A6IG51bGwKICAgIH0sCiAgICBfY3JlYXRlOiBmdW5jdGlvbiBfY3JlYXRlKCkgewogICAgICAib3JpZ2luYWwiID09PSB0aGlzLm9wdGlvbnMuaGVscGVyICYmIHRoaXMuX3NldFBvc2l0aW9uUmVsYXRpdmUoKSwgdGhpcy5vcHRpb25zLmFkZENsYXNzZXMgJiYgdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKSwgdGhpcy5vcHRpb25zLmRpc2FibGVkICYmIHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZHJhZ2dhYmxlLWRpc2FibGVkIiksIHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpLCB0aGlzLl9tb3VzZUluaXQoKTsKICAgIH0sCiAgICBfc2V0T3B0aW9uOiBmdW5jdGlvbiBfc2V0T3B0aW9uKHQsIGUpIHsKICAgICAgdGhpcy5fc3VwZXIodCwgZSksICJoYW5kbGUiID09PSB0ICYmICh0aGlzLl9yZW1vdmVIYW5kbGVDbGFzc05hbWUoKSwgdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCkpOwogICAgfSwKICAgIF9kZXN0cm95OiBmdW5jdGlvbiBfZGVzdHJveSgpIHsKICAgICAgKHRoaXMuaGVscGVyIHx8IHRoaXMuZWxlbWVudCkuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSA/IHRoaXMuZGVzdHJveU9uQ2xlYXIgPSAhMCA6ICh0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWRyYWdnYWJsZSB1aS1kcmFnZ2FibGUtZHJhZ2dpbmcgdWktZHJhZ2dhYmxlLWRpc2FibGVkIiksIHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpLCB0aGlzLl9tb3VzZURlc3Ryb3koKSk7CiAgICB9LAogICAgX21vdXNlQ2FwdHVyZTogZnVuY3Rpb24gX21vdXNlQ2FwdHVyZShlKSB7CiAgICAgIHZhciBpID0gdGhpcy5vcHRpb25zOwogICAgICByZXR1cm4gdGhpcy5fYmx1ckFjdGl2ZUVsZW1lbnQoZSksICEodGhpcy5oZWxwZXIgfHwgaS5kaXNhYmxlZCB8fCB0KGUudGFyZ2V0KS5jbG9zZXN0KCIudWktcmVzaXphYmxlLWhhbmRsZSIpLmxlbmd0aCA+IDApICYmICh0aGlzLmhhbmRsZSA9IHRoaXMuX2dldEhhbmRsZShlKSwgISF0aGlzLmhhbmRsZSAmJiAodGhpcy5fYmxvY2tGcmFtZXMoITAgPT09IGkuaWZyYW1lRml4ID8gImlmcmFtZSIgOiBpLmlmcmFtZUZpeCksICEwKSk7CiAgICB9LAogICAgX2Jsb2NrRnJhbWVzOiBmdW5jdGlvbiBfYmxvY2tGcmFtZXMoZSkgewogICAgICB0aGlzLmlmcmFtZUJsb2NrcyA9IHRoaXMuZG9jdW1lbnQuZmluZChlKS5tYXAoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlID0gdCh0aGlzKTsKICAgICAgICByZXR1cm4gdCgiPGRpdj4iKS5jc3MoInBvc2l0aW9uIiwgImFic29sdXRlIikuYXBwZW5kVG8oZS5wYXJlbnQoKSkub3V0ZXJXaWR0aChlLm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQoZS5vdXRlckhlaWdodCgpKS5vZmZzZXQoZS5vZmZzZXQoKSlbMF07CiAgICAgIH0pOwogICAgfSwKICAgIF91bmJsb2NrRnJhbWVzOiBmdW5jdGlvbiBfdW5ibG9ja0ZyYW1lcygpIHsKICAgICAgdGhpcy5pZnJhbWVCbG9ja3MgJiYgKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLCBkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3MpOwogICAgfSwKICAgIF9ibHVyQWN0aXZlRWxlbWVudDogZnVuY3Rpb24gX2JsdXJBY3RpdmVFbGVtZW50KGUpIHsKICAgICAgdmFyIGkgPSB0aGlzLmRvY3VtZW50WzBdOwogICAgICBpZiAodGhpcy5oYW5kbGVFbGVtZW50LmlzKGUudGFyZ2V0KSkgdHJ5IHsKICAgICAgICBpLmFjdGl2ZUVsZW1lbnQgJiYgImJvZHkiICE9PSBpLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAmJiB0KGkuYWN0aXZlRWxlbWVudCkuYmx1cigpOwogICAgICB9IGNhdGNoIChuKSB7fQogICAgfSwKICAgIF9tb3VzZVN0YXJ0OiBmdW5jdGlvbiBfbW91c2VTdGFydChlKSB7CiAgICAgIHZhciBpID0gdGhpcy5vcHRpb25zOwogICAgICByZXR1cm4gdGhpcy5oZWxwZXIgPSB0aGlzLl9jcmVhdGVIZWxwZXIoZSksIHRoaXMuaGVscGVyLmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSwgdGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLCB0LnVpLmRkbWFuYWdlciAmJiAodC51aS5kZG1hbmFnZXIuY3VycmVudCA9IHRoaXMpLCB0aGlzLl9jYWNoZU1hcmdpbnMoKSwgdGhpcy5jc3NQb3NpdGlvbiA9IHRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKSwgdGhpcy5zY3JvbGxQYXJlbnQgPSB0aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoITApLCB0aGlzLm9mZnNldFBhcmVudCA9IHRoaXMuaGVscGVyLm9mZnNldFBhcmVudCgpLCB0aGlzLmhhc0ZpeGVkQW5jZXN0b3IgPSB0aGlzLmhlbHBlci5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gImZpeGVkIiA9PT0gdCh0aGlzKS5jc3MoInBvc2l0aW9uIik7CiAgICAgIH0pLmxlbmd0aCA+IDAsIHRoaXMucG9zaXRpb25BYnMgPSB0aGlzLmVsZW1lbnQub2Zmc2V0KCksIHRoaXMuX3JlZnJlc2hPZmZzZXRzKGUpLCB0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uID0gdGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihlLCAhMSksIHRoaXMub3JpZ2luYWxQYWdlWCA9IGUucGFnZVgsIHRoaXMub3JpZ2luYWxQYWdlWSA9IGUucGFnZVksIGkuY3Vyc29yQXQgJiYgdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihpLmN1cnNvckF0KSwgdGhpcy5fc2V0Q29udGFpbm1lbnQoKSwgITEgPT09IHRoaXMuX3RyaWdnZXIoInN0YXJ0IiwgZSkgPyAodGhpcy5fY2xlYXIoKSwgITEpIDogKHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSwgdC51aS5kZG1hbmFnZXIgJiYgIWkuZHJvcEJlaGF2aW91ciAmJiB0LnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLCBlKSwgdGhpcy5fbm9ybWFsaXplUmlnaHRCb3R0b20oKSwgdGhpcy5fbW91c2VEcmFnKGUsICEwKSwgdC51aS5kZG1hbmFnZXIgJiYgdC51aS5kZG1hbmFnZXIuZHJhZ1N0YXJ0KHRoaXMsIGUpLCAhMCk7CiAgICB9LAogICAgX3JlZnJlc2hPZmZzZXRzOiBmdW5jdGlvbiBfcmVmcmVzaE9mZnNldHModCkgewogICAgICB0aGlzLm9mZnNldCA9IHsKICAgICAgICB0b3A6IHRoaXMucG9zaXRpb25BYnMudG9wIC0gdGhpcy5tYXJnaW5zLnRvcCwKICAgICAgICBsZWZ0OiB0aGlzLnBvc2l0aW9uQWJzLmxlZnQgLSB0aGlzLm1hcmdpbnMubGVmdCwKICAgICAgICBzY3JvbGw6ICExLAogICAgICAgIHBhcmVudDogdGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCksCiAgICAgICAgcmVsYXRpdmU6IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkKICAgICAgfSwgdGhpcy5vZmZzZXQuY2xpY2sgPSB7CiAgICAgICAgbGVmdDogdC5wYWdlWCAtIHRoaXMub2Zmc2V0LmxlZnQsCiAgICAgICAgdG9wOiB0LnBhZ2VZIC0gdGhpcy5vZmZzZXQudG9wCiAgICAgIH07CiAgICB9LAogICAgX21vdXNlRHJhZzogZnVuY3Rpb24gX21vdXNlRHJhZyhlLCBpKSB7CiAgICAgIGlmICh0aGlzLmhhc0ZpeGVkQW5jZXN0b3IgJiYgKHRoaXMub2Zmc2V0LnBhcmVudCA9IHRoaXMuX2dldFBhcmVudE9mZnNldCgpKSwgdGhpcy5wb3NpdGlvbiA9IHRoaXMuX2dlbmVyYXRlUG9zaXRpb24oZSwgITApLCB0aGlzLnBvc2l0aW9uQWJzID0gdGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksICFpKSB7CiAgICAgICAgdmFyIG4gPSB0aGlzLl91aUhhc2goKTsKCiAgICAgICAgaWYgKCExID09PSB0aGlzLl90cmlnZ2VyKCJkcmFnIiwgZSwgbikpIHJldHVybiB0aGlzLl9tb3VzZVVwKHt9KSwgITE7CiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG4ucG9zaXRpb247CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0ICsgInB4IiwgdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wID0gdGhpcy5wb3NpdGlvbi50b3AgKyAicHgiLCB0LnVpLmRkbWFuYWdlciAmJiB0LnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsIGUpLCAhMTsKICAgIH0sCiAgICBfbW91c2VTdG9wOiBmdW5jdGlvbiBfbW91c2VTdG9wKGUpIHsKICAgICAgdmFyIGkgPSB0aGlzLAogICAgICAgICAgbiA9ICExOwogICAgICByZXR1cm4gdC51aS5kZG1hbmFnZXIgJiYgIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyICYmIChuID0gdC51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLCBlKSksIHRoaXMuZHJvcHBlZCAmJiAobiA9IHRoaXMuZHJvcHBlZCwgdGhpcy5kcm9wcGVkID0gITEpLCAiaW52YWxpZCIgPT09IHRoaXMub3B0aW9ucy5yZXZlcnQgJiYgIW4gfHwgInZhbGlkIiA9PT0gdGhpcy5vcHRpb25zLnJldmVydCAmJiBuIHx8ICEwID09PSB0aGlzLm9wdGlvbnMucmV2ZXJ0IHx8IHQuaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMucmV2ZXJ0KSAmJiB0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LCBuKSA/IHQodGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLCBwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb24sIDEwKSwgZnVuY3Rpb24gKCkgewogICAgICAgICExICE9PSBpLl90cmlnZ2VyKCJzdG9wIiwgZSkgJiYgaS5fY2xlYXIoKTsKICAgICAgfSkgOiAhMSAhPT0gdGhpcy5fdHJpZ2dlcigic3RvcCIsIGUpICYmIHRoaXMuX2NsZWFyKCksICExOwogICAgfSwKICAgIF9tb3VzZVVwOiBmdW5jdGlvbiBfbW91c2VVcChlKSB7CiAgICAgIHJldHVybiB0aGlzLl91bmJsb2NrRnJhbWVzKCksIHQudWkuZGRtYW5hZ2VyICYmIHQudWkuZGRtYW5hZ2VyLmRyYWdTdG9wKHRoaXMsIGUpLCB0aGlzLmhhbmRsZUVsZW1lbnQuaXMoZS50YXJnZXQpICYmIHRoaXMuZWxlbWVudC5mb2N1cygpLCB0LnVpLm1vdXNlLnByb3RvdHlwZS5fbW91c2VVcC5jYWxsKHRoaXMsIGUpOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICByZXR1cm4gdGhpcy5oZWxwZXIuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSA/IHRoaXMuX21vdXNlVXAoe30pIDogdGhpcy5fY2xlYXIoKSwgdGhpczsKICAgIH0sCiAgICBfZ2V0SGFuZGxlOiBmdW5jdGlvbiBfZ2V0SGFuZGxlKGUpIHsKICAgICAgcmV0dXJuICF0aGlzLm9wdGlvbnMuaGFuZGxlIHx8ICEhdChlLnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGFuZGxlKSkubGVuZ3RoOwogICAgfSwKICAgIF9zZXRIYW5kbGVDbGFzc05hbWU6IGZ1bmN0aW9uIF9zZXRIYW5kbGVDbGFzc05hbWUoKSB7CiAgICAgIHRoaXMuaGFuZGxlRWxlbWVudCA9IHRoaXMub3B0aW9ucy5oYW5kbGUgPyB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGFuZGxlKSA6IHRoaXMuZWxlbWVudCwgdGhpcy5oYW5kbGVFbGVtZW50LmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtaGFuZGxlIik7CiAgICB9LAogICAgX3JlbW92ZUhhbmRsZUNsYXNzTmFtZTogZnVuY3Rpb24gX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpIHsKICAgICAgdGhpcy5oYW5kbGVFbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1kcmFnZ2FibGUtaGFuZGxlIik7CiAgICB9LAogICAgX2NyZWF0ZUhlbHBlcjogZnVuY3Rpb24gX2NyZWF0ZUhlbHBlcihlKSB7CiAgICAgIHZhciBpID0gdGhpcy5vcHRpb25zLAogICAgICAgICAgbiA9IHQuaXNGdW5jdGlvbihpLmhlbHBlciksCiAgICAgICAgICBzID0gbiA/IHQoaS5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLCBbZV0pKSA6ICJjbG9uZSIgPT09IGkuaGVscGVyID8gdGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0cigiaWQiKSA6IHRoaXMuZWxlbWVudDsKICAgICAgcmV0dXJuIHMucGFyZW50cygiYm9keSIpLmxlbmd0aCB8fCBzLmFwcGVuZFRvKCJwYXJlbnQiID09PSBpLmFwcGVuZFRvID8gdGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGUgOiBpLmFwcGVuZFRvKSwgbiAmJiBzWzBdID09PSB0aGlzLmVsZW1lbnRbMF0gJiYgdGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpLCBzWzBdID09PSB0aGlzLmVsZW1lbnRbMF0gfHwgLyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3Qocy5jc3MoInBvc2l0aW9uIikpIHx8IHMuY3NzKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpLCBzOwogICAgfSwKICAgIF9zZXRQb3NpdGlvblJlbGF0aXZlOiBmdW5jdGlvbiBfc2V0UG9zaXRpb25SZWxhdGl2ZSgpIHsKICAgICAgL14oPzpyfGF8ZikvLnRlc3QodGhpcy5lbGVtZW50LmNzcygicG9zaXRpb24iKSkgfHwgKHRoaXMuZWxlbWVudFswXS5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSIpOwogICAgfSwKICAgIF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOiBmdW5jdGlvbiBfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihlKSB7CiAgICAgICJzdHJpbmciID09IHR5cGVvZiBlICYmIChlID0gZS5zcGxpdCgiICIpKSwgdC5pc0FycmF5KGUpICYmIChlID0gewogICAgICAgIGxlZnQ6ICtlWzBdLAogICAgICAgIHRvcDogK2VbMV0gfHwgMAogICAgICB9KSwgImxlZnQiIGluIGUgJiYgKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSBlLmxlZnQgKyB0aGlzLm1hcmdpbnMubGVmdCksICJyaWdodCIgaW4gZSAmJiAodGhpcy5vZmZzZXQuY2xpY2subGVmdCA9IHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSBlLnJpZ2h0ICsgdGhpcy5tYXJnaW5zLmxlZnQpLCAidG9wIiBpbiBlICYmICh0aGlzLm9mZnNldC5jbGljay50b3AgPSBlLnRvcCArIHRoaXMubWFyZ2lucy50b3ApLCAiYm90dG9tIiBpbiBlICYmICh0aGlzLm9mZnNldC5jbGljay50b3AgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIGUuYm90dG9tICsgdGhpcy5tYXJnaW5zLnRvcCk7CiAgICB9LAogICAgX2lzUm9vdE5vZGU6IGZ1bmN0aW9uIF9pc1Jvb3ROb2RlKHQpIHsKICAgICAgcmV0dXJuIC8oaHRtbHxib2R5KS9pLnRlc3QodC50YWdOYW1lKSB8fCB0ID09PSB0aGlzLmRvY3VtZW50WzBdOwogICAgfSwKICAgIF9nZXRQYXJlbnRPZmZzZXQ6IGZ1bmN0aW9uIF9nZXRQYXJlbnRPZmZzZXQoKSB7CiAgICAgIHZhciBlID0gdGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCksCiAgICAgICAgICBpID0gdGhpcy5kb2N1bWVudFswXTsKICAgICAgcmV0dXJuICJhYnNvbHV0ZSIgPT09IHRoaXMuY3NzUG9zaXRpb24gJiYgdGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IGkgJiYgdC5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSwgdGhpcy5vZmZzZXRQYXJlbnRbMF0pICYmIChlLmxlZnQgKz0gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLCBlLnRvcCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksIHRoaXMuX2lzUm9vdE5vZGUodGhpcy5vZmZzZXRQYXJlbnRbMF0pICYmIChlID0gewogICAgICAgIHRvcDogMCwKICAgICAgICBsZWZ0OiAwCiAgICAgIH0pLCB7CiAgICAgICAgdG9wOiBlLnRvcCArIChwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksIDEwKSB8fCAwKSwKICAgICAgICBsZWZ0OiBlLmxlZnQgKyAocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwgMTApIHx8IDApCiAgICAgIH07CiAgICB9LAogICAgX2dldFJlbGF0aXZlT2Zmc2V0OiBmdW5jdGlvbiBfZ2V0UmVsYXRpdmVPZmZzZXQoKSB7CiAgICAgIGlmICgicmVsYXRpdmUiICE9PSB0aGlzLmNzc1Bvc2l0aW9uKSByZXR1cm4gewogICAgICAgIHRvcDogMCwKICAgICAgICBsZWZ0OiAwCiAgICAgIH07CgogICAgICB2YXIgdCA9IHRoaXMuZWxlbWVudC5wb3NpdGlvbigpLAogICAgICAgICAgZSA9IHRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pOwoKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IHQudG9wIC0gKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksIDEwKSB8fCAwKSArIChlID8gMCA6IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSwKICAgICAgICBsZWZ0OiB0LmxlZnQgLSAocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksIDEwKSB8fCAwKSArIChlID8gMCA6IHRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSkKICAgICAgfTsKICAgIH0sCiAgICBfY2FjaGVNYXJnaW5zOiBmdW5jdGlvbiBfY2FjaGVNYXJnaW5zKCkgewogICAgICB0aGlzLm1hcmdpbnMgPSB7CiAgICAgICAgbGVmdDogcGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luTGVmdCIpLCAxMCkgfHwgMCwKICAgICAgICB0b3A6IHBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLCAxMCkgfHwgMCwKICAgICAgICByaWdodDogcGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSwgMTApIHx8IDAsCiAgICAgICAgYm90dG9tOiBwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKSwgMTApIHx8IDAKICAgICAgfTsKICAgIH0sCiAgICBfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczogZnVuY3Rpb24gX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSB7CiAgICAgIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7CiAgICAgICAgd2lkdGg6IHRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSwKICAgICAgICBoZWlnaHQ6IHRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCkKICAgICAgfTsKICAgIH0sCiAgICBfc2V0Q29udGFpbm1lbnQ6IGZ1bmN0aW9uIF9zZXRDb250YWlubWVudCgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBpLAogICAgICAgICAgbiwKICAgICAgICAgIHMgPSB0aGlzLm9wdGlvbnMsCiAgICAgICAgICBvID0gdGhpcy5kb2N1bWVudFswXTsKICAgICAgdGhpcy5yZWxhdGl2ZUNvbnRhaW5lciA9IG51bGwsIHMuY29udGFpbm1lbnQgPyAid2luZG93IiAhPT0gcy5jb250YWlubWVudCA/ICJkb2N1bWVudCIgIT09IHMuY29udGFpbm1lbnQgPyBzLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yICE9PSBBcnJheSA/ICgicGFyZW50IiA9PT0gcy5jb250YWlubWVudCAmJiAocy5jb250YWlubWVudCA9IHRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLCAobiA9IChpID0gdChzLmNvbnRhaW5tZW50KSlbMF0pICYmIChlID0gLyhzY3JvbGx8YXV0bykvLnRlc3QoaS5jc3MoIm92ZXJmbG93IikpLCB0aGlzLmNvbnRhaW5tZW50ID0gWyhwYXJzZUludChpLmNzcygiYm9yZGVyTGVmdFdpZHRoIiksIDEwKSB8fCAwKSArIChwYXJzZUludChpLmNzcygicGFkZGluZ0xlZnQiKSwgMTApIHx8IDApLCAocGFyc2VJbnQoaS5jc3MoImJvcmRlclRvcFdpZHRoIiksIDEwKSB8fCAwKSArIChwYXJzZUludChpLmNzcygicGFkZGluZ1RvcCIpLCAxMCkgfHwgMCksIChlID8gTWF0aC5tYXgobi5zY3JvbGxXaWR0aCwgbi5vZmZzZXRXaWR0aCkgOiBuLm9mZnNldFdpZHRoKSAtIChwYXJzZUludChpLmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLCAxMCkgfHwgMCkgLSAocGFyc2VJbnQoaS5jc3MoInBhZGRpbmdSaWdodCIpLCAxMCkgfHwgMCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQgLSB0aGlzLm1hcmdpbnMucmlnaHQsIChlID8gTWF0aC5tYXgobi5zY3JvbGxIZWlnaHQsIG4ub2Zmc2V0SGVpZ2h0KSA6IG4ub2Zmc2V0SGVpZ2h0KSAtIChwYXJzZUludChpLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwgMTApIHx8IDApIC0gKHBhcnNlSW50KGkuY3NzKCJwYWRkaW5nQm90dG9tIiksIDEwKSB8fCAwKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcCAtIHRoaXMubWFyZ2lucy5ib3R0b21dLCB0aGlzLnJlbGF0aXZlQ29udGFpbmVyID0gaSkpIDogdGhpcy5jb250YWlubWVudCA9IHMuY29udGFpbm1lbnQgOiB0aGlzLmNvbnRhaW5tZW50ID0gWzAsIDAsIHQobykud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCwgKHQobykuaGVpZ2h0KCkgfHwgby5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0IC0gdGhpcy5tYXJnaW5zLnRvcF0gOiB0aGlzLmNvbnRhaW5tZW50ID0gW3Qod2luZG93KS5zY3JvbGxMZWZ0KCkgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC0gdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsIHQod2luZG93KS5zY3JvbGxUb3AoKSAtIHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AsIHQod2luZG93KS5zY3JvbGxMZWZ0KCkgKyB0KHdpbmRvdykud2lkdGgoKSAtIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSB0aGlzLm1hcmdpbnMubGVmdCwgdCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgKHQod2luZG93KS5oZWlnaHQoKSB8fCBvLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSB0aGlzLm1hcmdpbnMudG9wXSA6IHRoaXMuY29udGFpbm1lbnQgPSBudWxsOwogICAgfSwKICAgIF9jb252ZXJ0UG9zaXRpb25UbzogZnVuY3Rpb24gX2NvbnZlcnRQb3NpdGlvblRvKHQsIGUpIHsKICAgICAgZSB8fCAoZSA9IHRoaXMucG9zaXRpb24pOwoKICAgICAgdmFyIGkgPSAiYWJzb2x1dGUiID09PSB0ID8gMSA6IC0xLAogICAgICAgICAgbiA9IHRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pOwoKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IGUudG9wICsgdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wICogaSArIHRoaXMub2Zmc2V0LnBhcmVudC50b3AgKiBpIC0gKCJmaXhlZCIgPT09IHRoaXMuY3NzUG9zaXRpb24gPyAtdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCA6IG4gPyAwIDogdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCkgKiBpLAogICAgICAgIGxlZnQ6IGUubGVmdCArIHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQgKiBpICsgdGhpcy5vZmZzZXQucGFyZW50LmxlZnQgKiBpIC0gKCJmaXhlZCIgPT09IHRoaXMuY3NzUG9zaXRpb24gPyAtdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQgOiBuID8gMCA6IHRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KSAqIGkKICAgICAgfTsKICAgIH0sCiAgICBfZ2VuZXJhdGVQb3NpdGlvbjogZnVuY3Rpb24gX2dlbmVyYXRlUG9zaXRpb24odCwgZSkgewogICAgICB2YXIgaSwKICAgICAgICAgIG4sCiAgICAgICAgICBzLAogICAgICAgICAgbywKICAgICAgICAgIHIgPSB0aGlzLm9wdGlvbnMsCiAgICAgICAgICBhID0gdGhpcy5faXNSb290Tm9kZSh0aGlzLnNjcm9sbFBhcmVudFswXSksCiAgICAgICAgICBoID0gdC5wYWdlWCwKICAgICAgICAgIGwgPSB0LnBhZ2VZOwoKICAgICAgcmV0dXJuIGEgJiYgdGhpcy5vZmZzZXQuc2Nyb2xsIHx8ICh0aGlzLm9mZnNldC5zY3JvbGwgPSB7CiAgICAgICAgdG9wOiB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSwKICAgICAgICBsZWZ0OiB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkKICAgICAgfSksIGUgJiYgKHRoaXMuY29udGFpbm1lbnQgJiYgKHRoaXMucmVsYXRpdmVDb250YWluZXIgPyAobiA9IHRoaXMucmVsYXRpdmVDb250YWluZXIub2Zmc2V0KCksIGkgPSBbdGhpcy5jb250YWlubWVudFswXSArIG4ubGVmdCwgdGhpcy5jb250YWlubWVudFsxXSArIG4udG9wLCB0aGlzLmNvbnRhaW5tZW50WzJdICsgbi5sZWZ0LCB0aGlzLmNvbnRhaW5tZW50WzNdICsgbi50b3BdKSA6IGkgPSB0aGlzLmNvbnRhaW5tZW50LCB0LnBhZ2VYIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA8IGlbMF0gJiYgKGggPSBpWzBdICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdCksIHQucGFnZVkgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPCBpWzFdICYmIChsID0gaVsxXSArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCksIHQucGFnZVggLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID4gaVsyXSAmJiAoaCA9IGlbMl0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0KSwgdC5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IGlbM10gJiYgKGwgPSBpWzNdICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wKSksIHIuZ3JpZCAmJiAocyA9IHIuZ3JpZFsxXSA/IHRoaXMub3JpZ2luYWxQYWdlWSArIE1hdGgucm91bmQoKGwgLSB0aGlzLm9yaWdpbmFsUGFnZVkpIC8gci5ncmlkWzFdKSAqIHIuZ3JpZFsxXSA6IHRoaXMub3JpZ2luYWxQYWdlWSwgbCA9IGkgPyBzIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID49IGlbMV0gfHwgcyAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+IGlbM10gPyBzIDogcyAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSBpWzFdID8gcyAtIHIuZ3JpZFsxXSA6IHMgKyByLmdyaWRbMV0gOiBzLCBvID0gci5ncmlkWzBdID8gdGhpcy5vcmlnaW5hbFBhZ2VYICsgTWF0aC5yb3VuZCgoaCAtIHRoaXMub3JpZ2luYWxQYWdlWCkgLyByLmdyaWRbMF0pICogci5ncmlkWzBdIDogdGhpcy5vcmlnaW5hbFBhZ2VYLCBoID0gaSA/IG8gLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID49IGlbMF0gfHwgbyAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPiBpWzJdID8gbyA6IG8gLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID49IGlbMF0gPyBvIC0gci5ncmlkWzBdIDogbyArIHIuZ3JpZFswXSA6IG8pLCAieSIgPT09IHIuYXhpcyAmJiAoaCA9IHRoaXMub3JpZ2luYWxQYWdlWCksICJ4IiA9PT0gci5heGlzICYmIChsID0gdGhpcy5vcmlnaW5hbFBhZ2VZKSksIHsKICAgICAgICB0b3A6IGwgLSB0aGlzLm9mZnNldC5jbGljay50b3AgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgLSB0aGlzLm9mZnNldC5wYXJlbnQudG9wICsgKCJmaXhlZCIgPT09IHRoaXMuY3NzUG9zaXRpb24gPyAtdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCA6IGEgPyAwIDogdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCksCiAgICAgICAgbGVmdDogaCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0IC0gdGhpcy5vZmZzZXQucGFyZW50LmxlZnQgKyAoImZpeGVkIiA9PT0gdGhpcy5jc3NQb3NpdGlvbiA/IC10aGlzLm9mZnNldC5zY3JvbGwubGVmdCA6IGEgPyAwIDogdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQpCiAgICAgIH07CiAgICB9LAogICAgX2NsZWFyOiBmdW5jdGlvbiBfY2xlYXIoKSB7CiAgICAgIHRoaXMuaGVscGVyLnJlbW92ZUNsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSwgdGhpcy5oZWxwZXJbMF0gPT09IHRoaXMuZWxlbWVudFswXSB8fCB0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwgfHwgdGhpcy5oZWxwZXIucmVtb3ZlKCksIHRoaXMuaGVscGVyID0gbnVsbCwgdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsID0gITEsIHRoaXMuZGVzdHJveU9uQ2xlYXIgJiYgdGhpcy5kZXN0cm95KCk7CiAgICB9LAogICAgX25vcm1hbGl6ZVJpZ2h0Qm90dG9tOiBmdW5jdGlvbiBfbm9ybWFsaXplUmlnaHRCb3R0b20oKSB7CiAgICAgICJ5IiAhPT0gdGhpcy5vcHRpb25zLmF4aXMgJiYgImF1dG8iICE9PSB0aGlzLmhlbHBlci5jc3MoInJpZ2h0IikgJiYgKHRoaXMuaGVscGVyLndpZHRoKHRoaXMuaGVscGVyLndpZHRoKCkpLCB0aGlzLmhlbHBlci5jc3MoInJpZ2h0IiwgImF1dG8iKSksICJ4IiAhPT0gdGhpcy5vcHRpb25zLmF4aXMgJiYgImF1dG8iICE9PSB0aGlzLmhlbHBlci5jc3MoImJvdHRvbSIpICYmICh0aGlzLmhlbHBlci5oZWlnaHQodGhpcy5oZWxwZXIuaGVpZ2h0KCkpLCB0aGlzLmhlbHBlci5jc3MoImJvdHRvbSIsICJhdXRvIikpOwogICAgfSwKICAgIF90cmlnZ2VyOiBmdW5jdGlvbiBfdHJpZ2dlcihlLCBpLCBuKSB7CiAgICAgIHJldHVybiBuID0gbiB8fCB0aGlzLl91aUhhc2goKSwgdC51aS5wbHVnaW4uY2FsbCh0aGlzLCBlLCBbaSwgbiwgdGhpc10sICEwKSwgL14oZHJhZ3xzdGFydHxzdG9wKS8udGVzdChlKSAmJiAodGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCBuLm9mZnNldCA9IHRoaXMucG9zaXRpb25BYnMpLCB0LldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuY2FsbCh0aGlzLCBlLCBpLCBuKTsKICAgIH0sCiAgICBwbHVnaW5zOiB7fSwKICAgIF91aUhhc2g6IGZ1bmN0aW9uIF91aUhhc2goKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaGVscGVyOiB0aGlzLmhlbHBlciwKICAgICAgICBwb3NpdGlvbjogdGhpcy5wb3NpdGlvbiwKICAgICAgICBvcmlnaW5hbFBvc2l0aW9uOiB0aGlzLm9yaWdpbmFsUG9zaXRpb24sCiAgICAgICAgb2Zmc2V0OiB0aGlzLnBvc2l0aW9uQWJzCiAgICAgIH07CiAgICB9CiAgfSksIHQudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwgImNvbm5lY3RUb1NvcnRhYmxlIiwgewogICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGUsIGksIG4pIHsKICAgICAgdmFyIHMgPSB0LmV4dGVuZCh7fSwgaSwgewogICAgICAgIGl0ZW06IG4uZWxlbWVudAogICAgICB9KTsKICAgICAgbi5zb3J0YWJsZXMgPSBbXSwgdChuLm9wdGlvbnMuY29ubmVjdFRvU29ydGFibGUpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpID0gdCh0aGlzKS5zb3J0YWJsZSgiaW5zdGFuY2UiKTsKICAgICAgICBpICYmICFpLm9wdGlvbnMuZGlzYWJsZWQgJiYgKG4uc29ydGFibGVzLnB1c2goaSksIGkucmVmcmVzaFBvc2l0aW9ucygpLCBpLl90cmlnZ2VyKCJhY3RpdmF0ZSIsIGUsIHMpKTsKICAgICAgfSk7CiAgICB9LAogICAgc3RvcDogZnVuY3Rpb24gc3RvcChlLCBpLCBuKSB7CiAgICAgIHZhciBzID0gdC5leHRlbmQoe30sIGksIHsKICAgICAgICBpdGVtOiBuLmVsZW1lbnQKICAgICAgfSk7CiAgICAgIG4uY2FuY2VsSGVscGVyUmVtb3ZhbCA9ICExLCB0LmVhY2gobi5zb3J0YWJsZXMsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdCA9IHRoaXM7CiAgICAgICAgdC5pc092ZXIgPyAodC5pc092ZXIgPSAwLCBuLmNhbmNlbEhlbHBlclJlbW92YWwgPSAhMCwgdC5jYW5jZWxIZWxwZXJSZW1vdmFsID0gITEsIHQuX3N0b3JlZENTUyA9IHsKICAgICAgICAgIHBvc2l0aW9uOiB0LnBsYWNlaG9sZGVyLmNzcygicG9zaXRpb24iKSwKICAgICAgICAgIHRvcDogdC5wbGFjZWhvbGRlci5jc3MoInRvcCIpLAogICAgICAgICAgbGVmdDogdC5wbGFjZWhvbGRlci5jc3MoImxlZnQiKQogICAgICAgIH0sIHQuX21vdXNlU3RvcChlKSwgdC5vcHRpb25zLmhlbHBlciA9IHQub3B0aW9ucy5faGVscGVyKSA6ICh0LmNhbmNlbEhlbHBlclJlbW92YWwgPSAhMCwgdC5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsIGUsIHMpKTsKICAgICAgfSk7CiAgICB9LAogICAgZHJhZzogZnVuY3Rpb24gZHJhZyhlLCBpLCBuKSB7CiAgICAgIHQuZWFjaChuLnNvcnRhYmxlcywgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBzID0gITEsCiAgICAgICAgICAgIG8gPSB0aGlzOwogICAgICAgIG8ucG9zaXRpb25BYnMgPSBuLnBvc2l0aW9uQWJzLCBvLmhlbHBlclByb3BvcnRpb25zID0gbi5oZWxwZXJQcm9wb3J0aW9ucywgby5vZmZzZXQuY2xpY2sgPSBuLm9mZnNldC5jbGljaywgby5faW50ZXJzZWN0c1dpdGgoby5jb250YWluZXJDYWNoZSkgJiYgKHMgPSAhMCwgdC5lYWNoKG4uc29ydGFibGVzLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbkFicyA9IG4ucG9zaXRpb25BYnMsIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSBuLmhlbHBlclByb3BvcnRpb25zLCB0aGlzLm9mZnNldC5jbGljayA9IG4ub2Zmc2V0LmNsaWNrLCB0aGlzICE9PSBvICYmIHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyQ2FjaGUpICYmIHQuY29udGFpbnMoby5lbGVtZW50WzBdLCB0aGlzLmVsZW1lbnRbMF0pICYmIChzID0gITEpLCBzOwogICAgICAgIH0pKSwgcyA/IChvLmlzT3ZlciB8fCAoby5pc092ZXIgPSAxLCBvLmN1cnJlbnRJdGVtID0gaS5oZWxwZXIuYXBwZW5kVG8oby5lbGVtZW50KS5kYXRhKCJ1aS1zb3J0YWJsZS1pdGVtIiwgITApLCBvLm9wdGlvbnMuX2hlbHBlciA9IG8ub3B0aW9ucy5oZWxwZXIsIG8ub3B0aW9ucy5oZWxwZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gaS5oZWxwZXJbMF07CiAgICAgICAgfSwgZS50YXJnZXQgPSBvLmN1cnJlbnRJdGVtWzBdLCBvLl9tb3VzZUNhcHR1cmUoZSwgITApLCBvLl9tb3VzZVN0YXJ0KGUsICEwLCAhMCksIG8ub2Zmc2V0LmNsaWNrLnRvcCA9IG4ub2Zmc2V0LmNsaWNrLnRvcCwgby5vZmZzZXQuY2xpY2subGVmdCA9IG4ub2Zmc2V0LmNsaWNrLmxlZnQsIG8ub2Zmc2V0LnBhcmVudC5sZWZ0IC09IG4ub2Zmc2V0LnBhcmVudC5sZWZ0IC0gby5vZmZzZXQucGFyZW50LmxlZnQsIG8ub2Zmc2V0LnBhcmVudC50b3AgLT0gbi5vZmZzZXQucGFyZW50LnRvcCAtIG8ub2Zmc2V0LnBhcmVudC50b3AsIG4uX3RyaWdnZXIoInRvU29ydGFibGUiLCBlKSwgbi5kcm9wcGVkID0gby5lbGVtZW50LCB0LmVhY2gobi5zb3J0YWJsZXMsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoaXMucmVmcmVzaFBvc2l0aW9ucygpOwogICAgICAgIH0pLCBuLmN1cnJlbnRJdGVtID0gbi5lbGVtZW50LCBvLmZyb21PdXRzaWRlID0gbiksIG8uY3VycmVudEl0ZW0gJiYgKG8uX21vdXNlRHJhZyhlKSwgaS5wb3NpdGlvbiA9IG8ucG9zaXRpb24pKSA6IG8uaXNPdmVyICYmIChvLmlzT3ZlciA9IDAsIG8uY2FuY2VsSGVscGVyUmVtb3ZhbCA9ICEwLCBvLm9wdGlvbnMuX3JldmVydCA9IG8ub3B0aW9ucy5yZXZlcnQsIG8ub3B0aW9ucy5yZXZlcnQgPSAhMSwgby5fdHJpZ2dlcigib3V0IiwgZSwgby5fdWlIYXNoKG8pKSwgby5fbW91c2VTdG9wKGUsICEwKSwgby5vcHRpb25zLnJldmVydCA9IG8ub3B0aW9ucy5fcmV2ZXJ0LCBvLm9wdGlvbnMuaGVscGVyID0gby5vcHRpb25zLl9oZWxwZXIsIG8ucGxhY2Vob2xkZXIgJiYgby5wbGFjZWhvbGRlci5yZW1vdmUoKSwgbi5fcmVmcmVzaE9mZnNldHMoZSksIGkucG9zaXRpb24gPSBuLl9nZW5lcmF0ZVBvc2l0aW9uKGUsICEwKSwgbi5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIiwgZSksIG4uZHJvcHBlZCA9ICExLCB0LmVhY2gobi5zb3J0YWJsZXMsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoaXMucmVmcmVzaFBvc2l0aW9ucygpOwogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9CiAgfSksIHQudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwgImN1cnNvciIsIHsKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChlLCBpLCBuKSB7CiAgICAgIHZhciBzID0gdCgiYm9keSIpLAogICAgICAgICAgbyA9IG4ub3B0aW9uczsKICAgICAgcy5jc3MoImN1cnNvciIpICYmIChvLl9jdXJzb3IgPSBzLmNzcygiY3Vyc29yIikpLCBzLmNzcygiY3Vyc29yIiwgby5jdXJzb3IpOwogICAgfSwKICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoZSwgaSwgbikgewogICAgICB2YXIgcyA9IG4ub3B0aW9uczsKICAgICAgcy5fY3Vyc29yICYmIHQoImJvZHkiKS5jc3MoImN1cnNvciIsIHMuX2N1cnNvcik7CiAgICB9CiAgfSksIHQudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwgIm9wYWNpdHkiLCB7CiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoZSwgaSwgbikgewogICAgICB2YXIgcyA9IHQoaS5oZWxwZXIpLAogICAgICAgICAgbyA9IG4ub3B0aW9uczsKICAgICAgcy5jc3MoIm9wYWNpdHkiKSAmJiAoby5fb3BhY2l0eSA9IHMuY3NzKCJvcGFjaXR5IikpLCBzLmNzcygib3BhY2l0eSIsIG8ub3BhY2l0eSk7CiAgICB9LAogICAgc3RvcDogZnVuY3Rpb24gc3RvcChlLCBpLCBuKSB7CiAgICAgIHZhciBzID0gbi5vcHRpb25zOwogICAgICBzLl9vcGFjaXR5ICYmIHQoaS5oZWxwZXIpLmNzcygib3BhY2l0eSIsIHMuX29wYWNpdHkpOwogICAgfQogIH0pLCB0LnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsICJzY3JvbGwiLCB7CiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQodCwgZSwgaSkgewogICAgICBpLnNjcm9sbFBhcmVudE5vdEhpZGRlbiB8fCAoaS5zY3JvbGxQYXJlbnROb3RIaWRkZW4gPSBpLmhlbHBlci5zY3JvbGxQYXJlbnQoITEpKSwgaS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0gIT09IGkuZG9jdW1lbnRbMF0gJiYgIkhUTUwiICE9PSBpLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXS50YWdOYW1lICYmIChpLm92ZXJmbG93T2Zmc2V0ID0gaS5zY3JvbGxQYXJlbnROb3RIaWRkZW4ub2Zmc2V0KCkpOwogICAgfSwKICAgIGRyYWc6IGZ1bmN0aW9uIGRyYWcoZSwgaSwgbikgewogICAgICB2YXIgcyA9IG4ub3B0aW9ucywKICAgICAgICAgIG8gPSAhMSwKICAgICAgICAgIHIgPSBuLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXSwKICAgICAgICAgIGEgPSBuLmRvY3VtZW50WzBdOwogICAgICByICE9PSBhICYmICJIVE1MIiAhPT0gci50YWdOYW1lID8gKHMuYXhpcyAmJiAieCIgPT09IHMuYXhpcyB8fCAobi5vdmVyZmxvd09mZnNldC50b3AgKyByLm9mZnNldEhlaWdodCAtIGUucGFnZVkgPCBzLnNjcm9sbFNlbnNpdGl2aXR5ID8gci5zY3JvbGxUb3AgPSBvID0gci5zY3JvbGxUb3AgKyBzLnNjcm9sbFNwZWVkIDogZS5wYWdlWSAtIG4ub3ZlcmZsb3dPZmZzZXQudG9wIDwgcy5zY3JvbGxTZW5zaXRpdml0eSAmJiAoci5zY3JvbGxUb3AgPSBvID0gci5zY3JvbGxUb3AgLSBzLnNjcm9sbFNwZWVkKSksIHMuYXhpcyAmJiAieSIgPT09IHMuYXhpcyB8fCAobi5vdmVyZmxvd09mZnNldC5sZWZ0ICsgci5vZmZzZXRXaWR0aCAtIGUucGFnZVggPCBzLnNjcm9sbFNlbnNpdGl2aXR5ID8gci5zY3JvbGxMZWZ0ID0gbyA9IHIuc2Nyb2xsTGVmdCArIHMuc2Nyb2xsU3BlZWQgOiBlLnBhZ2VYIC0gbi5vdmVyZmxvd09mZnNldC5sZWZ0IDwgcy5zY3JvbGxTZW5zaXRpdml0eSAmJiAoci5zY3JvbGxMZWZ0ID0gbyA9IHIuc2Nyb2xsTGVmdCAtIHMuc2Nyb2xsU3BlZWQpKSkgOiAocy5heGlzICYmICJ4IiA9PT0gcy5heGlzIHx8IChlLnBhZ2VZIC0gdChhKS5zY3JvbGxUb3AoKSA8IHMuc2Nyb2xsU2Vuc2l0aXZpdHkgPyBvID0gdChhKS5zY3JvbGxUb3AodChhKS5zY3JvbGxUb3AoKSAtIHMuc2Nyb2xsU3BlZWQpIDogdCh3aW5kb3cpLmhlaWdodCgpIC0gKGUucGFnZVkgLSB0KGEpLnNjcm9sbFRvcCgpKSA8IHMuc2Nyb2xsU2Vuc2l0aXZpdHkgJiYgKG8gPSB0KGEpLnNjcm9sbFRvcCh0KGEpLnNjcm9sbFRvcCgpICsgcy5zY3JvbGxTcGVlZCkpKSwgcy5heGlzICYmICJ5IiA9PT0gcy5heGlzIHx8IChlLnBhZ2VYIC0gdChhKS5zY3JvbGxMZWZ0KCkgPCBzLnNjcm9sbFNlbnNpdGl2aXR5ID8gbyA9IHQoYSkuc2Nyb2xsTGVmdCh0KGEpLnNjcm9sbExlZnQoKSAtIHMuc2Nyb2xsU3BlZWQpIDogdCh3aW5kb3cpLndpZHRoKCkgLSAoZS5wYWdlWCAtIHQoYSkuc2Nyb2xsTGVmdCgpKSA8IHMuc2Nyb2xsU2Vuc2l0aXZpdHkgJiYgKG8gPSB0KGEpLnNjcm9sbExlZnQodChhKS5zY3JvbGxMZWZ0KCkgKyBzLnNjcm9sbFNwZWVkKSkpKSwgITEgIT09IG8gJiYgdC51aS5kZG1hbmFnZXIgJiYgIXMuZHJvcEJlaGF2aW91ciAmJiB0LnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyhuLCBlKTsKICAgIH0KICB9KSwgdC51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCAic25hcCIsIHsKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChlLCBpLCBuKSB7CiAgICAgIHZhciBzID0gbi5vcHRpb25zOwogICAgICBuLnNuYXBFbGVtZW50cyA9IFtdLCB0KHMuc25hcC5jb25zdHJ1Y3RvciAhPT0gU3RyaW5nID8gcy5zbmFwLml0ZW1zIHx8ICI6ZGF0YSh1aS1kcmFnZ2FibGUpIiA6IHMuc25hcCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSB0KHRoaXMpLAogICAgICAgICAgICBpID0gZS5vZmZzZXQoKTsKICAgICAgICB0aGlzICE9PSBuLmVsZW1lbnRbMF0gJiYgbi5zbmFwRWxlbWVudHMucHVzaCh7CiAgICAgICAgICBpdGVtOiB0aGlzLAogICAgICAgICAgd2lkdGg6IGUub3V0ZXJXaWR0aCgpLAogICAgICAgICAgaGVpZ2h0OiBlLm91dGVySGVpZ2h0KCksCiAgICAgICAgICB0b3A6IGkudG9wLAogICAgICAgICAgbGVmdDogaS5sZWZ0CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRyYWc6IGZ1bmN0aW9uIGRyYWcoZSwgaSwgbikgewogICAgICB2YXIgcywKICAgICAgICAgIG8sCiAgICAgICAgICByLAogICAgICAgICAgYSwKICAgICAgICAgIGgsCiAgICAgICAgICBsLAogICAgICAgICAgYywKICAgICAgICAgIHUsCiAgICAgICAgICBwLAogICAgICAgICAgZCwKICAgICAgICAgIGYgPSBuLm9wdGlvbnMsCiAgICAgICAgICBtID0gZi5zbmFwVG9sZXJhbmNlLAogICAgICAgICAgZyA9IGkub2Zmc2V0LmxlZnQsCiAgICAgICAgICB2ID0gZyArIG4uaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsCiAgICAgICAgICB5ID0gaS5vZmZzZXQudG9wLAogICAgICAgICAgXyA9IHkgKyBuLmhlbHBlclByb3BvcnRpb25zLmhlaWdodDsKCiAgICAgIGZvciAocCA9IG4uc25hcEVsZW1lbnRzLmxlbmd0aCAtIDE7IHAgPj0gMDsgcC0tKSB7CiAgICAgICAgbCA9IChoID0gbi5zbmFwRWxlbWVudHNbcF0ubGVmdCAtIG4ubWFyZ2lucy5sZWZ0KSArIG4uc25hcEVsZW1lbnRzW3BdLndpZHRoLCB1ID0gKGMgPSBuLnNuYXBFbGVtZW50c1twXS50b3AgLSBuLm1hcmdpbnMudG9wKSArIG4uc25hcEVsZW1lbnRzW3BdLmhlaWdodCwgdiA8IGggLSBtIHx8IGcgPiBsICsgbSB8fCBfIDwgYyAtIG0gfHwgeSA+IHUgKyBtIHx8ICF0LmNvbnRhaW5zKG4uc25hcEVsZW1lbnRzW3BdLml0ZW0ub3duZXJEb2N1bWVudCwgbi5zbmFwRWxlbWVudHNbcF0uaXRlbSkgPyAobi5zbmFwRWxlbWVudHNbcF0uc25hcHBpbmcgJiYgbi5vcHRpb25zLnNuYXAucmVsZWFzZSAmJiBuLm9wdGlvbnMuc25hcC5yZWxlYXNlLmNhbGwobi5lbGVtZW50LCBlLCB0LmV4dGVuZChuLl91aUhhc2goKSwgewogICAgICAgICAgc25hcEl0ZW06IG4uc25hcEVsZW1lbnRzW3BdLml0ZW0KICAgICAgICB9KSksIG4uc25hcEVsZW1lbnRzW3BdLnNuYXBwaW5nID0gITEpIDogKCJpbm5lciIgIT09IGYuc25hcE1vZGUgJiYgKHMgPSBNYXRoLmFicyhjIC0gXykgPD0gbSwgbyA9IE1hdGguYWJzKHUgLSB5KSA8PSBtLCByID0gTWF0aC5hYnMoaCAtIHYpIDw9IG0sIGEgPSBNYXRoLmFicyhsIC0gZykgPD0gbSwgcyAmJiAoaS5wb3NpdGlvbi50b3AgPSBuLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLCB7CiAgICAgICAgICB0b3A6IGMgLSBuLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCwKICAgICAgICAgIGxlZnQ6IDAKICAgICAgICB9KS50b3ApLCBvICYmIChpLnBvc2l0aW9uLnRvcCA9IG4uX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIsIHsKICAgICAgICAgIHRvcDogdSwKICAgICAgICAgIGxlZnQ6IDAKICAgICAgICB9KS50b3ApLCByICYmIChpLnBvc2l0aW9uLmxlZnQgPSBuLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLCB7CiAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICBsZWZ0OiBoIC0gbi5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aAogICAgICAgIH0pLmxlZnQpLCBhICYmIChpLnBvc2l0aW9uLmxlZnQgPSBuLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLCB7CiAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICBsZWZ0OiBsCiAgICAgICAgfSkubGVmdCkpLCBkID0gcyB8fCBvIHx8IHIgfHwgYSwgIm91dGVyIiAhPT0gZi5zbmFwTW9kZSAmJiAocyA9IE1hdGguYWJzKGMgLSB5KSA8PSBtLCBvID0gTWF0aC5hYnModSAtIF8pIDw9IG0sIHIgPSBNYXRoLmFicyhoIC0gZykgPD0gbSwgYSA9IE1hdGguYWJzKGwgLSB2KSA8PSBtLCBzICYmIChpLnBvc2l0aW9uLnRvcCA9IG4uX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIsIHsKICAgICAgICAgIHRvcDogYywKICAgICAgICAgIGxlZnQ6IDAKICAgICAgICB9KS50b3ApLCBvICYmIChpLnBvc2l0aW9uLnRvcCA9IG4uX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIsIHsKICAgICAgICAgIHRvcDogdSAtIG4uaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LAogICAgICAgICAgbGVmdDogMAogICAgICAgIH0pLnRvcCksIHIgJiYgKGkucG9zaXRpb24ubGVmdCA9IG4uX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIsIHsKICAgICAgICAgIHRvcDogMCwKICAgICAgICAgIGxlZnQ6IGgKICAgICAgICB9KS5sZWZ0KSwgYSAmJiAoaS5wb3NpdGlvbi5sZWZ0ID0gbi5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIiwgewogICAgICAgICAgdG9wOiAwLAogICAgICAgICAgbGVmdDogbCAtIG4uaGVscGVyUHJvcG9ydGlvbnMud2lkdGgKICAgICAgICB9KS5sZWZ0KSksICFuLnNuYXBFbGVtZW50c1twXS5zbmFwcGluZyAmJiAocyB8fCBvIHx8IHIgfHwgYSB8fCBkKSAmJiBuLm9wdGlvbnMuc25hcC5zbmFwICYmIG4ub3B0aW9ucy5zbmFwLnNuYXAuY2FsbChuLmVsZW1lbnQsIGUsIHQuZXh0ZW5kKG4uX3VpSGFzaCgpLCB7CiAgICAgICAgICBzbmFwSXRlbTogbi5zbmFwRWxlbWVudHNbcF0uaXRlbQogICAgICAgIH0pKSwgbi5zbmFwRWxlbWVudHNbcF0uc25hcHBpbmcgPSBzIHx8IG8gfHwgciB8fCBhIHx8IGQpOwogICAgICB9CiAgICB9CiAgfSksIHQudWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwgInN0YWNrIiwgewogICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGUsIGksIG4pIHsKICAgICAgdmFyIHMsCiAgICAgICAgICBvID0gbi5vcHRpb25zLAogICAgICAgICAgciA9IHQubWFrZUFycmF5KHQoby5zdGFjaykpLnNvcnQoZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICByZXR1cm4gKHBhcnNlSW50KHQoZSkuY3NzKCJ6SW5kZXgiKSwgMTApIHx8IDApIC0gKHBhcnNlSW50KHQoaSkuY3NzKCJ6SW5kZXgiKSwgMTApIHx8IDApOwogICAgICB9KTsKICAgICAgci5sZW5ndGggJiYgKHMgPSBwYXJzZUludCh0KHJbMF0pLmNzcygiekluZGV4IiksIDEwKSB8fCAwLCB0KHIpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB0KHRoaXMpLmNzcygiekluZGV4IiwgcyArIGUpOwogICAgICB9KSwgdGhpcy5jc3MoInpJbmRleCIsIHMgKyByLmxlbmd0aCkpOwogICAgfQogIH0pLCB0LnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsICJ6SW5kZXgiLCB7CiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoZSwgaSwgbikgewogICAgICB2YXIgcyA9IHQoaS5oZWxwZXIpLAogICAgICAgICAgbyA9IG4ub3B0aW9uczsKICAgICAgcy5jc3MoInpJbmRleCIpICYmIChvLl96SW5kZXggPSBzLmNzcygiekluZGV4IikpLCBzLmNzcygiekluZGV4Iiwgby56SW5kZXgpOwogICAgfSwKICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoZSwgaSwgbikgewogICAgICB2YXIgcyA9IG4ub3B0aW9uczsKICAgICAgcy5fekluZGV4ICYmIHQoaS5oZWxwZXIpLmNzcygiekluZGV4Iiwgcy5fekluZGV4KTsKICAgIH0KICB9KTsKICB0LnVpLmRyYWdnYWJsZTsKICAvKiEKICAgKiBqUXVlcnkgVUkgRHJvcHBhYmxlIDEuMTEuMwogICAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICAgKgogICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAgICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogICAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICAgKgogICAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2Ryb3BwYWJsZS8KICAgKi8KCiAgdC53aWRnZXQoInVpLmRyb3BwYWJsZSIsIHsKICAgIHZlcnNpb246ICIxLjExLjMiLAogICAgd2lkZ2V0RXZlbnRQcmVmaXg6ICJkcm9wIiwKICAgIG9wdGlvbnM6IHsKICAgICAgYWNjZXB0OiAiKiIsCiAgICAgIGFjdGl2ZUNsYXNzOiAhMSwKICAgICAgYWRkQ2xhc3NlczogITAsCiAgICAgIGdyZWVkeTogITEsCiAgICAgIGhvdmVyQ2xhc3M6ICExLAogICAgICBzY29wZTogImRlZmF1bHQiLAogICAgICB0b2xlcmFuY2U6ICJpbnRlcnNlY3QiLAogICAgICBhY3RpdmF0ZTogbnVsbCwKICAgICAgZGVhY3RpdmF0ZTogbnVsbCwKICAgICAgZHJvcDogbnVsbCwKICAgICAgb3V0OiBudWxsLAogICAgICBvdmVyOiBudWxsCiAgICB9LAogICAgX2NyZWF0ZTogZnVuY3Rpb24gX2NyZWF0ZSgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBpID0gdGhpcy5vcHRpb25zLAogICAgICAgICAgbiA9IGkuYWNjZXB0OwogICAgICB0aGlzLmlzb3ZlciA9ICExLCB0aGlzLmlzb3V0ID0gITAsIHRoaXMuYWNjZXB0ID0gdC5pc0Z1bmN0aW9uKG4pID8gbiA6IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHQuaXMobik7CiAgICAgIH0sIHRoaXMucHJvcG9ydGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZSB8fCAoZSA9IHsKICAgICAgICAgIHdpZHRoOiB0aGlzLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IHRoaXMuZWxlbWVudFswXS5vZmZzZXRIZWlnaHQKICAgICAgICB9KTsKICAgICAgICBlID0gYXJndW1lbnRzWzBdOwogICAgICB9LCB0aGlzLl9hZGRUb01hbmFnZXIoaS5zY29wZSksIGkuYWRkQ2xhc3NlcyAmJiB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWRyb3BwYWJsZSIpOwogICAgfSwKICAgIF9hZGRUb01hbmFnZXI6IGZ1bmN0aW9uIF9hZGRUb01hbmFnZXIoZSkgewogICAgICB0LnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2VdID0gdC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tlXSB8fCBbXSwgdC51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1tlXS5wdXNoKHRoaXMpOwogICAgfSwKICAgIF9zcGxpY2U6IGZ1bmN0aW9uIF9zcGxpY2UodCkgewogICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHsKICAgICAgICB0W2VdID09PSB0aGlzICYmIHQuc3BsaWNlKGUsIDEpOwogICAgICB9CiAgICB9LAogICAgX2Rlc3Ryb3k6IGZ1bmN0aW9uIF9kZXN0cm95KCkgewogICAgICB2YXIgZSA9IHQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdGhpcy5vcHRpb25zLnNjb3BlXTsKICAgICAgdGhpcy5fc3BsaWNlKGUpLCB0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWRyb3BwYWJsZSB1aS1kcm9wcGFibGUtZGlzYWJsZWQiKTsKICAgIH0sCiAgICBfc2V0T3B0aW9uOiBmdW5jdGlvbiBfc2V0T3B0aW9uKGUsIGkpIHsKICAgICAgaWYgKCJhY2NlcHQiID09PSBlKSB0aGlzLmFjY2VwdCA9IHQuaXNGdW5jdGlvbihpKSA/IGkgOiBmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0LmlzKGkpOwogICAgICB9O2Vsc2UgaWYgKCJzY29wZSIgPT09IGUpIHsKICAgICAgICB2YXIgbiA9IHQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdGhpcy5vcHRpb25zLnNjb3BlXTsKICAgICAgICB0aGlzLl9zcGxpY2UobiksIHRoaXMuX2FkZFRvTWFuYWdlcihpKTsKICAgICAgfQoKICAgICAgdGhpcy5fc3VwZXIoZSwgaSk7CiAgICB9LAogICAgX2FjdGl2YXRlOiBmdW5jdGlvbiBfYWN0aXZhdGUoZSkgewogICAgICB2YXIgaSA9IHQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7CiAgICAgIHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyAmJiB0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKSwgaSAmJiB0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsIGUsIHRoaXMudWkoaSkpOwogICAgfSwKICAgIF9kZWFjdGl2YXRlOiBmdW5jdGlvbiBfZGVhY3RpdmF0ZShlKSB7CiAgICAgIHZhciBpID0gdC51aS5kZG1hbmFnZXIuY3VycmVudDsKICAgICAgdGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzICYmIHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpLCBpICYmIHRoaXMuX3RyaWdnZXIoImRlYWN0aXZhdGUiLCBlLCB0aGlzLnVpKGkpKTsKICAgIH0sCiAgICBfb3ZlcjogZnVuY3Rpb24gX292ZXIoZSkgewogICAgICB2YXIgaSA9IHQudWkuZGRtYW5hZ2VyLmN1cnJlbnQ7CiAgICAgIGkgJiYgKGkuY3VycmVudEl0ZW0gfHwgaS5lbGVtZW50KVswXSAhPT0gdGhpcy5lbGVtZW50WzBdICYmIHRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLCBpLmN1cnJlbnRJdGVtIHx8IGkuZWxlbWVudCkgJiYgKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzICYmIHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyksIHRoaXMuX3RyaWdnZXIoIm92ZXIiLCBlLCB0aGlzLnVpKGkpKSk7CiAgICB9LAogICAgX291dDogZnVuY3Rpb24gX291dChlKSB7CiAgICAgIHZhciBpID0gdC51aS5kZG1hbmFnZXIuY3VycmVudDsKICAgICAgaSAmJiAoaS5jdXJyZW50SXRlbSB8fCBpLmVsZW1lbnQpWzBdICE9PSB0aGlzLmVsZW1lbnRbMF0gJiYgdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sIGkuY3VycmVudEl0ZW0gfHwgaS5lbGVtZW50KSAmJiAodGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MgJiYgdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKSwgdGhpcy5fdHJpZ2dlcigib3V0IiwgZSwgdGhpcy51aShpKSkpOwogICAgfSwKICAgIF9kcm9wOiBmdW5jdGlvbiBfZHJvcChlLCBpKSB7CiAgICAgIHZhciBuID0gaSB8fCB0LnVpLmRkbWFuYWdlci5jdXJyZW50LAogICAgICAgICAgcyA9ICExOwogICAgICByZXR1cm4gISghbiB8fCAobi5jdXJyZW50SXRlbSB8fCBuLmVsZW1lbnQpWzBdID09PSB0aGlzLmVsZW1lbnRbMF0pICYmICh0aGlzLmVsZW1lbnQuZmluZCgiOmRhdGEodWktZHJvcHBhYmxlKSIpLm5vdCgiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpID0gdCh0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIik7CiAgICAgICAgaWYgKGkub3B0aW9ucy5ncmVlZHkgJiYgIWkub3B0aW9ucy5kaXNhYmxlZCAmJiBpLm9wdGlvbnMuc2NvcGUgPT09IG4ub3B0aW9ucy5zY29wZSAmJiBpLmFjY2VwdC5jYWxsKGkuZWxlbWVudFswXSwgbi5jdXJyZW50SXRlbSB8fCBuLmVsZW1lbnQpICYmIHQudWkuaW50ZXJzZWN0KG4sIHQuZXh0ZW5kKGksIHsKICAgICAgICAgIG9mZnNldDogaS5lbGVtZW50Lm9mZnNldCgpCiAgICAgICAgfSksIGkub3B0aW9ucy50b2xlcmFuY2UsIGUpKSByZXR1cm4gcyA9ICEwLCAhMTsKICAgICAgfSksICFzICYmICEhdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sIG4uY3VycmVudEl0ZW0gfHwgbi5lbGVtZW50KSAmJiAodGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzICYmIHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpLCB0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyAmJiB0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpLCB0aGlzLl90cmlnZ2VyKCJkcm9wIiwgZSwgdGhpcy51aShuKSksIHRoaXMuZWxlbWVudCkpOwogICAgfSwKICAgIHVpOiBmdW5jdGlvbiB1aSh0KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZHJhZ2dhYmxlOiB0LmN1cnJlbnRJdGVtIHx8IHQuZWxlbWVudCwKICAgICAgICBoZWxwZXI6IHQuaGVscGVyLAogICAgICAgIHBvc2l0aW9uOiB0LnBvc2l0aW9uLAogICAgICAgIG9mZnNldDogdC5wb3NpdGlvbkFicwogICAgICB9OwogICAgfQogIH0pLCB0LnVpLmludGVyc2VjdCA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIHQodCwgZSwgaSkgewogICAgICByZXR1cm4gdCA+PSBlICYmIHQgPCBlICsgaTsKICAgIH0KCiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIGksIG4sIHMpIHsKICAgICAgaWYgKCFpLm9mZnNldCkgcmV0dXJuICExOwogICAgICB2YXIgbyA9IChlLnBvc2l0aW9uQWJzIHx8IGUucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQgKyBlLm1hcmdpbnMubGVmdCwKICAgICAgICAgIHIgPSAoZS5wb3NpdGlvbkFicyB8fCBlLnBvc2l0aW9uLmFic29sdXRlKS50b3AgKyBlLm1hcmdpbnMudG9wLAogICAgICAgICAgYSA9IG8gKyBlLmhlbHBlclByb3BvcnRpb25zLndpZHRoLAogICAgICAgICAgaCA9IHIgKyBlLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCwKICAgICAgICAgIGwgPSBpLm9mZnNldC5sZWZ0LAogICAgICAgICAgYyA9IGkub2Zmc2V0LnRvcCwKICAgICAgICAgIHUgPSBsICsgaS5wcm9wb3J0aW9ucygpLndpZHRoLAogICAgICAgICAgcCA9IGMgKyBpLnByb3BvcnRpb25zKCkuaGVpZ2h0OwoKICAgICAgc3dpdGNoIChuKSB7CiAgICAgICAgY2FzZSAiZml0IjoKICAgICAgICAgIHJldHVybiBsIDw9IG8gJiYgYSA8PSB1ICYmIGMgPD0gciAmJiBoIDw9IHA7CgogICAgICAgIGNhc2UgImludGVyc2VjdCI6CiAgICAgICAgICByZXR1cm4gbCA8IG8gKyBlLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMiAmJiBhIC0gZS5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAvIDIgPCB1ICYmIGMgPCByICsgZS5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyICYmIGggLSBlLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIgPCBwOwoKICAgICAgICBjYXNlICJwb2ludGVyIjoKICAgICAgICAgIHJldHVybiB0KHMucGFnZVksIGMsIGkucHJvcG9ydGlvbnMoKS5oZWlnaHQpICYmIHQocy5wYWdlWCwgbCwgaS5wcm9wb3J0aW9ucygpLndpZHRoKTsKCiAgICAgICAgY2FzZSAidG91Y2giOgogICAgICAgICAgcmV0dXJuIChyID49IGMgJiYgciA8PSBwIHx8IGggPj0gYyAmJiBoIDw9IHAgfHwgciA8IGMgJiYgaCA+IHApICYmIChvID49IGwgJiYgbyA8PSB1IHx8IGEgPj0gbCAmJiBhIDw9IHUgfHwgbyA8IGwgJiYgYSA+IHUpOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuICExOwogICAgICB9CiAgICB9OwogIH0oKSwgdC51aS5kZG1hbmFnZXIgPSB7CiAgICBjdXJyZW50OiBudWxsLAogICAgZHJvcHBhYmxlczogewogICAgICAiZGVmYXVsdCI6IFtdCiAgICB9LAogICAgcHJlcGFyZU9mZnNldHM6IGZ1bmN0aW9uIHByZXBhcmVPZmZzZXRzKGUsIGkpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICBzLAogICAgICAgICAgbyA9IHQudWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbZS5vcHRpb25zLnNjb3BlXSB8fCBbXSwKICAgICAgICAgIHIgPSBpID8gaS50eXBlIDogbnVsbCwKICAgICAgICAgIGEgPSAoZS5jdXJyZW50SXRlbSB8fCBlLmVsZW1lbnQpLmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5hZGRCYWNrKCk7CgogICAgICB0OiBmb3IgKG4gPSAwOyBuIDwgby5sZW5ndGg7IG4rKykgewogICAgICAgIGlmICghKG9bbl0ub3B0aW9ucy5kaXNhYmxlZCB8fCBlICYmICFvW25dLmFjY2VwdC5jYWxsKG9bbl0uZWxlbWVudFswXSwgZS5jdXJyZW50SXRlbSB8fCBlLmVsZW1lbnQpKSkgewogICAgICAgICAgZm9yIChzID0gMDsgcyA8IGEubGVuZ3RoOyBzKyspIHsKICAgICAgICAgICAgaWYgKGFbc10gPT09IG9bbl0uZWxlbWVudFswXSkgewogICAgICAgICAgICAgIG9bbl0ucHJvcG9ydGlvbnMoKS5oZWlnaHQgPSAwOwogICAgICAgICAgICAgIGNvbnRpbnVlIHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBvW25dLnZpc2libGUgPSAibm9uZSIgIT09IG9bbl0uZWxlbWVudC5jc3MoImRpc3BsYXkiKSwgb1tuXS52aXNpYmxlICYmICgibW91c2Vkb3duIiA9PT0gciAmJiBvW25dLl9hY3RpdmF0ZS5jYWxsKG9bbl0sIGkpLCBvW25dLm9mZnNldCA9IG9bbl0uZWxlbWVudC5vZmZzZXQoKSwgb1tuXS5wcm9wb3J0aW9ucyh7CiAgICAgICAgICAgIHdpZHRoOiBvW25dLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIGhlaWdodDogb1tuXS5lbGVtZW50WzBdLm9mZnNldEhlaWdodAogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoZSwgaSkgewogICAgICB2YXIgbiA9ICExOwogICAgICByZXR1cm4gdC5lYWNoKCh0LnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2Uub3B0aW9ucy5zY29wZV0gfHwgW10pLnNsaWNlKCksIGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLm9wdGlvbnMgJiYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQgJiYgdGhpcy52aXNpYmxlICYmIHQudWkuaW50ZXJzZWN0KGUsIHRoaXMsIHRoaXMub3B0aW9ucy50b2xlcmFuY2UsIGkpICYmIChuID0gdGhpcy5fZHJvcC5jYWxsKHRoaXMsIGkpIHx8IG4pLCAhdGhpcy5vcHRpb25zLmRpc2FibGVkICYmIHRoaXMudmlzaWJsZSAmJiB0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSwgZS5jdXJyZW50SXRlbSB8fCBlLmVsZW1lbnQpICYmICh0aGlzLmlzb3V0ID0gITAsIHRoaXMuaXNvdmVyID0gITEsIHRoaXMuX2RlYWN0aXZhdGUuY2FsbCh0aGlzLCBpKSkpOwogICAgICB9KSwgbjsKICAgIH0sCiAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uIGRyYWdTdGFydChlLCBpKSB7CiAgICAgIGUuZWxlbWVudC5wYXJlbnRzVW50aWwoImJvZHkiKS5iaW5kKCJzY3JvbGwuZHJvcHBhYmxlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGUub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zIHx8IHQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKGUsIGkpOwogICAgICB9KTsKICAgIH0sCiAgICBkcmFnOiBmdW5jdGlvbiBkcmFnKGUsIGkpIHsKICAgICAgZS5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMgJiYgdC51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMoZSwgaSksIHQuZWFjaCh0LnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW2Uub3B0aW9ucy5zY29wZV0gfHwgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCAmJiAhdGhpcy5ncmVlZHlDaGlsZCAmJiB0aGlzLnZpc2libGUpIHsKICAgICAgICAgIHZhciBuLAogICAgICAgICAgICAgIHMsCiAgICAgICAgICAgICAgbywKICAgICAgICAgICAgICByID0gdC51aS5pbnRlcnNlY3QoZSwgdGhpcywgdGhpcy5vcHRpb25zLnRvbGVyYW5jZSwgaSksCiAgICAgICAgICAgICAgYSA9ICFyICYmIHRoaXMuaXNvdmVyID8gImlzb3V0IiA6IHIgJiYgIXRoaXMuaXNvdmVyID8gImlzb3ZlciIgOiBudWxsOwogICAgICAgICAgYSAmJiAodGhpcy5vcHRpb25zLmdyZWVkeSAmJiAocyA9IHRoaXMub3B0aW9ucy5zY29wZSwgKG8gPSB0aGlzLmVsZW1lbnQucGFyZW50cygiOmRhdGEodWktZHJvcHBhYmxlKSIpLmZpbHRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB0KHRoaXMpLmRyb3BwYWJsZSgiaW5zdGFuY2UiKS5vcHRpb25zLnNjb3BlID09PSBzOwogICAgICAgICAgfSkpLmxlbmd0aCAmJiAoKG4gPSB0KG9bMF0pLmRyb3BwYWJsZSgiaW5zdGFuY2UiKSkuZ3JlZWR5Q2hpbGQgPSAiaXNvdmVyIiA9PT0gYSkpLCBuICYmICJpc292ZXIiID09PSBhICYmIChuLmlzb3ZlciA9ICExLCBuLmlzb3V0ID0gITAsIG4uX291dC5jYWxsKG4sIGkpKSwgdGhpc1thXSA9ICEwLCB0aGlzWyJpc291dCIgPT09IGEgPyAiaXNvdmVyIiA6ICJpc291dCJdID0gITEsIHRoaXNbImlzb3ZlciIgPT09IGEgPyAiX292ZXIiIDogIl9vdXQiXS5jYWxsKHRoaXMsIGkpLCBuICYmICJpc291dCIgPT09IGEgJiYgKG4uaXNvdXQgPSAhMSwgbi5pc292ZXIgPSAhMCwgbi5fb3Zlci5jYWxsKG4sIGkpKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkcmFnU3RvcDogZnVuY3Rpb24gZHJhZ1N0b3AoZSwgaSkgewogICAgICBlLmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5IikudW5iaW5kKCJzY3JvbGwuZHJvcHBhYmxlIiksIGUub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zIHx8IHQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKGUsIGkpOwogICAgfQogIH07CiAgdC51aS5kcm9wcGFibGU7CiAgLyohCiAgICogalF1ZXJ5IFVJIFJlc2l6YWJsZSAxLjExLjMKICAgKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAgICoKICAgKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogICAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICAgKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAgICoKICAgKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9yZXNpemFibGUvCiAgICovCgogIHQud2lkZ2V0KCJ1aS5yZXNpemFibGUiLCB0LnVpLm1vdXNlLCB7CiAgICB2ZXJzaW9uOiAiMS4xMS4zIiwKICAgIHdpZGdldEV2ZW50UHJlZml4OiAicmVzaXplIiwKICAgIG9wdGlvbnM6IHsKICAgICAgYWxzb1Jlc2l6ZTogITEsCiAgICAgIGFuaW1hdGU6ICExLAogICAgICBhbmltYXRlRHVyYXRpb246ICJzbG93IiwKICAgICAgYW5pbWF0ZUVhc2luZzogInN3aW5nIiwKICAgICAgYXNwZWN0UmF0aW86ICExLAogICAgICBhdXRvSGlkZTogITEsCiAgICAgIGNvbnRhaW5tZW50OiAhMSwKICAgICAgZ2hvc3Q6ICExLAogICAgICBncmlkOiAhMSwKICAgICAgaGFuZGxlczogImUscyxzZSIsCiAgICAgIGhlbHBlcjogITEsCiAgICAgIG1heEhlaWdodDogbnVsbCwKICAgICAgbWF4V2lkdGg6IG51bGwsCiAgICAgIG1pbkhlaWdodDogMTAsCiAgICAgIG1pbldpZHRoOiAxMCwKICAgICAgekluZGV4OiA5MCwKICAgICAgcmVzaXplOiBudWxsLAogICAgICBzdGFydDogbnVsbCwKICAgICAgc3RvcDogbnVsbAogICAgfSwKICAgIF9udW06IGZ1bmN0aW9uIF9udW0odCkgewogICAgICByZXR1cm4gcGFyc2VJbnQodCwgMTApIHx8IDA7CiAgICB9LAogICAgX2lzTnVtYmVyOiBmdW5jdGlvbiBfaXNOdW1iZXIodCkgewogICAgICByZXR1cm4gIWlzTmFOKHBhcnNlSW50KHQsIDEwKSk7CiAgICB9LAogICAgX2hhc1Njcm9sbDogZnVuY3Rpb24gX2hhc1Njcm9sbChlLCBpKSB7CiAgICAgIGlmICgiaGlkZGVuIiA9PT0gdChlKS5jc3MoIm92ZXJmbG93IikpIHJldHVybiAhMTsKICAgICAgdmFyIG4gPSBpICYmICJsZWZ0IiA9PT0gaSA/ICJzY3JvbGxMZWZ0IiA6ICJzY3JvbGxUb3AiLAogICAgICAgICAgcyA9ICExOwogICAgICByZXR1cm4gZVtuXSA+IDAgfHwgKGVbbl0gPSAxLCBzID0gZVtuXSA+IDAsIGVbbl0gPSAwLCBzKTsKICAgIH0sCiAgICBfY3JlYXRlOiBmdW5jdGlvbiBfY3JlYXRlKCkgewogICAgICB2YXIgZSwKICAgICAgICAgIGksCiAgICAgICAgICBuLAogICAgICAgICAgcywKICAgICAgICAgIG8gPSB0aGlzLAogICAgICAgICAgciA9IHRoaXMub3B0aW9uczsKICAgICAgaWYgKHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcmVzaXphYmxlIiksIHQuZXh0ZW5kKHRoaXMsIHsKICAgICAgICBfYXNwZWN0UmF0aW86ICEhci5hc3BlY3RSYXRpbywKICAgICAgICBhc3BlY3RSYXRpbzogci5hc3BlY3RSYXRpbywKICAgICAgICBvcmlnaW5hbEVsZW1lbnQ6IHRoaXMuZWxlbWVudCwKICAgICAgICBfcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50czogW10sCiAgICAgICAgX2hlbHBlcjogci5oZWxwZXIgfHwgci5naG9zdCB8fCByLmFuaW1hdGUgPyByLmhlbHBlciB8fCAidWktcmVzaXphYmxlLWhlbHBlciIgOiBudWxsCiAgICAgIH0pLCB0aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL14oY2FudmFzfHRleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b258aW1nKSQvaSkgJiYgKHRoaXMuZWxlbWVudC53cmFwKHQoIjxkaXYgY2xhc3M9J3VpLXdyYXBwZXInIHN0eWxlPSdvdmVyZmxvdzogaGlkZGVuOyc+PC9kaXY+IikuY3NzKHsKICAgICAgICBwb3NpdGlvbjogdGhpcy5lbGVtZW50LmNzcygicG9zaXRpb24iKSwKICAgICAgICB3aWR0aDogdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSwKICAgICAgICBoZWlnaHQ6IHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLAogICAgICAgIHRvcDogdGhpcy5lbGVtZW50LmNzcygidG9wIiksCiAgICAgICAgbGVmdDogdGhpcy5lbGVtZW50LmNzcygibGVmdCIpCiAgICAgIH0pKSwgdGhpcy5lbGVtZW50ID0gdGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsIHRoaXMuZWxlbWVudC5yZXNpemFibGUoImluc3RhbmNlIikpLCB0aGlzLmVsZW1lbnRJc1dyYXBwZXIgPSAhMCwgdGhpcy5lbGVtZW50LmNzcyh7CiAgICAgICAgbWFyZ2luTGVmdDogdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksCiAgICAgICAgbWFyZ2luVG9wOiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLAogICAgICAgIG1hcmdpblJpZ2h0OiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblJpZ2h0IiksCiAgICAgICAgbWFyZ2luQm90dG9tOiB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpCiAgICAgIH0pLCB0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoewogICAgICAgIG1hcmdpbkxlZnQ6IDAsCiAgICAgICAgbWFyZ2luVG9wOiAwLAogICAgICAgIG1hcmdpblJpZ2h0OiAwLAogICAgICAgIG1hcmdpbkJvdHRvbTogMAogICAgICB9KSwgdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlID0gdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiKSwgdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiLCAibm9uZSIpLCB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2godGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHsKICAgICAgICBwb3NpdGlvbjogInN0YXRpYyIsCiAgICAgICAgem9vbTogMSwKICAgICAgICBkaXNwbGF5OiAiYmxvY2siCiAgICAgIH0pKSwgdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHsKICAgICAgICBtYXJnaW46IHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luIikKICAgICAgfSksIHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLCB0aGlzLmhhbmRsZXMgPSByLmhhbmRsZXMgfHwgKHQoIi51aS1yZXNpemFibGUtaGFuZGxlIiwgdGhpcy5lbGVtZW50KS5sZW5ndGggPyB7CiAgICAgICAgbjogIi51aS1yZXNpemFibGUtbiIsCiAgICAgICAgZTogIi51aS1yZXNpemFibGUtZSIsCiAgICAgICAgczogIi51aS1yZXNpemFibGUtcyIsCiAgICAgICAgdzogIi51aS1yZXNpemFibGUtdyIsCiAgICAgICAgc2U6ICIudWktcmVzaXphYmxlLXNlIiwKICAgICAgICBzdzogIi51aS1yZXNpemFibGUtc3ciLAogICAgICAgIG5lOiAiLnVpLXJlc2l6YWJsZS1uZSIsCiAgICAgICAgbnc6ICIudWktcmVzaXphYmxlLW53IgogICAgICB9IDogImUscyxzZSIpLCB0aGlzLmhhbmRsZXMuY29uc3RydWN0b3IgPT09IFN0cmluZykgZm9yICgiYWxsIiA9PT0gdGhpcy5oYW5kbGVzICYmICh0aGlzLmhhbmRsZXMgPSAibixlLHMsdyxzZSxzdyxuZSxudyIpLCBlID0gdGhpcy5oYW5kbGVzLnNwbGl0KCIsIiksIHRoaXMuaGFuZGxlcyA9IHt9LCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHsKICAgICAgICBuID0gdC50cmltKGVbaV0pLCAocyA9IHQoIjxkaXYgY2xhc3M9J3VpLXJlc2l6YWJsZS1oYW5kbGUgIiArICgidWktcmVzaXphYmxlLSIgKyBuKSArICInPjwvZGl2PiIpKS5jc3MoewogICAgICAgICAgekluZGV4OiByLnpJbmRleAogICAgICAgIH0pLCAic2UiID09PSBuICYmIHMuYWRkQ2xhc3MoInVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UiKSwgdGhpcy5oYW5kbGVzW25dID0gIi51aS1yZXNpemFibGUtIiArIG4sIHRoaXMuZWxlbWVudC5hcHBlbmQocyk7CiAgICAgIH0KICAgICAgdGhpcy5fcmVuZGVyQXhpcyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGksIG4sIHMsIG87CgogICAgICAgIGZvciAoaSBpbiBlID0gZSB8fCB0aGlzLmVsZW1lbnQsIHRoaXMuaGFuZGxlcykgewogICAgICAgICAgdGhpcy5oYW5kbGVzW2ldLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgJiYgKHRoaXMuaGFuZGxlc1tpXSA9IHRoaXMuZWxlbWVudC5jaGlsZHJlbih0aGlzLmhhbmRsZXNbaV0pLmZpcnN0KCkuc2hvdygpKSwgdGhpcy5lbGVtZW50SXNXcmFwcGVyICYmIHRoaXMub3JpZ2luYWxFbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKHRleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b24pJC9pKSAmJiAobiA9IHQodGhpcy5oYW5kbGVzW2ldLCB0aGlzLmVsZW1lbnQpLCBvID0gL3N3fG5lfG53fHNlfG58cy8udGVzdChpKSA/IG4ub3V0ZXJIZWlnaHQoKSA6IG4ub3V0ZXJXaWR0aCgpLCBzID0gWyJwYWRkaW5nIiwgL25lfG53fG4vLnRlc3QoaSkgPyAiVG9wIiA6IC9zZXxzd3xzLy50ZXN0KGkpID8gIkJvdHRvbSIgOiAvXmUkLy50ZXN0KGkpID8gIlJpZ2h0IiA6ICJMZWZ0Il0uam9pbigiIiksIGUuY3NzKHMsIG8pLCB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSwgdCh0aGlzLmhhbmRsZXNbaV0pLmxlbmd0aDsKICAgICAgICB9CiAgICAgIH0sIHRoaXMuX3JlbmRlckF4aXModGhpcy5lbGVtZW50KSwgdGhpcy5faGFuZGxlcyA9IHQoIi51aS1yZXNpemFibGUtaGFuZGxlIiwgdGhpcy5lbGVtZW50KS5kaXNhYmxlU2VsZWN0aW9uKCksIHRoaXMuX2hhbmRsZXMubW91c2VvdmVyKGZ1bmN0aW9uICgpIHsKICAgICAgICBvLnJlc2l6aW5nIHx8ICh0aGlzLmNsYXNzTmFtZSAmJiAocyA9IHRoaXMuY2xhc3NOYW1lLm1hdGNoKC91aS1yZXNpemFibGUtKHNlfHN3fG5lfG53fG58ZXxzfHcpL2kpKSwgby5heGlzID0gcyAmJiBzWzFdID8gc1sxXSA6ICJzZSIpOwogICAgICB9KSwgci5hdXRvSGlkZSAmJiAodGhpcy5faGFuZGxlcy5oaWRlKCksIHQodGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIikubW91c2VlbnRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgci5kaXNhYmxlZCB8fCAodCh0aGlzKS5yZW1vdmVDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIiksIG8uX2hhbmRsZXMuc2hvdygpKTsKICAgICAgfSkubW91c2VsZWF2ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgci5kaXNhYmxlZCB8fCBvLnJlc2l6aW5nIHx8ICh0KHRoaXMpLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSwgby5faGFuZGxlcy5oaWRlKCkpOwogICAgICB9KSksIHRoaXMuX21vdXNlSW5pdCgpOwogICAgfSwKICAgIF9kZXN0cm95OiBmdW5jdGlvbiBfZGVzdHJveSgpIHsKICAgICAgdGhpcy5fbW91c2VEZXN0cm95KCk7CgogICAgICB2YXIgZSwKICAgICAgICAgIGkgPSBmdW5jdGlvbiBpKGUpIHsKICAgICAgICB0KGUpLnJlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUgdWktcmVzaXphYmxlLWRpc2FibGVkIHVpLXJlc2l6YWJsZS1yZXNpemluZyIpLnJlbW92ZURhdGEoInJlc2l6YWJsZSIpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZSIpLnVuYmluZCgiLnJlc2l6YWJsZSIpLmZpbmQoIi51aS1yZXNpemFibGUtaGFuZGxlIikucmVtb3ZlKCk7CiAgICAgIH07CgogICAgICByZXR1cm4gdGhpcy5lbGVtZW50SXNXcmFwcGVyICYmIChpKHRoaXMuZWxlbWVudCksIGUgPSB0aGlzLmVsZW1lbnQsIHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7CiAgICAgICAgcG9zaXRpb246IGUuY3NzKCJwb3NpdGlvbiIpLAogICAgICAgIHdpZHRoOiBlLm91dGVyV2lkdGgoKSwKICAgICAgICBoZWlnaHQ6IGUub3V0ZXJIZWlnaHQoKSwKICAgICAgICB0b3A6IGUuY3NzKCJ0b3AiKSwKICAgICAgICBsZWZ0OiBlLmNzcygibGVmdCIpCiAgICAgIH0pLmluc2VydEFmdGVyKGUpLCBlLnJlbW92ZSgpKSwgdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiLCB0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUpLCBpKHRoaXMub3JpZ2luYWxFbGVtZW50KSwgdGhpczsKICAgIH0sCiAgICBfbW91c2VDYXB0dXJlOiBmdW5jdGlvbiBfbW91c2VDYXB0dXJlKGUpIHsKICAgICAgdmFyIGksCiAgICAgICAgICBuLAogICAgICAgICAgcyA9ICExOwoKICAgICAgZm9yIChpIGluIHRoaXMuaGFuZGxlcykgewogICAgICAgICgobiA9IHQodGhpcy5oYW5kbGVzW2ldKVswXSkgPT09IGUudGFyZ2V0IHx8IHQuY29udGFpbnMobiwgZS50YXJnZXQpKSAmJiAocyA9ICEwKTsKICAgICAgfQoKICAgICAgcmV0dXJuICF0aGlzLm9wdGlvbnMuZGlzYWJsZWQgJiYgczsKICAgIH0sCiAgICBfbW91c2VTdGFydDogZnVuY3Rpb24gX21vdXNlU3RhcnQoZSkgewogICAgICB2YXIgaSwKICAgICAgICAgIG4sCiAgICAgICAgICBzLAogICAgICAgICAgbyA9IHRoaXMub3B0aW9ucywKICAgICAgICAgIHIgPSB0aGlzLmVsZW1lbnQ7CiAgICAgIHJldHVybiB0aGlzLnJlc2l6aW5nID0gITAsIHRoaXMuX3JlbmRlclByb3h5KCksIGkgPSB0aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJsZWZ0IikpLCBuID0gdGhpcy5fbnVtKHRoaXMuaGVscGVyLmNzcygidG9wIikpLCBvLmNvbnRhaW5tZW50ICYmIChpICs9IHQoby5jb250YWlubWVudCkuc2Nyb2xsTGVmdCgpIHx8IDAsIG4gKz0gdChvLmNvbnRhaW5tZW50KS5zY3JvbGxUb3AoKSB8fCAwKSwgdGhpcy5vZmZzZXQgPSB0aGlzLmhlbHBlci5vZmZzZXQoKSwgdGhpcy5wb3NpdGlvbiA9IHsKICAgICAgICBsZWZ0OiBpLAogICAgICAgIHRvcDogbgogICAgICB9LCB0aGlzLnNpemUgPSB0aGlzLl9oZWxwZXIgPyB7CiAgICAgICAgd2lkdGg6IHRoaXMuaGVscGVyLndpZHRoKCksCiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlbHBlci5oZWlnaHQoKQogICAgICB9IDogewogICAgICAgIHdpZHRoOiByLndpZHRoKCksCiAgICAgICAgaGVpZ2h0OiByLmhlaWdodCgpCiAgICAgIH0sIHRoaXMub3JpZ2luYWxTaXplID0gdGhpcy5faGVscGVyID8gewogICAgICAgIHdpZHRoOiByLm91dGVyV2lkdGgoKSwKICAgICAgICBoZWlnaHQ6IHIub3V0ZXJIZWlnaHQoKQogICAgICB9IDogewogICAgICAgIHdpZHRoOiByLndpZHRoKCksCiAgICAgICAgaGVpZ2h0OiByLmhlaWdodCgpCiAgICAgIH0sIHRoaXMuc2l6ZURpZmYgPSB7CiAgICAgICAgd2lkdGg6IHIub3V0ZXJXaWR0aCgpIC0gci53aWR0aCgpLAogICAgICAgIGhlaWdodDogci5vdXRlckhlaWdodCgpIC0gci5oZWlnaHQoKQogICAgICB9LCB0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSB7CiAgICAgICAgbGVmdDogaSwKICAgICAgICB0b3A6IG4KICAgICAgfSwgdGhpcy5vcmlnaW5hbE1vdXNlUG9zaXRpb24gPSB7CiAgICAgICAgbGVmdDogZS5wYWdlWCwKICAgICAgICB0b3A6IGUucGFnZVkKICAgICAgfSwgdGhpcy5hc3BlY3RSYXRpbyA9ICJudW1iZXIiID09IHR5cGVvZiBvLmFzcGVjdFJhdGlvID8gby5hc3BlY3RSYXRpbyA6IHRoaXMub3JpZ2luYWxTaXplLndpZHRoIC8gdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0IHx8IDEsIHMgPSB0KCIudWktcmVzaXphYmxlLSIgKyB0aGlzLmF4aXMpLmNzcygiY3Vyc29yIiksIHQoImJvZHkiKS5jc3MoImN1cnNvciIsICJhdXRvIiA9PT0gcyA/IHRoaXMuYXhpcyArICItcmVzaXplIiA6IHMpLCByLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKSwgdGhpcy5fcHJvcGFnYXRlKCJzdGFydCIsIGUpLCAhMDsKICAgIH0sCiAgICBfbW91c2VEcmFnOiBmdW5jdGlvbiBfbW91c2VEcmFnKGUpIHsKICAgICAgdmFyIGksCiAgICAgICAgICBuLAogICAgICAgICAgcyA9IHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLAogICAgICAgICAgbyA9IHRoaXMuYXhpcywKICAgICAgICAgIHIgPSBlLnBhZ2VYIC0gcy5sZWZ0IHx8IDAsCiAgICAgICAgICBhID0gZS5wYWdlWSAtIHMudG9wIHx8IDAsCiAgICAgICAgICBoID0gdGhpcy5fY2hhbmdlW29dOwogICAgICByZXR1cm4gdGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKSwgISFoICYmIChpID0gaC5hcHBseSh0aGlzLCBbZSwgciwgYV0pLCB0aGlzLl91cGRhdGVWaXJ0dWFsQm91bmRhcmllcyhlLnNoaWZ0S2V5KSwgKHRoaXMuX2FzcGVjdFJhdGlvIHx8IGUuc2hpZnRLZXkpICYmIChpID0gdGhpcy5fdXBkYXRlUmF0aW8oaSwgZSkpLCBpID0gdGhpcy5fcmVzcGVjdFNpemUoaSwgZSksIHRoaXMuX3VwZGF0ZUNhY2hlKGkpLCB0aGlzLl9wcm9wYWdhdGUoInJlc2l6ZSIsIGUpLCBuID0gdGhpcy5fYXBwbHlDaGFuZ2VzKCksICF0aGlzLl9oZWxwZXIgJiYgdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGggJiYgdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSwgdC5pc0VtcHR5T2JqZWN0KG4pIHx8ICh0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLCB0aGlzLl90cmlnZ2VyKCJyZXNpemUiLCBlLCB0aGlzLnVpKCkpLCB0aGlzLl9hcHBseUNoYW5nZXMoKSksICExKTsKICAgIH0sCiAgICBfbW91c2VTdG9wOiBmdW5jdGlvbiBfbW91c2VTdG9wKGUpIHsKICAgICAgdGhpcy5yZXNpemluZyA9ICExOwogICAgICB2YXIgaSwKICAgICAgICAgIG4sCiAgICAgICAgICBzLAogICAgICAgICAgbywKICAgICAgICAgIHIsCiAgICAgICAgICBhLAogICAgICAgICAgaCwKICAgICAgICAgIGwgPSB0aGlzLm9wdGlvbnMsCiAgICAgICAgICBjID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXMuX2hlbHBlciAmJiAocyA9IChuID0gKGkgPSB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzKS5sZW5ndGggJiYgL3RleHRhcmVhL2kudGVzdChpWzBdLm5vZGVOYW1lKSkgJiYgdGhpcy5faGFzU2Nyb2xsKGlbMF0sICJsZWZ0IikgPyAwIDogYy5zaXplRGlmZi5oZWlnaHQsIG8gPSBuID8gMCA6IGMuc2l6ZURpZmYud2lkdGgsIHIgPSB7CiAgICAgICAgd2lkdGg6IGMuaGVscGVyLndpZHRoKCkgLSBvLAogICAgICAgIGhlaWdodDogYy5oZWxwZXIuaGVpZ2h0KCkgLSBzCiAgICAgIH0sIGEgPSBwYXJzZUludChjLmVsZW1lbnQuY3NzKCJsZWZ0IiksIDEwKSArIChjLnBvc2l0aW9uLmxlZnQgLSBjLm9yaWdpbmFsUG9zaXRpb24ubGVmdCkgfHwgbnVsbCwgaCA9IHBhcnNlSW50KGMuZWxlbWVudC5jc3MoInRvcCIpLCAxMCkgKyAoYy5wb3NpdGlvbi50b3AgLSBjLm9yaWdpbmFsUG9zaXRpb24udG9wKSB8fCBudWxsLCBsLmFuaW1hdGUgfHwgdGhpcy5lbGVtZW50LmNzcyh0LmV4dGVuZChyLCB7CiAgICAgICAgdG9wOiBoLAogICAgICAgIGxlZnQ6IGEKICAgICAgfSkpLCBjLmhlbHBlci5oZWlnaHQoYy5zaXplLmhlaWdodCksIGMuaGVscGVyLndpZHRoKGMuc2l6ZS53aWR0aCksIHRoaXMuX2hlbHBlciAmJiAhbC5hbmltYXRlICYmIHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLCB0KCJib2R5IikuY3NzKCJjdXJzb3IiLCAiYXV0byIpLCB0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLCB0aGlzLl9wcm9wYWdhdGUoInN0b3AiLCBlKSwgdGhpcy5faGVscGVyICYmIHRoaXMuaGVscGVyLnJlbW92ZSgpLCAhMTsKICAgIH0sCiAgICBfdXBkYXRlUHJldlByb3BlcnRpZXM6IGZ1bmN0aW9uIF91cGRhdGVQcmV2UHJvcGVydGllcygpIHsKICAgICAgdGhpcy5wcmV2UG9zaXRpb24gPSB7CiAgICAgICAgdG9wOiB0aGlzLnBvc2l0aW9uLnRvcCwKICAgICAgICBsZWZ0OiB0aGlzLnBvc2l0aW9uLmxlZnQKICAgICAgfSwgdGhpcy5wcmV2U2l6ZSA9IHsKICAgICAgICB3aWR0aDogdGhpcy5zaXplLndpZHRoLAogICAgICAgIGhlaWdodDogdGhpcy5zaXplLmhlaWdodAogICAgICB9OwogICAgfSwKICAgIF9hcHBseUNoYW5nZXM6IGZ1bmN0aW9uIF9hcHBseUNoYW5nZXMoKSB7CiAgICAgIHZhciB0ID0ge307CiAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnRvcCAhPT0gdGhpcy5wcmV2UG9zaXRpb24udG9wICYmICh0LnRvcCA9IHRoaXMucG9zaXRpb24udG9wICsgInB4IiksIHRoaXMucG9zaXRpb24ubGVmdCAhPT0gdGhpcy5wcmV2UG9zaXRpb24ubGVmdCAmJiAodC5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0ICsgInB4IiksIHRoaXMuc2l6ZS53aWR0aCAhPT0gdGhpcy5wcmV2U2l6ZS53aWR0aCAmJiAodC53aWR0aCA9IHRoaXMuc2l6ZS53aWR0aCArICJweCIpLCB0aGlzLnNpemUuaGVpZ2h0ICE9PSB0aGlzLnByZXZTaXplLmhlaWdodCAmJiAodC5oZWlnaHQgPSB0aGlzLnNpemUuaGVpZ2h0ICsgInB4IiksIHRoaXMuaGVscGVyLmNzcyh0KSwgdDsKICAgIH0sCiAgICBfdXBkYXRlVmlydHVhbEJvdW5kYXJpZXM6IGZ1bmN0aW9uIF91cGRhdGVWaXJ0dWFsQm91bmRhcmllcyh0KSB7CiAgICAgIHZhciBlLAogICAgICAgICAgaSwKICAgICAgICAgIG4sCiAgICAgICAgICBzLAogICAgICAgICAgbywKICAgICAgICAgIHIgPSB0aGlzLm9wdGlvbnM7CiAgICAgIG8gPSB7CiAgICAgICAgbWluV2lkdGg6IHRoaXMuX2lzTnVtYmVyKHIubWluV2lkdGgpID8gci5taW5XaWR0aCA6IDAsCiAgICAgICAgbWF4V2lkdGg6IHRoaXMuX2lzTnVtYmVyKHIubWF4V2lkdGgpID8gci5tYXhXaWR0aCA6IEluZmluaXR5LAogICAgICAgIG1pbkhlaWdodDogdGhpcy5faXNOdW1iZXIoci5taW5IZWlnaHQpID8gci5taW5IZWlnaHQgOiAwLAogICAgICAgIG1heEhlaWdodDogdGhpcy5faXNOdW1iZXIoci5tYXhIZWlnaHQpID8gci5tYXhIZWlnaHQgOiBJbmZpbml0eQogICAgICB9LCAodGhpcy5fYXNwZWN0UmF0aW8gfHwgdCkgJiYgKGUgPSBvLm1pbkhlaWdodCAqIHRoaXMuYXNwZWN0UmF0aW8sIG4gPSBvLm1pbldpZHRoIC8gdGhpcy5hc3BlY3RSYXRpbywgaSA9IG8ubWF4SGVpZ2h0ICogdGhpcy5hc3BlY3RSYXRpbywgcyA9IG8ubWF4V2lkdGggLyB0aGlzLmFzcGVjdFJhdGlvLCBlID4gby5taW5XaWR0aCAmJiAoby5taW5XaWR0aCA9IGUpLCBuID4gby5taW5IZWlnaHQgJiYgKG8ubWluSGVpZ2h0ID0gbiksIGkgPCBvLm1heFdpZHRoICYmIChvLm1heFdpZHRoID0gaSksIHMgPCBvLm1heEhlaWdodCAmJiAoby5tYXhIZWlnaHQgPSBzKSksIHRoaXMuX3ZCb3VuZGFyaWVzID0gbzsKICAgIH0sCiAgICBfdXBkYXRlQ2FjaGU6IGZ1bmN0aW9uIF91cGRhdGVDYWNoZSh0KSB7CiAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5oZWxwZXIub2Zmc2V0KCksIHRoaXMuX2lzTnVtYmVyKHQubGVmdCkgJiYgKHRoaXMucG9zaXRpb24ubGVmdCA9IHQubGVmdCksIHRoaXMuX2lzTnVtYmVyKHQudG9wKSAmJiAodGhpcy5wb3NpdGlvbi50b3AgPSB0LnRvcCksIHRoaXMuX2lzTnVtYmVyKHQuaGVpZ2h0KSAmJiAodGhpcy5zaXplLmhlaWdodCA9IHQuaGVpZ2h0KSwgdGhpcy5faXNOdW1iZXIodC53aWR0aCkgJiYgKHRoaXMuc2l6ZS53aWR0aCA9IHQud2lkdGgpOwogICAgfSwKICAgIF91cGRhdGVSYXRpbzogZnVuY3Rpb24gX3VwZGF0ZVJhdGlvKHQpIHsKICAgICAgdmFyIGUgPSB0aGlzLnBvc2l0aW9uLAogICAgICAgICAgaSA9IHRoaXMuc2l6ZSwKICAgICAgICAgIG4gPSB0aGlzLmF4aXM7CiAgICAgIHJldHVybiB0aGlzLl9pc051bWJlcih0LmhlaWdodCkgPyB0LndpZHRoID0gdC5oZWlnaHQgKiB0aGlzLmFzcGVjdFJhdGlvIDogdGhpcy5faXNOdW1iZXIodC53aWR0aCkgJiYgKHQuaGVpZ2h0ID0gdC53aWR0aCAvIHRoaXMuYXNwZWN0UmF0aW8pLCAic3ciID09PSBuICYmICh0LmxlZnQgPSBlLmxlZnQgKyAoaS53aWR0aCAtIHQud2lkdGgpLCB0LnRvcCA9IG51bGwpLCAibnciID09PSBuICYmICh0LnRvcCA9IGUudG9wICsgKGkuaGVpZ2h0IC0gdC5oZWlnaHQpLCB0LmxlZnQgPSBlLmxlZnQgKyAoaS53aWR0aCAtIHQud2lkdGgpKSwgdDsKICAgIH0sCiAgICBfcmVzcGVjdFNpemU6IGZ1bmN0aW9uIF9yZXNwZWN0U2l6ZSh0KSB7CiAgICAgIHZhciBlID0gdGhpcy5fdkJvdW5kYXJpZXMsCiAgICAgICAgICBpID0gdGhpcy5heGlzLAogICAgICAgICAgbiA9IHRoaXMuX2lzTnVtYmVyKHQud2lkdGgpICYmIGUubWF4V2lkdGggJiYgZS5tYXhXaWR0aCA8IHQud2lkdGgsCiAgICAgICAgICBzID0gdGhpcy5faXNOdW1iZXIodC5oZWlnaHQpICYmIGUubWF4SGVpZ2h0ICYmIGUubWF4SGVpZ2h0IDwgdC5oZWlnaHQsCiAgICAgICAgICBvID0gdGhpcy5faXNOdW1iZXIodC53aWR0aCkgJiYgZS5taW5XaWR0aCAmJiBlLm1pbldpZHRoID4gdC53aWR0aCwKICAgICAgICAgIHIgPSB0aGlzLl9pc051bWJlcih0LmhlaWdodCkgJiYgZS5taW5IZWlnaHQgJiYgZS5taW5IZWlnaHQgPiB0LmhlaWdodCwKICAgICAgICAgIGEgPSB0aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCArIHRoaXMub3JpZ2luYWxTaXplLndpZHRoLAogICAgICAgICAgaCA9IHRoaXMucG9zaXRpb24udG9wICsgdGhpcy5zaXplLmhlaWdodCwKICAgICAgICAgIGwgPSAvc3d8bnd8dy8udGVzdChpKSwKICAgICAgICAgIGMgPSAvbnd8bmV8bi8udGVzdChpKTsKICAgICAgcmV0dXJuIG8gJiYgKHQud2lkdGggPSBlLm1pbldpZHRoKSwgciAmJiAodC5oZWlnaHQgPSBlLm1pbkhlaWdodCksIG4gJiYgKHQud2lkdGggPSBlLm1heFdpZHRoKSwgcyAmJiAodC5oZWlnaHQgPSBlLm1heEhlaWdodCksIG8gJiYgbCAmJiAodC5sZWZ0ID0gYSAtIGUubWluV2lkdGgpLCBuICYmIGwgJiYgKHQubGVmdCA9IGEgLSBlLm1heFdpZHRoKSwgciAmJiBjICYmICh0LnRvcCA9IGggLSBlLm1pbkhlaWdodCksIHMgJiYgYyAmJiAodC50b3AgPSBoIC0gZS5tYXhIZWlnaHQpLCB0LndpZHRoIHx8IHQuaGVpZ2h0IHx8IHQubGVmdCB8fCAhdC50b3AgPyB0LndpZHRoIHx8IHQuaGVpZ2h0IHx8IHQudG9wIHx8ICF0LmxlZnQgfHwgKHQubGVmdCA9IG51bGwpIDogdC50b3AgPSBudWxsLCB0OwogICAgfSwKICAgIF9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnM6IGZ1bmN0aW9uIF9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnModCkgewogICAgICBmb3IgKHZhciBlID0gMCwgaSA9IFtdLCBuID0gW3QuY3NzKCJib3JkZXJUb3BXaWR0aCIpLCB0LmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLCB0LmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwgdC5jc3MoImJvcmRlckxlZnRXaWR0aCIpXSwgcyA9IFt0LmNzcygicGFkZGluZ1RvcCIpLCB0LmNzcygicGFkZGluZ1JpZ2h0IiksIHQuY3NzKCJwYWRkaW5nQm90dG9tIiksIHQuY3NzKCJwYWRkaW5nTGVmdCIpXTsgZSA8IDQ7IGUrKykgewogICAgICAgIGlbZV0gPSBwYXJzZUludChuW2VdLCAxMCkgfHwgMCwgaVtlXSArPSBwYXJzZUludChzW2VdLCAxMCkgfHwgMDsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBoZWlnaHQ6IGlbMF0gKyBpWzJdLAogICAgICAgIHdpZHRoOiBpWzFdICsgaVszXQogICAgICB9OwogICAgfSwKICAgIF9wcm9wb3J0aW9uYWxseVJlc2l6ZTogZnVuY3Rpb24gX3Byb3BvcnRpb25hbGx5UmVzaXplKCkgewogICAgICBpZiAodGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgpIGZvciAodmFyIHQsIGUgPSAwLCBpID0gdGhpcy5oZWxwZXIgfHwgdGhpcy5lbGVtZW50OyBlIDwgdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGg7IGUrKykgewogICAgICAgIHQgPSB0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzW2VdLCB0aGlzLm91dGVyRGltZW5zaW9ucyB8fCAodGhpcy5vdXRlckRpbWVuc2lvbnMgPSB0aGlzLl9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnModCkpLCB0LmNzcyh7CiAgICAgICAgICBoZWlnaHQ6IGkuaGVpZ2h0KCkgLSB0aGlzLm91dGVyRGltZW5zaW9ucy5oZWlnaHQgfHwgMCwKICAgICAgICAgIHdpZHRoOiBpLndpZHRoKCkgLSB0aGlzLm91dGVyRGltZW5zaW9ucy53aWR0aCB8fCAwCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBfcmVuZGVyUHJveHk6IGZ1bmN0aW9uIF9yZW5kZXJQcm94eSgpIHsKICAgICAgdmFyIGUgPSB0aGlzLmVsZW1lbnQsCiAgICAgICAgICBpID0gdGhpcy5vcHRpb25zOwogICAgICB0aGlzLmVsZW1lbnRPZmZzZXQgPSBlLm9mZnNldCgpLCB0aGlzLl9oZWxwZXIgPyAodGhpcy5oZWxwZXIgPSB0aGlzLmhlbHBlciB8fCB0KCI8ZGl2IHN0eWxlPSdvdmVyZmxvdzpoaWRkZW47Jz48L2Rpdj4iKSwgdGhpcy5oZWxwZXIuYWRkQ2xhc3ModGhpcy5faGVscGVyKS5jc3MoewogICAgICAgIHdpZHRoOiB0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpIC0gMSwKICAgICAgICBoZWlnaHQ6IHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpIC0gMSwKICAgICAgICBwb3NpdGlvbjogImFic29sdXRlIiwKICAgICAgICBsZWZ0OiB0aGlzLmVsZW1lbnRPZmZzZXQubGVmdCArICJweCIsCiAgICAgICAgdG9wOiB0aGlzLmVsZW1lbnRPZmZzZXQudG9wICsgInB4IiwKICAgICAgICB6SW5kZXg6ICsraS56SW5kZXgKICAgICAgfSksIHRoaXMuaGVscGVyLmFwcGVuZFRvKCJib2R5IikuZGlzYWJsZVNlbGVjdGlvbigpKSA6IHRoaXMuaGVscGVyID0gdGhpcy5lbGVtZW50OwogICAgfSwKICAgIF9jaGFuZ2U6IHsKICAgICAgZTogZnVuY3Rpb24gZSh0LCBfZSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB3aWR0aDogdGhpcy5vcmlnaW5hbFNpemUud2lkdGggKyBfZQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHc6IGZ1bmN0aW9uIHcodCwgZSkgewogICAgICAgIHZhciBpID0gdGhpcy5vcmlnaW5hbFNpemU7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxlZnQ6IHRoaXMub3JpZ2luYWxQb3NpdGlvbi5sZWZ0ICsgZSwKICAgICAgICAgIHdpZHRoOiBpLndpZHRoIC0gZQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIG46IGZ1bmN0aW9uIG4odCwgZSwgaSkgewogICAgICAgIHZhciBuID0gdGhpcy5vcmlnaW5hbFNpemU7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRvcDogdGhpcy5vcmlnaW5hbFBvc2l0aW9uLnRvcCArIGksCiAgICAgICAgICBoZWlnaHQ6IG4uaGVpZ2h0IC0gaQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHM6IGZ1bmN0aW9uIHModCwgZSwgaSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBoZWlnaHQ6IHRoaXMub3JpZ2luYWxTaXplLmhlaWdodCArIGkKICAgICAgICB9OwogICAgICB9LAogICAgICBzZTogZnVuY3Rpb24gc2UoZSwgaSwgbikgewogICAgICAgIHJldHVybiB0LmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLCBbZSwgaSwgbl0pKTsKICAgICAgfSwKICAgICAgc3c6IGZ1bmN0aW9uIHN3KGUsIGksIG4pIHsKICAgICAgICByZXR1cm4gdC5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcywgW2UsIGksIG5dKSk7CiAgICAgIH0sCiAgICAgIG5lOiBmdW5jdGlvbiBuZShlLCBpLCBuKSB7CiAgICAgICAgcmV0dXJuIHQuZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsIFtlLCBpLCBuXSkpOwogICAgICB9LAogICAgICBudzogZnVuY3Rpb24gbncoZSwgaSwgbikgewogICAgICAgIHJldHVybiB0LmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLCBbZSwgaSwgbl0pKTsKICAgICAgfQogICAgfSwKICAgIF9wcm9wYWdhdGU6IGZ1bmN0aW9uIF9wcm9wYWdhdGUoZSwgaSkgewogICAgICB0LnVpLnBsdWdpbi5jYWxsKHRoaXMsIGUsIFtpLCB0aGlzLnVpKCldKSwgInJlc2l6ZSIgIT09IGUgJiYgdGhpcy5fdHJpZ2dlcihlLCBpLCB0aGlzLnVpKCkpOwogICAgfSwKICAgIHBsdWdpbnM6IHt9LAogICAgdWk6IGZ1bmN0aW9uIHVpKCkgewogICAgICByZXR1cm4gewogICAgICAgIG9yaWdpbmFsRWxlbWVudDogdGhpcy5vcmlnaW5hbEVsZW1lbnQsCiAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LAogICAgICAgIGhlbHBlcjogdGhpcy5oZWxwZXIsCiAgICAgICAgcG9zaXRpb246IHRoaXMucG9zaXRpb24sCiAgICAgICAgc2l6ZTogdGhpcy5zaXplLAogICAgICAgIG9yaWdpbmFsU2l6ZTogdGhpcy5vcmlnaW5hbFNpemUsCiAgICAgICAgb3JpZ2luYWxQb3NpdGlvbjogdGhpcy5vcmlnaW5hbFBvc2l0aW9uCiAgICAgIH07CiAgICB9CiAgfSksIHQudWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwgImFuaW1hdGUiLCB7CiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKGUpIHsKICAgICAgdmFyIGkgPSB0KHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSwKICAgICAgICAgIG4gPSBpLm9wdGlvbnMsCiAgICAgICAgICBzID0gaS5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cywKICAgICAgICAgIG8gPSBzLmxlbmd0aCAmJiAvdGV4dGFyZWEvaS50ZXN0KHNbMF0ubm9kZU5hbWUpLAogICAgICAgICAgciA9IG8gJiYgaS5faGFzU2Nyb2xsKHNbMF0sICJsZWZ0IikgPyAwIDogaS5zaXplRGlmZi5oZWlnaHQsCiAgICAgICAgICBhID0gbyA/IDAgOiBpLnNpemVEaWZmLndpZHRoLAogICAgICAgICAgaCA9IHsKICAgICAgICB3aWR0aDogaS5zaXplLndpZHRoIC0gYSwKICAgICAgICBoZWlnaHQ6IGkuc2l6ZS5oZWlnaHQgLSByCiAgICAgIH0sCiAgICAgICAgICBsID0gcGFyc2VJbnQoaS5lbGVtZW50LmNzcygibGVmdCIpLCAxMCkgKyAoaS5wb3NpdGlvbi5sZWZ0IC0gaS5vcmlnaW5hbFBvc2l0aW9uLmxlZnQpIHx8IG51bGwsCiAgICAgICAgICBjID0gcGFyc2VJbnQoaS5lbGVtZW50LmNzcygidG9wIiksIDEwKSArIChpLnBvc2l0aW9uLnRvcCAtIGkub3JpZ2luYWxQb3NpdGlvbi50b3ApIHx8IG51bGw7CiAgICAgIGkuZWxlbWVudC5hbmltYXRlKHQuZXh0ZW5kKGgsIGMgJiYgbCA/IHsKICAgICAgICB0b3A6IGMsCiAgICAgICAgbGVmdDogbAogICAgICB9IDoge30pLCB7CiAgICAgICAgZHVyYXRpb246IG4uYW5pbWF0ZUR1cmF0aW9uLAogICAgICAgIGVhc2luZzogbi5hbmltYXRlRWFzaW5nLAogICAgICAgIHN0ZXA6IGZ1bmN0aW9uIHN0ZXAoKSB7CiAgICAgICAgICB2YXIgbiA9IHsKICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGkuZWxlbWVudC5jc3MoIndpZHRoIiksIDEwKSwKICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSwgMTApLAogICAgICAgICAgICB0b3A6IHBhcnNlSW50KGkuZWxlbWVudC5jc3MoInRvcCIpLCAxMCksCiAgICAgICAgICAgIGxlZnQ6IHBhcnNlSW50KGkuZWxlbWVudC5jc3MoImxlZnQiKSwgMTApCiAgICAgICAgICB9OwogICAgICAgICAgcyAmJiBzLmxlbmd0aCAmJiB0KHNbMF0pLmNzcyh7CiAgICAgICAgICAgIHdpZHRoOiBuLndpZHRoLAogICAgICAgICAgICBoZWlnaHQ6IG4uaGVpZ2h0CiAgICAgICAgICB9KSwgaS5fdXBkYXRlQ2FjaGUobiksIGkuX3Byb3BhZ2F0ZSgicmVzaXplIiwgZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KSwgdC51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCAiY29udGFpbm1lbnQiLCB7CiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgaSwKICAgICAgICAgIG4sCiAgICAgICAgICBzLAogICAgICAgICAgbywKICAgICAgICAgIHIsCiAgICAgICAgICBhLAogICAgICAgICAgaCA9IHQodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLAogICAgICAgICAgbCA9IGgub3B0aW9ucywKICAgICAgICAgIGMgPSBoLmVsZW1lbnQsCiAgICAgICAgICB1ID0gbC5jb250YWlubWVudCwKICAgICAgICAgIHAgPSB1IGluc3RhbmNlb2YgdCA/IHUuZ2V0KDApIDogL3BhcmVudC8udGVzdCh1KSA/IGMucGFyZW50KCkuZ2V0KDApIDogdTsKICAgICAgcCAmJiAoaC5jb250YWluZXJFbGVtZW50ID0gdChwKSwgL2RvY3VtZW50Ly50ZXN0KHUpIHx8IHUgPT09IGRvY3VtZW50ID8gKGguY29udGFpbmVyT2Zmc2V0ID0gewogICAgICAgIGxlZnQ6IDAsCiAgICAgICAgdG9wOiAwCiAgICAgIH0sIGguY29udGFpbmVyUG9zaXRpb24gPSB7CiAgICAgICAgbGVmdDogMCwKICAgICAgICB0b3A6IDAKICAgICAgfSwgaC5wYXJlbnREYXRhID0gewogICAgICAgIGVsZW1lbnQ6IHQoZG9jdW1lbnQpLAogICAgICAgIGxlZnQ6IDAsCiAgICAgICAgdG9wOiAwLAogICAgICAgIHdpZHRoOiB0KGRvY3VtZW50KS53aWR0aCgpLAogICAgICAgIGhlaWdodDogdChkb2N1bWVudCkuaGVpZ2h0KCkgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodAogICAgICB9KSA6IChlID0gdChwKSwgaSA9IFtdLCB0KFsiVG9wIiwgIlJpZ2h0IiwgIkxlZnQiLCAiQm90dG9tIl0pLmVhY2goZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgICBpW3RdID0gaC5fbnVtKGUuY3NzKCJwYWRkaW5nIiArIG4pKTsKICAgICAgfSksIGguY29udGFpbmVyT2Zmc2V0ID0gZS5vZmZzZXQoKSwgaC5jb250YWluZXJQb3NpdGlvbiA9IGUucG9zaXRpb24oKSwgaC5jb250YWluZXJTaXplID0gewogICAgICAgIGhlaWdodDogZS5pbm5lckhlaWdodCgpIC0gaVszXSwKICAgICAgICB3aWR0aDogZS5pbm5lcldpZHRoKCkgLSBpWzFdCiAgICAgIH0sIG4gPSBoLmNvbnRhaW5lck9mZnNldCwgcyA9IGguY29udGFpbmVyU2l6ZS5oZWlnaHQsIG8gPSBoLmNvbnRhaW5lclNpemUud2lkdGgsIHIgPSBoLl9oYXNTY3JvbGwocCwgImxlZnQiKSA/IHAuc2Nyb2xsV2lkdGggOiBvLCBhID0gaC5faGFzU2Nyb2xsKHApID8gcC5zY3JvbGxIZWlnaHQgOiBzLCBoLnBhcmVudERhdGEgPSB7CiAgICAgICAgZWxlbWVudDogcCwKICAgICAgICBsZWZ0OiBuLmxlZnQsCiAgICAgICAgdG9wOiBuLnRvcCwKICAgICAgICB3aWR0aDogciwKICAgICAgICBoZWlnaHQ6IGEKICAgICAgfSkpOwogICAgfSwKICAgIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKGUpIHsKICAgICAgdmFyIGksCiAgICAgICAgICBuLAogICAgICAgICAgcywKICAgICAgICAgIG8sCiAgICAgICAgICByID0gdCh0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksCiAgICAgICAgICBhID0gci5vcHRpb25zLAogICAgICAgICAgaCA9IHIuY29udGFpbmVyT2Zmc2V0LAogICAgICAgICAgbCA9IHIucG9zaXRpb24sCiAgICAgICAgICBjID0gci5fYXNwZWN0UmF0aW8gfHwgZS5zaGlmdEtleSwKICAgICAgICAgIHUgPSB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGxlZnQ6IDAKICAgICAgfSwKICAgICAgICAgIHAgPSByLmNvbnRhaW5lckVsZW1lbnQsCiAgICAgICAgICBkID0gITA7CiAgICAgIHBbMF0gIT09IGRvY3VtZW50ICYmIC9zdGF0aWMvLnRlc3QocC5jc3MoInBvc2l0aW9uIikpICYmICh1ID0gaCksIGwubGVmdCA8IChyLl9oZWxwZXIgPyBoLmxlZnQgOiAwKSAmJiAoci5zaXplLndpZHRoID0gci5zaXplLndpZHRoICsgKHIuX2hlbHBlciA/IHIucG9zaXRpb24ubGVmdCAtIGgubGVmdCA6IHIucG9zaXRpb24ubGVmdCAtIHUubGVmdCksIGMgJiYgKHIuc2l6ZS5oZWlnaHQgPSByLnNpemUud2lkdGggLyByLmFzcGVjdFJhdGlvLCBkID0gITEpLCByLnBvc2l0aW9uLmxlZnQgPSBhLmhlbHBlciA/IGgubGVmdCA6IDApLCBsLnRvcCA8IChyLl9oZWxwZXIgPyBoLnRvcCA6IDApICYmIChyLnNpemUuaGVpZ2h0ID0gci5zaXplLmhlaWdodCArIChyLl9oZWxwZXIgPyByLnBvc2l0aW9uLnRvcCAtIGgudG9wIDogci5wb3NpdGlvbi50b3ApLCBjICYmIChyLnNpemUud2lkdGggPSByLnNpemUuaGVpZ2h0ICogci5hc3BlY3RSYXRpbywgZCA9ICExKSwgci5wb3NpdGlvbi50b3AgPSByLl9oZWxwZXIgPyBoLnRvcCA6IDApLCBzID0gci5jb250YWluZXJFbGVtZW50LmdldCgwKSA9PT0gci5lbGVtZW50LnBhcmVudCgpLmdldCgwKSwgbyA9IC9yZWxhdGl2ZXxhYnNvbHV0ZS8udGVzdChyLmNvbnRhaW5lckVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpKSwgcyAmJiBvID8gKHIub2Zmc2V0LmxlZnQgPSByLnBhcmVudERhdGEubGVmdCArIHIucG9zaXRpb24ubGVmdCwgci5vZmZzZXQudG9wID0gci5wYXJlbnREYXRhLnRvcCArIHIucG9zaXRpb24udG9wKSA6IChyLm9mZnNldC5sZWZ0ID0gci5lbGVtZW50Lm9mZnNldCgpLmxlZnQsIHIub2Zmc2V0LnRvcCA9IHIuZWxlbWVudC5vZmZzZXQoKS50b3ApLCBpID0gTWF0aC5hYnMoci5zaXplRGlmZi53aWR0aCArIChyLl9oZWxwZXIgPyByLm9mZnNldC5sZWZ0IC0gdS5sZWZ0IDogci5vZmZzZXQubGVmdCAtIGgubGVmdCkpLCBuID0gTWF0aC5hYnMoci5zaXplRGlmZi5oZWlnaHQgKyAoci5faGVscGVyID8gci5vZmZzZXQudG9wIC0gdS50b3AgOiByLm9mZnNldC50b3AgLSBoLnRvcCkpLCBpICsgci5zaXplLndpZHRoID49IHIucGFyZW50RGF0YS53aWR0aCAmJiAoci5zaXplLndpZHRoID0gci5wYXJlbnREYXRhLndpZHRoIC0gaSwgYyAmJiAoci5zaXplLmhlaWdodCA9IHIuc2l6ZS53aWR0aCAvIHIuYXNwZWN0UmF0aW8sIGQgPSAhMSkpLCBuICsgci5zaXplLmhlaWdodCA+PSByLnBhcmVudERhdGEuaGVpZ2h0ICYmIChyLnNpemUuaGVpZ2h0ID0gci5wYXJlbnREYXRhLmhlaWdodCAtIG4sIGMgJiYgKHIuc2l6ZS53aWR0aCA9IHIuc2l6ZS5oZWlnaHQgKiByLmFzcGVjdFJhdGlvLCBkID0gITEpKSwgZCB8fCAoci5wb3NpdGlvbi5sZWZ0ID0gci5wcmV2UG9zaXRpb24ubGVmdCwgci5wb3NpdGlvbi50b3AgPSByLnByZXZQb3NpdGlvbi50b3AsIHIuc2l6ZS53aWR0aCA9IHIucHJldlNpemUud2lkdGgsIHIuc2l6ZS5oZWlnaHQgPSByLnByZXZTaXplLmhlaWdodCk7CiAgICB9LAogICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgdmFyIGUgPSB0KHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSwKICAgICAgICAgIGkgPSBlLm9wdGlvbnMsCiAgICAgICAgICBuID0gZS5jb250YWluZXJPZmZzZXQsCiAgICAgICAgICBzID0gZS5jb250YWluZXJQb3NpdGlvbiwKICAgICAgICAgIG8gPSBlLmNvbnRhaW5lckVsZW1lbnQsCiAgICAgICAgICByID0gdChlLmhlbHBlciksCiAgICAgICAgICBhID0gci5vZmZzZXQoKSwKICAgICAgICAgIGggPSByLm91dGVyV2lkdGgoKSAtIGUuc2l6ZURpZmYud2lkdGgsCiAgICAgICAgICBsID0gci5vdXRlckhlaWdodCgpIC0gZS5zaXplRGlmZi5oZWlnaHQ7CiAgICAgIGUuX2hlbHBlciAmJiAhaS5hbmltYXRlICYmIC9yZWxhdGl2ZS8udGVzdChvLmNzcygicG9zaXRpb24iKSkgJiYgdCh0aGlzKS5jc3MoewogICAgICAgIGxlZnQ6IGEubGVmdCAtIHMubGVmdCAtIG4ubGVmdCwKICAgICAgICB3aWR0aDogaCwKICAgICAgICBoZWlnaHQ6IGwKICAgICAgfSksIGUuX2hlbHBlciAmJiAhaS5hbmltYXRlICYmIC9zdGF0aWMvLnRlc3Qoby5jc3MoInBvc2l0aW9uIikpICYmIHQodGhpcykuY3NzKHsKICAgICAgICBsZWZ0OiBhLmxlZnQgLSBzLmxlZnQgLSBuLmxlZnQsCiAgICAgICAgd2lkdGg6IGgsCiAgICAgICAgaGVpZ2h0OiBsCiAgICAgIH0pOwogICAgfQogIH0pLCB0LnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsICJhbHNvUmVzaXplIiwgewogICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICB2YXIgZSA9IHQodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLm9wdGlvbnMsCiAgICAgICAgICBpID0gZnVuY3Rpb24gaShlKSB7CiAgICAgICAgdChlKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlID0gdCh0aGlzKTsKICAgICAgICAgIGUuZGF0YSgidWktcmVzaXphYmxlLWFsc29yZXNpemUiLCB7CiAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChlLndpZHRoKCksIDEwKSwKICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChlLmhlaWdodCgpLCAxMCksCiAgICAgICAgICAgIGxlZnQ6IHBhcnNlSW50KGUuY3NzKCJsZWZ0IiksIDEwKSwKICAgICAgICAgICAgdG9wOiBwYXJzZUludChlLmNzcygidG9wIiksIDEwKQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICAib2JqZWN0IiAhPSBfdHlwZW9mKGUuYWxzb1Jlc2l6ZSkgfHwgZS5hbHNvUmVzaXplLnBhcmVudE5vZGUgPyBpKGUuYWxzb1Jlc2l6ZSkgOiBlLmFsc29SZXNpemUubGVuZ3RoID8gKGUuYWxzb1Jlc2l6ZSA9IGUuYWxzb1Jlc2l6ZVswXSwgaShlLmFsc29SZXNpemUpKSA6IHQuZWFjaChlLmFsc29SZXNpemUsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgaSh0KTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoZSwgaSkgewogICAgICB2YXIgbiA9IHQodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLAogICAgICAgICAgcyA9IG4ub3B0aW9ucywKICAgICAgICAgIG8gPSBuLm9yaWdpbmFsU2l6ZSwKICAgICAgICAgIHIgPSBuLm9yaWdpbmFsUG9zaXRpb24sCiAgICAgICAgICBhID0gewogICAgICAgIGhlaWdodDogbi5zaXplLmhlaWdodCAtIG8uaGVpZ2h0IHx8IDAsCiAgICAgICAgd2lkdGg6IG4uc2l6ZS53aWR0aCAtIG8ud2lkdGggfHwgMCwKICAgICAgICB0b3A6IG4ucG9zaXRpb24udG9wIC0gci50b3AgfHwgMCwKICAgICAgICBsZWZ0OiBuLnBvc2l0aW9uLmxlZnQgLSByLmxlZnQgfHwgMAogICAgICB9LAogICAgICAgICAgaCA9IGZ1bmN0aW9uIGgoZSwgbikgewogICAgICAgIHQoZSkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZSA9IHQodGhpcyksCiAgICAgICAgICAgICAgcyA9IHQodGhpcykuZGF0YSgidWktcmVzaXphYmxlLWFsc29yZXNpemUiKSwKICAgICAgICAgICAgICBvID0ge30sCiAgICAgICAgICAgICAgciA9IG4gJiYgbi5sZW5ndGggPyBuIDogZS5wYXJlbnRzKGkub3JpZ2luYWxFbGVtZW50WzBdKS5sZW5ndGggPyBbIndpZHRoIiwgImhlaWdodCJdIDogWyJ3aWR0aCIsICJoZWlnaHQiLCAidG9wIiwgImxlZnQiXTsKICAgICAgICAgIHQuZWFjaChyLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICB2YXIgaSA9IChzW2VdIHx8IDApICsgKGFbZV0gfHwgMCk7CiAgICAgICAgICAgIGkgJiYgaSA+PSAwICYmIChvW2VdID0gaSB8fCBudWxsKTsKICAgICAgICAgIH0pLCBlLmNzcyhvKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgICJvYmplY3QiICE9IF90eXBlb2Yocy5hbHNvUmVzaXplKSB8fCBzLmFsc29SZXNpemUubm9kZVR5cGUgPyBoKHMuYWxzb1Jlc2l6ZSkgOiB0LmVhY2gocy5hbHNvUmVzaXplLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIGgodCwgZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHN0b3A6IGZ1bmN0aW9uIHN0b3AoKSB7CiAgICAgIHQodGhpcykucmVtb3ZlRGF0YSgicmVzaXphYmxlLWFsc29yZXNpemUiKTsKICAgIH0KICB9KSwgdC51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCAiZ2hvc3QiLCB7CiAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIHZhciBlID0gdCh0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksCiAgICAgICAgICBpID0gZS5vcHRpb25zLAogICAgICAgICAgbiA9IGUuc2l6ZTsKICAgICAgZS5naG9zdCA9IGUub3JpZ2luYWxFbGVtZW50LmNsb25lKCksIGUuZ2hvc3QuY3NzKHsKICAgICAgICBvcGFjaXR5OiAuMjUsCiAgICAgICAgZGlzcGxheTogImJsb2NrIiwKICAgICAgICBwb3NpdGlvbjogInJlbGF0aXZlIiwKICAgICAgICBoZWlnaHQ6IG4uaGVpZ2h0LAogICAgICAgIHdpZHRoOiBuLndpZHRoLAogICAgICAgIG1hcmdpbjogMCwKICAgICAgICBsZWZ0OiAwLAogICAgICAgIHRvcDogMAogICAgICB9KS5hZGRDbGFzcygidWktcmVzaXphYmxlLWdob3N0IikuYWRkQ2xhc3MoInN0cmluZyIgPT0gdHlwZW9mIGkuZ2hvc3QgPyBpLmdob3N0IDogIiIpLCBlLmdob3N0LmFwcGVuZFRvKGUuaGVscGVyKTsKICAgIH0sCiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgdmFyIGUgPSB0KHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTsKICAgICAgZS5naG9zdCAmJiBlLmdob3N0LmNzcyh7CiAgICAgICAgcG9zaXRpb246ICJyZWxhdGl2ZSIsCiAgICAgICAgaGVpZ2h0OiBlLnNpemUuaGVpZ2h0LAogICAgICAgIHdpZHRoOiBlLnNpemUud2lkdGgKICAgICAgfSk7CiAgICB9LAogICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgdmFyIGUgPSB0KHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTsKICAgICAgZS5naG9zdCAmJiBlLmhlbHBlciAmJiBlLmhlbHBlci5nZXQoMCkucmVtb3ZlQ2hpbGQoZS5naG9zdC5nZXQoMCkpOwogICAgfQogIH0pLCB0LnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsICJncmlkIiwgewogICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgaSA9IHQodGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLAogICAgICAgICAgbiA9IGkub3B0aW9ucywKICAgICAgICAgIHMgPSBpLnNpemUsCiAgICAgICAgICBvID0gaS5vcmlnaW5hbFNpemUsCiAgICAgICAgICByID0gaS5vcmlnaW5hbFBvc2l0aW9uLAogICAgICAgICAgYSA9IGkuYXhpcywKICAgICAgICAgIGggPSAibnVtYmVyIiA9PSB0eXBlb2Ygbi5ncmlkID8gW24uZ3JpZCwgbi5ncmlkXSA6IG4uZ3JpZCwKICAgICAgICAgIGwgPSBoWzBdIHx8IDEsCiAgICAgICAgICBjID0gaFsxXSB8fCAxLAogICAgICAgICAgdSA9IE1hdGgucm91bmQoKHMud2lkdGggLSBvLndpZHRoKSAvIGwpICogbCwKICAgICAgICAgIHAgPSBNYXRoLnJvdW5kKChzLmhlaWdodCAtIG8uaGVpZ2h0KSAvIGMpICogYywKICAgICAgICAgIGQgPSBvLndpZHRoICsgdSwKICAgICAgICAgIGYgPSBvLmhlaWdodCArIHAsCiAgICAgICAgICBtID0gbi5tYXhXaWR0aCAmJiBuLm1heFdpZHRoIDwgZCwKICAgICAgICAgIGcgPSBuLm1heEhlaWdodCAmJiBuLm1heEhlaWdodCA8IGYsCiAgICAgICAgICB2ID0gbi5taW5XaWR0aCAmJiBuLm1pbldpZHRoID4gZCwKICAgICAgICAgIHkgPSBuLm1pbkhlaWdodCAmJiBuLm1pbkhlaWdodCA+IGY7CiAgICAgIG4uZ3JpZCA9IGgsIHYgJiYgKGQgKz0gbCksIHkgJiYgKGYgKz0gYyksIG0gJiYgKGQgLT0gbCksIGcgJiYgKGYgLT0gYyksIC9eKHNlfHN8ZSkkLy50ZXN0KGEpID8gKGkuc2l6ZS53aWR0aCA9IGQsIGkuc2l6ZS5oZWlnaHQgPSBmKSA6IC9eKG5lKSQvLnRlc3QoYSkgPyAoaS5zaXplLndpZHRoID0gZCwgaS5zaXplLmhlaWdodCA9IGYsIGkucG9zaXRpb24udG9wID0gci50b3AgLSBwKSA6IC9eKHN3KSQvLnRlc3QoYSkgPyAoaS5zaXplLndpZHRoID0gZCwgaS5zaXplLmhlaWdodCA9IGYsIGkucG9zaXRpb24ubGVmdCA9IHIubGVmdCAtIHUpIDogKChmIC0gYyA8PSAwIHx8IGQgLSBsIDw9IDApICYmIChlID0gaS5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKHRoaXMpKSwgZiAtIGMgPiAwID8gKGkuc2l6ZS5oZWlnaHQgPSBmLCBpLnBvc2l0aW9uLnRvcCA9IHIudG9wIC0gcCkgOiAoZiA9IGMgLSBlLmhlaWdodCwgaS5zaXplLmhlaWdodCA9IGYsIGkucG9zaXRpb24udG9wID0gci50b3AgKyBvLmhlaWdodCAtIGYpLCBkIC0gbCA+IDAgPyAoaS5zaXplLndpZHRoID0gZCwgaS5wb3NpdGlvbi5sZWZ0ID0gci5sZWZ0IC0gdSkgOiAoZCA9IGwgLSBlLndpZHRoLCBpLnNpemUud2lkdGggPSBkLCBpLnBvc2l0aW9uLmxlZnQgPSByLmxlZnQgKyBvLndpZHRoIC0gZCkpOwogICAgfQogIH0pOwogIHQudWkucmVzaXphYmxlLCB0LndpZGdldCgidWkuc29ydGFibGUiLCB0LnVpLm1vdXNlLCB7CiAgICB2ZXJzaW9uOiAiMS4xMS4zIiwKICAgIHdpZGdldEV2ZW50UHJlZml4OiAic29ydCIsCiAgICByZWFkeTogITEsCiAgICBvcHRpb25zOiB7CiAgICAgIGFwcGVuZFRvOiAicGFyZW50IiwKICAgICAgYXhpczogITEsCiAgICAgIGNvbm5lY3RXaXRoOiAhMSwKICAgICAgY29udGFpbm1lbnQ6ICExLAogICAgICBjdXJzb3I6ICJhdXRvIiwKICAgICAgY3Vyc29yQXQ6ICExLAogICAgICBkcm9wT25FbXB0eTogITAsCiAgICAgIGZvcmNlUGxhY2Vob2xkZXJTaXplOiAhMSwKICAgICAgZm9yY2VIZWxwZXJTaXplOiAhMSwKICAgICAgZ3JpZDogITEsCiAgICAgIGhhbmRsZTogITEsCiAgICAgIGhlbHBlcjogIm9yaWdpbmFsIiwKICAgICAgaXRlbXM6ICI+ICoiLAogICAgICBvcGFjaXR5OiAhMSwKICAgICAgcGxhY2Vob2xkZXI6ICExLAogICAgICByZXZlcnQ6ICExLAogICAgICBzY3JvbGw6ICEwLAogICAgICBzY3JvbGxTZW5zaXRpdml0eTogMjAsCiAgICAgIHNjcm9sbFNwZWVkOiAyMCwKICAgICAgc2NvcGU6ICJkZWZhdWx0IiwKICAgICAgdG9sZXJhbmNlOiAiaW50ZXJzZWN0IiwKICAgICAgekluZGV4OiAxZTMsCiAgICAgIGFjdGl2YXRlOiBudWxsLAogICAgICBiZWZvcmVTdG9wOiBudWxsLAogICAgICBjaGFuZ2U6IG51bGwsCiAgICAgIGRlYWN0aXZhdGU6IG51bGwsCiAgICAgIG91dDogbnVsbCwKICAgICAgb3ZlcjogbnVsbCwKICAgICAgcmVjZWl2ZTogbnVsbCwKICAgICAgcmVtb3ZlOiBudWxsLAogICAgICBzb3J0OiBudWxsLAogICAgICBzdGFydDogbnVsbCwKICAgICAgc3RvcDogbnVsbCwKICAgICAgdXBkYXRlOiBudWxsCiAgICB9LAogICAgX2lzT3ZlckF4aXM6IGZ1bmN0aW9uIF9pc092ZXJBeGlzKHQsIGUsIGkpIHsKICAgICAgcmV0dXJuIHQgPj0gZSAmJiB0IDwgZSArIGk7CiAgICB9LAogICAgX2lzRmxvYXRpbmc6IGZ1bmN0aW9uIF9pc0Zsb2F0aW5nKHQpIHsKICAgICAgcmV0dXJuIC9sZWZ0fHJpZ2h0Ly50ZXN0KHQuY3NzKCJmbG9hdCIpKSB8fCAvaW5saW5lfHRhYmxlLWNlbGwvLnRlc3QodC5jc3MoImRpc3BsYXkiKSk7CiAgICB9LAogICAgX2NyZWF0ZTogZnVuY3Rpb24gX2NyZWF0ZSgpIHsKICAgICAgdmFyIHQgPSB0aGlzLm9wdGlvbnM7CiAgICAgIHRoaXMuY29udGFpbmVyQ2FjaGUgPSB7fSwgdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1zb3J0YWJsZSIpLCB0aGlzLnJlZnJlc2goKSwgdGhpcy5mbG9hdGluZyA9ICEhdGhpcy5pdGVtcy5sZW5ndGggJiYgKCJ4IiA9PT0gdC5heGlzIHx8IHRoaXMuX2lzRmxvYXRpbmcodGhpcy5pdGVtc1swXS5pdGVtKSksIHRoaXMub2Zmc2V0ID0gdGhpcy5lbGVtZW50Lm9mZnNldCgpLCB0aGlzLl9tb3VzZUluaXQoKSwgdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksIHRoaXMucmVhZHkgPSAhMDsKICAgIH0sCiAgICBfc2V0T3B0aW9uOiBmdW5jdGlvbiBfc2V0T3B0aW9uKHQsIGUpIHsKICAgICAgdGhpcy5fc3VwZXIodCwgZSksICJoYW5kbGUiID09PSB0ICYmIHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpOwogICAgfSwKICAgIF9zZXRIYW5kbGVDbGFzc05hbWU6IGZ1bmN0aW9uIF9zZXRIYW5kbGVDbGFzc05hbWUoKSB7CiAgICAgIHRoaXMuZWxlbWVudC5maW5kKCIudWktc29ydGFibGUtaGFuZGxlIikucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlLWhhbmRsZSIpLCB0LmVhY2godGhpcy5pdGVtcywgZnVuY3Rpb24gKCkgewogICAgICAgICh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlID8gdGhpcy5pdGVtLmZpbmQodGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSkgOiB0aGlzLml0ZW0pLmFkZENsYXNzKCJ1aS1zb3J0YWJsZS1oYW5kbGUiKTsKICAgICAgfSk7CiAgICB9LAogICAgX2Rlc3Ryb3k6IGZ1bmN0aW9uIF9kZXN0cm95KCkgewogICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlIHVpLXNvcnRhYmxlLWRpc2FibGVkIikuZmluZCgiLnVpLXNvcnRhYmxlLWhhbmRsZSIpLnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZS1oYW5kbGUiKSwgdGhpcy5fbW91c2VEZXN0cm95KCk7CgogICAgICBmb3IgKHZhciB0ID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkgewogICAgICAgIHRoaXMuaXRlbXNbdF0uaXRlbS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0TmFtZSArICItaXRlbSIpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBfbW91c2VDYXB0dXJlOiBmdW5jdGlvbiBfbW91c2VDYXB0dXJlKGUsIGkpIHsKICAgICAgdmFyIG4gPSBudWxsLAogICAgICAgICAgcyA9ICExLAogICAgICAgICAgbyA9IHRoaXM7CiAgICAgIHJldHVybiAhdGhpcy5yZXZlcnRpbmcgJiYgIXRoaXMub3B0aW9ucy5kaXNhYmxlZCAmJiAic3RhdGljIiAhPT0gdGhpcy5vcHRpb25zLnR5cGUgJiYgKHRoaXMuX3JlZnJlc2hJdGVtcyhlKSwgdChlLnRhcmdldCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0LmRhdGEodGhpcywgby53aWRnZXROYW1lICsgIi1pdGVtIikgPT09IG8pIHJldHVybiBuID0gdCh0aGlzKSwgITE7CiAgICAgIH0pLCB0LmRhdGEoZS50YXJnZXQsIG8ud2lkZ2V0TmFtZSArICItaXRlbSIpID09PSBvICYmIChuID0gdChlLnRhcmdldCkpLCAhIW4gJiYgISh0aGlzLm9wdGlvbnMuaGFuZGxlICYmICFpICYmICh0KHRoaXMub3B0aW9ucy5oYW5kbGUsIG4pLmZpbmQoIioiKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcyA9PT0gZS50YXJnZXQgJiYgKHMgPSAhMCk7CiAgICAgIH0pLCAhcykpICYmICh0aGlzLmN1cnJlbnRJdGVtID0gbiwgdGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSwgITApKTsKICAgIH0sCiAgICBfbW91c2VTdGFydDogZnVuY3Rpb24gX21vdXNlU3RhcnQoZSwgaSwgbikgewogICAgICB2YXIgcywKICAgICAgICAgIG8sCiAgICAgICAgICByID0gdGhpcy5vcHRpb25zOwogICAgICBpZiAodGhpcy5jdXJyZW50Q29udGFpbmVyID0gdGhpcywgdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksIHRoaXMuaGVscGVyID0gdGhpcy5fY3JlYXRlSGVscGVyKGUpLCB0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksIHRoaXMuX2NhY2hlTWFyZ2lucygpLCB0aGlzLnNjcm9sbFBhcmVudCA9IHRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCgpLCB0aGlzLm9mZnNldCA9IHRoaXMuY3VycmVudEl0ZW0ub2Zmc2V0KCksIHRoaXMub2Zmc2V0ID0gewogICAgICAgIHRvcDogdGhpcy5vZmZzZXQudG9wIC0gdGhpcy5tYXJnaW5zLnRvcCwKICAgICAgICBsZWZ0OiB0aGlzLm9mZnNldC5sZWZ0IC0gdGhpcy5tYXJnaW5zLmxlZnQKICAgICAgfSwgdC5leHRlbmQodGhpcy5vZmZzZXQsIHsKICAgICAgICBjbGljazogewogICAgICAgICAgbGVmdDogZS5wYWdlWCAtIHRoaXMub2Zmc2V0LmxlZnQsCiAgICAgICAgICB0b3A6IGUucGFnZVkgLSB0aGlzLm9mZnNldC50b3AKICAgICAgICB9LAogICAgICAgIHBhcmVudDogdGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCksCiAgICAgICAgcmVsYXRpdmU6IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkKICAgICAgfSksIHRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iLCAiYWJzb2x1dGUiKSwgdGhpcy5jc3NQb3NpdGlvbiA9IHRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKSwgdGhpcy5vcmlnaW5hbFBvc2l0aW9uID0gdGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihlKSwgdGhpcy5vcmlnaW5hbFBhZ2VYID0gZS5wYWdlWCwgdGhpcy5vcmlnaW5hbFBhZ2VZID0gZS5wYWdlWSwgci5jdXJzb3JBdCAmJiB0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKHIuY3Vyc29yQXQpLCB0aGlzLmRvbVBvc2l0aW9uID0gewogICAgICAgIHByZXY6IHRoaXMuY3VycmVudEl0ZW0ucHJldigpWzBdLAogICAgICAgIHBhcmVudDogdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXQogICAgICB9LCB0aGlzLmhlbHBlclswXSAhPT0gdGhpcy5jdXJyZW50SXRlbVswXSAmJiB0aGlzLmN1cnJlbnRJdGVtLmhpZGUoKSwgdGhpcy5fY3JlYXRlUGxhY2Vob2xkZXIoKSwgci5jb250YWlubWVudCAmJiB0aGlzLl9zZXRDb250YWlubWVudCgpLCByLmN1cnNvciAmJiAiYXV0byIgIT09IHIuY3Vyc29yICYmIChvID0gdGhpcy5kb2N1bWVudC5maW5kKCJib2R5IiksIHRoaXMuc3RvcmVkQ3Vyc29yID0gby5jc3MoImN1cnNvciIpLCBvLmNzcygiY3Vyc29yIiwgci5jdXJzb3IpLCB0aGlzLnN0b3JlZFN0eWxlc2hlZXQgPSB0KCI8c3R5bGU+KnsgY3Vyc29yOiAiICsgci5jdXJzb3IgKyAiICFpbXBvcnRhbnQ7IH08L3N0eWxlPiIpLmFwcGVuZFRvKG8pKSwgci5vcGFjaXR5ICYmICh0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiKSAmJiAodGhpcy5fc3RvcmVkT3BhY2l0eSA9IHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpKSwgdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5Iiwgci5vcGFjaXR5KSksIHIuekluZGV4ICYmICh0aGlzLmhlbHBlci5jc3MoInpJbmRleCIpICYmICh0aGlzLl9zdG9yZWRaSW5kZXggPSB0aGlzLmhlbHBlci5jc3MoInpJbmRleCIpKSwgdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLCByLnpJbmRleCkpLCB0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiAiSFRNTCIgIT09IHRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUgJiYgKHRoaXMub3ZlcmZsb3dPZmZzZXQgPSB0aGlzLnNjcm9sbFBhcmVudC5vZmZzZXQoKSksIHRoaXMuX3RyaWdnZXIoInN0YXJ0IiwgZSwgdGhpcy5fdWlIYXNoKCkpLCB0aGlzLl9wcmVzZXJ2ZUhlbHBlclByb3BvcnRpb25zIHx8IHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSwgIW4pIGZvciAocyA9IHRoaXMuY29udGFpbmVycy5sZW5ndGggLSAxOyBzID49IDA7IHMtLSkgewogICAgICAgIHRoaXMuY29udGFpbmVyc1tzXS5fdHJpZ2dlcigiYWN0aXZhdGUiLCBlLCB0aGlzLl91aUhhc2godGhpcykpOwogICAgICB9CiAgICAgIHJldHVybiB0LnVpLmRkbWFuYWdlciAmJiAodC51aS5kZG1hbmFnZXIuY3VycmVudCA9IHRoaXMpLCB0LnVpLmRkbWFuYWdlciAmJiAhci5kcm9wQmVoYXZpb3VyICYmIHQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsIGUpLCB0aGlzLmRyYWdnaW5nID0gITAsIHRoaXMuaGVscGVyLmFkZENsYXNzKCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSwgdGhpcy5fbW91c2VEcmFnKGUpLCAhMDsKICAgIH0sCiAgICBfbW91c2VEcmFnOiBmdW5jdGlvbiBfbW91c2VEcmFnKGUpIHsKICAgICAgdmFyIGksCiAgICAgICAgICBuLAogICAgICAgICAgcywKICAgICAgICAgIG8sCiAgICAgICAgICByID0gdGhpcy5vcHRpb25zLAogICAgICAgICAgYSA9ICExOwoKICAgICAgZm9yICh0aGlzLnBvc2l0aW9uID0gdGhpcy5fZ2VuZXJhdGVQb3NpdGlvbihlKSwgdGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCB0aGlzLmxhc3RQb3NpdGlvbkFicyB8fCAodGhpcy5sYXN0UG9zaXRpb25BYnMgPSB0aGlzLnBvc2l0aW9uQWJzKSwgdGhpcy5vcHRpb25zLnNjcm9sbCAmJiAodGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IHRoaXMuZG9jdW1lbnRbMF0gJiYgIkhUTUwiICE9PSB0aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lID8gKHRoaXMub3ZlcmZsb3dPZmZzZXQudG9wICsgdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0SGVpZ2h0IC0gZS5wYWdlWSA8IHIuc2Nyb2xsU2Vuc2l0aXZpdHkgPyB0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AgPSBhID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsVG9wICsgci5zY3JvbGxTcGVlZCA6IGUucGFnZVkgLSB0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCA8IHIuc2Nyb2xsU2Vuc2l0aXZpdHkgJiYgKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCA9IGEgPSB0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AgLSByLnNjcm9sbFNwZWVkKSwgdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0ICsgdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGggLSBlLnBhZ2VYIDwgci5zY3JvbGxTZW5zaXRpdml0eSA/IHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQgPSBhID0gdGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCArIHIuc2Nyb2xsU3BlZWQgOiBlLnBhZ2VYIC0gdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0IDwgci5zY3JvbGxTZW5zaXRpdml0eSAmJiAodGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCA9IGEgPSB0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0IC0gci5zY3JvbGxTcGVlZCkpIDogKGUucGFnZVkgLSB0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpIDwgci5zY3JvbGxTZW5zaXRpdml0eSA/IGEgPSB0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpIC0gci5zY3JvbGxTcGVlZCkgOiB0aGlzLndpbmRvdy5oZWlnaHQoKSAtIChlLnBhZ2VZIC0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSkgPCByLnNjcm9sbFNlbnNpdGl2aXR5ICYmIChhID0gdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AodGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKSArIHIuc2Nyb2xsU3BlZWQpKSwgZS5wYWdlWCAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpIDwgci5zY3JvbGxTZW5zaXRpdml0eSA/IGEgPSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgLSByLnNjcm9sbFNwZWVkKSA6IHRoaXMud2luZG93LndpZHRoKCkgLSAoZS5wYWdlWCAtIHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKSA8IHIuc2Nyb2xsU2Vuc2l0aXZpdHkgJiYgKGEgPSB0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkgKyByLnNjcm9sbFNwZWVkKSkpLCAhMSAhPT0gYSAmJiB0LnVpLmRkbWFuYWdlciAmJiAhci5kcm9wQmVoYXZpb3VyICYmIHQudWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsIGUpKSwgdGhpcy5wb3NpdGlvbkFicyA9IHRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCB0aGlzLm9wdGlvbnMuYXhpcyAmJiAieSIgPT09IHRoaXMub3B0aW9ucy5heGlzIHx8ICh0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0ID0gdGhpcy5wb3NpdGlvbi5sZWZ0ICsgInB4IiksIHRoaXMub3B0aW9ucy5heGlzICYmICJ4IiA9PT0gdGhpcy5vcHRpb25zLmF4aXMgfHwgKHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcCA9IHRoaXMucG9zaXRpb24udG9wICsgInB4IiksIGkgPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgaWYgKHMgPSAobiA9IHRoaXMuaXRlbXNbaV0pLml0ZW1bMF0sIChvID0gdGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKG4pKSAmJiBuLmluc3RhbmNlID09PSB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgIShzID09PSB0aGlzLmN1cnJlbnRJdGVtWzBdIHx8IHRoaXMucGxhY2Vob2xkZXJbMSA9PT0gbyA/ICJuZXh0IiA6ICJwcmV2Il0oKVswXSA9PT0gcyB8fCB0LmNvbnRhaW5zKHRoaXMucGxhY2Vob2xkZXJbMF0sIHMpIHx8ICJzZW1pLWR5bmFtaWMiID09PSB0aGlzLm9wdGlvbnMudHlwZSAmJiB0LmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSwgcykpKSB7CiAgICAgICAgICBpZiAodGhpcy5kaXJlY3Rpb24gPSAxID09PSBvID8gImRvd24iIDogInVwIiwgInBvaW50ZXIiICE9PSB0aGlzLm9wdGlvbnMudG9sZXJhbmNlICYmICF0aGlzLl9pbnRlcnNlY3RzV2l0aFNpZGVzKG4pKSBicmVhazsKICAgICAgICAgIHRoaXMuX3JlYXJyYW5nZShlLCBuKSwgdGhpcy5fdHJpZ2dlcigiY2hhbmdlIiwgZSwgdGhpcy5fdWlIYXNoKCkpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5fY29udGFjdENvbnRhaW5lcnMoZSksIHQudWkuZGRtYW5hZ2VyICYmIHQudWkuZGRtYW5hZ2VyLmRyYWcodGhpcywgZSksIHRoaXMuX3RyaWdnZXIoInNvcnQiLCBlLCB0aGlzLl91aUhhc2goKSksIHRoaXMubGFzdFBvc2l0aW9uQWJzID0gdGhpcy5wb3NpdGlvbkFicywgITE7CiAgICB9LAogICAgX21vdXNlU3RvcDogZnVuY3Rpb24gX21vdXNlU3RvcChlLCBpKSB7CiAgICAgIGlmIChlKSB7CiAgICAgICAgaWYgKHQudWkuZGRtYW5hZ2VyICYmICF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciAmJiB0LnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsIGUpLCB0aGlzLm9wdGlvbnMucmV2ZXJ0KSB7CiAgICAgICAgICB2YXIgbiA9IHRoaXMsCiAgICAgICAgICAgICAgcyA9IHRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCksCiAgICAgICAgICAgICAgbyA9IHRoaXMub3B0aW9ucy5heGlzLAogICAgICAgICAgICAgIHIgPSB7fTsKICAgICAgICAgIG8gJiYgIngiICE9PSBvIHx8IChyLmxlZnQgPSBzLmxlZnQgLSB0aGlzLm9mZnNldC5wYXJlbnQubGVmdCAtIHRoaXMubWFyZ2lucy5sZWZ0ICsgKHRoaXMub2Zmc2V0UGFyZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmJvZHkgPyAwIDogdGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsTGVmdCkpLCBvICYmICJ5IiAhPT0gbyB8fCAoci50b3AgPSBzLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AgLSB0aGlzLm1hcmdpbnMudG9wICsgKHRoaXMub2Zmc2V0UGFyZW50WzBdID09PSB0aGlzLmRvY3VtZW50WzBdLmJvZHkgPyAwIDogdGhpcy5vZmZzZXRQYXJlbnRbMF0uc2Nyb2xsVG9wKSksIHRoaXMucmV2ZXJ0aW5nID0gITAsIHQodGhpcy5oZWxwZXIpLmFuaW1hdGUociwgcGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydCwgMTApIHx8IDUwMCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBuLl9jbGVhcihlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB0aGlzLl9jbGVhcihlLCBpKTsKCiAgICAgICAgcmV0dXJuICExOwogICAgICB9CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIGlmICh0aGlzLmRyYWdnaW5nKSB7CiAgICAgICAgdGhpcy5fbW91c2VVcCh7CiAgICAgICAgICB0YXJnZXQ6IG51bGwKICAgICAgICB9KSwgIm9yaWdpbmFsIiA9PT0gdGhpcy5vcHRpb25zLmhlbHBlciA/IHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUykucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlLWhlbHBlciIpIDogdGhpcy5jdXJyZW50SXRlbS5zaG93KCk7CgogICAgICAgIGZvciAodmFyIGUgPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgZSA+PSAwOyBlLS0pIHsKICAgICAgICAgIHRoaXMuY29udGFpbmVyc1tlXS5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsIG51bGwsIHRoaXMuX3VpSGFzaCh0aGlzKSksIHRoaXMuY29udGFpbmVyc1tlXS5jb250YWluZXJDYWNoZS5vdmVyICYmICh0aGlzLmNvbnRhaW5lcnNbZV0uX3RyaWdnZXIoIm91dCIsIG51bGwsIHRoaXMuX3VpSGFzaCh0aGlzKSksIHRoaXMuY29udGFpbmVyc1tlXS5jb250YWluZXJDYWNoZS5vdmVyID0gMCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5wbGFjZWhvbGRlciAmJiAodGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlICYmIHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKSwgIm9yaWdpbmFsIiAhPT0gdGhpcy5vcHRpb25zLmhlbHBlciAmJiB0aGlzLmhlbHBlciAmJiB0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlICYmIHRoaXMuaGVscGVyLnJlbW92ZSgpLCB0LmV4dGVuZCh0aGlzLCB7CiAgICAgICAgaGVscGVyOiBudWxsLAogICAgICAgIGRyYWdnaW5nOiAhMSwKICAgICAgICByZXZlcnRpbmc6ICExLAogICAgICAgIF9ub0ZpbmFsU29ydDogbnVsbAogICAgICB9KSwgdGhpcy5kb21Qb3NpdGlvbi5wcmV2ID8gdCh0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pIDogdCh0aGlzLmRvbVBvc2l0aW9uLnBhcmVudCkucHJlcGVuZCh0aGlzLmN1cnJlbnRJdGVtKSksIHRoaXM7CiAgICB9LAogICAgc2VyaWFsaXplOiBmdW5jdGlvbiBzZXJpYWxpemUoZSkgewogICAgICB2YXIgaSA9IHRoaXMuX2dldEl0ZW1zQXNqUXVlcnkoZSAmJiBlLmNvbm5lY3RlZCksCiAgICAgICAgICBuID0gW107CgogICAgICByZXR1cm4gZSA9IGUgfHwge30sIHQoaSkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGkgPSAodChlLml0ZW0gfHwgdGhpcykuYXR0cihlLmF0dHJpYnV0ZSB8fCAiaWQiKSB8fCAiIikubWF0Y2goZS5leHByZXNzaW9uIHx8IC8oLispW1wtPV9dKC4rKS8pOwogICAgICAgIGkgJiYgbi5wdXNoKChlLmtleSB8fCBpWzFdICsgIltdIikgKyAiPSIgKyAoZS5rZXkgJiYgZS5leHByZXNzaW9uID8gaVsxXSA6IGlbMl0pKTsKICAgICAgfSksICFuLmxlbmd0aCAmJiBlLmtleSAmJiBuLnB1c2goZS5rZXkgKyAiPSIpLCBuLmpvaW4oIiYiKTsKICAgIH0sCiAgICB0b0FycmF5OiBmdW5jdGlvbiB0b0FycmF5KGUpIHsKICAgICAgdmFyIGkgPSB0aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KGUgJiYgZS5jb25uZWN0ZWQpLAogICAgICAgICAgbiA9IFtdOwoKICAgICAgcmV0dXJuIGUgPSBlIHx8IHt9LCBpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIG4ucHVzaCh0KGUuaXRlbSB8fCB0aGlzKS5hdHRyKGUuYXR0cmlidXRlIHx8ICJpZCIpIHx8ICIiKTsKICAgICAgfSksIG47CiAgICB9LAogICAgX2ludGVyc2VjdHNXaXRoOiBmdW5jdGlvbiBfaW50ZXJzZWN0c1dpdGgodCkgewogICAgICB2YXIgZSA9IHRoaXMucG9zaXRpb25BYnMubGVmdCwKICAgICAgICAgIGkgPSBlICsgdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCwKICAgICAgICAgIG4gPSB0aGlzLnBvc2l0aW9uQWJzLnRvcCwKICAgICAgICAgIHMgPSBuICsgdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsCiAgICAgICAgICBvID0gdC5sZWZ0LAogICAgICAgICAgciA9IG8gKyB0LndpZHRoLAogICAgICAgICAgYSA9IHQudG9wLAogICAgICAgICAgaCA9IGEgKyB0LmhlaWdodCwKICAgICAgICAgIGwgPSB0aGlzLm9mZnNldC5jbGljay50b3AsCiAgICAgICAgICBjID0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCwKICAgICAgICAgIHUgPSAieCIgPT09IHRoaXMub3B0aW9ucy5heGlzIHx8IG4gKyBsID4gYSAmJiBuICsgbCA8IGgsCiAgICAgICAgICBwID0gInkiID09PSB0aGlzLm9wdGlvbnMuYXhpcyB8fCBlICsgYyA+IG8gJiYgZSArIGMgPCByLAogICAgICAgICAgZCA9IHUgJiYgcDsKICAgICAgcmV0dXJuICJwb2ludGVyIiA9PT0gdGhpcy5vcHRpb25zLnRvbGVyYW5jZSB8fCB0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVycyB8fCAicG9pbnRlciIgIT09IHRoaXMub3B0aW9ucy50b2xlcmFuY2UgJiYgdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nID8gIndpZHRoIiA6ICJoZWlnaHQiXSA+IHRbdGhpcy5mbG9hdGluZyA/ICJ3aWR0aCIgOiAiaGVpZ2h0Il0gPyBkIDogbyA8IGUgKyB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC8gMiAmJiBpIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAvIDIgPCByICYmIGEgPCBuICsgdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLyAyICYmIHMgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAvIDIgPCBoOwogICAgfSwKICAgIF9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6IGZ1bmN0aW9uIF9pbnRlcnNlY3RzV2l0aFBvaW50ZXIodCkgewogICAgICB2YXIgZSA9ICJ4IiA9PT0gdGhpcy5vcHRpb25zLmF4aXMgfHwgdGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCwgdC50b3AsIHQuaGVpZ2h0KSwKICAgICAgICAgIGkgPSAieSIgPT09IHRoaXMub3B0aW9ucy5heGlzIHx8IHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0ICsgdGhpcy5vZmZzZXQuY2xpY2subGVmdCwgdC5sZWZ0LCB0LndpZHRoKSwKICAgICAgICAgIG4gPSBlICYmIGksCiAgICAgICAgICBzID0gdGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksCiAgICAgICAgICBvID0gdGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTsKCiAgICAgIHJldHVybiAhIW4gJiYgKHRoaXMuZmxvYXRpbmcgPyBvICYmICJyaWdodCIgPT09IG8gfHwgImRvd24iID09PSBzID8gMiA6IDEgOiBzICYmICgiZG93biIgPT09IHMgPyAyIDogMSkpOwogICAgfSwKICAgIF9pbnRlcnNlY3RzV2l0aFNpZGVzOiBmdW5jdGlvbiBfaW50ZXJzZWN0c1dpdGhTaWRlcyh0KSB7CiAgICAgIHZhciBlID0gdGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCArIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCwgdC50b3AgKyB0LmhlaWdodCAvIDIsIHQuaGVpZ2h0KSwKICAgICAgICAgIGkgPSB0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsIHQubGVmdCArIHQud2lkdGggLyAyLCB0LndpZHRoKSwKICAgICAgICAgIG4gPSB0aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSwKICAgICAgICAgIHMgPSB0aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpOwoKICAgICAgcmV0dXJuIHRoaXMuZmxvYXRpbmcgJiYgcyA/ICJyaWdodCIgPT09IHMgJiYgaSB8fCAibGVmdCIgPT09IHMgJiYgIWkgOiBuICYmICgiZG93biIgPT09IG4gJiYgZSB8fCAidXAiID09PSBuICYmICFlKTsKICAgIH0sCiAgICBfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOiBmdW5jdGlvbiBfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCkgewogICAgICB2YXIgdCA9IHRoaXMucG9zaXRpb25BYnMudG9wIC0gdGhpcy5sYXN0UG9zaXRpb25BYnMudG9wOwogICAgICByZXR1cm4gMCAhPT0gdCAmJiAodCA+IDAgPyAiZG93biIgOiAidXAiKTsKICAgIH0sCiAgICBfZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb246IGZ1bmN0aW9uIF9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpIHsKICAgICAgdmFyIHQgPSB0aGlzLnBvc2l0aW9uQWJzLmxlZnQgLSB0aGlzLmxhc3RQb3NpdGlvbkFicy5sZWZ0OwogICAgICByZXR1cm4gMCAhPT0gdCAmJiAodCA+IDAgPyAicmlnaHQiIDogImxlZnQiKTsKICAgIH0sCiAgICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKHQpIHsKICAgICAgcmV0dXJuIHRoaXMuX3JlZnJlc2hJdGVtcyh0KSwgdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksIHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLCB0aGlzOwogICAgfSwKICAgIF9jb25uZWN0V2l0aDogZnVuY3Rpb24gX2Nvbm5lY3RXaXRoKCkgewogICAgICB2YXIgdCA9IHRoaXMub3B0aW9uczsKICAgICAgcmV0dXJuIHQuY29ubmVjdFdpdGguY29uc3RydWN0b3IgPT09IFN0cmluZyA/IFt0LmNvbm5lY3RXaXRoXSA6IHQuY29ubmVjdFdpdGg7CiAgICB9LAogICAgX2dldEl0ZW1zQXNqUXVlcnk6IGZ1bmN0aW9uIF9nZXRJdGVtc0FzalF1ZXJ5KGUpIHsKICAgICAgZnVuY3Rpb24gaSgpIHsKICAgICAgICBhLnB1c2godGhpcyk7CiAgICAgIH0KCiAgICAgIHZhciBuLAogICAgICAgICAgcywKICAgICAgICAgIG8sCiAgICAgICAgICByLAogICAgICAgICAgYSA9IFtdLAogICAgICAgICAgaCA9IFtdLAogICAgICAgICAgbCA9IHRoaXMuX2Nvbm5lY3RXaXRoKCk7CgogICAgICBpZiAobCAmJiBlKSBmb3IgKG4gPSBsLmxlbmd0aCAtIDE7IG4gPj0gMDsgbi0tKSB7CiAgICAgICAgZm9yIChzID0gKG8gPSB0KGxbbl0sIHRoaXMuZG9jdW1lbnRbMF0pKS5sZW5ndGggLSAxOyBzID49IDA7IHMtLSkgewogICAgICAgICAgKHIgPSB0LmRhdGEob1tzXSwgdGhpcy53aWRnZXRGdWxsTmFtZSkpICYmIHIgIT09IHRoaXMgJiYgIXIub3B0aW9ucy5kaXNhYmxlZCAmJiBoLnB1c2goW3QuaXNGdW5jdGlvbihyLm9wdGlvbnMuaXRlbXMpID8gci5vcHRpb25zLml0ZW1zLmNhbGwoci5lbGVtZW50KSA6IHQoci5vcHRpb25zLml0ZW1zLCByLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksIHJdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAoaC5wdXNoKFt0LmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLml0ZW1zKSA/IHRoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCwgbnVsbCwgewogICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucywKICAgICAgICBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtCiAgICAgIH0pIDogdCh0aGlzLm9wdGlvbnMuaXRlbXMsIHRoaXMuZWxlbWVudCkubm90KCIudWktc29ydGFibGUtaGVscGVyIikubm90KCIudWktc29ydGFibGUtcGxhY2Vob2xkZXIiKSwgdGhpc10pLCBuID0gaC5sZW5ndGggLSAxOyBuID49IDA7IG4tLSkgewogICAgICAgIGhbbl1bMF0uZWFjaChpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHQoYSk7CiAgICB9LAogICAgX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zOiBmdW5jdGlvbiBfcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSB7CiAgICAgIHZhciBlID0gdGhpcy5jdXJyZW50SXRlbS5maW5kKCI6ZGF0YSgiICsgdGhpcy53aWRnZXROYW1lICsgIi1pdGVtKSIpOwogICAgICB0aGlzLml0ZW1zID0gdC5ncmVwKHRoaXMuaXRlbXMsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoZVtpXSA9PT0gdC5pdGVtWzBdKSByZXR1cm4gITE7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gITA7CiAgICAgIH0pOwogICAgfSwKICAgIF9yZWZyZXNoSXRlbXM6IGZ1bmN0aW9uIF9yZWZyZXNoSXRlbXMoZSkgewogICAgICB0aGlzLml0ZW1zID0gW10sIHRoaXMuY29udGFpbmVycyA9IFt0aGlzXTsKCiAgICAgIHZhciBpLAogICAgICAgICAgbiwKICAgICAgICAgIHMsCiAgICAgICAgICBvLAogICAgICAgICAgciwKICAgICAgICAgIGEsCiAgICAgICAgICBoLAogICAgICAgICAgbCwKICAgICAgICAgIGMgPSB0aGlzLml0ZW1zLAogICAgICAgICAgdSA9IFtbdC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcykgPyB0aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnRbMF0sIGUsIHsKICAgICAgICBpdGVtOiB0aGlzLmN1cnJlbnRJdGVtCiAgICAgIH0pIDogdCh0aGlzLm9wdGlvbnMuaXRlbXMsIHRoaXMuZWxlbWVudCksIHRoaXNdXSwKICAgICAgICAgIHAgPSB0aGlzLl9jb25uZWN0V2l0aCgpOwoKICAgICAgaWYgKHAgJiYgdGhpcy5yZWFkeSkgZm9yIChpID0gcC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgIGZvciAobiA9IChzID0gdChwW2ldLCB0aGlzLmRvY3VtZW50WzBdKSkubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0pIHsKICAgICAgICAgIChvID0gdC5kYXRhKHNbbl0sIHRoaXMud2lkZ2V0RnVsbE5hbWUpKSAmJiBvICE9PSB0aGlzICYmICFvLm9wdGlvbnMuZGlzYWJsZWQgJiYgKHUucHVzaChbdC5pc0Z1bmN0aW9uKG8ub3B0aW9ucy5pdGVtcykgPyBvLm9wdGlvbnMuaXRlbXMuY2FsbChvLmVsZW1lbnRbMF0sIGUsIHsKICAgICAgICAgICAgaXRlbTogdGhpcy5jdXJyZW50SXRlbQogICAgICAgICAgfSkgOiB0KG8ub3B0aW9ucy5pdGVtcywgby5lbGVtZW50KSwgb10pLCB0aGlzLmNvbnRhaW5lcnMucHVzaChvKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKGkgPSB1Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgZm9yIChyID0gdVtpXVsxXSwgbiA9IDAsIGwgPSAoYSA9IHVbaV1bMF0pLmxlbmd0aDsgbiA8IGw7IG4rKykgewogICAgICAgICAgKGggPSB0KGFbbl0pKS5kYXRhKHRoaXMud2lkZ2V0TmFtZSArICItaXRlbSIsIHIpLCBjLnB1c2goewogICAgICAgICAgICBpdGVtOiBoLAogICAgICAgICAgICBpbnN0YW5jZTogciwKICAgICAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgICAgIGhlaWdodDogMCwKICAgICAgICAgICAgbGVmdDogMCwKICAgICAgICAgICAgdG9wOiAwCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICByZWZyZXNoUG9zaXRpb25zOiBmdW5jdGlvbiByZWZyZXNoUG9zaXRpb25zKGUpIHsKICAgICAgdmFyIGksIG4sIHMsIG87CgogICAgICBmb3IgKHRoaXMub2Zmc2V0UGFyZW50ICYmIHRoaXMuaGVscGVyICYmICh0aGlzLm9mZnNldC5wYXJlbnQgPSB0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSksIGkgPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgKG4gPSB0aGlzLml0ZW1zW2ldKS5pbnN0YW5jZSAhPT0gdGhpcy5jdXJyZW50Q29udGFpbmVyICYmIHRoaXMuY3VycmVudENvbnRhaW5lciAmJiBuLml0ZW1bMF0gIT09IHRoaXMuY3VycmVudEl0ZW1bMF0gfHwgKHMgPSB0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCA/IHQodGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQsIG4uaXRlbSkgOiBuLml0ZW0sIGUgfHwgKG4ud2lkdGggPSBzLm91dGVyV2lkdGgoKSwgbi5oZWlnaHQgPSBzLm91dGVySGVpZ2h0KCkpLCBvID0gcy5vZmZzZXQoKSwgbi5sZWZ0ID0gby5sZWZ0LCBuLnRvcCA9IG8udG9wKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMub3B0aW9ucy5jdXN0b20gJiYgdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycykgdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKHRoaXMpO2Vsc2UgZm9yIChpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgbyA9IHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm9mZnNldCgpLCB0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUubGVmdCA9IG8ubGVmdCwgdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLnRvcCA9IG8udG9wLCB0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUud2lkdGggPSB0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlcldpZHRoKCksIHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5oZWlnaHQgPSB0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlckhlaWdodCgpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIF9jcmVhdGVQbGFjZWhvbGRlcjogZnVuY3Rpb24gX2NyZWF0ZVBsYWNlaG9sZGVyKGUpIHsKICAgICAgdmFyIGksCiAgICAgICAgICBuID0gKGUgPSBlIHx8IHRoaXMpLm9wdGlvbnM7CiAgICAgIG4ucGxhY2Vob2xkZXIgJiYgbi5wbGFjZWhvbGRlci5jb25zdHJ1Y3RvciAhPT0gU3RyaW5nIHx8IChpID0gbi5wbGFjZWhvbGRlciwgbi5wbGFjZWhvbGRlciA9IHsKICAgICAgICBlbGVtZW50OiBmdW5jdGlvbiBlbGVtZW50KCkgewogICAgICAgICAgdmFyIG4gPSBlLmN1cnJlbnRJdGVtWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCiAgICAgICAgICAgICAgcyA9IHQoIjwiICsgbiArICI+IiwgZS5kb2N1bWVudFswXSkuYWRkQ2xhc3MoaSB8fCBlLmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSArICIgdWktc29ydGFibGUtcGxhY2Vob2xkZXIiKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIik7CiAgICAgICAgICByZXR1cm4gInRyIiA9PT0gbiA/IGUuY3VycmVudEl0ZW0uY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdCgiPHRkPiYjMTYwOzwvdGQ+IiwgZS5kb2N1bWVudFswXSkuYXR0cigiY29sc3BhbiIsIHQodGhpcykuYXR0cigiY29sc3BhbiIpIHx8IDEpLmFwcGVuZFRvKHMpOwogICAgICAgICAgfSkgOiAiaW1nIiA9PT0gbiAmJiBzLmF0dHIoInNyYyIsIGUuY3VycmVudEl0ZW0uYXR0cigic3JjIikpLCBpIHx8IHMuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpLCBzOwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUodCwgcykgewogICAgICAgICAgaSAmJiAhbi5mb3JjZVBsYWNlaG9sZGVyU2l6ZSB8fCAocy5oZWlnaHQoKSB8fCBzLmhlaWdodChlLmN1cnJlbnRJdGVtLmlubmVySGVpZ2h0KCkgLSBwYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1RvcCIpIHx8IDAsIDEwKSAtIHBhcnNlSW50KGUuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nQm90dG9tIikgfHwgMCwgMTApKSwgcy53aWR0aCgpIHx8IHMud2lkdGgoZS5jdXJyZW50SXRlbS5pbm5lcldpZHRoKCkgLSBwYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ0xlZnQiKSB8fCAwLCAxMCkgLSBwYXJzZUludChlLmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1JpZ2h0IikgfHwgMCwgMTApKSk7CiAgICAgICAgfQogICAgICB9KSwgZS5wbGFjZWhvbGRlciA9IHQobi5wbGFjZWhvbGRlci5lbGVtZW50LmNhbGwoZS5lbGVtZW50LCBlLmN1cnJlbnRJdGVtKSksIGUuY3VycmVudEl0ZW0uYWZ0ZXIoZS5wbGFjZWhvbGRlciksIG4ucGxhY2Vob2xkZXIudXBkYXRlKGUsIGUucGxhY2Vob2xkZXIpOwogICAgfSwKICAgIF9jb250YWN0Q29udGFpbmVyczogZnVuY3Rpb24gX2NvbnRhY3RDb250YWluZXJzKGUpIHsKICAgICAgdmFyIGksCiAgICAgICAgICBuLAogICAgICAgICAgcywKICAgICAgICAgIG8sCiAgICAgICAgICByLAogICAgICAgICAgYSwKICAgICAgICAgIGgsCiAgICAgICAgICBsLAogICAgICAgICAgYywKICAgICAgICAgIHUsCiAgICAgICAgICBwID0gbnVsbCwKICAgICAgICAgIGQgPSBudWxsOwoKICAgICAgZm9yIChpID0gdGhpcy5jb250YWluZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgaWYgKCF0LmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sIHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdKSkgaWYgKHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZSkpIHsKICAgICAgICAgIGlmIChwICYmIHQuY29udGFpbnModGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnRbMF0sIHAuZWxlbWVudFswXSkpIGNvbnRpbnVlOwogICAgICAgICAgcCA9IHRoaXMuY29udGFpbmVyc1tpXSwgZCA9IGk7CiAgICAgICAgfSBlbHNlIHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyICYmICh0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm91dCIsIGUsIHRoaXMuX3VpSGFzaCh0aGlzKSksIHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyID0gMCk7CiAgICAgIH0KCiAgICAgIGlmIChwKSBpZiAoMSA9PT0gdGhpcy5jb250YWluZXJzLmxlbmd0aCkgdGhpcy5jb250YWluZXJzW2RdLmNvbnRhaW5lckNhY2hlLm92ZXIgfHwgKHRoaXMuY29udGFpbmVyc1tkXS5fdHJpZ2dlcigib3ZlciIsIGUsIHRoaXMuX3VpSGFzaCh0aGlzKSksIHRoaXMuY29udGFpbmVyc1tkXS5jb250YWluZXJDYWNoZS5vdmVyID0gMSk7ZWxzZSB7CiAgICAgICAgZm9yIChzID0gMWU0LCBvID0gbnVsbCwgciA9IChjID0gcC5mbG9hdGluZyB8fCB0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuY3VycmVudEl0ZW0pKSA/ICJsZWZ0IiA6ICJ0b3AiLCBhID0gYyA/ICJ3aWR0aCIgOiAiaGVpZ2h0IiwgdSA9IGMgPyAiY2xpZW50WCIgOiAiY2xpZW50WSIsIG4gPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7IG4gPj0gMDsgbi0tKSB7CiAgICAgICAgICB0LmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tkXS5lbGVtZW50WzBdLCB0aGlzLml0ZW1zW25dLml0ZW1bMF0pICYmIHRoaXMuaXRlbXNbbl0uaXRlbVswXSAhPT0gdGhpcy5jdXJyZW50SXRlbVswXSAmJiAoaCA9IHRoaXMuaXRlbXNbbl0uaXRlbS5vZmZzZXQoKVtyXSwgbCA9ICExLCBlW3VdIC0gaCA+IHRoaXMuaXRlbXNbbl1bYV0gLyAyICYmIChsID0gITApLCBNYXRoLmFicyhlW3VdIC0gaCkgPCBzICYmIChzID0gTWF0aC5hYnMoZVt1XSAtIGgpLCBvID0gdGhpcy5pdGVtc1tuXSwgdGhpcy5kaXJlY3Rpb24gPSBsID8gInVwIiA6ICJkb3duIikpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFvICYmICF0aGlzLm9wdGlvbnMuZHJvcE9uRW1wdHkpIHJldHVybjsKICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29udGFpbmVyID09PSB0aGlzLmNvbnRhaW5lcnNbZF0pIHJldHVybiB2b2lkICh0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3ZlciB8fCAodGhpcy5jb250YWluZXJzW2RdLl90cmlnZ2VyKCJvdmVyIiwgZSwgdGhpcy5fdWlIYXNoKCkpLCB0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3ZlciA9IDEpKTsKICAgICAgICBvID8gdGhpcy5fcmVhcnJhbmdlKGUsIG8sIG51bGwsICEwKSA6IHRoaXMuX3JlYXJyYW5nZShlLCBudWxsLCB0aGlzLmNvbnRhaW5lcnNbZF0uZWxlbWVudCwgITApLCB0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLCBlLCB0aGlzLl91aUhhc2goKSksIHRoaXMuY29udGFpbmVyc1tkXS5fdHJpZ2dlcigiY2hhbmdlIiwgZSwgdGhpcy5fdWlIYXNoKHRoaXMpKSwgdGhpcy5jdXJyZW50Q29udGFpbmVyID0gdGhpcy5jb250YWluZXJzW2RdLCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lciwgdGhpcy5wbGFjZWhvbGRlciksIHRoaXMuY29udGFpbmVyc1tkXS5fdHJpZ2dlcigib3ZlciIsIGUsIHRoaXMuX3VpSGFzaCh0aGlzKSksIHRoaXMuY29udGFpbmVyc1tkXS5jb250YWluZXJDYWNoZS5vdmVyID0gMTsKICAgICAgfQogICAgfSwKICAgIF9jcmVhdGVIZWxwZXI6IGZ1bmN0aW9uIF9jcmVhdGVIZWxwZXIoZSkgewogICAgICB2YXIgaSA9IHRoaXMub3B0aW9ucywKICAgICAgICAgIG4gPSB0LmlzRnVuY3Rpb24oaS5oZWxwZXIpID8gdChpLmhlbHBlci5hcHBseSh0aGlzLmVsZW1lbnRbMF0sIFtlLCB0aGlzLmN1cnJlbnRJdGVtXSkpIDogImNsb25lIiA9PT0gaS5oZWxwZXIgPyB0aGlzLmN1cnJlbnRJdGVtLmNsb25lKCkgOiB0aGlzLmN1cnJlbnRJdGVtOwogICAgICByZXR1cm4gbi5wYXJlbnRzKCJib2R5IikubGVuZ3RoIHx8IHQoInBhcmVudCIgIT09IGkuYXBwZW5kVG8gPyBpLmFwcGVuZFRvIDogdGhpcy5jdXJyZW50SXRlbVswXS5wYXJlbnROb2RlKVswXS5hcHBlbmRDaGlsZChuWzBdKSwgblswXSA9PT0gdGhpcy5jdXJyZW50SXRlbVswXSAmJiAodGhpcy5fc3RvcmVkQ1NTID0gewogICAgICAgIHdpZHRoOiB0aGlzLmN1cnJlbnRJdGVtWzBdLnN0eWxlLndpZHRoLAogICAgICAgIGhlaWdodDogdGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS5oZWlnaHQsCiAgICAgICAgcG9zaXRpb246IHRoaXMuY3VycmVudEl0ZW0uY3NzKCJwb3NpdGlvbiIpLAogICAgICAgIHRvcDogdGhpcy5jdXJyZW50SXRlbS5jc3MoInRvcCIpLAogICAgICAgIGxlZnQ6IHRoaXMuY3VycmVudEl0ZW0uY3NzKCJsZWZ0IikKICAgICAgfSksIG5bMF0uc3R5bGUud2lkdGggJiYgIWkuZm9yY2VIZWxwZXJTaXplIHx8IG4ud2lkdGgodGhpcy5jdXJyZW50SXRlbS53aWR0aCgpKSwgblswXS5zdHlsZS5oZWlnaHQgJiYgIWkuZm9yY2VIZWxwZXJTaXplIHx8IG4uaGVpZ2h0KHRoaXMuY3VycmVudEl0ZW0uaGVpZ2h0KCkpLCBuOwogICAgfSwKICAgIF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOiBmdW5jdGlvbiBfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihlKSB7CiAgICAgICJzdHJpbmciID09IHR5cGVvZiBlICYmIChlID0gZS5zcGxpdCgiICIpKSwgdC5pc0FycmF5KGUpICYmIChlID0gewogICAgICAgIGxlZnQ6ICtlWzBdLAogICAgICAgIHRvcDogK2VbMV0gfHwgMAogICAgICB9KSwgImxlZnQiIGluIGUgJiYgKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPSBlLmxlZnQgKyB0aGlzLm1hcmdpbnMubGVmdCksICJyaWdodCIgaW4gZSAmJiAodGhpcy5vZmZzZXQuY2xpY2subGVmdCA9IHRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGggLSBlLnJpZ2h0ICsgdGhpcy5tYXJnaW5zLmxlZnQpLCAidG9wIiBpbiBlICYmICh0aGlzLm9mZnNldC5jbGljay50b3AgPSBlLnRvcCArIHRoaXMubWFyZ2lucy50b3ApLCAiYm90dG9tIiBpbiBlICYmICh0aGlzLm9mZnNldC5jbGljay50b3AgPSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIGUuYm90dG9tICsgdGhpcy5tYXJnaW5zLnRvcCk7CiAgICB9LAogICAgX2dldFBhcmVudE9mZnNldDogZnVuY3Rpb24gX2dldFBhcmVudE9mZnNldCgpIHsKICAgICAgdGhpcy5vZmZzZXRQYXJlbnQgPSB0aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKTsKICAgICAgdmFyIGUgPSB0aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKTsKICAgICAgcmV0dXJuICJhYnNvbHV0ZSIgPT09IHRoaXMuY3NzUG9zaXRpb24gJiYgdGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IHRoaXMuZG9jdW1lbnRbMF0gJiYgdC5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSwgdGhpcy5vZmZzZXRQYXJlbnRbMF0pICYmIChlLmxlZnQgKz0gdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLCBlLnRvcCArPSB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksICh0aGlzLm9mZnNldFBhcmVudFswXSA9PT0gdGhpcy5kb2N1bWVudFswXS5ib2R5IHx8IHRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUgJiYgImh0bWwiID09PSB0aGlzLm9mZnNldFBhcmVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgJiYgdC51aS5pZSkgJiYgKGUgPSB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGxlZnQ6IDAKICAgICAgfSksIHsKICAgICAgICB0b3A6IGUudG9wICsgKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwgMTApIHx8IDApLAogICAgICAgIGxlZnQ6IGUubGVmdCArIChwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLCAxMCkgfHwgMCkKICAgICAgfTsKICAgIH0sCiAgICBfZ2V0UmVsYXRpdmVPZmZzZXQ6IGZ1bmN0aW9uIF9nZXRSZWxhdGl2ZU9mZnNldCgpIHsKICAgICAgaWYgKCJyZWxhdGl2ZSIgPT09IHRoaXMuY3NzUG9zaXRpb24pIHsKICAgICAgICB2YXIgdCA9IHRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdG9wOiB0LnRvcCAtIChwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLCAxMCkgfHwgMCkgKyB0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSwKICAgICAgICAgIGxlZnQ6IHQubGVmdCAtIChwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSwgMTApIHx8IDApICsgdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMAogICAgICB9OwogICAgfSwKICAgIF9jYWNoZU1hcmdpbnM6IGZ1bmN0aW9uIF9jYWNoZU1hcmdpbnMoKSB7CiAgICAgIHRoaXMubWFyZ2lucyA9IHsKICAgICAgICBsZWZ0OiBwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luTGVmdCIpLCAxMCkgfHwgMCwKICAgICAgICB0b3A6IHBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5Ub3AiKSwgMTApIHx8IDAKICAgICAgfTsKICAgIH0sCiAgICBfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczogZnVuY3Rpb24gX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSB7CiAgICAgIHRoaXMuaGVscGVyUHJvcG9ydGlvbnMgPSB7CiAgICAgICAgd2lkdGg6IHRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSwKICAgICAgICBoZWlnaHQ6IHRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCkKICAgICAgfTsKICAgIH0sCiAgICBfc2V0Q29udGFpbm1lbnQ6IGZ1bmN0aW9uIF9zZXRDb250YWlubWVudCgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICBpLAogICAgICAgICAgbiwKICAgICAgICAgIHMgPSB0aGlzLm9wdGlvbnM7CiAgICAgICJwYXJlbnQiID09PSBzLmNvbnRhaW5tZW50ICYmIChzLmNvbnRhaW5tZW50ID0gdGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSksICJkb2N1bWVudCIgIT09IHMuY29udGFpbm1lbnQgJiYgIndpbmRvdyIgIT09IHMuY29udGFpbm1lbnQgfHwgKHRoaXMuY29udGFpbm1lbnQgPSBbMCAtIHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQgLSB0aGlzLm9mZnNldC5wYXJlbnQubGVmdCwgMCAtIHRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCAtIHRoaXMub2Zmc2V0LnBhcmVudC50b3AsICJkb2N1bWVudCIgPT09IHMuY29udGFpbm1lbnQgPyB0aGlzLmRvY3VtZW50LndpZHRoKCkgOiB0aGlzLndpbmRvdy53aWR0aCgpIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCAtIHRoaXMubWFyZ2lucy5sZWZ0LCAoImRvY3VtZW50IiA9PT0gcy5jb250YWlubWVudCA/IHRoaXMuZG9jdW1lbnQud2lkdGgoKSA6IHRoaXMud2luZG93LmhlaWdodCgpIHx8IHRoaXMuZG9jdW1lbnRbMF0uYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCAtIHRoaXMubWFyZ2lucy50b3BdKSwgL14oZG9jdW1lbnR8d2luZG93fHBhcmVudCkkLy50ZXN0KHMuY29udGFpbm1lbnQpIHx8IChlID0gdChzLmNvbnRhaW5tZW50KVswXSwgaSA9IHQocy5jb250YWlubWVudCkub2Zmc2V0KCksIG4gPSAiaGlkZGVuIiAhPT0gdChlKS5jc3MoIm92ZXJmbG93IiksIHRoaXMuY29udGFpbm1lbnQgPSBbaS5sZWZ0ICsgKHBhcnNlSW50KHQoZSkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwgMTApIHx8IDApICsgKHBhcnNlSW50KHQoZSkuY3NzKCJwYWRkaW5nTGVmdCIpLCAxMCkgfHwgMCkgLSB0aGlzLm1hcmdpbnMubGVmdCwgaS50b3AgKyAocGFyc2VJbnQodChlKS5jc3MoImJvcmRlclRvcFdpZHRoIiksIDEwKSB8fCAwKSArIChwYXJzZUludCh0KGUpLmNzcygicGFkZGluZ1RvcCIpLCAxMCkgfHwgMCkgLSB0aGlzLm1hcmdpbnMudG9wLCBpLmxlZnQgKyAobiA/IE1hdGgubWF4KGUuc2Nyb2xsV2lkdGgsIGUub2Zmc2V0V2lkdGgpIDogZS5vZmZzZXRXaWR0aCkgLSAocGFyc2VJbnQodChlKS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLCAxMCkgfHwgMCkgLSAocGFyc2VJbnQodChlKS5jc3MoInBhZGRpbmdSaWdodCIpLCAxMCkgfHwgMCkgLSB0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoIC0gdGhpcy5tYXJnaW5zLmxlZnQsIGkudG9wICsgKG4gPyBNYXRoLm1heChlLnNjcm9sbEhlaWdodCwgZS5vZmZzZXRIZWlnaHQpIDogZS5vZmZzZXRIZWlnaHQpIC0gKHBhcnNlSW50KHQoZSkuY3NzKCJib3JkZXJUb3BXaWR0aCIpLCAxMCkgfHwgMCkgLSAocGFyc2VJbnQodChlKS5jc3MoInBhZGRpbmdCb3R0b20iKSwgMTApIHx8IDApIC0gdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQgLSB0aGlzLm1hcmdpbnMudG9wXSk7CiAgICB9LAogICAgX2NvbnZlcnRQb3NpdGlvblRvOiBmdW5jdGlvbiBfY29udmVydFBvc2l0aW9uVG8oZSwgaSkgewogICAgICBpIHx8IChpID0gdGhpcy5wb3NpdGlvbik7CiAgICAgIHZhciBuID0gImFic29sdXRlIiA9PT0gZSA/IDEgOiAtMSwKICAgICAgICAgIHMgPSAiYWJzb2x1dGUiICE9PSB0aGlzLmNzc1Bvc2l0aW9uIHx8IHRoaXMuc2Nyb2xsUGFyZW50WzBdICE9PSB0aGlzLmRvY3VtZW50WzBdICYmIHQuY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sIHRoaXMub2Zmc2V0UGFyZW50WzBdKSA/IHRoaXMuc2Nyb2xsUGFyZW50IDogdGhpcy5vZmZzZXRQYXJlbnQsCiAgICAgICAgICBvID0gLyhodG1sfGJvZHkpL2kudGVzdChzWzBdLnRhZ05hbWUpOwogICAgICByZXR1cm4gewogICAgICAgIHRvcDogaS50b3AgKyB0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgKiBuICsgdGhpcy5vZmZzZXQucGFyZW50LnRvcCAqIG4gLSAoImZpeGVkIiA9PT0gdGhpcy5jc3NQb3NpdGlvbiA/IC10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSA6IG8gPyAwIDogcy5zY3JvbGxUb3AoKSkgKiBuLAogICAgICAgIGxlZnQ6IGkubGVmdCArIHRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQgKiBuICsgdGhpcy5vZmZzZXQucGFyZW50LmxlZnQgKiBuIC0gKCJmaXhlZCIgPT09IHRoaXMuY3NzUG9zaXRpb24gPyAtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpIDogbyA/IDAgOiBzLnNjcm9sbExlZnQoKSkgKiBuCiAgICAgIH07CiAgICB9LAogICAgX2dlbmVyYXRlUG9zaXRpb246IGZ1bmN0aW9uIF9nZW5lcmF0ZVBvc2l0aW9uKGUpIHsKICAgICAgdmFyIGksCiAgICAgICAgICBuLAogICAgICAgICAgcyA9IHRoaXMub3B0aW9ucywKICAgICAgICAgIG8gPSBlLnBhZ2VYLAogICAgICAgICAgciA9IGUucGFnZVksCiAgICAgICAgICBhID0gImFic29sdXRlIiAhPT0gdGhpcy5jc3NQb3NpdGlvbiB8fCB0aGlzLnNjcm9sbFBhcmVudFswXSAhPT0gdGhpcy5kb2N1bWVudFswXSAmJiB0LmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLCB0aGlzLm9mZnNldFBhcmVudFswXSkgPyB0aGlzLnNjcm9sbFBhcmVudCA6IHRoaXMub2Zmc2V0UGFyZW50LAogICAgICAgICAgaCA9IC8oaHRtbHxib2R5KS9pLnRlc3QoYVswXS50YWdOYW1lKTsKICAgICAgcmV0dXJuICJyZWxhdGl2ZSIgIT09IHRoaXMuY3NzUG9zaXRpb24gfHwgdGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IHRoaXMuZG9jdW1lbnRbMF0gJiYgdGhpcy5zY3JvbGxQYXJlbnRbMF0gIT09IHRoaXMub2Zmc2V0UGFyZW50WzBdIHx8ICh0aGlzLm9mZnNldC5yZWxhdGl2ZSA9IHRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLCB0aGlzLm9yaWdpbmFsUG9zaXRpb24gJiYgKHRoaXMuY29udGFpbm1lbnQgJiYgKGUucGFnZVggLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0IDwgdGhpcy5jb250YWlubWVudFswXSAmJiAobyA9IHRoaXMuY29udGFpbm1lbnRbMF0gKyB0aGlzLm9mZnNldC5jbGljay5sZWZ0KSwgZS5wYWdlWSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA8IHRoaXMuY29udGFpbm1lbnRbMV0gJiYgKHIgPSB0aGlzLmNvbnRhaW5tZW50WzFdICsgdGhpcy5vZmZzZXQuY2xpY2sudG9wKSwgZS5wYWdlWCAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPiB0aGlzLmNvbnRhaW5tZW50WzJdICYmIChvID0gdGhpcy5jb250YWlubWVudFsyXSArIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLCBlLnBhZ2VZIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wID4gdGhpcy5jb250YWlubWVudFszXSAmJiAociA9IHRoaXMuY29udGFpbm1lbnRbM10gKyB0aGlzLm9mZnNldC5jbGljay50b3ApKSwgcy5ncmlkICYmIChpID0gdGhpcy5vcmlnaW5hbFBhZ2VZICsgTWF0aC5yb3VuZCgociAtIHRoaXMub3JpZ2luYWxQYWdlWSkgLyBzLmdyaWRbMV0pICogcy5ncmlkWzFdLCByID0gdGhpcy5jb250YWlubWVudCA/IGkgLSB0aGlzLm9mZnNldC5jbGljay50b3AgPj0gdGhpcy5jb250YWlubWVudFsxXSAmJiBpIC0gdGhpcy5vZmZzZXQuY2xpY2sudG9wIDw9IHRoaXMuY29udGFpbm1lbnRbM10gPyBpIDogaSAtIHRoaXMub2Zmc2V0LmNsaWNrLnRvcCA+PSB0aGlzLmNvbnRhaW5tZW50WzFdID8gaSAtIHMuZ3JpZFsxXSA6IGkgKyBzLmdyaWRbMV0gOiBpLCBuID0gdGhpcy5vcmlnaW5hbFBhZ2VYICsgTWF0aC5yb3VuZCgobyAtIHRoaXMub3JpZ2luYWxQYWdlWCkgLyBzLmdyaWRbMF0pICogcy5ncmlkWzBdLCBvID0gdGhpcy5jb250YWlubWVudCA/IG4gLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0ID49IHRoaXMuY29udGFpbm1lbnRbMF0gJiYgbiAtIHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQgPD0gdGhpcy5jb250YWlubWVudFsyXSA/IG4gOiBuIC0gdGhpcy5vZmZzZXQuY2xpY2subGVmdCA+PSB0aGlzLmNvbnRhaW5tZW50WzBdID8gbiAtIHMuZ3JpZFswXSA6IG4gKyBzLmdyaWRbMF0gOiBuKSksIHsKICAgICAgICB0b3A6IHIgLSB0aGlzLm9mZnNldC5jbGljay50b3AgLSB0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AgLSB0aGlzLm9mZnNldC5wYXJlbnQudG9wICsgKCJmaXhlZCIgPT09IHRoaXMuY3NzUG9zaXRpb24gPyAtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkgOiBoID8gMCA6IGEuc2Nyb2xsVG9wKCkpLAogICAgICAgIGxlZnQ6IG8gLSB0aGlzLm9mZnNldC5jbGljay5sZWZ0IC0gdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCAtIHRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0ICsgKCJmaXhlZCIgPT09IHRoaXMuY3NzUG9zaXRpb24gPyAtdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpIDogaCA/IDAgOiBhLnNjcm9sbExlZnQoKSkKICAgICAgfTsKICAgIH0sCiAgICBfcmVhcnJhbmdlOiBmdW5jdGlvbiBfcmVhcnJhbmdlKHQsIGUsIGksIG4pIHsKICAgICAgaSA/IGlbMF0uYXBwZW5kQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSkgOiBlLml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwgImRvd24iID09PSB0aGlzLmRpcmVjdGlvbiA/IGUuaXRlbVswXSA6IGUuaXRlbVswXS5uZXh0U2libGluZyksIHRoaXMuY291bnRlciA9IHRoaXMuY291bnRlciA/ICsrdGhpcy5jb3VudGVyIDogMTsKICAgICAgdmFyIHMgPSB0aGlzLmNvdW50ZXI7CgogICAgICB0aGlzLl9kZWxheShmdW5jdGlvbiAoKSB7CiAgICAgICAgcyA9PT0gdGhpcy5jb3VudGVyICYmIHRoaXMucmVmcmVzaFBvc2l0aW9ucyghbik7CiAgICAgIH0pOwogICAgfSwKICAgIF9jbGVhcjogZnVuY3Rpb24gX2NsZWFyKHQsIGUpIHsKICAgICAgZnVuY3Rpb24gaSh0LCBlLCBpKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICBpLl90cmlnZ2VyKHQsIG4sIGUuX3VpSGFzaChlKSk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdGhpcy5yZXZlcnRpbmcgPSAhMTsKICAgICAgdmFyIG4sCiAgICAgICAgICBzID0gW107CgogICAgICBpZiAoIXRoaXMuX25vRmluYWxTb3J0ICYmIHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoICYmIHRoaXMucGxhY2Vob2xkZXIuYmVmb3JlKHRoaXMuY3VycmVudEl0ZW0pLCB0aGlzLl9ub0ZpbmFsU29ydCA9IG51bGwsIHRoaXMuaGVscGVyWzBdID09PSB0aGlzLmN1cnJlbnRJdGVtWzBdKSB7CiAgICAgICAgZm9yIChuIGluIHRoaXMuX3N0b3JlZENTUykgewogICAgICAgICAgImF1dG8iICE9PSB0aGlzLl9zdG9yZWRDU1Nbbl0gJiYgInN0YXRpYyIgIT09IHRoaXMuX3N0b3JlZENTU1tuXSB8fCAodGhpcy5fc3RvcmVkQ1NTW25dID0gIiIpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKS5yZW1vdmVDbGFzcygidWktc29ydGFibGUtaGVscGVyIik7CiAgICAgIH0gZWxzZSB0aGlzLmN1cnJlbnRJdGVtLnNob3coKTsKCiAgICAgIGZvciAodGhpcy5mcm9tT3V0c2lkZSAmJiAhZSAmJiBzLnB1c2goZnVuY3Rpb24gKHQpIHsKICAgICAgICB0aGlzLl90cmlnZ2VyKCJyZWNlaXZlIiwgdCwgdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKTsKICAgICAgfSksICF0aGlzLmZyb21PdXRzaWRlICYmIHRoaXMuZG9tUG9zaXRpb24ucHJldiA9PT0gdGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KCIudWktc29ydGFibGUtaGVscGVyIilbMF0gJiYgdGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQgPT09IHRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbMF0gfHwgZSB8fCBzLnB1c2goZnVuY3Rpb24gKHQpIHsKICAgICAgICB0aGlzLl90cmlnZ2VyKCJ1cGRhdGUiLCB0LCB0aGlzLl91aUhhc2goKSk7CiAgICAgIH0pLCB0aGlzICE9PSB0aGlzLmN1cnJlbnRDb250YWluZXIgJiYgKGUgfHwgKHMucHVzaChmdW5jdGlvbiAodCkgewogICAgICAgIHRoaXMuX3RyaWdnZXIoInJlbW92ZSIsIHQsIHRoaXMuX3VpSGFzaCgpKTsKICAgICAgfSksIHMucHVzaChmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdC5fdHJpZ2dlcigicmVjZWl2ZSIsIGUsIHRoaXMuX3VpSGFzaCh0aGlzKSk7CiAgICAgICAgfTsKICAgICAgfS5jYWxsKHRoaXMsIHRoaXMuY3VycmVudENvbnRhaW5lcikpLCBzLnB1c2goZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHQuX3RyaWdnZXIoInVwZGF0ZSIsIGUsIHRoaXMuX3VpSGFzaCh0aGlzKSk7CiAgICAgICAgfTsKICAgICAgfS5jYWxsKHRoaXMsIHRoaXMuY3VycmVudENvbnRhaW5lcikpKSksIG4gPSB0aGlzLmNvbnRhaW5lcnMubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0pIHsKICAgICAgICBlIHx8IHMucHVzaChpKCJkZWFjdGl2YXRlIiwgdGhpcywgdGhpcy5jb250YWluZXJzW25dKSksIHRoaXMuY29udGFpbmVyc1tuXS5jb250YWluZXJDYWNoZS5vdmVyICYmIChzLnB1c2goaSgib3V0IiwgdGhpcywgdGhpcy5jb250YWluZXJzW25dKSksIHRoaXMuY29udGFpbmVyc1tuXS5jb250YWluZXJDYWNoZS5vdmVyID0gMCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnN0b3JlZEN1cnNvciAmJiAodGhpcy5kb2N1bWVudC5maW5kKCJib2R5IikuY3NzKCJjdXJzb3IiLCB0aGlzLnN0b3JlZEN1cnNvciksIHRoaXMuc3RvcmVkU3R5bGVzaGVldC5yZW1vdmUoKSksIHRoaXMuX3N0b3JlZE9wYWNpdHkgJiYgdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IiwgdGhpcy5fc3RvcmVkT3BhY2l0eSksIHRoaXMuX3N0b3JlZFpJbmRleCAmJiB0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsICJhdXRvIiA9PT0gdGhpcy5fc3RvcmVkWkluZGV4ID8gIiIgOiB0aGlzLl9zdG9yZWRaSW5kZXgpLCB0aGlzLmRyYWdnaW5nID0gITEsIGUgfHwgdGhpcy5fdHJpZ2dlcigiYmVmb3JlU3RvcCIsIHQsIHRoaXMuX3VpSGFzaCgpKSwgdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLCB0aGlzLmNhbmNlbEhlbHBlclJlbW92YWwgfHwgKHRoaXMuaGVscGVyWzBdICE9PSB0aGlzLmN1cnJlbnRJdGVtWzBdICYmIHRoaXMuaGVscGVyLnJlbW92ZSgpLCB0aGlzLmhlbHBlciA9IG51bGwpLCAhZSkgewogICAgICAgIGZvciAobiA9IDA7IG4gPCBzLmxlbmd0aDsgbisrKSB7CiAgICAgICAgICBzW25dLmNhbGwodGhpcywgdCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLl90cmlnZ2VyKCJzdG9wIiwgdCwgdGhpcy5fdWlIYXNoKCkpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5mcm9tT3V0c2lkZSA9ICExLCAhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsOwogICAgfSwKICAgIF90cmlnZ2VyOiBmdW5jdGlvbiBfdHJpZ2dlcigpIHsKICAgICAgITEgPT09IHQuV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpICYmIHRoaXMuY2FuY2VsKCk7CiAgICB9LAogICAgX3VpSGFzaDogZnVuY3Rpb24gX3VpSGFzaChlKSB7CiAgICAgIHZhciBpID0gZSB8fCB0aGlzOwogICAgICByZXR1cm4gewogICAgICAgIGhlbHBlcjogaS5oZWxwZXIsCiAgICAgICAgcGxhY2Vob2xkZXI6IGkucGxhY2Vob2xkZXIgfHwgdChbXSksCiAgICAgICAgcG9zaXRpb246IGkucG9zaXRpb24sCiAgICAgICAgb3JpZ2luYWxQb3NpdGlvbjogaS5vcmlnaW5hbFBvc2l0aW9uLAogICAgICAgIG9mZnNldDogaS5wb3NpdGlvbkFicywKICAgICAgICBpdGVtOiBpLmN1cnJlbnRJdGVtLAogICAgICAgIHNlbmRlcjogZSA/IGUuZWxlbWVudCA6IG51bGwKICAgICAgfTsKICAgIH0KICB9KTsKICAvKiEKICAgKiBqUXVlcnkgVUkgU29ydGFibGUgMS4xMS4zCiAgICogaHR0cDovL2pxdWVyeXVpLmNvbQogICAqCiAgICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICAgKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAgICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogICAqCiAgICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc29ydGFibGUvCiAgICovCn0pLAovKiEKICogRXZlbnRFbWl0dGVyIHY0LjIuMTEgLSBnaXQuaW8vZWUKICogVW5saWNlbnNlIC0gaHR0cDovL3VubGljZW5zZS5vcmcvCiAqIE9saXZlciBDYWxkd2VsbCAtIGh0dHA6Ly9vbGkubWUudWsvCiAqIEBwcmVzZXJ2ZQogKi8KZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gdCgpIHt9CgogIGZ1bmN0aW9uIGUodCwgZSkgewogICAgZm9yICh2YXIgaSA9IHQubGVuZ3RoOyBpLS07KSB7CiAgICAgIGlmICh0W2ldLmxpc3RlbmVyID09PSBlKSByZXR1cm4gaTsKICAgIH0KCiAgICByZXR1cm4gLTE7CiAgfQoKICBmdW5jdGlvbiBpKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzW3RdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0KCiAgdmFyIG4gPSB0LnByb3RvdHlwZSwKICAgICAgcyA9IHRoaXMsCiAgICAgIG8gPSBzLkV2ZW50RW1pdHRlcjsKICBuLmdldExpc3RlbmVycyA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSwKICAgICAgICBpLAogICAgICAgIG4gPSB0aGlzLl9nZXRFdmVudHMoKTsKCiAgICBpZiAodCBpbnN0YW5jZW9mIFJlZ0V4cCkgZm9yIChpIGluIGUgPSB7fSwgbikgewogICAgICBuLmhhc093blByb3BlcnR5KGkpICYmIHQudGVzdChpKSAmJiAoZVtpXSA9IG5baV0pOwogICAgfSBlbHNlIGUgPSBuW3RdIHx8IChuW3RdID0gW10pOwogICAgcmV0dXJuIGU7CiAgfSwgbi5mbGF0dGVuTGlzdGVuZXJzID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlLAogICAgICAgIGkgPSBbXTsKCiAgICBmb3IgKGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUgKz0gMSkgewogICAgICBpLnB1c2godFtlXS5saXN0ZW5lcik7CiAgICB9CgogICAgcmV0dXJuIGk7CiAgfSwgbi5nZXRMaXN0ZW5lcnNBc09iamVjdCA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSwKICAgICAgICBpID0gdGhpcy5nZXRMaXN0ZW5lcnModCk7CiAgICByZXR1cm4gaSBpbnN0YW5jZW9mIEFycmF5ICYmICgoZSA9IHt9KVt0XSA9IGkpLCBlIHx8IGk7CiAgfSwgbi5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0LCBpKSB7CiAgICB2YXIgbiwKICAgICAgICBzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdCh0KSwKICAgICAgICBvID0gIm9iamVjdCIgPT0gX3R5cGVvZihpKTsKCiAgICBmb3IgKG4gaW4gcykgewogICAgICBzLmhhc093blByb3BlcnR5KG4pICYmIC0xID09PSBlKHNbbl0sIGkpICYmIHNbbl0ucHVzaChvID8gaSA6IHsKICAgICAgICBsaXN0ZW5lcjogaSwKICAgICAgICBvbmNlOiAhMQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBuLm9uID0gaSgiYWRkTGlzdGVuZXIiKSwgbi5hZGRPbmNlTGlzdGVuZXIgPSBmdW5jdGlvbiAodCwgZSkgewogICAgcmV0dXJuIHRoaXMuYWRkTGlzdGVuZXIodCwgewogICAgICBsaXN0ZW5lcjogZSwKICAgICAgb25jZTogITAKICAgIH0pOwogIH0sIG4ub25jZSA9IGkoImFkZE9uY2VMaXN0ZW5lciIpLCBuLmRlZmluZUV2ZW50ID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiB0aGlzLmdldExpc3RlbmVycyh0KSwgdGhpczsKICB9LCBuLmRlZmluZUV2ZW50cyA9IGZ1bmN0aW9uICh0KSB7CiAgICBmb3IgKHZhciBlID0gMDsgZSA8IHQubGVuZ3RoOyBlICs9IDEpIHsKICAgICAgdGhpcy5kZWZpbmVFdmVudCh0W2VdKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBuLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKHQsIGkpIHsKICAgIHZhciBuLAogICAgICAgIHMsCiAgICAgICAgbyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QodCk7CgogICAgZm9yIChzIGluIG8pIHsKICAgICAgby5oYXNPd25Qcm9wZXJ0eShzKSAmJiAtMSAhPT0gKG4gPSBlKG9bc10sIGkpKSAmJiBvW3NdLnNwbGljZShuLCAxKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBuLm9mZiA9IGkoInJlbW92ZUxpc3RlbmVyIiksIG4uYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITEsIHQsIGUpOwogIH0sIG4ucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITAsIHQsIGUpOwogIH0sIG4ubWFuaXB1bGF0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICB2YXIgbiwKICAgICAgICBzLAogICAgICAgIG8gPSB0ID8gdGhpcy5yZW1vdmVMaXN0ZW5lciA6IHRoaXMuYWRkTGlzdGVuZXIsCiAgICAgICAgciA9IHQgPyB0aGlzLnJlbW92ZUxpc3RlbmVycyA6IHRoaXMuYWRkTGlzdGVuZXJzOwogICAgaWYgKCJvYmplY3QiICE9IF90eXBlb2YoZSkgfHwgZSBpbnN0YW5jZW9mIFJlZ0V4cCkgZm9yIChuID0gaS5sZW5ndGg7IG4tLTspIHsKICAgICAgby5jYWxsKHRoaXMsIGUsIGlbbl0pOwogICAgfSBlbHNlIGZvciAobiBpbiBlKSB7CiAgICAgIGUuaGFzT3duUHJvcGVydHkobikgJiYgKHMgPSBlW25dKSAmJiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgcyA/IG8uY2FsbCh0aGlzLCBuLCBzKSA6IHIuY2FsbCh0aGlzLCBuLCBzKSk7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9LCBuLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlLAogICAgICAgIGkgPSBfdHlwZW9mKHQpLAogICAgICAgIG4gPSB0aGlzLl9nZXRFdmVudHMoKTsKCiAgICBpZiAoInN0cmluZyIgPT09IGkpIGRlbGV0ZSBuW3RdO2Vsc2UgaWYgKHQgaW5zdGFuY2VvZiBSZWdFeHApIGZvciAoZSBpbiBuKSB7CiAgICAgIG4uaGFzT3duUHJvcGVydHkoZSkgJiYgdC50ZXN0KGUpICYmIGRlbGV0ZSBuW2VdOwogICAgfSBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHM7CiAgICByZXR1cm4gdGhpczsKICB9LCBuLnJlbW92ZUFsbExpc3RlbmVycyA9IGkoInJlbW92ZUV2ZW50IiksIG4uZW1pdEV2ZW50ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpLAogICAgICAgIG4sCiAgICAgICAgcywKICAgICAgICBvID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdCh0KTsKCiAgICBmb3IgKHMgaW4gbykgewogICAgICBpZiAoby5oYXNPd25Qcm9wZXJ0eShzKSkgZm9yIChuID0gb1tzXS5sZW5ndGg7IG4tLTspIHsKICAgICAgICAhMCA9PT0gKGkgPSBvW3NdW25dKS5vbmNlICYmIHRoaXMucmVtb3ZlTGlzdGVuZXIodCwgaS5saXN0ZW5lciksIGkubGlzdGVuZXIuYXBwbHkodGhpcywgZSB8fCBbXSkgPT09IHRoaXMuX2dldE9uY2VSZXR1cm5WYWx1ZSgpICYmIHRoaXMucmVtb3ZlTGlzdGVuZXIodCwgaS5saXN0ZW5lcik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCBuLnRyaWdnZXIgPSBpKCJlbWl0RXZlbnQiKSwgbi5lbWl0ID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgIHJldHVybiB0aGlzLmVtaXRFdmVudCh0LCBlKTsKICB9LCBuLnNldE9uY2VSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gdGhpcy5fb25jZVJldHVyblZhbHVlID0gdCwgdGhpczsKICB9LCBuLl9nZXRPbmNlUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXRoaXMuaGFzT3duUHJvcGVydHkoIl9vbmNlUmV0dXJuVmFsdWUiKSB8fCB0aGlzLl9vbmNlUmV0dXJuVmFsdWU7CiAgfSwgbi5fZ2V0RXZlbnRzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuX2V2ZW50cyB8fCAodGhpcy5fZXZlbnRzID0ge30pOwogIH0sIHQubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBzLkV2ZW50RW1pdHRlciA9IG8sIHQ7CiAgfSwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHQ7CiAgfSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgJiYgbW9kdWxlLmV4cG9ydHMgPyBtb2R1bGUuZXhwb3J0cyA9IHQgOiBzLkV2ZW50RW1pdHRlciA9IHQ7Cn0uY2FsbCh0aGlzKSwKLyohCiAqIGV2ZW50aWUgdjEuMC42CiAqIGV2ZW50IGJpbmRpbmcgaGVscGVyCiAqICAgZXZlbnRpZS5iaW5kKCBlbGVtLCAnY2xpY2snLCBteUZuICkKICogICBldmVudGllLnVuYmluZCggZWxlbSwgJ2NsaWNrJywgbXlGbiApCiAqIE1JVCBsaWNlbnNlCiAqLwpmdW5jdGlvbiAodCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gZShlKSB7CiAgICB2YXIgaSA9IHQuZXZlbnQ7CiAgICByZXR1cm4gaS50YXJnZXQgPSBpLnRhcmdldCB8fCBpLnNyY0VsZW1lbnQgfHwgZSwgaTsKICB9CgogIHZhciBpID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LAogICAgICBuID0gZnVuY3Rpb24gbigpIHt9OwoKICBpLmFkZEV2ZW50TGlzdGVuZXIgPyBuID0gZnVuY3Rpb24gbih0LCBlLCBpKSB7CiAgICB0LmFkZEV2ZW50TGlzdGVuZXIoZSwgaSwgITEpOwogIH0gOiBpLmF0dGFjaEV2ZW50ICYmIChuID0gZnVuY3Rpb24gbih0LCBpLCBfbikgewogICAgdFtpICsgX25dID0gX24uaGFuZGxlRXZlbnQgPyBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBpID0gZSh0KTsKCiAgICAgIF9uLmhhbmRsZUV2ZW50LmNhbGwoX24sIGkpOwogICAgfSA6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGkgPSBlKHQpOwoKICAgICAgX24uY2FsbCh0LCBpKTsKICAgIH0sIHQuYXR0YWNoRXZlbnQoIm9uIiArIGksIHRbaSArIF9uXSk7CiAgfSk7CgogIHZhciBzID0gZnVuY3Rpb24gcygpIHt9OwoKICBpLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBzID0gZnVuY3Rpb24gcyh0LCBlLCBpKSB7CiAgICB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgaSwgITEpOwogIH0gOiBpLmRldGFjaEV2ZW50ICYmIChzID0gZnVuY3Rpb24gcyh0LCBlLCBpKSB7CiAgICB0LmRldGFjaEV2ZW50KCJvbiIgKyBlLCB0W2UgKyBpXSk7CgogICAgdHJ5IHsKICAgICAgZGVsZXRlIHRbZSArIGldOwogICAgfSBjYXRjaCAobikgewogICAgICB0W2UgKyBpXSA9IHVuZGVmaW5lZDsKICAgIH0KICB9KTsKICB2YXIgbyA9IHsKICAgIGJpbmQ6IG4sCiAgICB1bmJpbmQ6IHMKICB9OwogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKG8pIDogIm9iamVjdCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgPyBtb2R1bGUuZXhwb3J0cyA9IG8gOiB0LmV2ZW50aWUgPSBvOwp9KHdpbmRvdyksCi8qIQogKiBVbmlwb2ludGVyIHYxLjEuMAogKiBiYXNlIGNsYXNzIGZvciBkb2luZyBvbmUgdGhpbmcgd2l0aCBwb2ludGVyIGV2ZW50CiAqIE1JVCBsaWNlbnNlCiAqLwpmdW5jdGlvbiAodCwgZSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWyJldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyIiwgImV2ZW50aWUvZXZlbnRpZSJdLCBmdW5jdGlvbiAoaSwgbikgewogICAgcmV0dXJuIGUodCwgaSwgbik7CiAgfSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IG1vZHVsZS5leHBvcnRzID0gZSh0LCByZXF1aXJlKCJ3b2xmeTg3LWV2ZW50ZW1pdHRlciIpLCByZXF1aXJlKCJldmVudGllIikpIDogdC5Vbmlwb2ludGVyID0gZSh0LCB0LkV2ZW50RW1pdHRlciwgdC5ldmVudGllKTsKfSh3aW5kb3csIGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBuKCkge30KCiAgZnVuY3Rpb24gcygpIHt9CgogIHMucHJvdG90eXBlID0gbmV3IGUoKSwgcy5wcm90b3R5cGUuYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5fYmluZFN0YXJ0RXZlbnQodCwgITApOwogIH0sIHMucHJvdG90eXBlLnVuYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5fYmluZFN0YXJ0RXZlbnQodCwgITEpOwogIH0sIHMucHJvdG90eXBlLl9iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uIChlLCBuKSB7CiAgICB2YXIgcyA9IChuID0gbiA9PT0gdW5kZWZpbmVkIHx8ICEhbikgPyAiYmluZCIgOiAidW5iaW5kIjsKICAgIHQubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkID8gaVtzXShlLCAicG9pbnRlcmRvd24iLCB0aGlzKSA6IHQubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgPyBpW3NdKGUsICJNU1BvaW50ZXJEb3duIiwgdGhpcykgOiAoaVtzXShlLCAibW91c2Vkb3duIiwgdGhpcyksIGlbc10oZSwgInRvdWNoc3RhcnQiLCB0aGlzKSk7CiAgfSwgcy5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSAib24iICsgdC50eXBlOwogICAgdGhpc1tlXSAmJiB0aGlzW2VdKHQpOwogIH0sIHMucHJvdG90eXBlLmdldFRvdWNoID0gZnVuY3Rpb24gKHQpIHsKICAgIGZvciAodmFyIGUgPSAwLCBpID0gdC5sZW5ndGg7IGUgPCBpOyBlKyspIHsKICAgICAgdmFyIG4gPSB0W2VdOwogICAgICBpZiAobi5pZGVudGlmaWVyID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIpIHJldHVybiBuOwogICAgfQogIH0sIHMucHJvdG90eXBlLm9ubW91c2Vkb3duID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdC5idXR0b247CiAgICBlICYmIDAgIT09IGUgJiYgMSAhPT0gZSB8fCB0aGlzLl9wb2ludGVyRG93bih0LCB0KTsKICB9LCBzLnByb3RvdHlwZS5vbnRvdWNoc3RhcnQgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5fcG9pbnRlckRvd24odCwgdC5jaGFuZ2VkVG91Y2hlc1swXSk7CiAgfSwgcy5wcm90b3R5cGUub25NU1BvaW50ZXJEb3duID0gcy5wcm90b3R5cGUub25wb2ludGVyZG93biA9IGZ1bmN0aW9uICh0KSB7CiAgICB0aGlzLl9wb2ludGVyRG93bih0LCB0KTsKICB9LCBzLnByb3RvdHlwZS5fcG9pbnRlckRvd24gPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5pc1BvaW50ZXJEb3duIHx8ICh0aGlzLmlzUG9pbnRlckRvd24gPSAhMCwgdGhpcy5wb2ludGVySWRlbnRpZmllciA9IGUucG9pbnRlcklkICE9PSB1bmRlZmluZWQgPyBlLnBvaW50ZXJJZCA6IGUuaWRlbnRpZmllciwgdGhpcy5wb2ludGVyRG93bih0LCBlKSk7CiAgfSwgcy5wcm90b3R5cGUucG9pbnRlckRvd24gPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyh0KSwgdGhpcy5lbWl0RXZlbnQoInBvaW50ZXJEb3duIiwgW3QsIGVdKTsKICB9OwogIHZhciBvID0gewogICAgbW91c2Vkb3duOiBbIm1vdXNlbW92ZSIsICJtb3VzZXVwIl0sCiAgICB0b3VjaHN0YXJ0OiBbInRvdWNobW92ZSIsICJ0b3VjaGVuZCIsICJ0b3VjaGNhbmNlbCJdLAogICAgcG9pbnRlcmRvd246IFsicG9pbnRlcm1vdmUiLCAicG9pbnRlcnVwIiwgInBvaW50ZXJjYW5jZWwiXSwKICAgIE1TUG9pbnRlckRvd246IFsiTVNQb2ludGVyTW92ZSIsICJNU1BvaW50ZXJVcCIsICJNU1BvaW50ZXJDYW5jZWwiXQogIH07CiAgcmV0dXJuIHMucHJvdG90eXBlLl9iaW5kUG9zdFN0YXJ0RXZlbnRzID0gZnVuY3Rpb24gKGUpIHsKICAgIGlmIChlKSB7CiAgICAgIGZvciAodmFyIG4gPSBvW2UudHlwZV0sIHMgPSBlLnByZXZlbnREZWZhdWx0ID8gdCA6IGRvY3VtZW50LCByID0gMCwgYSA9IG4ubGVuZ3RoOyByIDwgYTsgcisrKSB7CiAgICAgICAgdmFyIGggPSBuW3JdOwogICAgICAgIGkuYmluZChzLCBoLCB0aGlzKTsKICAgICAgfQoKICAgICAgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzID0gewogICAgICAgIGV2ZW50czogbiwKICAgICAgICBub2RlOiBzCiAgICAgIH07CiAgICB9CiAgfSwgcy5wcm90b3R5cGUuX3VuYmluZFBvc3RTdGFydEV2ZW50cyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzOwoKICAgIGlmICh0ICYmIHQuZXZlbnRzKSB7CiAgICAgIGZvciAodmFyIGUgPSAwLCBuID0gdC5ldmVudHMubGVuZ3RoOyBlIDwgbjsgZSsrKSB7CiAgICAgICAgdmFyIHMgPSB0LmV2ZW50c1tlXTsKICAgICAgICBpLnVuYmluZCh0Lm5vZGUsIHMsIHRoaXMpOwogICAgICB9CgogICAgICBkZWxldGUgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzOwogICAgfQogIH0sIHMucHJvdG90eXBlLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMuX3BvaW50ZXJNb3ZlKHQsIHQpOwogIH0sIHMucHJvdG90eXBlLm9uTVNQb2ludGVyTW92ZSA9IHMucHJvdG90eXBlLm9ucG9pbnRlcm1vdmUgPSBmdW5jdGlvbiAodCkgewogICAgdC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciAmJiB0aGlzLl9wb2ludGVyTW92ZSh0LCB0KTsKICB9LCBzLnByb3RvdHlwZS5vbnRvdWNobW92ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0VG91Y2godC5jaGFuZ2VkVG91Y2hlcyk7CiAgICBlICYmIHRoaXMuX3BvaW50ZXJNb3ZlKHQsIGUpOwogIH0sIHMucHJvdG90eXBlLl9wb2ludGVyTW92ZSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLnBvaW50ZXJNb3ZlKHQsIGUpOwogIH0sIHMucHJvdG90eXBlLnBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuZW1pdEV2ZW50KCJwb2ludGVyTW92ZSIsIFt0LCBlXSk7CiAgfSwgcy5wcm90b3R5cGUub25tb3VzZXVwID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMuX3BvaW50ZXJVcCh0LCB0KTsKICB9LCBzLnByb3RvdHlwZS5vbk1TUG9pbnRlclVwID0gcy5wcm90b3R5cGUub25wb2ludGVydXAgPSBmdW5jdGlvbiAodCkgewogICAgdC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllciAmJiB0aGlzLl9wb2ludGVyVXAodCwgdCk7CiAgfSwgcy5wcm90b3R5cGUub250b3VjaGVuZCA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0VG91Y2godC5jaGFuZ2VkVG91Y2hlcyk7CiAgICBlICYmIHRoaXMuX3BvaW50ZXJVcCh0LCBlKTsKICB9LCBzLnByb3RvdHlwZS5fcG9pbnRlclVwID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuX3BvaW50ZXJEb25lKCksIHRoaXMucG9pbnRlclVwKHQsIGUpOwogIH0sIHMucHJvdG90eXBlLnBvaW50ZXJVcCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLmVtaXRFdmVudCgicG9pbnRlclVwIiwgW3QsIGVdKTsKICB9LCBzLnByb3RvdHlwZS5fcG9pbnRlckRvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmlzUG9pbnRlckRvd24gPSAhMSwgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXIsIHRoaXMuX3VuYmluZFBvc3RTdGFydEV2ZW50cygpLCB0aGlzLnBvaW50ZXJEb25lKCk7CiAgfSwgcy5wcm90b3R5cGUucG9pbnRlckRvbmUgPSBuLCBzLnByb3RvdHlwZS5vbk1TUG9pbnRlckNhbmNlbCA9IHMucHJvdG90eXBlLm9ucG9pbnRlcmNhbmNlbCA9IGZ1bmN0aW9uICh0KSB7CiAgICB0LnBvaW50ZXJJZCA9PSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyICYmIHRoaXMuX3BvaW50ZXJDYW5jZWwodCwgdCk7CiAgfSwgcy5wcm90b3R5cGUub250b3VjaGNhbmNlbCA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0VG91Y2godC5jaGFuZ2VkVG91Y2hlcyk7CiAgICBlICYmIHRoaXMuX3BvaW50ZXJDYW5jZWwodCwgZSk7CiAgfSwgcy5wcm90b3R5cGUuX3BvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5fcG9pbnRlckRvbmUoKSwgdGhpcy5wb2ludGVyQ2FuY2VsKHQsIGUpOwogIH0sIHMucHJvdG90eXBlLnBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5lbWl0RXZlbnQoInBvaW50ZXJDYW5jZWwiLCBbdCwgZV0pOwogIH0sIHMuZ2V0UG9pbnRlclBvaW50ID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiB7CiAgICAgIHg6IHQucGFnZVggIT09IHVuZGVmaW5lZCA/IHQucGFnZVggOiB0LmNsaWVudFgsCiAgICAgIHk6IHQucGFnZVkgIT09IHVuZGVmaW5lZCA/IHQucGFnZVkgOiB0LmNsaWVudFkKICAgIH07CiAgfSwgczsKfSksCi8qIQogKiBVbmlkcmFnZ2VyIHYxLjEuNQogKiBEcmFnZ2FibGUgYmFzZSBjbGFzcwogKiBNSVQgbGljZW5zZQogKi8KZnVuY3Rpb24gKHQsIGUpIHsKICAidXNlIHN0cmljdCI7CgogICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsiZXZlbnRpZS9ldmVudGllIiwgInVuaXBvaW50ZXIvdW5pcG9pbnRlciJdLCBmdW5jdGlvbiAoaSwgbikgewogICAgcmV0dXJuIGUodCwgaSwgbik7CiAgfSkgOiAib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IG1vZHVsZS5leHBvcnRzID0gZSh0LCByZXF1aXJlKCJldmVudGllIiksIHJlcXVpcmUoInVuaXBvaW50ZXIiKSkgOiB0LlVuaWRyYWdnZXIgPSBlKHQsIHQuZXZlbnRpZSwgdC5Vbmlwb2ludGVyKTsKfSh3aW5kb3csIGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBuKCkge30KCiAgZnVuY3Rpb24gcyh0KSB7CiAgICB0LnByZXZlbnREZWZhdWx0ID8gdC5wcmV2ZW50RGVmYXVsdCgpIDogdC5yZXR1cm5WYWx1ZSA9ICExOwogIH0KCiAgZnVuY3Rpb24gbygpIHt9CgogIGZ1bmN0aW9uIHIoKSB7CiAgICByZXR1cm4gITE7CiAgfQoKICBvLnByb3RvdHlwZSA9IG5ldyBpKCksIG8ucHJvdG90eXBlLmJpbmRIYW5kbGVzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fYmluZEhhbmRsZXMoITApOwogIH0sIG8ucHJvdG90eXBlLnVuYmluZEhhbmRsZXMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9iaW5kSGFuZGxlcyghMSk7CiAgfTsKICB2YXIgYSA9IHQubmF2aWdhdG9yOwoKICBvLnByb3RvdHlwZS5fYmluZEhhbmRsZXMgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGk7CiAgICB0ID0gdCA9PT0gdW5kZWZpbmVkIHx8ICEhdCwgaSA9IGEucG9pbnRlckVuYWJsZWQgPyBmdW5jdGlvbiAoZSkgewogICAgICBlLnN0eWxlLnRvdWNoQWN0aW9uID0gdCA/ICJub25lIiA6ICIiOwogICAgfSA6IGEubXNQb2ludGVyRW5hYmxlZCA/IGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuc3R5bGUubXNUb3VjaEFjdGlvbiA9IHQgPyAibm9uZSIgOiAiIjsKICAgIH0gOiBmdW5jdGlvbiAoKSB7CiAgICAgIHQgJiYgaChyKTsKICAgIH07CgogICAgZm9yICh2YXIgbiA9IHQgPyAiYmluZCIgOiAidW5iaW5kIiwgcyA9IDAsIG8gPSB0aGlzLmhhbmRsZXMubGVuZ3RoOyBzIDwgbzsgcysrKSB7CiAgICAgIHZhciByID0gdGhpcy5oYW5kbGVzW3NdOwogICAgICB0aGlzLl9iaW5kU3RhcnRFdmVudChyLCB0KSwgaShyKSwgZVtuXShyLCAiY2xpY2siLCB0aGlzKTsKICAgIH0KICB9OwoKICB2YXIgaCA9ICJhdHRhY2hFdmVudCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gZnVuY3Rpb24gKHQpIHsKICAgICJJTUciID09IHQubm9kZU5hbWUgJiYgKHQub25kcmFnc3RhcnQgPSByKTsKCiAgICBmb3IgKHZhciBlID0gdC5xdWVyeVNlbGVjdG9yQWxsKCJpbWciKSwgaSA9IDAsIG4gPSBlLmxlbmd0aDsgaSA8IG47IGkrKykgewogICAgICBlW2ldLm9uZHJhZ3N0YXJ0ID0gcjsKICAgIH0KICB9IDogbjsKICBvLnByb3RvdHlwZS5wb2ludGVyRG93biA9IGZ1bmN0aW9uIChpLCBuKSB7CiAgICBpZiAoIklOUFVUIiA9PSBpLnRhcmdldC5ub2RlTmFtZSAmJiAicmFuZ2UiID09IGkudGFyZ2V0LnR5cGUpIHJldHVybiB0aGlzLmlzUG9pbnRlckRvd24gPSAhMSwgdm9pZCBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjsKCiAgICB0aGlzLl9kcmFnUG9pbnRlckRvd24oaSwgbik7CgogICAgdmFyIHMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50OwogICAgcyAmJiBzLmJsdXIgJiYgcy5ibHVyKCksIHRoaXMuX2JpbmRQb3N0U3RhcnRFdmVudHMoaSksIHRoaXMucG9pbnRlckRvd25TY3JvbGwgPSBvLmdldFNjcm9sbFBvc2l0aW9uKCksIGUuYmluZCh0LCAic2Nyb2xsIiwgdGhpcyksIHRoaXMuZW1pdEV2ZW50KCJwb2ludGVyRG93biIsIFtpLCBuXSk7CiAgfSwgby5wcm90b3R5cGUuX2RyYWdQb2ludGVyRG93biA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLnBvaW50ZXJEb3duUG9pbnQgPSBpLmdldFBvaW50ZXJQb2ludChlKTsKICAgIHZhciBuID0gInRvdWNoc3RhcnQiID09IHQudHlwZSwKICAgICAgICBvID0gdC50YXJnZXQubm9kZU5hbWU7CiAgICBuIHx8ICJTRUxFQ1QiID09IG8gfHwgcyh0KTsKICB9LCBvLnByb3RvdHlwZS5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB2YXIgaSA9IHRoaXMuX2RyYWdQb2ludGVyTW92ZSh0LCBlKTsKCiAgICB0aGlzLmVtaXRFdmVudCgicG9pbnRlck1vdmUiLCBbdCwgZSwgaV0pLCB0aGlzLl9kcmFnTW92ZSh0LCBlLCBpKTsKICB9LCBvLnByb3RvdHlwZS5fZHJhZ1BvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBuID0gaS5nZXRQb2ludGVyUG9pbnQoZSksCiAgICAgICAgcyA9IHsKICAgICAgeDogbi54IC0gdGhpcy5wb2ludGVyRG93blBvaW50LngsCiAgICAgIHk6IG4ueSAtIHRoaXMucG9pbnRlckRvd25Qb2ludC55CiAgICB9OwogICAgcmV0dXJuICF0aGlzLmlzRHJhZ2dpbmcgJiYgdGhpcy5oYXNEcmFnU3RhcnRlZChzKSAmJiB0aGlzLl9kcmFnU3RhcnQodCwgZSksIHM7CiAgfSwgby5wcm90b3R5cGUuaGFzRHJhZ1N0YXJ0ZWQgPSBmdW5jdGlvbiAodCkgewogICAgcmV0dXJuIE1hdGguYWJzKHQueCkgPiAzIHx8IE1hdGguYWJzKHQueSkgPiAzOwogIH0sIG8ucHJvdG90eXBlLnBvaW50ZXJVcCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLmVtaXRFdmVudCgicG9pbnRlclVwIiwgW3QsIGVdKSwgdGhpcy5fZHJhZ1BvaW50ZXJVcCh0LCBlKTsKICB9LCBvLnByb3RvdHlwZS5fZHJhZ1BvaW50ZXJVcCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLmlzRHJhZ2dpbmcgPyB0aGlzLl9kcmFnRW5kKHQsIGUpIDogdGhpcy5fc3RhdGljQ2xpY2sodCwgZSk7CiAgfSwgaS5wcm90b3R5cGUucG9pbnRlckRvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICBlLnVuYmluZCh0LCAic2Nyb2xsIiwgdGhpcyk7CiAgfSwgby5wcm90b3R5cGUuX2RyYWdTdGFydCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLmlzRHJhZ2dpbmcgPSAhMCwgdGhpcy5kcmFnU3RhcnRQb2ludCA9IG8uZ2V0UG9pbnRlclBvaW50KGUpLCB0aGlzLmlzUHJldmVudGluZ0NsaWNrcyA9ICEwLCB0aGlzLmRyYWdTdGFydCh0LCBlKTsKICB9LCBvLnByb3RvdHlwZS5kcmFnU3RhcnQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5lbWl0RXZlbnQoImRyYWdTdGFydCIsIFt0LCBlXSk7CiAgfSwgby5wcm90b3R5cGUuX2RyYWdNb3ZlID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIHRoaXMuaXNEcmFnZ2luZyAmJiB0aGlzLmRyYWdNb3ZlKHQsIGUsIGkpOwogIH0sIG8ucHJvdG90eXBlLmRyYWdNb3ZlID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIHModCksIHRoaXMuZW1pdEV2ZW50KCJkcmFnTW92ZSIsIFt0LCBlLCBpXSk7CiAgfSwgby5wcm90b3R5cGUuX2RyYWdFbmQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5pc0RyYWdnaW5nID0gITE7CiAgICB2YXIgaSA9IHRoaXM7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgZGVsZXRlIGkuaXNQcmV2ZW50aW5nQ2xpY2tzOwogICAgfSksIHRoaXMuZHJhZ0VuZCh0LCBlKTsKICB9LCBvLnByb3RvdHlwZS5kcmFnRW5kID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuZW1pdEV2ZW50KCJkcmFnRW5kIiwgW3QsIGVdKTsKICB9LCBvLnByb3RvdHlwZS5wb2ludGVyRG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgIGUudW5iaW5kKHQsICJzY3JvbGwiLCB0aGlzKSwgZGVsZXRlIHRoaXMucG9pbnRlckRvd25TY3JvbGw7CiAgfSwgby5wcm90b3R5cGUub25jbGljayA9IGZ1bmN0aW9uICh0KSB7CiAgICB0aGlzLmlzUHJldmVudGluZ0NsaWNrcyAmJiBzKHQpOwogIH0sIG8ucHJvdG90eXBlLl9zdGF0aWNDbGljayA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBpZiAoIXRoaXMuaXNJZ25vcmluZ01vdXNlVXAgfHwgIm1vdXNldXAiICE9IHQudHlwZSkgewogICAgICB2YXIgaSA9IHQudGFyZ2V0Lm5vZGVOYW1lOwoKICAgICAgaWYgKCJJTlBVVCIgIT0gaSAmJiAiVEVYVEFSRUEiICE9IGkgfHwgdC50YXJnZXQuZm9jdXMoKSwgdGhpcy5zdGF0aWNDbGljayh0LCBlKSwgIm1vdXNldXAiICE9IHQudHlwZSkgewogICAgICAgIHRoaXMuaXNJZ25vcmluZ01vdXNlVXAgPSAhMDsKICAgICAgICB2YXIgbiA9IHRoaXM7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgbi5pc0lnbm9yaW5nTW91c2VVcDsKICAgICAgICB9LCA0MDApOwogICAgICB9CiAgICB9CiAgfSwgby5wcm90b3R5cGUuc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5lbWl0RXZlbnQoInN0YXRpY0NsaWNrIiwgW3QsIGVdKTsKICB9LCBvLnByb3RvdHlwZS5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gby5nZXRTY3JvbGxQb3NpdGlvbigpLAogICAgICAgIGUgPSB0aGlzLnBvaW50ZXJEb3duU2Nyb2xsLnggLSB0LngsCiAgICAgICAgaSA9IHRoaXMucG9pbnRlckRvd25TY3JvbGwueSAtIHQueTsKICAgIChNYXRoLmFicyhlKSA+IDMgfHwgTWF0aC5hYnMoaSkgPiAzKSAmJiB0aGlzLl9wb2ludGVyRG9uZSgpOwogIH0sIG8uZ2V0UG9pbnRlclBvaW50ID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiB7CiAgICAgIHg6IHQucGFnZVggIT09IHVuZGVmaW5lZCA/IHQucGFnZVggOiB0LmNsaWVudFgsCiAgICAgIHk6IHQucGFnZVkgIT09IHVuZGVmaW5lZCA/IHQucGFnZVkgOiB0LmNsaWVudFkKICAgIH07CiAgfTsKICB2YXIgbCA9IHQucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZDsKICByZXR1cm4gby5nZXRTY3JvbGxQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHg6IGwgPyB0LnBhZ2VYT2Zmc2V0IDogZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LAogICAgICB5OiBsID8gdC5wYWdlWU9mZnNldCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wCiAgICB9OwogIH0sIG8uZ2V0UG9pbnRlclBvaW50ID0gaS5nZXRQb2ludGVyUG9pbnQsIG87Cn0pLCBmdW5jdGlvbiAodCkgewogIHZhciBlOwogICJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyBlID0gd2luZG93IDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHNlbGYgJiYgKGUgPSBzZWxmKSwgZS5BTEdPTElBX01JR1JBVElPTl9MQVlFUiA9IHQoKTsKfShmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIHQoZSwgaSwgbikgewogICAgZnVuY3Rpb24gcyhyLCBhKSB7CiAgICAgIGlmICghaVtyXSkgewogICAgICAgIGlmICghZVtyXSkgewogICAgICAgICAgdmFyIGggPSAiZnVuY3Rpb24iID09IHR5cGVvZiByZXF1aXJlICYmIHJlcXVpcmU7CiAgICAgICAgICBpZiAoIWEgJiYgaCkgcmV0dXJuIGgociwgITApOwogICAgICAgICAgaWYgKG8pIHJldHVybiBvKHIsICEwKTsKICAgICAgICAgIHZhciBsID0gbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIgKyByICsgIiciKTsKICAgICAgICAgIHRocm93IGwuY29kZSA9ICJNT0RVTEVfTk9UX0ZPVU5EIiwgbDsKICAgICAgICB9CgogICAgICAgIHZhciBjID0gaVtyXSA9IHsKICAgICAgICAgIGV4cG9ydHM6IHt9CiAgICAgICAgfTsKICAgICAgICBlW3JdWzBdLmNhbGwoYy5leHBvcnRzLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdmFyIGkgPSBlW3JdWzFdW3RdOwogICAgICAgICAgcmV0dXJuIHMoaSB8fCB0KTsKICAgICAgICB9LCBjLCBjLmV4cG9ydHMsIHQsIGUsIGksIG4pOwogICAgICB9CgogICAgICByZXR1cm4gaVtyXS5leHBvcnRzOwogICAgfQoKICAgIGZvciAodmFyIG8gPSAiZnVuY3Rpb24iID09IHR5cGVvZiByZXF1aXJlICYmIHJlcXVpcmUsIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgewogICAgICBzKG5bcl0pOwogICAgfQoKICAgIHJldHVybiBzOwogIH0oewogICAgMTogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIGZ1bmN0aW9uIGkodCwgZSkgewogICAgICAgIGZvciAodmFyIGkgaW4gZSkgewogICAgICAgICAgdC5zZXRBdHRyaWJ1dGUoaSwgZVtpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBuKHQsIGUpIHsKICAgICAgICB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRoaXMub25lcnJvciA9IHRoaXMub25sb2FkID0gbnVsbCwgZShudWxsLCB0KTsKICAgICAgICB9LCB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9ubG9hZCA9IG51bGwsIGUobmV3IEVycm9yKCJGYWlsZWQgdG8gbG9hZCAiICsgdGhpcy5zcmMpLCB0KTsKICAgICAgICB9OwogICAgICB9CgogICAgICBmdW5jdGlvbiBzKHQsIGUpIHsKICAgICAgICB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICJjb21wbGV0ZSIgIT0gdGhpcy5yZWFkeVN0YXRlICYmICJsb2FkZWQiICE9IHRoaXMucmVhZHlTdGF0ZSB8fCAodGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsLCBlKG51bGwsIHQpKTsKICAgICAgICB9OwogICAgICB9CgogICAgICBlLmV4cG9ydHMgPSBmdW5jdGlvbiAodCwgZSwgbykgewogICAgICAgIHZhciByID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLAogICAgICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSAmJiAobyA9IGUsIGUgPSB7fSksIGUgPSBlIHx8IHt9LCBvID0gbyB8fCBmdW5jdGlvbiAoKSB7fSwgYS50eXBlID0gZS50eXBlIHx8ICJ0ZXh0L2phdmFzY3JpcHQiLCBhLmNoYXJzZXQgPSBlLmNoYXJzZXQgfHwgInV0ZjgiLCBhLmFzeW5jID0gISgiYXN5bmMiIGluIGUgJiYgIWUuYXN5bmMpLCBhLnNyYyA9IHQsIGUuYXR0cnMgJiYgaShhLCBlLmF0dHJzKSwgZS50ZXh0ICYmIChhLnRleHQgPSAiIiArIGUudGV4dCksICgib25sb2FkIiBpbiBhID8gbiA6IHMpKGEsIG8pLCBhLm9ubG9hZCB8fCBuKGEsIG8pLCByLmFwcGVuZENoaWxkKGEpOwogICAgICB9OwogICAgfSwge31dLAogICAgMjogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIGZ1bmN0aW9uIGkodCkgewogICAgICAgIGZvciAodmFyIGUgPSBuZXcgUmVnRXhwKCJjZG5cXC5qc2RlbGl2clxcLm5ldC9hbGdvbGlhc2VhcmNoL2xhdGVzdC8iICsgdC5yZXBsYWNlKCIuIiwgIlxcLiIpICsgIig/OlxcLm1pbik/XFwuanMkIiksIGkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksIG4gPSAhMSwgcyA9IDAsIG8gPSBpLmxlbmd0aDsgcyA8IG87IHMrKykgewogICAgICAgICAgaWYgKGlbc10uc3JjICYmIGUudGVzdChpW3NdLnNyYykpIHsKICAgICAgICAgICAgbiA9ICEwOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBuOwogICAgICB9CgogICAgICBlLmV4cG9ydHMgPSBpOwogICAgfSwge31dLAogICAgMzogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIGZ1bmN0aW9uIGkoZSkgewogICAgICAgIHZhciBpID0gdCgxKSwKICAgICAgICAgICAgcyA9ICIvL2Nkbi5qc2RlbGl2ci5uZXQvYWxnb2xpYXNlYXJjaC8yLyIgKyBlICsgIi5taW4uanMiLAogICAgICAgICAgICBvID0gIi0tIEFsZ29saWFTZWFyY2ggYGxhdGVzdGAgd2FybmluZyAtLVxuV2FybmluZywgeW91IGFyZSB1c2luZyB0aGUgYGxhdGVzdGAgdmVyc2lvbiBzdHJpbmcgZnJvbSBqc0RlbGl2ciB0byBsb2FkIHRoZSBBbGdvbGlhU2VhcmNoIGxpYnJhcnkuXG5Vc2luZyBgbGF0ZXN0YCBpcyBubyBtb3JlIHJlY29tbWVuZGVkLCB5b3Ugc2hvdWxkIGxvYWQgLy9jZG4uanNkZWxpdnIubmV0L2FsZ29saWFzZWFyY2gvMi9hbGdvbGlhc2VhcmNoLm1pbi5qc1xuXG5BbHNvLCB3ZSB1cGRhdGVkIHRoZSBBbGdvbGlhU2VhcmNoIEphdmFTY3JpcHQgY2xpZW50IHRvIFYzLiBJZiB5b3Ugd2FudCB0byB1cGdyYWRlLFxucGxlYXNlIHJlYWQgb3VyIG1pZ3JhdGlvbiBndWlkZSBhdCBodHRwczovL2dpdGh1Yi5jb20vYWxnb2xpYS9hbGdvbGlhc2VhcmNoLWNsaWVudC1qcy93aWtpL01pZ3JhdGlvbi1ndWlkZS1mcm9tLTIueC54LXRvLTMueC54XG4tLSAvQWxnb2xpYVNlYXJjaCAgYGxhdGVzdGAgd2FybmluZyAtLSI7CiAgICAgICAgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gPyB3aW5kb3cuY29uc29sZS53YXJuKG8pIDogd2luZG93LmNvbnNvbGUubG9nICYmIHdpbmRvdy5jb25zb2xlLmxvZyhvKSk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBkb2N1bWVudC53cml0ZSgiPHNjcmlwdD53aW5kb3cuQUxHT0xJQV9TVVBQT1JUU19ET0NXUklURSA9IHRydWU8L3NjcmlwdD4iKSwgITAgPT09IHdpbmRvdy5BTEdPTElBX1NVUFBPUlRTX0RPQ1dSSVRFID8gKGRvY3VtZW50LndyaXRlKCc8c2NyaXB0IHNyYz0iJyArIHMgKyAnIj48L3NjcmlwdD4nKSwgbigiZG9jdW1lbnQud3JpdGUiKSgpKSA6IGkocywgbigiRE9NRWxlbWVudCIpKTsKICAgICAgICB9IGNhdGNoIChyKSB7CiAgICAgICAgICBpKHMsIG4oIkRPTUVsZW1lbnQiKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBuKHQpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGUgPSAiQWxnb2xpYVNlYXJjaDogbG9hZGVkIFYyIHNjcmlwdCB1c2luZyAiICsgdDsKICAgICAgICAgIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZyAmJiB3aW5kb3cuY29uc29sZS5sb2coZSk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgZS5leHBvcnRzID0gaTsKICAgIH0sIHsKICAgICAgMTogMQogICAgfV0sCiAgICA0OiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgZnVuY3Rpb24gaSgpIHsKICAgICAgICB2YXIgdCA9ICItLSBBbGdvbGlhU2VhcmNoIFYyID0+IFYzIGVycm9yIC0tXG5Zb3UgYXJlIHRyeWluZyB0byB1c2UgYSBuZXcgdmVyc2lvbiBvZiB0aGUgQWxnb2xpYVNlYXJjaCBKYXZhU2NyaXB0IGNsaWVudCB3aXRoIGFuIG9sZCBub3RhdGlvbi5cblBsZWFzZSByZWFkIG91ciBtaWdyYXRpb24gZ3VpZGUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2FsZ29saWEvYWxnb2xpYXNlYXJjaC1jbGllbnQtanMvd2lraS9NaWdyYXRpb24tZ3VpZGUtZnJvbS0yLngueC10by0zLngueFxuLS0gL0FsZ29saWFTZWFyY2ggVjIgPT4gVjMgZXJyb3IgLS0iOwogICAgICAgIHdpbmRvdy5BbGdvbGlhU2VhcmNoID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHQpOwogICAgICAgIH0sIHdpbmRvdy5BbGdvbGlhU2VhcmNoSGVscGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHQpOwogICAgICAgIH0sIHdpbmRvdy5BbGdvbGlhRXhwbGFpblJlc3VsdHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodCk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgZS5leHBvcnRzID0gaTsKICAgIH0sIHt9XSwKICAgIDU6IFtmdW5jdGlvbiAodCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICBmdW5jdGlvbiBlKGUpIHsKICAgICAgICB2YXIgaSA9IHQoMiksCiAgICAgICAgICAgIG4gPSB0KDMpLAogICAgICAgICAgICBzID0gdCg0KTsKICAgICAgICBpKGUpID8gbihlKSA6IHMoKTsKICAgICAgfQoKICAgICAgZSgiYWxnb2xpYXNlYXJjaCIpOwogICAgfSwgewogICAgICAyOiAyLAogICAgICAzOiAzLAogICAgICA0OiA0CiAgICB9XQogIH0sIHt9LCBbNV0pKDUpOwp9KSwgZnVuY3Rpb24gKHQpIHsKICBpZiAoIm9iamVjdCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIG1vZHVsZSkgbW9kdWxlLmV4cG9ydHMgPSB0KCk7ZWxzZSBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQpIGRlZmluZShbXSwgdCk7ZWxzZSB7CiAgICAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIHdpbmRvdyA/IHdpbmRvdyA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBnbG9iYWwgPyBnbG9iYWwgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiB0aGlzKS5hbGdvbGlhc2VhcmNoID0gdCgpOwogIH0KfShmdW5jdGlvbiAoKSB7CiAgdmFyIHQ7CiAgcmV0dXJuIGZ1bmN0aW9uIGUodCwgaSwgbikgewogICAgZnVuY3Rpb24gcyhyLCBhKSB7CiAgICAgIGlmICghaVtyXSkgewogICAgICAgIGlmICghdFtyXSkgewogICAgICAgICAgdmFyIGggPSAiZnVuY3Rpb24iID09IHR5cGVvZiByZXF1aXJlICYmIHJlcXVpcmU7CiAgICAgICAgICBpZiAoIWEgJiYgaCkgcmV0dXJuIGgociwgITApOwogICAgICAgICAgaWYgKG8pIHJldHVybiBvKHIsICEwKTsKICAgICAgICAgIHZhciBsID0gbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIgKyByICsgIiciKTsKICAgICAgICAgIHRocm93IGwuY29kZSA9ICJNT0RVTEVfTk9UX0ZPVU5EIiwgbDsKICAgICAgICB9CgogICAgICAgIHZhciBjID0gaVtyXSA9IHsKICAgICAgICAgIGV4cG9ydHM6IHt9CiAgICAgICAgfTsKICAgICAgICB0W3JdWzBdLmNhbGwoYy5leHBvcnRzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIGkgPSB0W3JdWzFdW2VdOwogICAgICAgICAgcmV0dXJuIHMoaSB8fCBlKTsKICAgICAgICB9LCBjLCBjLmV4cG9ydHMsIGUsIHQsIGksIG4pOwogICAgICB9CgogICAgICByZXR1cm4gaVtyXS5leHBvcnRzOwogICAgfQoKICAgIGZvciAodmFyIG8gPSAiZnVuY3Rpb24iID09IHR5cGVvZiByZXF1aXJlICYmIHJlcXVpcmUsIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgewogICAgICBzKG5bcl0pOwogICAgfQoKICAgIHJldHVybiBzOwogIH0oewogICAgMTogW2Z1bmN0aW9uICh0LCBlLCBpKSB7CiAgICAgIChmdW5jdGlvbiAobikgewogICAgICAgIGZ1bmN0aW9uIHMoKSB7CiAgICAgICAgICByZXR1cm4gISgidW5kZWZpbmVkIiA9PSB0eXBlb2Ygd2luZG93IHx8ICF3aW5kb3cucHJvY2VzcyB8fCAicmVuZGVyZXIiICE9PSB3aW5kb3cucHJvY2Vzcy50eXBlKSB8fCAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSB8fCAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8IHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkgfHwgInVuZGVmaW5lZCIgIT0gdHlwZW9mIG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFwvKFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSB8fCAidW5kZWZpbmVkIiAhPSB0eXBlb2YgbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFwvKFxkKykvKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG8odCkgewogICAgICAgICAgdmFyIGUgPSB0aGlzLnVzZUNvbG9yczsKCiAgICAgICAgICBpZiAodFswXSA9IChlID8gIiVjIiA6ICIiKSArIHRoaXMubmFtZXNwYWNlICsgKGUgPyAiICVjIiA6ICIgIikgKyB0WzBdICsgKGUgPyAiJWMgIiA6ICIgIikgKyAiKyIgKyBpLmh1bWFuaXplKHRoaXMuZGlmZiksIGUpIHsKICAgICAgICAgICAgdmFyIG4gPSAiY29sb3I6ICIgKyB0aGlzLmNvbG9yOwogICAgICAgICAgICB0LnNwbGljZSgxLCAwLCBuLCAiY29sb3I6IGluaGVyaXQiKTsKICAgICAgICAgICAgdmFyIHMgPSAwLAogICAgICAgICAgICAgICAgbyA9IDA7CiAgICAgICAgICAgIHRbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgICIlJSIgIT09IHQgJiYgIiVjIiA9PT0gdCAmJiAobyA9ICsrcyk7CiAgICAgICAgICAgIH0pLCB0LnNwbGljZShvLCAwLCBuKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHIoKSB7CiAgICAgICAgICByZXR1cm4gIm9iamVjdCIgPT0gKHR5cGVvZiBjb25zb2xlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihjb25zb2xlKSkgJiYgY29uc29sZS5sb2cgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUsIGFyZ3VtZW50cyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhKHQpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIG51bGwgPT0gdCA/IGkuc3RvcmFnZS5yZW1vdmVJdGVtKCJkZWJ1ZyIpIDogaS5zdG9yYWdlLmRlYnVnID0gdDsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoKCkgewogICAgICAgICAgdmFyIHQ7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdCA9IGkuc3RvcmFnZS5kZWJ1ZzsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgICAgcmV0dXJuICF0ICYmIHZvaWQgMCAhPT0gbiAmJiAiZW52IiBpbiBuICYmICh0ID0gbi5lbnYuREVCVUcpLCB0OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbCgpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlOwogICAgICAgICAgfSBjYXRjaCAodCkge30KICAgICAgICB9CgogICAgICAgIChpID0gZS5leHBvcnRzID0gdCgyKSkubG9nID0gciwgaS5mb3JtYXRBcmdzID0gbywgaS5zYXZlID0gYSwgaS5sb2FkID0gaCwgaS51c2VDb2xvcnMgPSBzLCBpLnN0b3JhZ2UgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2YgY2hyb21lICYmICJ1bmRlZmluZWQiICE9IHR5cGVvZiBjaHJvbWUuc3RvcmFnZSA/IGNocm9tZS5zdG9yYWdlLmxvY2FsIDogbCgpLCBpLmNvbG9ycyA9IFsibGlnaHRzZWFncmVlbiIsICJmb3Jlc3RncmVlbiIsICJnb2xkZW5yb2QiLCAiZG9kZ2VyYmx1ZSIsICJkYXJrb3JjaGlkIiwgImNyaW1zb24iXSwgaS5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gIltVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAiICsgZS5tZXNzYWdlOwogICAgICAgICAgfQogICAgICAgIH0sIGkuZW5hYmxlKGgoKSk7CiAgICAgIH0pLmNhbGwodGhpcywgdCgxMikpOwogICAgfSwgewogICAgICAxMjogMTIsCiAgICAgIDI6IDIKICAgIH1dLAogICAgMjogW2Z1bmN0aW9uICh0LCBlLCBpKSB7CiAgICAgIGZ1bmN0aW9uIG4odCkgewogICAgICAgIHZhciBlLAogICAgICAgICAgICBuID0gMDsKCiAgICAgICAgZm9yIChlIGluIHQpIHsKICAgICAgICAgIG4gPSAobiA8PCA1KSAtIG4gKyB0LmNoYXJDb2RlQXQoZSksIG4gfD0gMDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpLmNvbG9yc1tNYXRoLmFicyhuKSAlIGkuY29sb3JzLmxlbmd0aF07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHModCkgewogICAgICAgIGZ1bmN0aW9uIGUoKSB7CiAgICAgICAgICBpZiAoZS5lbmFibGVkKSB7CiAgICAgICAgICAgIHZhciB0ID0gZSwKICAgICAgICAgICAgICAgIG4gPSArbmV3IERhdGUoKSwKICAgICAgICAgICAgICAgIHMgPSBuIC0gKGwgfHwgbik7CiAgICAgICAgICAgIHQuZGlmZiA9IHMsIHQucHJldiA9IGwsIHQuY3VyciA9IG4sIGwgPSBuOwoKICAgICAgICAgICAgZm9yICh2YXIgbyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSwgciA9IDA7IHIgPCBvLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgICAgb1tyXSA9IGFyZ3VtZW50c1tyXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgb1swXSA9IGkuY29lcmNlKG9bMF0pLCAic3RyaW5nIiAhPSB0eXBlb2Ygb1swXSAmJiBvLnVuc2hpZnQoIiVPIik7CiAgICAgICAgICAgIHZhciBhID0gMDsKICAgICAgICAgICAgb1swXSA9IG9bMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uIChlLCBuKSB7CiAgICAgICAgICAgICAgaWYgKCIlJSIgPT09IGUpIHJldHVybiBlOwogICAgICAgICAgICAgIGErKzsKICAgICAgICAgICAgICB2YXIgcyA9IGkuZm9ybWF0dGVyc1tuXTsKCiAgICAgICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIHMpIHsKICAgICAgICAgICAgICAgIHZhciByID0gb1thXTsKICAgICAgICAgICAgICAgIGUgPSBzLmNhbGwodCwgciksIG8uc3BsaWNlKGEsIDEpLCBhLS07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gZTsKICAgICAgICAgICAgfSksIGkuZm9ybWF0QXJncy5jYWxsKHQsIG8pLCAoZS5sb2cgfHwgaS5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKSkuYXBwbHkodCwgbyk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZS5uYW1lc3BhY2UgPSB0LCBlLmVuYWJsZWQgPSBpLmVuYWJsZWQodCksIGUudXNlQ29sb3JzID0gaS51c2VDb2xvcnMoKSwgZS5jb2xvciA9IG4odCksICJmdW5jdGlvbiIgPT0gdHlwZW9mIGkuaW5pdCAmJiBpLmluaXQoZSksIGU7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG8odCkgewogICAgICAgIGkuc2F2ZSh0KSwgaS5uYW1lcyA9IFtdLCBpLnNraXBzID0gW107CgogICAgICAgIGZvciAodmFyIGUgPSAoInN0cmluZyIgPT0gdHlwZW9mIHQgPyB0IDogIiIpLnNwbGl0KC9bXHMsXSsvKSwgbiA9IGUubGVuZ3RoLCBzID0gMDsgcyA8IG47IHMrKykgewogICAgICAgICAgZVtzXSAmJiAoIi0iID09PSAodCA9IGVbc10ucmVwbGFjZSgvXCovZywgIi4qPyIpKVswXSA/IGkuc2tpcHMucHVzaChuZXcgUmVnRXhwKCJeIiArIHQuc3Vic3RyKDEpICsgIiQiKSkgOiBpLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgiXiIgKyB0ICsgIiQiKSkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gcigpIHsKICAgICAgICBpLmVuYWJsZSgiIik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGEodCkgewogICAgICAgIHZhciBlLCBuOwoKICAgICAgICBmb3IgKGUgPSAwLCBuID0gaS5za2lwcy5sZW5ndGg7IGUgPCBuOyBlKyspIHsKICAgICAgICAgIGlmIChpLnNraXBzW2VdLnRlc3QodCkpIHJldHVybiAhMTsKICAgICAgICB9CgogICAgICAgIGZvciAoZSA9IDAsIG4gPSBpLm5hbWVzLmxlbmd0aDsgZSA8IG47IGUrKykgewogICAgICAgICAgaWYgKGkubmFtZXNbZV0udGVzdCh0KSkgcmV0dXJuICEwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICExOwogICAgICB9CgogICAgICBmdW5jdGlvbiBoKHQpIHsKICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mIEVycm9yID8gdC5zdGFjayB8fCB0Lm1lc3NhZ2UgOiB0OwogICAgICB9CgogICAgICB2YXIgbDsKICAgICAgKGkgPSBlLmV4cG9ydHMgPSBzLmRlYnVnID0gc1siZGVmYXVsdCJdID0gcykuY29lcmNlID0gaCwgaS5kaXNhYmxlID0gciwgaS5lbmFibGUgPSBvLCBpLmVuYWJsZWQgPSBhLCBpLmh1bWFuaXplID0gdCg5KSwgaS5uYW1lcyA9IFtdLCBpLnNraXBzID0gW10sIGkuZm9ybWF0dGVycyA9IHt9OwogICAgfSwgewogICAgICA5OiA5CiAgICB9XSwKICAgIDM6IFtmdW5jdGlvbiAoZSwgaSwgbikgewogICAgICAoZnVuY3Rpb24gKHMsIG8pIHsKICAgICAgICAhZnVuY3Rpb24gKGUsIHMpIHsKICAgICAgICAgICJvYmplY3QiID09IF90eXBlb2YobikgJiYgdm9pZCAwICE9PSBpID8gaS5leHBvcnRzID0gcygpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCAmJiB0LmFtZCA/IHQocykgOiBlLkVTNlByb21pc2UgPSBzKCk7CiAgICAgICAgfSh0aGlzLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAidXNlIHN0cmljdCI7CgogICAgICAgICAgZnVuY3Rpb24gdCh0KSB7CiAgICAgICAgICAgIHZhciBlID0gX3R5cGVvZih0KTsKCiAgICAgICAgICAgIHJldHVybiBudWxsICE9PSB0ICYmICgib2JqZWN0IiA9PT0gZSB8fCAiZnVuY3Rpb24iID09PSBlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBpKHQpIHsKICAgICAgICAgICAgcmV0dXJuICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQ7CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gbih0KSB7CiAgICAgICAgICAgIFggPSB0OwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIHIodCkgewogICAgICAgICAgICBRID0gdDsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBhKCkgewogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBzLm5leHRUaWNrKHApOwogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIGgoKSB7CiAgICAgICAgICAgIHJldHVybiB2b2lkIDAgIT09IFYgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgVihwKTsKICAgICAgICAgICAgfSA6IHUoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBsKCkgewogICAgICAgICAgICB2YXIgdCA9IDAsCiAgICAgICAgICAgICAgICBlID0gbmV3IEcocCksCiAgICAgICAgICAgICAgICBpID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpOwogICAgICAgICAgICByZXR1cm4gZS5vYnNlcnZlKGksIHsKICAgICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiAhMAogICAgICAgICAgICB9KSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGkuZGF0YSA9IHQgPSArK3QgJSAyOwogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIGMoKSB7CiAgICAgICAgICAgIHZhciB0ID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7CiAgICAgICAgICAgIHJldHVybiB0LnBvcnQxLm9ubWVzc2FnZSA9IHAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gdC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiB1KCkgewogICAgICAgICAgICB2YXIgdCA9IHNldFRpbWVvdXQ7CiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHQocCwgMSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gcCgpIHsKICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBCOyB0ICs9IDIpIHsKICAgICAgICAgICAgICAoMCwgZXRbdF0pKGV0W3QgKyAxXSksIGV0W3RdID0gdm9pZCAwLCBldFt0ICsgMV0gPSB2b2lkIDA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEIgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIGQoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgdmFyIHQgPSBlKCJ2ZXJ0eCIpOwogICAgICAgICAgICAgIHJldHVybiBWID0gdC5ydW5Pbkxvb3AgfHwgdC5ydW5PbkNvbnRleHQsIGgoKTsKICAgICAgICAgICAgfSBjYXRjaCAobikgewogICAgICAgICAgICAgIHJldHVybiB1KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBmKHQsIGUpIHsKICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMsCiAgICAgICAgICAgICAgICBuID0gdGhpcywKICAgICAgICAgICAgICAgIHMgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihnKTsKICAgICAgICAgICAgdm9pZCAwID09PSBzW250XSAmJiBqKHMpOwogICAgICAgICAgICB2YXIgbyA9IG4uX3N0YXRlOwogICAgICAgICAgICByZXR1cm4gbyA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgdCA9IGlbbyAtIDFdOwogICAgICAgICAgICAgIFEoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIE8obywgcywgdCwgbi5fcmVzdWx0KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSgpIDogRShuLCBzLCB0LCBlKSwgczsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBtKHQpIHsKICAgICAgICAgICAgdmFyIGUgPSB0aGlzOwogICAgICAgICAgICBpZiAodCAmJiAib2JqZWN0IiA9PSBfdHlwZW9mKHQpICYmIHQuY29uc3RydWN0b3IgPT09IGUpIHJldHVybiB0OwogICAgICAgICAgICB2YXIgaSA9IG5ldyBlKGcpOwogICAgICAgICAgICByZXR1cm4gQyhpLCB0KSwgaTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBnKCkge30KCiAgICAgICAgICBmdW5jdGlvbiB2KCkgewogICAgICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcigiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZiIpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIHkoKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCJBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuIik7CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gXyh0KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgcmV0dXJuIHQudGhlbjsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIHJldHVybiBhdC5lcnJvciA9IGUsIGF0OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gYih0LCBlLCBpLCBuKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgdC5jYWxsKGUsIGksIG4pOwogICAgICAgICAgICB9IGNhdGNoIChzKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiB3KHQsIGUsIGkpIHsKICAgICAgICAgICAgUShmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgIHZhciBuID0gITEsCiAgICAgICAgICAgICAgICAgIHMgPSBiKGksIGUsIGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICBuIHx8IChuID0gITAsIGUgIT09IGkgPyBDKHQsIGkpIDogUyh0LCBpKSk7CiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIG4gfHwgKG4gPSAhMCwgSSh0LCBlKSk7CiAgICAgICAgICAgICAgfSwgIlNldHRsZTogIiArICh0Ll9sYWJlbCB8fCAiIHVua25vd24gcHJvbWlzZSIpKTsKICAgICAgICAgICAgICAhbiAmJiBzICYmIChuID0gITAsIEkodCwgcykpOwogICAgICAgICAgICB9LCB0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiB4KHQsIGUpIHsKICAgICAgICAgICAgZS5fc3RhdGUgPT09IG90ID8gUyh0LCBlLl9yZXN1bHQpIDogZS5fc3RhdGUgPT09IHJ0ID8gSSh0LCBlLl9yZXN1bHQpIDogRShlLCB2b2lkIDAsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIEModCwgZSk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIEkodCwgZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIFAodCwgZSwgbikgewogICAgICAgICAgICBlLmNvbnN0cnVjdG9yID09PSB0LmNvbnN0cnVjdG9yICYmIG4gPT09IGYgJiYgZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBtID8geCh0LCBlKSA6IG4gPT09IGF0ID8gKEkodCwgYXQuZXJyb3IpLCBhdC5lcnJvciA9IG51bGwpIDogdm9pZCAwID09PSBuID8gUyh0LCBlKSA6IGkobikgPyB3KHQsIGUsIG4pIDogUyh0LCBlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBDKGUsIGkpIHsKICAgICAgICAgICAgZSA9PT0gaSA/IEkoZSwgdigpKSA6IHQoaSkgPyBQKGUsIGksIF8oaSkpIDogUyhlLCBpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBUKHQpIHsKICAgICAgICAgICAgdC5fb25lcnJvciAmJiB0Ll9vbmVycm9yKHQuX3Jlc3VsdCksIEEodCk7CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gUyh0LCBlKSB7CiAgICAgICAgICAgIHQuX3N0YXRlID09PSBzdCAmJiAodC5fcmVzdWx0ID0gZSwgdC5fc3RhdGUgPSBvdCwgMCAhPT0gdC5fc3Vic2NyaWJlcnMubGVuZ3RoICYmIFEoQSwgdCkpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIEkodCwgZSkgewogICAgICAgICAgICB0Ll9zdGF0ZSA9PT0gc3QgJiYgKHQuX3N0YXRlID0gcnQsIHQuX3Jlc3VsdCA9IGUsIFEoVCwgdCkpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIEUodCwgZSwgaSwgbikgewogICAgICAgICAgICB2YXIgcyA9IHQuX3N1YnNjcmliZXJzLAogICAgICAgICAgICAgICAgbyA9IHMubGVuZ3RoOwogICAgICAgICAgICB0Ll9vbmVycm9yID0gbnVsbCwgc1tvXSA9IGUsIHNbbyArIG90XSA9IGksIHNbbyArIHJ0XSA9IG4sIDAgPT09IG8gJiYgdC5fc3RhdGUgJiYgUShBLCB0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBBKHQpIHsKICAgICAgICAgICAgdmFyIGUgPSB0Ll9zdWJzY3JpYmVycywKICAgICAgICAgICAgICAgIGkgPSB0Ll9zdGF0ZTsKCiAgICAgICAgICAgIGlmICgwICE9PSBlLmxlbmd0aCkgewogICAgICAgICAgICAgIGZvciAodmFyIG4gPSB2b2lkIDAsIHMgPSB2b2lkIDAsIG8gPSB0Ll9yZXN1bHQsIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIgKz0gMykgewogICAgICAgICAgICAgICAgbiA9IGVbcl0sIHMgPSBlW3IgKyBpXSwgbiA/IE8oaSwgbiwgcywgbykgOiBzKG8pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgdC5fc3Vic2NyaWJlcnMubGVuZ3RoID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIFIoKSB7CiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIGsodCwgZSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHJldHVybiB0KGUpOwogICAgICAgICAgICB9IGNhdGNoIChpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGh0LmVycm9yID0gaSwgaHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBPKHQsIGUsIG4sIHMpIHsKICAgICAgICAgICAgdmFyIG8gPSBpKG4pLAogICAgICAgICAgICAgICAgciA9IHZvaWQgMCwKICAgICAgICAgICAgICAgIGEgPSB2b2lkIDAsCiAgICAgICAgICAgICAgICBoID0gdm9pZCAwLAogICAgICAgICAgICAgICAgbCA9IHZvaWQgMDsKCiAgICAgICAgICAgIGlmIChvKSB7CiAgICAgICAgICAgICAgaWYgKChyID0gayhuLCBzKSkgPT09IGh0ID8gKGwgPSAhMCwgYSA9IHIuZXJyb3IsIHIuZXJyb3IgPSBudWxsKSA6IGggPSAhMCwgZSA9PT0gcikgcmV0dXJuIHZvaWQgSShlLCB5KCkpOwogICAgICAgICAgICB9IGVsc2UgciA9IHMsIGggPSAhMDsKCiAgICAgICAgICAgIGUuX3N0YXRlICE9PSBzdCB8fCAobyAmJiBoID8gQyhlLCByKSA6IGwgPyBJKGUsIGEpIDogdCA9PT0gb3QgPyBTKGUsIHIpIDogdCA9PT0gcnQgJiYgSShlLCByKSk7CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gRCh0LCBlKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgQyh0LCBlKTsKICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgSSh0LCBlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBjYXRjaCAoaSkgewogICAgICAgICAgICAgIEkodCwgaSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBOKCkgewogICAgICAgICAgICByZXR1cm4gbHQrKzsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBqKHQpIHsKICAgICAgICAgICAgdFtudF0gPSBsdCsrLCB0Ll9zdGF0ZSA9IHZvaWQgMCwgdC5fcmVzdWx0ID0gdm9pZCAwLCB0Ll9zdWJzY3JpYmVycyA9IFtdOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIHoodCwgZSkgewogICAgICAgICAgICB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yID0gdCwgdGhpcy5wcm9taXNlID0gbmV3IHQoZyksIHRoaXMucHJvbWlzZVtudF0gfHwgaih0aGlzLnByb21pc2UpLCBLKGUpID8gKHRoaXMubGVuZ3RoID0gZS5sZW5ndGgsIHRoaXMuX3JlbWFpbmluZyA9IGUubGVuZ3RoLCB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpLCAwID09PSB0aGlzLmxlbmd0aCA/IFModGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpIDogKHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMCwgdGhpcy5fZW51bWVyYXRlKGUpLCAwID09PSB0aGlzLl9yZW1haW5pbmcgJiYgUyh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCkpKSA6IEkodGhpcy5wcm9taXNlLCBIKCkpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIEgoKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoIkFycmF5IE1ldGhvZHMgbXVzdCBiZSBwcm92aWRlZCBhbiBBcnJheSIpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIEwodCkgewogICAgICAgICAgICByZXR1cm4gbmV3IHoodGhpcywgdCkucHJvbWlzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBVKHQpIHsKICAgICAgICAgICAgdmFyIGUgPSB0aGlzOwogICAgICAgICAgICByZXR1cm4gbmV3IGUoSyh0KSA/IGZ1bmN0aW9uIChpLCBuKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IHQubGVuZ3RoLCBvID0gMDsgbyA8IHM7IG8rKykgewogICAgICAgICAgICAgICAgZS5yZXNvbHZlKHRbb10pLnRoZW4oaSwgbik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IDogZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgICByZXR1cm4gZShuZXcgVHlwZUVycm9yKCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuIikpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBNKHQpIHsKICAgICAgICAgICAgdmFyIGUgPSBuZXcgdGhpcyhnKTsKICAgICAgICAgICAgcmV0dXJuIEkoZSwgdCksIGU7CiAgICAgICAgICB9CgogICAgICAgICAgZnVuY3Rpb24gcSgpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvciIpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uICQoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLiIpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIFcodCkgewogICAgICAgICAgICB0aGlzW250XSA9IE4oKSwgdGhpcy5fcmVzdWx0ID0gdGhpcy5fc3RhdGUgPSB2b2lkIDAsIHRoaXMuX3N1YnNjcmliZXJzID0gW10sIGcgIT09IHQgJiYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIHQgJiYgcSgpLCB0aGlzIGluc3RhbmNlb2YgVyA/IEQodGhpcywgdCkgOiAkKCkpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIEYoKSB7CiAgICAgICAgICAgIHZhciB0ID0gdm9pZCAwOwogICAgICAgICAgICBpZiAodm9pZCAwICE9PSBvKSB0ID0gbztlbHNlIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2Ygc2VsZikgdCA9IHNlbGY7ZWxzZSB0cnkgewogICAgICAgICAgICAgIHQgPSBGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgaSA9IHQuUHJvbWlzZTsKCiAgICAgICAgICAgIGlmIChpKSB7CiAgICAgICAgICAgICAgdmFyIG4gPSBudWxsOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpLnJlc29sdmUoKSk7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgICAgICAgaWYgKCJbb2JqZWN0IFByb21pc2VdIiA9PT0gbiAmJiAhaS5jYXN0KSByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHQuUHJvbWlzZSA9IFc7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIEsgPSBBcnJheS5pc0FycmF5ID8gQXJyYXkuaXNBcnJheSA6IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHJldHVybiAiW29iamVjdCBBcnJheV0iID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk7CiAgICAgICAgICB9LAogICAgICAgICAgICAgIEIgPSAwLAogICAgICAgICAgICAgIFYgPSB2b2lkIDAsCiAgICAgICAgICAgICAgWCA9IHZvaWQgMCwKICAgICAgICAgICAgICBRID0gZnVuY3Rpb24gUSh0LCBlKSB7CiAgICAgICAgICAgIGV0W0JdID0gdCwgZXRbQiArIDFdID0gZSwgMiA9PT0gKEIgKz0gMikgJiYgKFggPyBYKHApIDogaXQoKSk7CiAgICAgICAgICB9LAogICAgICAgICAgICAgIFkgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogdm9pZCAwLAogICAgICAgICAgICAgIEogPSBZIHx8IHt9LAogICAgICAgICAgICAgIEcgPSBKLk11dGF0aW9uT2JzZXJ2ZXIgfHwgSi5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLAogICAgICAgICAgICAgIFogPSAidW5kZWZpbmVkIiA9PSB0eXBlb2Ygc2VsZiAmJiB2b2lkIDAgIT09IHMgJiYgIltvYmplY3QgcHJvY2Vzc10iID09PSB7fS50b1N0cmluZy5jYWxsKHMpLAogICAgICAgICAgICAgIHR0ID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICYmICJ1bmRlZmluZWQiICE9IHR5cGVvZiBpbXBvcnRTY3JpcHRzICYmICJ1bmRlZmluZWQiICE9IHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCwKICAgICAgICAgICAgICBldCA9IG5ldyBBcnJheSgxZTMpLAogICAgICAgICAgICAgIGl0ID0gdm9pZCAwOwoKICAgICAgICAgIGl0ID0gWiA/IGEoKSA6IEcgPyBsKCkgOiB0dCA/IGMoKSA6IHZvaWQgMCA9PT0gWSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBlID8gZCgpIDogdSgpOwogICAgICAgICAgdmFyIG50ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDE2KSwKICAgICAgICAgICAgICBzdCA9IHZvaWQgMCwKICAgICAgICAgICAgICBvdCA9IDEsCiAgICAgICAgICAgICAgcnQgPSAyLAogICAgICAgICAgICAgIGF0ID0gbmV3IFIoKSwKICAgICAgICAgICAgICBodCA9IG5ldyBSKCksCiAgICAgICAgICAgICAgbHQgPSAwOwogICAgICAgICAgcmV0dXJuIHoucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbiAodCkgewogICAgICAgICAgICBmb3IgKHZhciBlID0gMDsgdGhpcy5fc3RhdGUgPT09IHN0ICYmIGUgPCB0Lmxlbmd0aDsgZSsrKSB7CiAgICAgICAgICAgICAgdGhpcy5fZWFjaEVudHJ5KHRbZV0sIGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB6LnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgdmFyIGkgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yLAogICAgICAgICAgICAgICAgbiA9IGkucmVzb2x2ZTsKCiAgICAgICAgICAgIGlmIChuID09PSBtKSB7CiAgICAgICAgICAgICAgdmFyIHMgPSBfKHQpOwoKICAgICAgICAgICAgICBpZiAocyA9PT0gZiAmJiB0Ll9zdGF0ZSAhPT0gc3QpIHRoaXMuX3NldHRsZWRBdCh0Ll9zdGF0ZSwgZSwgdC5fcmVzdWx0KTtlbHNlIGlmICgiZnVuY3Rpb24iICE9IHR5cGVvZiBzKSB0aGlzLl9yZW1haW5pbmctLSwgdGhpcy5fcmVzdWx0W2VdID0gdDtlbHNlIGlmIChpID09PSBXKSB7CiAgICAgICAgICAgICAgICB2YXIgbyA9IG5ldyBpKGcpOwogICAgICAgICAgICAgICAgUChvLCB0LCBzKSwgdGhpcy5fd2lsbFNldHRsZUF0KG8sIGUpOwogICAgICAgICAgICAgIH0gZWxzZSB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGkoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlKHQpOwogICAgICAgICAgICAgIH0pLCBlKTsKICAgICAgICAgICAgfSBlbHNlIHRoaXMuX3dpbGxTZXR0bGVBdChuKHQpLCBlKTsKICAgICAgICAgIH0sIHoucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgICAgICB2YXIgbiA9IHRoaXMucHJvbWlzZTsKICAgICAgICAgICAgbi5fc3RhdGUgPT09IHN0ICYmICh0aGlzLl9yZW1haW5pbmctLSwgdCA9PT0gcnQgPyBJKG4sIGkpIDogdGhpcy5fcmVzdWx0W2VdID0gaSksIDAgPT09IHRoaXMuX3JlbWFpbmluZyAmJiBTKG4sIHRoaXMuX3Jlc3VsdCk7CiAgICAgICAgICB9LCB6LnByb3RvdHlwZS5fd2lsbFNldHRsZUF0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgdmFyIGkgPSB0aGlzOwogICAgICAgICAgICBFKHQsIHZvaWQgMCwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICByZXR1cm4gaS5fc2V0dGxlZEF0KG90LCBlLCB0KTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICByZXR1cm4gaS5fc2V0dGxlZEF0KHJ0LCBlLCB0KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCBXLmFsbCA9IEwsIFcucmFjZSA9IFUsIFcucmVzb2x2ZSA9IG0sIFcucmVqZWN0ID0gTSwgVy5fc2V0U2NoZWR1bGVyID0gbiwgVy5fc2V0QXNhcCA9IHIsIFcuX2FzYXAgPSBRLCBXLnByb3RvdHlwZSA9IHsKICAgICAgICAgICAgY29uc3RydWN0b3I6IFcsCiAgICAgICAgICAgIHRoZW46IGYsCiAgICAgICAgICAgICJjYXRjaCI6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCB0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgVy5wb2x5ZmlsbCA9IEYsIFcuUHJvbWlzZSA9IFcsIFc7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhbGwodGhpcywgZSgxMiksICJ1bmRlZmluZWQiICE9IHR5cGVvZiBnbG9iYWwgPyBnbG9iYWwgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDoge30pOwogICAgfSwgewogICAgICAxMjogMTIKICAgIH1dLAogICAgNDogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIGZ1bmN0aW9uIGkoKSB7CiAgICAgICAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9LCB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdm9pZCAwOwogICAgICB9CgogICAgICBmdW5jdGlvbiBuKHQpIHsKICAgICAgICByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcyh0KSB7CiAgICAgICAgcmV0dXJuICJudW1iZXIiID09IHR5cGVvZiB0OwogICAgICB9CgogICAgICBmdW5jdGlvbiBvKHQpIHsKICAgICAgICByZXR1cm4gIm9iamVjdCIgPT0gX3R5cGVvZih0KSAmJiBudWxsICE9PSB0OwogICAgICB9CgogICAgICBmdW5jdGlvbiByKHQpIHsKICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0OwogICAgICB9CgogICAgICBlLmV4cG9ydHMgPSBpLCBpLkV2ZW50RW1pdHRlciA9IGksIGkucHJvdG90eXBlLl9ldmVudHMgPSB2b2lkIDAsIGkucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB2b2lkIDAsIGkuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwLCBpLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiAodCkgewogICAgICAgIGlmICghcyh0KSB8fCB0IDwgMCB8fCBpc05hTih0KSkgdGhyb3cgVHlwZUVycm9yKCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIiKTsKICAgICAgICByZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzID0gdCwgdGhpczsKICAgICAgfSwgaS5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdmFyIGUsIGksIHMsIGEsIGgsIGw7CgogICAgICAgIGlmICh0aGlzLl9ldmVudHMgfHwgKHRoaXMuX2V2ZW50cyA9IHt9KSwgImVycm9yIiA9PT0gdCAmJiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fCBvKHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7CiAgICAgICAgICBpZiAoKGUgPSBhcmd1bWVudHNbMV0pIGluc3RhbmNlb2YgRXJyb3IpIHRocm93IGU7CiAgICAgICAgICB2YXIgYyA9IG5ldyBFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkICJlcnJvciIgZXZlbnQuICgnICsgZSArICIpIik7CiAgICAgICAgICB0aHJvdyBjLmNvbnRleHQgPSBlLCBjOwogICAgICAgIH0KCiAgICAgICAgaWYgKHIoaSA9IHRoaXMuX2V2ZW50c1t0XSkpIHJldHVybiAhMTsKICAgICAgICBpZiAobihpKSkgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGkuY2FsbCh0aGlzKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBpLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBpLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBhID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgaS5hcHBseSh0aGlzLCBhKTsKICAgICAgICB9IGVsc2UgaWYgKG8oaSkpIGZvciAoYSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIHMgPSAobCA9IGkuc2xpY2UoKSkubGVuZ3RoLCBoID0gMDsgaCA8IHM7IGgrKykgewogICAgICAgICAgbFtoXS5hcHBseSh0aGlzLCBhKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICEwOwogICAgICB9LCBpLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgdmFyIHM7CiAgICAgICAgaWYgKCFuKGUpKSB0aHJvdyBUeXBlRXJyb3IoImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbiIpOwogICAgICAgIHJldHVybiB0aGlzLl9ldmVudHMgfHwgKHRoaXMuX2V2ZW50cyA9IHt9KSwgdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyICYmIHRoaXMuZW1pdCgibmV3TGlzdGVuZXIiLCB0LCBuKGUubGlzdGVuZXIpID8gZS5saXN0ZW5lciA6IGUpLCB0aGlzLl9ldmVudHNbdF0gPyBvKHRoaXMuX2V2ZW50c1t0XSkgPyB0aGlzLl9ldmVudHNbdF0ucHVzaChlKSA6IHRoaXMuX2V2ZW50c1t0XSA9IFt0aGlzLl9ldmVudHNbdF0sIGVdIDogdGhpcy5fZXZlbnRzW3RdID0gZSwgbyh0aGlzLl9ldmVudHNbdF0pICYmICF0aGlzLl9ldmVudHNbdF0ud2FybmVkICYmIChzID0gcih0aGlzLl9tYXhMaXN0ZW5lcnMpID8gaS5kZWZhdWx0TWF4TGlzdGVuZXJzIDogdGhpcy5fbWF4TGlzdGVuZXJzKSAmJiBzID4gMCAmJiB0aGlzLl9ldmVudHNbdF0ubGVuZ3RoID4gcyAmJiAodGhpcy5fZXZlbnRzW3RdLndhcm5lZCA9ICEwLCBjb25zb2xlLmVycm9yKCIobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAlZCBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LiIsIHRoaXMuX2V2ZW50c1t0XS5sZW5ndGgpLCAiZnVuY3Rpb24iID09IHR5cGVvZiBjb25zb2xlLnRyYWNlICYmIGNvbnNvbGUudHJhY2UoKSksIHRoaXM7CiAgICAgIH0sIGkucHJvdG90eXBlLm9uID0gaS5wcm90b3R5cGUuYWRkTGlzdGVuZXIsIGkucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIGZ1bmN0aW9uIGkoKSB7CiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHQsIGkpLCBzIHx8IChzID0gITAsIGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIW4oZSkpIHRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7CiAgICAgICAgdmFyIHMgPSAhMTsKICAgICAgICByZXR1cm4gaS5saXN0ZW5lciA9IGUsIHRoaXMub24odCwgaSksIHRoaXM7CiAgICAgIH0sIGkucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICB2YXIgaSwgcywgciwgYTsKICAgICAgICBpZiAoIW4oZSkpIHRocm93IFR5cGVFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIik7CiAgICAgICAgaWYgKCF0aGlzLl9ldmVudHMgfHwgIXRoaXMuX2V2ZW50c1t0XSkgcmV0dXJuIHRoaXM7CiAgICAgICAgaWYgKHIgPSAoaSA9IHRoaXMuX2V2ZW50c1t0XSkubGVuZ3RoLCBzID0gLTEsIGkgPT09IGUgfHwgbihpLmxpc3RlbmVyKSAmJiBpLmxpc3RlbmVyID09PSBlKSBkZWxldGUgdGhpcy5fZXZlbnRzW3RdLCB0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIgJiYgdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsIHQsIGUpO2Vsc2UgaWYgKG8oaSkpIHsKICAgICAgICAgIGZvciAoYSA9IHI7IGEtLSA+IDA7KSB7CiAgICAgICAgICAgIGlmIChpW2FdID09PSBlIHx8IGlbYV0ubGlzdGVuZXIgJiYgaVthXS5saXN0ZW5lciA9PT0gZSkgewogICAgICAgICAgICAgIHMgPSBhOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHMgPCAwKSByZXR1cm4gdGhpczsKICAgICAgICAgIDEgPT09IGkubGVuZ3RoID8gKGkubGVuZ3RoID0gMCwgZGVsZXRlIHRoaXMuX2V2ZW50c1t0XSkgOiBpLnNwbGljZShzLCAxKSwgdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyICYmIHRoaXMuZW1pdCgicmVtb3ZlTGlzdGVuZXIiLCB0LCBlKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0sIGkucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdmFyIGUsIGk7CiAgICAgICAgaWYgKCF0aGlzLl9ldmVudHMpIHJldHVybiB0aGlzOwogICAgICAgIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSByZXR1cm4gMCA9PT0gYXJndW1lbnRzLmxlbmd0aCA/IHRoaXMuX2V2ZW50cyA9IHt9IDogdGhpcy5fZXZlbnRzW3RdICYmIGRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sIHRoaXM7CgogICAgICAgIGlmICgwID09PSBhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgICAgICBmb3IgKGUgaW4gdGhpcy5fZXZlbnRzKSB7CiAgICAgICAgICAgICJyZW1vdmVMaXN0ZW5lciIgIT09IGUgJiYgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoZSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCJyZW1vdmVMaXN0ZW5lciIpLCB0aGlzLl9ldmVudHMgPSB7fSwgdGhpczsKICAgICAgICB9CgogICAgICAgIGlmIChuKGkgPSB0aGlzLl9ldmVudHNbdF0pKSB0aGlzLnJlbW92ZUxpc3RlbmVyKHQsIGkpO2Vsc2UgaWYgKGkpIGZvciAoOyBpLmxlbmd0aDspIHsKICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodCwgaVtpLmxlbmd0aCAtIDFdKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGRlbGV0ZSB0aGlzLl9ldmVudHNbdF0sIHRoaXM7CiAgICAgIH0sIGkucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbdF0gPyBuKHRoaXMuX2V2ZW50c1t0XSkgPyBbdGhpcy5fZXZlbnRzW3RdXSA6IHRoaXMuX2V2ZW50c1t0XS5zbGljZSgpIDogW107CiAgICAgIH0sIGkucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiAodCkgewogICAgICAgIGlmICh0aGlzLl9ldmVudHMpIHsKICAgICAgICAgIHZhciBlID0gdGhpcy5fZXZlbnRzW3RdOwogICAgICAgICAgaWYgKG4oZSkpIHJldHVybiAxOwogICAgICAgICAgaWYgKGUpIHJldHVybiBlLmxlbmd0aDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAwOwogICAgICB9LCBpLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiB0Lmxpc3RlbmVyQ291bnQoZSk7CiAgICAgIH07CiAgICB9LCB7fV0sCiAgICA1OiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgdmFyIGkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LAogICAgICAgICAgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7CgogICAgICBlLmV4cG9ydHMgPSBmdW5jdGlvbiAodCwgZSwgcykgewogICAgICAgIGlmICgiW29iamVjdCBGdW5jdGlvbl0iICE9PSBuLmNhbGwoZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoIml0ZXJhdG9yIG11c3QgYmUgYSBmdW5jdGlvbiIpOwogICAgICAgIHZhciBvID0gdC5sZW5ndGg7CiAgICAgICAgaWYgKG8gPT09ICtvKSBmb3IgKHZhciByID0gMDsgciA8IG87IHIrKykgewogICAgICAgICAgZS5jYWxsKHMsIHRbcl0sIHIsIHQpOwogICAgICAgIH0gZWxzZSBmb3IgKHZhciBhIGluIHQpIHsKICAgICAgICAgIGkuY2FsbCh0LCBhKSAmJiBlLmNhbGwocywgdFthXSwgYSwgdCk7CiAgICAgICAgfQogICAgICB9OwogICAgfSwge31dLAogICAgNjogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIChmdW5jdGlvbiAodCkgewogICAgICAgIHZhciBpOwogICAgICAgIGkgPSAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogdm9pZCAwICE9PSB0ID8gdCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBzZWxmID8gc2VsZiA6IHt9LCBlLmV4cG9ydHMgPSBpOwogICAgICB9KS5jYWxsKHRoaXMsICJ1bmRlZmluZWQiICE9IHR5cGVvZiBnbG9iYWwgPyBnbG9iYWwgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDoge30pOwogICAgfSwge31dLAogICAgNzogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPyBlLmV4cG9ydHMgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHQuc3VwZXJfID0gZSwgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGUucHJvdG90eXBlLCB7CiAgICAgICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgICAgICB2YWx1ZTogdCwKICAgICAgICAgICAgZW51bWVyYWJsZTogITEsCiAgICAgICAgICAgIHdyaXRhYmxlOiAhMCwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IDogZS5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICB0LnN1cGVyXyA9IGU7CgogICAgICAgIHZhciBpID0gZnVuY3Rpb24gaSgpIHt9OwoKICAgICAgICBpLnByb3RvdHlwZSA9IGUucHJvdG90eXBlLCB0LnByb3RvdHlwZSA9IG5ldyBpKCksIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gdDsKICAgICAgfTsKICAgIH0sIHt9XSwKICAgIDg6IFtmdW5jdGlvbiAodCwgZSkgewogICAgICB2YXIgaSA9IHt9LnRvU3RyaW5nOwoKICAgICAgZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiAiW29iamVjdCBBcnJheV0iID09IGkuY2FsbCh0KTsKICAgICAgfTsKICAgIH0sIHt9XSwKICAgIDk6IFtmdW5jdGlvbiAodCwgZSkgewogICAgICBmdW5jdGlvbiBpKHQpIHsKICAgICAgICBpZiAoISgodCA9IFN0cmluZyh0KSkubGVuZ3RoID4gMTAwKSkgewogICAgICAgICAgdmFyIGUgPSAvXigoPzpcZCspP1wuP1xkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKHQpOwoKICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgIHZhciBpID0gcGFyc2VGbG9hdChlWzFdKTsKCiAgICAgICAgICAgIHN3aXRjaCAoKGVbMl0gfHwgIm1zIikudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgICAgIGNhc2UgInllYXJzIjoKICAgICAgICAgICAgICBjYXNlICJ5ZWFyIjoKICAgICAgICAgICAgICBjYXNlICJ5cnMiOgogICAgICAgICAgICAgIGNhc2UgInlyIjoKICAgICAgICAgICAgICBjYXNlICJ5IjoKICAgICAgICAgICAgICAgIHJldHVybiBpICogYzsKCiAgICAgICAgICAgICAgY2FzZSAiZGF5cyI6CiAgICAgICAgICAgICAgY2FzZSAiZGF5IjoKICAgICAgICAgICAgICBjYXNlICJkIjoKICAgICAgICAgICAgICAgIHJldHVybiBpICogbDsKCiAgICAgICAgICAgICAgY2FzZSAiaG91cnMiOgogICAgICAgICAgICAgIGNhc2UgImhvdXIiOgogICAgICAgICAgICAgIGNhc2UgImhycyI6CiAgICAgICAgICAgICAgY2FzZSAiaHIiOgogICAgICAgICAgICAgIGNhc2UgImgiOgogICAgICAgICAgICAgICAgcmV0dXJuIGkgKiBoOwoKICAgICAgICAgICAgICBjYXNlICJtaW51dGVzIjoKICAgICAgICAgICAgICBjYXNlICJtaW51dGUiOgogICAgICAgICAgICAgIGNhc2UgIm1pbnMiOgogICAgICAgICAgICAgIGNhc2UgIm1pbiI6CiAgICAgICAgICAgICAgY2FzZSAibSI6CiAgICAgICAgICAgICAgICByZXR1cm4gaSAqIGE7CgogICAgICAgICAgICAgIGNhc2UgInNlY29uZHMiOgogICAgICAgICAgICAgIGNhc2UgInNlY29uZCI6CiAgICAgICAgICAgICAgY2FzZSAic2VjcyI6CiAgICAgICAgICAgICAgY2FzZSAic2VjIjoKICAgICAgICAgICAgICBjYXNlICJzIjoKICAgICAgICAgICAgICAgIHJldHVybiBpICogcjsKCiAgICAgICAgICAgICAgY2FzZSAibWlsbGlzZWNvbmRzIjoKICAgICAgICAgICAgICBjYXNlICJtaWxsaXNlY29uZCI6CiAgICAgICAgICAgICAgY2FzZSAibXNlY3MiOgogICAgICAgICAgICAgIGNhc2UgIm1zZWMiOgogICAgICAgICAgICAgIGNhc2UgIm1zIjoKICAgICAgICAgICAgICAgIHJldHVybiBpOwoKICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBuKHQpIHsKICAgICAgICByZXR1cm4gdCA+PSBsID8gTWF0aC5yb3VuZCh0IC8gbCkgKyAiZCIgOiB0ID49IGggPyBNYXRoLnJvdW5kKHQgLyBoKSArICJoIiA6IHQgPj0gYSA/IE1hdGgucm91bmQodCAvIGEpICsgIm0iIDogdCA+PSByID8gTWF0aC5yb3VuZCh0IC8gcikgKyAicyIgOiB0ICsgIm1zIjsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcyh0KSB7CiAgICAgICAgcmV0dXJuIG8odCwgbCwgImRheSIpIHx8IG8odCwgaCwgImhvdXIiKSB8fCBvKHQsIGEsICJtaW51dGUiKSB8fCBvKHQsIHIsICJzZWNvbmQiKSB8fCB0ICsgIiBtcyI7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG8odCwgZSwgaSkgewogICAgICAgIGlmICghKHQgPCBlKSkgcmV0dXJuIHQgPCAxLjUgKiBlID8gTWF0aC5mbG9vcih0IC8gZSkgKyAiICIgKyBpIDogTWF0aC5jZWlsKHQgLyBlKSArICIgIiArIGkgKyAicyI7CiAgICAgIH0KCiAgICAgIHZhciByID0gMWUzLAogICAgICAgICAgYSA9IDYwICogciwKICAgICAgICAgIGggPSA2MCAqIGEsCiAgICAgICAgICBsID0gMjQgKiBoLAogICAgICAgICAgYyA9IDM2NS4yNSAqIGw7CgogICAgICBlLmV4cG9ydHMgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIGUgPSBlIHx8IHt9OwoKICAgICAgICB2YXIgbyA9IF90eXBlb2YodCk7CgogICAgICAgIGlmICgic3RyaW5nIiA9PT0gbyAmJiB0Lmxlbmd0aCA+IDApIHJldHVybiBpKHQpOwogICAgICAgIGlmICgibnVtYmVyIiA9PT0gbyAmJiAhMSA9PT0gaXNOYU4odCkpIHJldHVybiBlLmxvbmcgPyBzKHQpIDogbih0KTsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoInZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9IiArIEpTT04uc3RyaW5naWZ5KHQpKTsKICAgICAgfTsKICAgIH0sIHt9XSwKICAgIDEwOiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIGkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LAogICAgICAgICAgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsCiAgICAgICAgICBzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLAogICAgICAgICAgbyA9IHQoMTEpLAogICAgICAgICAgciA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsCiAgICAgICAgICBhID0gIXIuY2FsbCh7CiAgICAgICAgdG9TdHJpbmc6IG51bGwKICAgICAgfSwgInRvU3RyaW5nIiksCiAgICAgICAgICBoID0gci5jYWxsKGZ1bmN0aW9uICgpIHt9LCAicHJvdG90eXBlIiksCiAgICAgICAgICBsID0gWyJ0b1N0cmluZyIsICJ0b0xvY2FsZVN0cmluZyIsICJ2YWx1ZU9mIiwgImhhc093blByb3BlcnR5IiwgImlzUHJvdG90eXBlT2YiLCAicHJvcGVydHlJc0VudW1lcmFibGUiLCAiY29uc3RydWN0b3IiXSwKICAgICAgICAgIGMgPSBmdW5jdGlvbiBjKHQpIHsKICAgICAgICB2YXIgZSA9IHQuY29uc3RydWN0b3I7CiAgICAgICAgcmV0dXJuIGUgJiYgZS5wcm90b3R5cGUgPT09IHQ7CiAgICAgIH0sCiAgICAgICAgICB1ID0gewogICAgICAgICRjb25zb2xlOiAhMCwKICAgICAgICAkZXh0ZXJuYWw6ICEwLAogICAgICAgICRmcmFtZTogITAsCiAgICAgICAgJGZyYW1lRWxlbWVudDogITAsCiAgICAgICAgJGZyYW1lczogITAsCiAgICAgICAgJGlubmVySGVpZ2h0OiAhMCwKICAgICAgICAkaW5uZXJXaWR0aDogITAsCiAgICAgICAgJG91dGVySGVpZ2h0OiAhMCwKICAgICAgICAkb3V0ZXJXaWR0aDogITAsCiAgICAgICAgJHBhZ2VYT2Zmc2V0OiAhMCwKICAgICAgICAkcGFnZVlPZmZzZXQ6ICEwLAogICAgICAgICRwYXJlbnQ6ICEwLAogICAgICAgICRzY3JvbGxMZWZ0OiAhMCwKICAgICAgICAkc2Nyb2xsVG9wOiAhMCwKICAgICAgICAkc2Nyb2xsWDogITAsCiAgICAgICAgJHNjcm9sbFk6ICEwLAogICAgICAgICRzZWxmOiAhMCwKICAgICAgICAkd2Via2l0SW5kZXhlZERCOiAhMCwKICAgICAgICAkd2Via2l0U3RvcmFnZUluZm86ICEwLAogICAgICAgICR3aW5kb3c6ICEwCiAgICAgIH0sCiAgICAgICAgICBwID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICgidW5kZWZpbmVkIiA9PSB0eXBlb2Ygd2luZG93KSByZXR1cm4gITE7CgogICAgICAgIGZvciAodmFyIHQgaW4gd2luZG93KSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoIXVbIiQiICsgdF0gJiYgaS5jYWxsKHdpbmRvdywgdCkgJiYgbnVsbCAhPT0gd2luZG93W3RdICYmICJvYmplY3QiID09IF90eXBlb2Yod2luZG93W3RdKSkgdHJ5IHsKICAgICAgICAgICAgICBjKHdpbmRvd1t0XSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gITA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgcmV0dXJuICEwOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICExOwogICAgICB9KCksCiAgICAgICAgICBkID0gZnVuY3Rpb24gZCh0KSB7CiAgICAgICAgaWYgKCJ1bmRlZmluZWQiID09IHR5cGVvZiB3aW5kb3cgfHwgIXApIHJldHVybiBjKHQpOwoKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIGModCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmV0dXJuICExOwogICAgICAgIH0KICAgICAgfSwKICAgICAgICAgIGYgPSBmdW5jdGlvbiBmKHQpIHsKICAgICAgICB2YXIgZSA9IG51bGwgIT09IHQgJiYgIm9iamVjdCIgPT0gX3R5cGVvZih0KSwKICAgICAgICAgICAgcyA9ICJbb2JqZWN0IEZ1bmN0aW9uXSIgPT09IG4uY2FsbCh0KSwKICAgICAgICAgICAgciA9IG8odCksCiAgICAgICAgICAgIGMgPSBlICYmICJbb2JqZWN0IFN0cmluZ10iID09PSBuLmNhbGwodCksCiAgICAgICAgICAgIHUgPSBbXTsKCiAgICAgICAgaWYgKCFlICYmICFzICYmICFyKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0Iik7CiAgICAgICAgdmFyIHAgPSBoICYmIHM7CiAgICAgICAgaWYgKGMgJiYgdC5sZW5ndGggPiAwICYmICFpLmNhbGwodCwgMCkpIGZvciAodmFyIGYgPSAwOyBmIDwgdC5sZW5ndGg7ICsrZikgewogICAgICAgICAgdS5wdXNoKFN0cmluZyhmKSk7CiAgICAgICAgfQogICAgICAgIGlmIChyICYmIHQubGVuZ3RoID4gMCkgZm9yICh2YXIgbSA9IDA7IG0gPCB0Lmxlbmd0aDsgKyttKSB7CiAgICAgICAgICB1LnB1c2goU3RyaW5nKG0pKTsKICAgICAgICB9IGVsc2UgZm9yICh2YXIgZyBpbiB0KSB7CiAgICAgICAgICBwICYmICJwcm90b3R5cGUiID09PSBnIHx8ICFpLmNhbGwodCwgZykgfHwgdS5wdXNoKFN0cmluZyhnKSk7CiAgICAgICAgfQogICAgICAgIGlmIChhKSBmb3IgKHZhciB2ID0gZCh0KSwgeSA9IDA7IHkgPCBsLmxlbmd0aDsgKyt5KSB7CiAgICAgICAgICB2ICYmICJjb25zdHJ1Y3RvciIgPT09IGxbeV0gfHwgIWkuY2FsbCh0LCBsW3ldKSB8fCB1LnB1c2gobFt5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB1OwogICAgICB9OwoKICAgICAgZi5zaGltID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChPYmplY3Qua2V5cykgewogICAgICAgICAgaWYgKCFmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAyID09PSAoT2JqZWN0LmtleXMoYXJndW1lbnRzKSB8fCAiIikubGVuZ3RoOwogICAgICAgICAgfSgxLCAyKSkgewogICAgICAgICAgICB2YXIgdCA9IE9iamVjdC5rZXlzOwoKICAgICAgICAgICAgT2JqZWN0LmtleXMgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiB0KG8oZSkgPyBzLmNhbGwoZSkgOiBlKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgT2JqZWN0LmtleXMgPSBmOwoKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMgfHwgZjsKICAgICAgfSwgZS5leHBvcnRzID0gZjsKICAgIH0sIHsKICAgICAgMTE6IDExCiAgICB9XSwKICAgIDExOiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgdmFyIGkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOwoKICAgICAgZS5leHBvcnRzID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgZSA9IGkuY2FsbCh0KSwKICAgICAgICAgICAgbiA9ICJbb2JqZWN0IEFyZ3VtZW50c10iID09PSBlOwogICAgICAgIHJldHVybiBuIHx8IChuID0gIltvYmplY3QgQXJyYXldIiAhPT0gZSAmJiBudWxsICE9PSB0ICYmICJvYmplY3QiID09IF90eXBlb2YodCkgJiYgIm51bWJlciIgPT0gdHlwZW9mIHQubGVuZ3RoICYmIHQubGVuZ3RoID49IDAgJiYgIltvYmplY3QgRnVuY3Rpb25dIiA9PT0gaS5jYWxsKHQuY2FsbGVlKSksIG47CiAgICAgIH07CiAgICB9LCB7fV0sCiAgICAxMjogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIGZ1bmN0aW9uIGkoKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG4oKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcyh0KSB7CiAgICAgICAgaWYgKGMgPT09IHNldFRpbWVvdXQpIHJldHVybiBzZXRUaW1lb3V0KHQsIDApOwogICAgICAgIGlmICgoYyA9PT0gaSB8fCAhYykgJiYgc2V0VGltZW91dCkgcmV0dXJuIGMgPSBzZXRUaW1lb3V0LCBzZXRUaW1lb3V0KHQsIDApOwoKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIGModCwgMCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIGMuY2FsbChudWxsLCB0LCAwKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGMuY2FsbCh0aGlzLCB0LCAwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG8odCkgewogICAgICAgIGlmICh1ID09PSBjbGVhclRpbWVvdXQpIHJldHVybiBjbGVhclRpbWVvdXQodCk7CiAgICAgICAgaWYgKCh1ID09PSBuIHx8ICF1KSAmJiBjbGVhclRpbWVvdXQpIHJldHVybiB1ID0gY2xlYXJUaW1lb3V0LCBjbGVhclRpbWVvdXQodCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gdSh0KTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gdS5jYWxsKG51bGwsIHQpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gdS5jYWxsKHRoaXMsIHQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gcigpIHsKICAgICAgICBtICYmIGQgJiYgKG0gPSAhMSwgZC5sZW5ndGggPyBmID0gZC5jb25jYXQoZikgOiBnID0gLTEsIGYubGVuZ3RoICYmIGEoKSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGEoKSB7CiAgICAgICAgaWYgKCFtKSB7CiAgICAgICAgICB2YXIgdCA9IHMocik7CiAgICAgICAgICBtID0gITA7CgogICAgICAgICAgZm9yICh2YXIgZSA9IGYubGVuZ3RoOyBlOykgewogICAgICAgICAgICBmb3IgKGQgPSBmLCBmID0gW107ICsrZyA8IGU7KSB7CiAgICAgICAgICAgICAgZCAmJiBkW2ddLnJ1bigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBnID0gLTEsIGUgPSBmLmxlbmd0aDsKICAgICAgICAgIH0KCiAgICAgICAgICBkID0gbnVsbCwgbSA9ICExLCBvKHQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gaCh0LCBlKSB7CiAgICAgICAgdGhpcy5mdW4gPSB0LCB0aGlzLmFycmF5ID0gZTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbCgpIHt9CgogICAgICB2YXIgYywKICAgICAgICAgIHUsCiAgICAgICAgICBwID0gZS5leHBvcnRzID0ge307CiAgICAgICFmdW5jdGlvbiAoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGMgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBzZXRUaW1lb3V0ID8gc2V0VGltZW91dCA6IGk7CiAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgYyA9IGk7CiAgICAgICAgfQoKICAgICAgICB0cnkgewogICAgICAgICAgdSA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGNsZWFyVGltZW91dCA/IGNsZWFyVGltZW91dCA6IG47CiAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgdSA9IG47CiAgICAgICAgfQogICAgICB9KCk7CiAgICAgIHZhciBkLAogICAgICAgICAgZiA9IFtdLAogICAgICAgICAgbSA9ICExLAogICAgICAgICAgZyA9IC0xOwogICAgICBwLm5leHRUaWNrID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgZSA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7CiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgZVtpIC0gMV0gPSBhcmd1bWVudHNbaV07CiAgICAgICAgfQogICAgICAgIGYucHVzaChuZXcgaCh0LCBlKSksIDEgIT09IGYubGVuZ3RoIHx8IG0gfHwgcyhhKTsKICAgICAgfSwgaC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpOwogICAgICB9LCBwLnRpdGxlID0gImJyb3dzZXIiLCBwLmJyb3dzZXIgPSAhMCwgcC5lbnYgPSB7fSwgcC5hcmd2ID0gW10sIHAudmVyc2lvbiA9ICIiLCBwLnZlcnNpb25zID0ge30sIHAub24gPSBsLCBwLmFkZExpc3RlbmVyID0gbCwgcC5vbmNlID0gbCwgcC5vZmYgPSBsLCBwLnJlbW92ZUxpc3RlbmVyID0gbCwgcC5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBsLCBwLmVtaXQgPSBsLCBwLmJpbmRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpOwogICAgICB9LCBwLmN3ZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gIi8iOwogICAgICB9LCBwLmNoZGlyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIik7CiAgICAgIH0sIHAudW1hc2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH07CiAgICB9LCB7fV0sCiAgICAxMzogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIGZ1bmN0aW9uIGkodCwgZSkgewogICAgICAgIGlmICh0Lm1hcCkgcmV0dXJuIHQubWFwKGUpOwoKICAgICAgICBmb3IgKHZhciBpID0gW10sIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykgewogICAgICAgICAgaS5wdXNoKGUodFtuXSwgbikpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KCiAgICAgIHZhciBuID0gZnVuY3Rpb24gbih0KSB7CiAgICAgICAgc3dpdGNoIChfdHlwZW9mKHQpKSB7CiAgICAgICAgICBjYXNlICJzdHJpbmciOgogICAgICAgICAgICByZXR1cm4gdDsKCiAgICAgICAgICBjYXNlICJib29sZWFuIjoKICAgICAgICAgICAgcmV0dXJuIHQgPyAidHJ1ZSIgOiAiZmFsc2UiOwoKICAgICAgICAgIGNhc2UgIm51bWJlciI6CiAgICAgICAgICAgIHJldHVybiBpc0Zpbml0ZSh0KSA/IHQgOiAiIjsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgZS5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUsIHIsIGEpIHsKICAgICAgICByZXR1cm4gZSA9IGUgfHwgIiYiLCByID0gciB8fCAiPSIsIG51bGwgPT09IHQgJiYgKHQgPSB2b2lkIDApLCAib2JqZWN0IiA9PSBfdHlwZW9mKHQpID8gaShvKHQpLCBmdW5jdGlvbiAobykgewogICAgICAgICAgdmFyIGEgPSBlbmNvZGVVUklDb21wb25lbnQobihvKSkgKyByOwogICAgICAgICAgcmV0dXJuIHModFtvXSkgPyBpKHRbb10sIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHJldHVybiBhICsgZW5jb2RlVVJJQ29tcG9uZW50KG4odCkpOwogICAgICAgICAgfSkuam9pbihlKSA6IGEgKyBlbmNvZGVVUklDb21wb25lbnQobih0W29dKSk7CiAgICAgICAgfSkuam9pbihlKSA6IGEgPyBlbmNvZGVVUklDb21wb25lbnQobihhKSkgKyByICsgZW5jb2RlVVJJQ29tcG9uZW50KG4odCkpIDogIiI7CiAgICAgIH07CgogICAgICB2YXIgcyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gIltvYmplY3QgQXJyYXldIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpOwogICAgICB9LAogICAgICAgICAgbyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdmFyIGUgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSBpbiB0KSB7CiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgaSkgJiYgZS5wdXNoKGkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH07CiAgICB9LCB7fV0sCiAgICAxNDogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIGZ1bmN0aW9uIGkoKSB7CiAgICAgICAgYS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBuKCkgewogICAgICAgIHZhciB0ID0gIk5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIGVudmlyb25tZW50LlxuSWYgeW91IGZlZWwgdGhpcyBpcyBhIG1pc3Rha2UsIHdyaXRlIHRvIHN1cHBvcnRAYWxnb2xpYS5jb20iOwogICAgICAgIHRocm93IG5ldyBsLkFsZ29saWFTZWFyY2hFcnJvcih0KTsKICAgICAgfQoKICAgICAgZS5leHBvcnRzID0gaTsKICAgICAgdmFyIHMgPSB0KDE2KSwKICAgICAgICAgIG8gPSB0KDI1KSwKICAgICAgICAgIHIgPSB0KDI2KSwKICAgICAgICAgIGEgPSB0KDE1KSwKICAgICAgICAgIGggPSB0KDcpLAogICAgICAgICAgbCA9IHQoMjcpOwogICAgICBoKGksIGEpLCBpLnByb3RvdHlwZS5kZWxldGVJbmRleCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIkRFTEVURSIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodCksCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBlCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLm1vdmVJbmRleCA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICAgICAgdmFyIG4gPSB7CiAgICAgICAgICBvcGVyYXRpb246ICJtb3ZlIiwKICAgICAgICAgIGRlc3RpbmF0aW9uOiBlCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gdGhpcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodCkgKyAiL29wZXJhdGlvbiIsCiAgICAgICAgICBib2R5OiBuLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogaQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5jb3B5SW5kZXggPSBmdW5jdGlvbiAodCwgZSwgaSwgbikgewogICAgICAgIHZhciBzID0gewogICAgICAgICAgb3BlcmF0aW9uOiAiY29weSIsCiAgICAgICAgICBkZXN0aW5hdGlvbjogZQogICAgICAgIH0sCiAgICAgICAgICAgIG8gPSBuOwogICAgICAgIGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBpKSBvID0gaTtlbHNlIGlmIChBcnJheS5pc0FycmF5KGkpICYmIGkubGVuZ3RoID4gMCkgcy5zY29wZSA9IGk7ZWxzZSBpZiAodm9pZCAwICE9PSBpKSB0aHJvdyBuZXcgRXJyb3IoInRoZSBzY29wZSBnaXZlbiB0byBgY29weUluZGV4YCB3YXMgbm90IGFuIGFycmF5IHdpdGggc2V0dGluZ3MsIHN5bm9ueW1zIG9yIHJ1bGVzIik7CiAgICAgICAgcmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQpICsgIi9vcGVyYXRpb24iLAogICAgICAgICAgYm9keTogcywKICAgICAgICAgIGhvc3RUeXBlOiAid3JpdGUiLAogICAgICAgICAgY2FsbGJhY2s6IG8KICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuZ2V0TG9ncyA9IGZ1bmN0aW9uIChlLCBpLCBuKSB7CiAgICAgICAgdmFyIHMgPSB0KDI0KSwKICAgICAgICAgICAgbyA9IHt9OwogICAgICAgIHJldHVybiAib2JqZWN0IiA9PSBfdHlwZW9mKGUpID8gKG8gPSBzKGUpLCBuID0gaSkgOiAwID09PSBhcmd1bWVudHMubGVuZ3RoIHx8ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgPyBuID0gZSA6IDEgPT09IGFyZ3VtZW50cy5sZW5ndGggfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgaSA/IChuID0gaSwgby5vZmZzZXQgPSBlKSA6IChvLm9mZnNldCA9IGUsIG8ubGVuZ3RoID0gaSksIHZvaWQgMCA9PT0gby5vZmZzZXQgJiYgKG8ub2Zmc2V0ID0gMCksIHZvaWQgMCA9PT0gby5sZW5ndGggJiYgKG8ubGVuZ3RoID0gMTApLCB0aGlzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgdXJsOiAiLzEvbG9ncz8iICsgdGhpcy5fZ2V0U2VhcmNoUGFyYW1zKG8sICIiKSwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogbgogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5saXN0SW5kZXhlcyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgdmFyIGkgPSAiIjsKICAgICAgICByZXR1cm4gdm9pZCAwID09PSB0IHx8ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgPyBlID0gdCA6IGkgPSAiP3BhZ2U9IiArIHQsIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzIiArIGksCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgY2FsbGJhY2s6IGUKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuaW5pdEluZGV4ID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gbmV3IHModGhpcywgdCk7CiAgICAgIH0sIGkucHJvdG90eXBlLmxpc3RVc2VyS2V5cyA9IG8oZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5saXN0QXBpS2V5cyh0KTsKICAgICAgfSwgcigiY2xpZW50Lmxpc3RVc2VyS2V5cygpIiwgImNsaWVudC5saXN0QXBpS2V5cygpIikpLCBpLnByb3RvdHlwZS5saXN0QXBpS2V5cyA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICB1cmw6ICIvMS9rZXlzIiwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogdAogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5nZXRVc2VyS2V5QUNMID0gbyhmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFwaUtleSh0LCBlKTsKICAgICAgfSwgcigiY2xpZW50LmdldFVzZXJLZXlBQ0woKSIsICJjbGllbnQuZ2V0QXBpS2V5KCkiKSksIGkucHJvdG90eXBlLmdldEFwaUtleSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICB1cmw6ICIvMS9rZXlzLyIgKyB0LAogICAgICAgICAgaG9zdFR5cGU6ICJyZWFkIiwKICAgICAgICAgIGNhbGxiYWNrOiBlCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmRlbGV0ZVVzZXJLZXkgPSBvKGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlQXBpS2V5KHQsIGUpOwogICAgICB9LCByKCJjbGllbnQuZGVsZXRlVXNlcktleSgpIiwgImNsaWVudC5kZWxldGVBcGlLZXkoKSIpKSwgaS5wcm90b3R5cGUuZGVsZXRlQXBpS2V5ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiREVMRVRFIiwKICAgICAgICAgIHVybDogIi8xL2tleXMvIiArIHQsCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBlCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmFkZFVzZXJLZXkgPSBvKGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQXBpS2V5KHQsIGUsIGkpOwogICAgICB9LCByKCJjbGllbnQuYWRkVXNlcktleSgpIiwgImNsaWVudC5hZGRBcGlLZXkoKSIpKSwgaS5wcm90b3R5cGUuYWRkQXBpS2V5ID0gZnVuY3Rpb24gKGUsIGksIG4pIHsKICAgICAgICB2YXIgcyA9ICJVc2FnZTogY2xpZW50LmFkZEFwaUtleShhcnJheU9mQWNsc1ssIHBhcmFtcywgY2FsbGJhY2tdKSI7CiAgICAgICAgaWYgKCF0KDgpKGUpKSB0aHJvdyBuZXcgRXJyb3Iocyk7CiAgICAgICAgMSAhPT0gYXJndW1lbnRzLmxlbmd0aCAmJiAiZnVuY3Rpb24iICE9IHR5cGVvZiBpIHx8IChuID0gaSwgaSA9IG51bGwpOwogICAgICAgIHZhciBvID0gewogICAgICAgICAgYWNsOiBlCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gaSAmJiAoby52YWxpZGl0eSA9IGkudmFsaWRpdHksIG8ubWF4UXVlcmllc1BlcklQUGVySG91ciA9IGkubWF4UXVlcmllc1BlcklQUGVySG91ciwgby5tYXhIaXRzUGVyUXVlcnkgPSBpLm1heEhpdHNQZXJRdWVyeSwgby5pbmRleGVzID0gaS5pbmRleGVzLCBvLmRlc2NyaXB0aW9uID0gaS5kZXNjcmlwdGlvbiwgaS5xdWVyeVBhcmFtZXRlcnMgJiYgKG8ucXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5fZ2V0U2VhcmNoUGFyYW1zKGkucXVlcnlQYXJhbWV0ZXJzLCAiIikpLCBvLnJlZmVyZXJzID0gaS5yZWZlcmVycyksIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEva2V5cyIsCiAgICAgICAgICBib2R5OiBvLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogbgogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5hZGRVc2VyS2V5V2l0aFZhbGlkaXR5ID0gbyhmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgIHJldHVybiB0aGlzLmFkZEFwaUtleSh0LCBlLCBpKTsKICAgICAgfSwgcigiY2xpZW50LmFkZFVzZXJLZXlXaXRoVmFsaWRpdHkoKSIsICJjbGllbnQuYWRkQXBpS2V5KCkiKSksIGkucHJvdG90eXBlLnVwZGF0ZVVzZXJLZXkgPSBvKGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQXBpS2V5KHQsIGUsIGksIG4pOwogICAgICB9LCByKCJjbGllbnQudXBkYXRlVXNlcktleSgpIiwgImNsaWVudC51cGRhdGVBcGlLZXkoKSIpKSwgaS5wcm90b3R5cGUudXBkYXRlQXBpS2V5ID0gZnVuY3Rpb24gKGUsIGksIG4sIHMpIHsKICAgICAgICB2YXIgbyA9ICJVc2FnZTogY2xpZW50LnVwZGF0ZUFwaUtleShrZXksIGFycmF5T2ZBY2xzWywgcGFyYW1zLCBjYWxsYmFja10pIjsKICAgICAgICBpZiAoIXQoOCkoaSkpIHRocm93IG5ldyBFcnJvcihvKTsKICAgICAgICAyICE9PSBhcmd1bWVudHMubGVuZ3RoICYmICJmdW5jdGlvbiIgIT0gdHlwZW9mIG4gfHwgKHMgPSBuLCBuID0gbnVsbCk7CiAgICAgICAgdmFyIHIgPSB7CiAgICAgICAgICBhY2w6IGkKICAgICAgICB9OwogICAgICAgIHJldHVybiBuICYmIChyLnZhbGlkaXR5ID0gbi52YWxpZGl0eSwgci5tYXhRdWVyaWVzUGVySVBQZXJIb3VyID0gbi5tYXhRdWVyaWVzUGVySVBQZXJIb3VyLCByLm1heEhpdHNQZXJRdWVyeSA9IG4ubWF4SGl0c1BlclF1ZXJ5LCByLmluZGV4ZXMgPSBuLmluZGV4ZXMsIHIuZGVzY3JpcHRpb24gPSBuLmRlc2NyaXB0aW9uLCBuLnF1ZXJ5UGFyYW1ldGVycyAmJiAoci5xdWVyeVBhcmFtZXRlcnMgPSB0aGlzLl9nZXRTZWFyY2hQYXJhbXMobi5xdWVyeVBhcmFtZXRlcnMsICIiKSksIHIucmVmZXJlcnMgPSBuLnJlZmVyZXJzKSwgdGhpcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICAgIHVybDogIi8xL2tleXMvIiArIGUsCiAgICAgICAgICBib2R5OiByLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogcwogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5zdGFydFF1ZXJpZXNCYXRjaCA9IG8oZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuX2JhdGNoID0gW107CiAgICAgIH0sIHIoImNsaWVudC5zdGFydFF1ZXJpZXNCYXRjaCgpIiwgImNsaWVudC5zZWFyY2goKSIpKSwgaS5wcm90b3R5cGUuYWRkUXVlcnlJbkJhdGNoID0gbyhmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgIHRoaXMuX2JhdGNoLnB1c2goewogICAgICAgICAgaW5kZXhOYW1lOiB0LAogICAgICAgICAgcXVlcnk6IGUsCiAgICAgICAgICBwYXJhbXM6IGkKICAgICAgICB9KTsKICAgICAgfSwgcigiY2xpZW50LmFkZFF1ZXJ5SW5CYXRjaCgpIiwgImNsaWVudC5zZWFyY2goKSIpKSwgaS5wcm90b3R5cGUuc2VuZFF1ZXJpZXNCYXRjaCA9IG8oZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2godGhpcy5fYmF0Y2gsIHQpOwogICAgICB9LCByKCJjbGllbnQuc2VuZFF1ZXJpZXNCYXRjaCgpIiwgImNsaWVudC5zZWFyY2goKSIpKSwgaS5wcm90b3R5cGUuYmF0Y2ggPSBmdW5jdGlvbiAoZSwgaSkgewogICAgICAgIHZhciBuID0gIlVzYWdlOiBjbGllbnQuYmF0Y2gob3BlcmF0aW9uc1ssIGNhbGxiYWNrXSkiOwogICAgICAgIGlmICghdCg4KShlKSkgdGhyb3cgbmV3IEVycm9yKG4pOwogICAgICAgIHJldHVybiB0aGlzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvKi9iYXRjaCIsCiAgICAgICAgICBib2R5OiB7CiAgICAgICAgICAgIHJlcXVlc3RzOiBlCiAgICAgICAgICB9LAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogaQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5hc3NpZ25Vc2VySUQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIGlmICghdC51c2VySUQgfHwgIXQuY2x1c3RlcikgdGhyb3cgbmV3IGwuQWxnb2xpYVNlYXJjaEVycm9yKCJZb3UgaGF2ZSB0byBwcm92aWRlIGJvdGggYSB1c2VySUQgYW5kIGNsdXN0ZXIiLCB0KTsKICAgICAgICByZXR1cm4gdGhpcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICB1cmw6ICIvMS9jbHVzdGVycy9tYXBwaW5nIiwKICAgICAgICAgIGhvc3RUeXBlOiAid3JpdGUiLAogICAgICAgICAgYm9keTogewogICAgICAgICAgICBjbHVzdGVyOiB0LmNsdXN0ZXIKICAgICAgICAgIH0sCiAgICAgICAgICBjYWxsYmFjazogZSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIlgtQWxnb2xpYS1Vc2VyLUlEIjogdC51c2VySUQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuZ2V0VG9wVXNlcklEID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgIHVybDogIi8xL2NsdXN0ZXJzL21hcHBpbmcvdG9wIiwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogdAogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5nZXRVc2VySUQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIGlmICghdC51c2VySUQpIHRocm93IG5ldyBsLkFsZ29saWFTZWFyY2hFcnJvcigiWW91IGhhdmUgdG8gcHJvdmlkZSBhIHVzZXJJRCIsIHsKICAgICAgICAgIGRlYnVnRGF0YTogdAogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgdXJsOiAiLzEvY2x1c3RlcnMvbWFwcGluZy8iICsgdC51c2VySUQsCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgY2FsbGJhY2s6IGUKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUubGlzdENsdXN0ZXJzID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgIHVybDogIi8xL2NsdXN0ZXJzIiwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogdAogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5saXN0VXNlcklEcyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICB1cmw6ICIvMS9jbHVzdGVycy9tYXBwaW5nIiwKICAgICAgICAgIGJvZHk6IHQsCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgY2FsbGJhY2s6IGUKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUucmVtb3ZlVXNlcklEID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICBpZiAoIXQudXNlcklEKSB0aHJvdyBuZXcgbC5BbGdvbGlhU2VhcmNoRXJyb3IoIllvdSBoYXZlIHRvIHByb3ZpZGUgYSB1c2VySUQiLCB7CiAgICAgICAgICBkZWJ1Z0RhdGE6IHQKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiREVMRVRFIiwKICAgICAgICAgIHVybDogIi8xL2NsdXN0ZXJzL21hcHBpbmciLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogZSwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIlgtQWxnb2xpYS1Vc2VyLUlEIjogdC51c2VySUQKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuc2VhcmNoVXNlcklEcyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEvY2x1c3RlcnMvbWFwcGluZy9zZWFyY2giLAogICAgICAgICAgYm9keTogdCwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5kZXN0cm95ID0gbiwgaS5wcm90b3R5cGUuZW5hYmxlUmF0ZUxpbWl0Rm9yd2FyZCA9IG4sIGkucHJvdG90eXBlLmRpc2FibGVSYXRlTGltaXRGb3J3YXJkID0gbiwgaS5wcm90b3R5cGUudXNlU2VjdXJlZEFQSUtleSA9IG4sIGkucHJvdG90eXBlLmRpc2FibGVTZWN1cmVkQVBJS2V5ID0gbiwgaS5wcm90b3R5cGUuZ2VuZXJhdGVTZWN1cmVkQXBpS2V5ID0gbjsKICAgIH0sIHsKICAgICAgMTU6IDE1LAogICAgICAxNjogMTYsCiAgICAgIDI0OiAyNCwKICAgICAgMjU6IDI1LAogICAgICAyNjogMjYsCiAgICAgIDI3OiAyNywKICAgICAgNzogNywKICAgICAgODogOAogICAgfV0sCiAgICAxNTogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIChmdW5jdGlvbiAoaSkgewogICAgICAgIGZ1bmN0aW9uIG4oZSwgaSwgbikgewogICAgICAgICAgdmFyIG8gPSB0KDEpKCJhbGdvbGlhc2VhcmNoIiksCiAgICAgICAgICAgICAgciA9IHQoMjQpLAogICAgICAgICAgICAgIGEgPSB0KDgpLAogICAgICAgICAgICAgIGwgPSB0KDI5KSwKICAgICAgICAgICAgICBjID0gIlVzYWdlOiBhbGdvbGlhc2VhcmNoKGFwcGxpY2F0aW9uSUQsIGFwaUtleSwgb3B0cykiOwogICAgICAgICAgaWYgKCEwICE9PSBuLl9hbGxvd0VtcHR5Q3JlZGVudGlhbHMgJiYgIWUpIHRocm93IG5ldyBoLkFsZ29saWFTZWFyY2hFcnJvcigiUGxlYXNlIHByb3ZpZGUgYW4gYXBwbGljYXRpb24gSUQuICIgKyBjKTsKICAgICAgICAgIGlmICghMCAhPT0gbi5fYWxsb3dFbXB0eUNyZWRlbnRpYWxzICYmICFpKSB0aHJvdyBuZXcgaC5BbGdvbGlhU2VhcmNoRXJyb3IoIlBsZWFzZSBwcm92aWRlIGFuIEFQSSBrZXkuICIgKyBjKTsKICAgICAgICAgIHRoaXMuYXBwbGljYXRpb25JRCA9IGUsIHRoaXMuYXBpS2V5ID0gaSwgdGhpcy5ob3N0cyA9IHsKICAgICAgICAgICAgcmVhZDogW10sCiAgICAgICAgICAgIHdyaXRlOiBbXQogICAgICAgICAgfSwgbiA9IG4gfHwge30sIHRoaXMuX3RpbWVvdXRzID0gbi50aW1lb3V0cyB8fCB7CiAgICAgICAgICAgIGNvbm5lY3Q6IDFlMywKICAgICAgICAgICAgcmVhZDogMmUzLAogICAgICAgICAgICB3cml0ZTogM2U0CiAgICAgICAgICB9LCBuLnRpbWVvdXQgJiYgKHRoaXMuX3RpbWVvdXRzLmNvbm5lY3QgPSB0aGlzLl90aW1lb3V0cy5yZWFkID0gdGhpcy5fdGltZW91dHMud3JpdGUgPSBuLnRpbWVvdXQpOwogICAgICAgICAgdmFyIHUgPSBuLnByb3RvY29sIHx8ICJodHRwczoiOwogICAgICAgICAgaWYgKC86JC8udGVzdCh1KSB8fCAodSArPSAiOiIpLCAiaHR0cDoiICE9PSB1ICYmICJodHRwczoiICE9PSB1KSB0aHJvdyBuZXcgaC5BbGdvbGlhU2VhcmNoRXJyb3IoInByb3RvY29sIG11c3QgYmUgYGh0dHA6YCBvciBgaHR0cHM6YCAod2FzIGAiICsgbi5wcm90b2NvbCArICJgKSIpOwogICAgICAgICAgaWYgKHRoaXMuX2NoZWNrQXBwSWREYXRhKCksIG4uaG9zdHMpIGEobi5ob3N0cykgPyAodGhpcy5ob3N0cy5yZWFkID0gcihuLmhvc3RzKSwgdGhpcy5ob3N0cy53cml0ZSA9IHIobi5ob3N0cykpIDogKHRoaXMuaG9zdHMucmVhZCA9IHIobi5ob3N0cy5yZWFkKSwgdGhpcy5ob3N0cy53cml0ZSA9IHIobi5ob3N0cy53cml0ZSkpO2Vsc2UgewogICAgICAgICAgICB2YXIgcCA9IGwodGhpcy5fc2h1ZmZsZVJlc3VsdCwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICByZXR1cm4gZSArICItIiArIHQgKyAiLmFsZ29saWFuZXQuY29tIjsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBkID0gKCExID09PSBuLmRzbiA/ICIiIDogIi1kc24iKSArICIuYWxnb2xpYS5uZXQiOwogICAgICAgICAgICB0aGlzLmhvc3RzLnJlYWQgPSBbdGhpcy5hcHBsaWNhdGlvbklEICsgZF0uY29uY2F0KHApLCB0aGlzLmhvc3RzLndyaXRlID0gW3RoaXMuYXBwbGljYXRpb25JRCArICIuYWxnb2xpYS5uZXQiXS5jb25jYXQocCk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmhvc3RzLnJlYWQgPSBsKHRoaXMuaG9zdHMucmVhZCwgcyh1KSksIHRoaXMuaG9zdHMud3JpdGUgPSBsKHRoaXMuaG9zdHMud3JpdGUsIHModSkpLCB0aGlzLmV4dHJhSGVhZGVycyA9IHt9LCB0aGlzLmNhY2hlID0gbi5fY2FjaGUgfHwge30sIHRoaXMuX3VhID0gbi5fdWEsIHRoaXMuX3VzZUNhY2hlID0gISh2b2lkIDAgIT09IG4uX3VzZUNhY2hlICYmICFuLl9jYWNoZSkgfHwgbi5fdXNlQ2FjaGUsIHRoaXMuX3VzZUZhbGxiYWNrID0gdm9pZCAwID09PSBuLnVzZUZhbGxiYWNrIHx8IG4udXNlRmFsbGJhY2ssIHRoaXMuX3NldFRpbWVvdXQgPSBuLl9zZXRUaW1lb3V0LCBvKCJpbml0IGRvbmUsICVqIiwgdGhpcyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzKHQpIHsKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gdCArICIvLyIgKyBlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbyh0KSB7CiAgICAgICAgICBpZiAodm9pZCAwID09PSBBcnJheS5wcm90b3R5cGUudG9KU09OKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodCk7CiAgICAgICAgICB2YXIgZSA9IEFycmF5LnByb3RvdHlwZS50b0pTT047CiAgICAgICAgICBkZWxldGUgQXJyYXkucHJvdG90eXBlLnRvSlNPTjsKICAgICAgICAgIHZhciBpID0gSlNPTi5zdHJpbmdpZnkodCk7CiAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnRvSlNPTiA9IGUsIGk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByKHQpIHsKICAgICAgICAgIGZvciAodmFyIGUsIGksIG4gPSB0Lmxlbmd0aDsgMCAhPT0gbjspIHsKICAgICAgICAgICAgaSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pLCBlID0gdFtuIC09IDFdLCB0W25dID0gdFtpXSwgdFtpXSA9IGU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHQ7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhKHQpIHsKICAgICAgICAgIHZhciBlID0ge307CgogICAgICAgICAgZm9yICh2YXIgaSBpbiB0KSB7CiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgaSkpIHsKICAgICAgICAgICAgICB2YXIgbjsKICAgICAgICAgICAgICBuID0gIngtYWxnb2xpYS1hcGkta2V5IiA9PT0gaSB8fCAieC1hbGdvbGlhLWFwcGxpY2F0aW9uLWlkIiA9PT0gaSA/ICIqKmhpZGRlbiBmb3Igc2VjdXJpdHkgcHVycG9zZXMqKiIgOiB0W2ldLCBlW2ldID0gbjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBlOwogICAgICAgIH0KCiAgICAgICAgZS5leHBvcnRzID0gbjsKICAgICAgICB2YXIgaCA9IHQoMjcpLAogICAgICAgICAgICBsID0gdCgyOCksCiAgICAgICAgICAgIGMgPSB0KDE4KSwKICAgICAgICAgICAgdSA9IHQoMzMpLAogICAgICAgICAgICBwID0gNTAwLAogICAgICAgICAgICBkID0gaS5lbnYuUkVTRVRfQVBQX0RBVEFfVElNRVIgJiYgcGFyc2VJbnQoaS5lbnYuUkVTRVRfQVBQX0RBVEFfVElNRVIsIDEwKSB8fCAxMmU0OwogICAgICAgIG4ucHJvdG90eXBlLmluaXRJbmRleCA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gbmV3IGModGhpcywgdCk7CiAgICAgICAgfSwgbi5wcm90b3R5cGUuc2V0RXh0cmFIZWFkZXIgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgdGhpcy5leHRyYUhlYWRlcnNbdC50b0xvd2VyQ2FzZSgpXSA9IGU7CiAgICAgICAgfSwgbi5wcm90b3R5cGUuZ2V0RXh0cmFIZWFkZXIgPSBmdW5jdGlvbiAodCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuZXh0cmFIZWFkZXJzW3QudG9Mb3dlckNhc2UoKV07CiAgICAgICAgfSwgbi5wcm90b3R5cGUudW5zZXRFeHRyYUhlYWRlciA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5leHRyYUhlYWRlcnNbdC50b0xvd2VyQ2FzZSgpXTsKICAgICAgICB9LCBuLnByb3RvdHlwZS5hZGRBbGdvbGlhQWdlbnQgPSBmdW5jdGlvbiAodCkgewogICAgICAgICAgLTEgPT09IHRoaXMuX3VhLmluZGV4T2YoIjsiICsgdCkgJiYgKHRoaXMuX3VhICs9ICI7IiArIHQpOwogICAgICAgIH0sIG4ucHJvdG90eXBlLl9qc29uUmVxdWVzdCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBmdW5jdGlvbiBpKHQsIGwpIHsKICAgICAgICAgICAgZnVuY3Rpb24gcCh0KSB7CiAgICAgICAgICAgICAgdmFyIGUgPSB0ICYmIHQuYm9keSAmJiB0LmJvZHkubWVzc2FnZSAmJiB0LmJvZHkuc3RhdHVzIHx8IHQuc3RhdHVzQ29kZSB8fCB0ICYmIHQuYm9keSAmJiAyMDA7CiAgICAgICAgICAgICAgcigicmVjZWl2ZWQgcmVzcG9uc2U6IHN0YXR1c0NvZGU6ICVzLCBjb21wdXRlZCBzdGF0dXNDb2RlOiAlZCwgaGVhZGVyczogJWoiLCB0LnN0YXR1c0NvZGUsIGUsIHQuaGVhZGVycyk7CiAgICAgICAgICAgICAgdmFyIGkgPSAyID09PSBNYXRoLmZsb29yKGUgLyAxMDApLAogICAgICAgICAgICAgICAgICBvID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBpZiAodi5wdXNoKHsKICAgICAgICAgICAgICAgIGN1cnJlbnRIb3N0OiBQLAogICAgICAgICAgICAgICAgaGVhZGVyczogYShzKSwKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG4gfHwgbnVsbCwKICAgICAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IHZvaWQgMCAhPT0gbiA/IG4ubGVuZ3RoIDogbnVsbCwKICAgICAgICAgICAgICAgIG1ldGhvZDogbC5tZXRob2QsCiAgICAgICAgICAgICAgICB0aW1lb3V0czogbC50aW1lb3V0cywKICAgICAgICAgICAgICAgIHVybDogbC51cmwsCiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHgsCiAgICAgICAgICAgICAgICBlbmRUaW1lOiBvLAogICAgICAgICAgICAgICAgZHVyYXRpb246IG8gLSB4LAogICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogZQogICAgICAgICAgICAgIH0pLCBpKSByZXR1cm4gZC5fdXNlQ2FjaGUgJiYgdSAmJiAodVt3XSA9IHQucmVzcG9uc2VUZXh0KSwgdC5ib2R5OwogICAgICAgICAgICAgIGlmICg0ICE9PSBNYXRoLmZsb29yKGUgLyAxMDApKSByZXR1cm4gZiArPSAxLCBfKCk7CiAgICAgICAgICAgICAgcigidW5yZWNvdmVyYWJsZSBlcnJvciIpOwogICAgICAgICAgICAgIHZhciBjID0gbmV3IGguQWxnb2xpYVNlYXJjaEVycm9yKHQuYm9keSAmJiB0LmJvZHkubWVzc2FnZSwgewogICAgICAgICAgICAgICAgZGVidWdEYXRhOiB2LAogICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJldHVybiBkLl9wcm9taXNlLnJlamVjdChjKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZnVuY3Rpb24geSh0KSB7CiAgICAgICAgICAgICAgcigiZXJyb3I6ICVzLCBzdGFjazogJXMiLCB0Lm1lc3NhZ2UsIHQuc3RhY2spOwogICAgICAgICAgICAgIHZhciBpID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICByZXR1cm4gdi5wdXNoKHsKICAgICAgICAgICAgICAgIGN1cnJlbnRIb3N0OiBQLAogICAgICAgICAgICAgICAgaGVhZGVyczogYShzKSwKICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG4gfHwgbnVsbCwKICAgICAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IHZvaWQgMCAhPT0gbiA/IG4ubGVuZ3RoIDogbnVsbCwKICAgICAgICAgICAgICAgIG1ldGhvZDogbC5tZXRob2QsCiAgICAgICAgICAgICAgICB0aW1lb3V0czogbC50aW1lb3V0cywKICAgICAgICAgICAgICAgIHVybDogbC51cmwsCiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHgsCiAgICAgICAgICAgICAgICBlbmRUaW1lOiBpLAogICAgICAgICAgICAgICAgZHVyYXRpb246IGkgLSB4CiAgICAgICAgICAgICAgfSksIHQgaW5zdGFuY2VvZiBoLkFsZ29saWFTZWFyY2hFcnJvciB8fCAodCA9IG5ldyBoLlVua25vd24odCAmJiB0Lm1lc3NhZ2UsIHQpKSwgZiArPSAxLCB0IGluc3RhbmNlb2YgaC5Vbmtub3duIHx8IHQgaW5zdGFuY2VvZiBoLlVucGFyc2FibGVKU09OIHx8IGYgPj0gZC5ob3N0c1tlLmhvc3RUeXBlXS5sZW5ndGggJiYgKG0gfHwgIWcpID8gKHQuZGVidWdEYXRhID0gdiwgZC5fcHJvbWlzZS5yZWplY3QodCkpIDogdCBpbnN0YW5jZW9mIGguUmVxdWVzdFRpbWVvdXQgPyBiKCkgOiBfKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIF8oKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHIoInJldHJ5aW5nIHJlcXVlc3QiKSwgZC5faW5jcmVtZW50SG9zdEluZGV4KGUuaG9zdFR5cGUpLCBpKHQsIGwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBiKCkgewogICAgICAgICAgICAgIHJldHVybiByKCJyZXRyeWluZyByZXF1ZXN0IHdpdGggaGlnaGVyIHRpbWVvdXQiKSwgZC5faW5jcmVtZW50SG9zdEluZGV4KGUuaG9zdFR5cGUpLCBkLl9pbmNyZW1lbnRUaW1lb3V0TXVsdGlwbGVyKCksIGwudGltZW91dHMgPSBkLl9nZXRUaW1lb3V0c0ZvclJlcXVlc3QoZS5ob3N0VHlwZSksIGkodCwgbCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGQuX2NoZWNrQXBwSWREYXRhKCk7CgogICAgICAgICAgICB2YXIgdywKICAgICAgICAgICAgICAgIHggPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICBpZiAoZC5fdXNlQ2FjaGUgJiYgKHcgPSBlLnVybCksIGQuX3VzZUNhY2hlICYmIG4gJiYgKHcgKz0gIl9ib2R5XyIgKyBsLmJvZHkpLCBkLl91c2VDYWNoZSAmJiB1ICYmIHZvaWQgMCAhPT0gdVt3XSkgcmV0dXJuIHIoInNlcnZpbmcgcmVzcG9uc2UgZnJvbSBjYWNoZSIpLCBkLl9wcm9taXNlLnJlc29sdmUoSlNPTi5wYXJzZSh1W3ddKSk7CiAgICAgICAgICAgIGlmIChmID49IGQuaG9zdHNbZS5ob3N0VHlwZV0ubGVuZ3RoKSByZXR1cm4gIWcgfHwgbSA/IChyKCJjb3VsZCBub3QgZ2V0IGFueSByZXNwb25zZSIpLCBkLl9wcm9taXNlLnJlamVjdChuZXcgaC5BbGdvbGlhU2VhcmNoRXJyb3IoIkNhbm5vdCBjb25uZWN0IHRvIHRoZSBBbGdvbGlhU2VhcmNoIEFQSS4gU2VuZCBhbiBlbWFpbCB0byBzdXBwb3J0QGFsZ29saWEuY29tIHRvIHJlcG9ydCBhbmQgcmVzb2x2ZSB0aGUgaXNzdWUuIEFwcGxpY2F0aW9uIGlkIHdhczogIiArIGQuYXBwbGljYXRpb25JRCwgewogICAgICAgICAgICAgIGRlYnVnRGF0YTogdgogICAgICAgICAgICB9KSkpIDogKHIoInN3aXRjaGluZyB0byBmYWxsYmFjayIpLCBmID0gMCwgbC5tZXRob2QgPSBlLmZhbGxiYWNrLm1ldGhvZCwgbC51cmwgPSBlLmZhbGxiYWNrLnVybCwgbC5qc29uQm9keSA9IGUuZmFsbGJhY2suYm9keSwgbC5qc29uQm9keSAmJiAobC5ib2R5ID0gbyhsLmpzb25Cb2R5KSksIHMgPSBkLl9jb21wdXRlUmVxdWVzdEhlYWRlcnMoewogICAgICAgICAgICAgIGFkZGl0aW9uYWxVQTogYywKICAgICAgICAgICAgICBoZWFkZXJzOiBlLmhlYWRlcnMKICAgICAgICAgICAgfSksIGwudGltZW91dHMgPSBkLl9nZXRUaW1lb3V0c0ZvclJlcXVlc3QoZS5ob3N0VHlwZSksIGQuX3NldEhvc3RJbmRleEJ5VHlwZSgwLCBlLmhvc3RUeXBlKSwgbSA9ICEwLCBpKGQuX3JlcXVlc3QuZmFsbGJhY2ssIGwpKTsKCiAgICAgICAgICAgIHZhciBQID0gZC5fZ2V0SG9zdEJ5VHlwZShlLmhvc3RUeXBlKSwKICAgICAgICAgICAgICAgIEMgPSBQICsgbC51cmwsCiAgICAgICAgICAgICAgICBUID0gewogICAgICAgICAgICAgIGJvZHk6IGwuYm9keSwKICAgICAgICAgICAgICBqc29uQm9keTogbC5qc29uQm9keSwKICAgICAgICAgICAgICBtZXRob2Q6IGwubWV0aG9kLAogICAgICAgICAgICAgIGhlYWRlcnM6IHMsCiAgICAgICAgICAgICAgdGltZW91dHM6IGwudGltZW91dHMsCiAgICAgICAgICAgICAgZGVidWc6IHIKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiByKCJtZXRob2Q6ICVzLCB1cmw6ICVzLCBoZWFkZXJzOiAlaiwgdGltZW91dHM6ICVkIiwgVC5tZXRob2QsIEMsIFQuaGVhZGVycywgVC50aW1lb3V0cyksIHQgPT09IGQuX3JlcXVlc3QuZmFsbGJhY2sgJiYgcigidXNpbmcgZmFsbGJhY2siKSwgdC5jYWxsKGQsIEMsIFQpLnRoZW4ocCwgeSk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5fY2hlY2tBcHBJZERhdGEoKTsKCiAgICAgICAgICB2YXIgbiwKICAgICAgICAgICAgICBzLAogICAgICAgICAgICAgIHIgPSB0KDEpKCJhbGdvbGlhc2VhcmNoOiIgKyBlLnVybCksCiAgICAgICAgICAgICAgYyA9IGUuYWRkaXRpb25hbFVBIHx8ICIiLAogICAgICAgICAgICAgIHUgPSBlLmNhY2hlLAogICAgICAgICAgICAgIGQgPSB0aGlzLAogICAgICAgICAgICAgIGYgPSAwLAogICAgICAgICAgICAgIG0gPSAhMSwKICAgICAgICAgICAgICBnID0gZC5fdXNlRmFsbGJhY2sgJiYgZC5fcmVxdWVzdC5mYWxsYmFjayAmJiBlLmZhbGxiYWNrOwogICAgICAgICAgdGhpcy5hcGlLZXkubGVuZ3RoID4gcCAmJiB2b2lkIDAgIT09IGUuYm9keSAmJiAodm9pZCAwICE9PSBlLmJvZHkucGFyYW1zIHx8IHZvaWQgMCAhPT0gZS5ib2R5LnJlcXVlc3RzKSA/IChlLmJvZHkuYXBpS2V5ID0gdGhpcy5hcGlLZXksIHMgPSB0aGlzLl9jb21wdXRlUmVxdWVzdEhlYWRlcnMoewogICAgICAgICAgICBhZGRpdGlvbmFsVUE6IGMsCiAgICAgICAgICAgIHdpdGhBcGlLZXk6ICExLAogICAgICAgICAgICBoZWFkZXJzOiBlLmhlYWRlcnMKICAgICAgICAgIH0pKSA6IHMgPSB0aGlzLl9jb21wdXRlUmVxdWVzdEhlYWRlcnMoewogICAgICAgICAgICBhZGRpdGlvbmFsVUE6IGMsCiAgICAgICAgICAgIGhlYWRlcnM6IGUuaGVhZGVycwogICAgICAgICAgfSksIHZvaWQgMCAhPT0gZS5ib2R5ICYmIChuID0gbyhlLmJvZHkpKSwgcigicmVxdWVzdCBzdGFydCIpOwogICAgICAgICAgdmFyIHYgPSBbXSwKICAgICAgICAgICAgICB5ID0gaShkLl9yZXF1ZXN0LCB7CiAgICAgICAgICAgIHVybDogZS51cmwsCiAgICAgICAgICAgIG1ldGhvZDogZS5tZXRob2QsCiAgICAgICAgICAgIGJvZHk6IG4sCiAgICAgICAgICAgIGpzb25Cb2R5OiBlLmJvZHksCiAgICAgICAgICAgIHRpbWVvdXRzOiBkLl9nZXRUaW1lb3V0c0ZvclJlcXVlc3QoZS5ob3N0VHlwZSkKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuICJmdW5jdGlvbiIgIT0gdHlwZW9mIGUuY2FsbGJhY2sgPyB5IDogdm9pZCB5LnRoZW4oZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZS5jYWxsYmFjayhudWxsLCB0KTsKICAgICAgICAgICAgfSwgZC5fc2V0VGltZW91dCB8fCBzZXRUaW1lb3V0KTsKICAgICAgICAgIH0sIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIGwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGUuY2FsbGJhY2sodCk7CiAgICAgICAgICAgIH0sIGQuX3NldFRpbWVvdXQgfHwgc2V0VGltZW91dCk7CiAgICAgICAgICB9KTsKICAgICAgICB9LCBuLnByb3RvdHlwZS5fZ2V0U2VhcmNoUGFyYW1zID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgIGlmIChudWxsID09IHQpIHJldHVybiBlOwoKICAgICAgICAgIGZvciAodmFyIGkgaW4gdCkgewogICAgICAgICAgICBudWxsICE9PSBpICYmIHZvaWQgMCAhPT0gdFtpXSAmJiB0Lmhhc093blByb3BlcnR5KGkpICYmIChlICs9ICIiID09PSBlID8gIiIgOiAiJiIsIGUgKz0gaSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCgiW29iamVjdCBBcnJheV0iID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodFtpXSkgPyBvKHRbaV0pIDogdFtpXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBlOwogICAgICAgIH0sIG4ucHJvdG90eXBlLl9jb21wdXRlUmVxdWVzdEhlYWRlcnMgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIGkgPSB0KDUpLAogICAgICAgICAgICAgIG4gPSB7CiAgICAgICAgICAgICJ4LWFsZ29saWEtYWdlbnQiOiBlLmFkZGl0aW9uYWxVQSA/IHRoaXMuX3VhICsgIjsiICsgZS5hZGRpdGlvbmFsVUEgOiB0aGlzLl91YSwKICAgICAgICAgICAgIngtYWxnb2xpYS1hcHBsaWNhdGlvbi1pZCI6IHRoaXMuYXBwbGljYXRpb25JRAogICAgICAgICAgfTsKICAgICAgICAgIHJldHVybiAhMSAhPT0gZS53aXRoQXBpS2V5ICYmIChuWyJ4LWFsZ29saWEtYXBpLWtleSJdID0gdGhpcy5hcGlLZXkpLCB0aGlzLnVzZXJUb2tlbiAmJiAoblsieC1hbGdvbGlhLXVzZXJ0b2tlbiJdID0gdGhpcy51c2VyVG9rZW4pLCB0aGlzLnNlY3VyaXR5VGFncyAmJiAoblsieC1hbGdvbGlhLXRhZ2ZpbHRlcnMiXSA9IHRoaXMuc2VjdXJpdHlUYWdzKSwgaSh0aGlzLmV4dHJhSGVhZGVycywgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgbltlXSA9IHQ7CiAgICAgICAgICB9KSwgZS5oZWFkZXJzICYmIGkoZS5oZWFkZXJzLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICBuW2VdID0gdDsKICAgICAgICAgIH0pLCBuOwogICAgICAgIH0sIG4ucHJvdG90eXBlLnNlYXJjaCA9IGZ1bmN0aW9uIChlLCBpLCBuKSB7CiAgICAgICAgICB2YXIgcyA9IHQoOCksCiAgICAgICAgICAgICAgbyA9IHQoMjkpLAogICAgICAgICAgICAgIHIgPSAiVXNhZ2U6IGNsaWVudC5zZWFyY2goYXJyYXlPZlF1ZXJpZXNbLCBjYWxsYmFja10pIjsKICAgICAgICAgIGlmICghcyhlKSkgdGhyb3cgbmV3IEVycm9yKHIpOwogICAgICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgaSA/IChuID0gaSwgaSA9IHt9KSA6IHZvaWQgMCA9PT0gaSAmJiAoaSA9IHt9KTsKICAgICAgICAgIHZhciBhID0gdGhpcywKICAgICAgICAgICAgICBoID0gewogICAgICAgICAgICByZXF1ZXN0czogbyhlLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgIHZhciBlID0gIiI7CiAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdC5xdWVyeSAmJiAoZSArPSAicXVlcnk9IiArIGVuY29kZVVSSUNvbXBvbmVudCh0LnF1ZXJ5KSksIHsKICAgICAgICAgICAgICAgIGluZGV4TmFtZTogdC5pbmRleE5hbWUsCiAgICAgICAgICAgICAgICBwYXJhbXM6IGEuX2dldFNlYXJjaFBhcmFtcyh0LnBhcmFtcywgZSkKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KQogICAgICAgICAgfSwKICAgICAgICAgICAgICBsID0gbyhoLnJlcXVlc3RzLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICByZXR1cm4gZSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudCgiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQuaW5kZXhOYW1lKSArICI/IiArIHQucGFyYW1zKTsKICAgICAgICAgIH0pLmpvaW4oIiYiKSwKICAgICAgICAgICAgICBjID0gIi8xL2luZGV4ZXMvKi9xdWVyaWVzIjsKICAgICAgICAgIHJldHVybiB2b2lkIDAgIT09IGkuc3RyYXRlZ3kgJiYgKGMgKz0gIj9zdHJhdGVneT0iICsgaS5zdHJhdGVneSksIHRoaXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgICAgY2FjaGU6IHRoaXMuY2FjaGUsCiAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICB1cmw6IGMsCiAgICAgICAgICAgIGJvZHk6IGgsCiAgICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICAgIGZhbGxiYWNrOiB7CiAgICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyoiLAogICAgICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgICAgIHBhcmFtczogbAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2FsbGJhY2s6IG4KICAgICAgICAgIH0pOwogICAgICAgIH0sIG4ucHJvdG90eXBlLnNldFNlY3VyaXR5VGFncyA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICBpZiAoIltvYmplY3QgQXJyYXldIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKSB7CiAgICAgICAgICAgIGZvciAodmFyIGUgPSBbXSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgaWYgKCJbb2JqZWN0IEFycmF5XSIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0W2ldKSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IFtdLCBzID0gMDsgcyA8IHRbaV0ubGVuZ3RoOyArK3MpIHsKICAgICAgICAgICAgICAgICAgbi5wdXNoKHRbaV1bc10pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGUucHVzaCgiKCIgKyBuLmpvaW4oIiwiKSArICIpIik7CiAgICAgICAgICAgICAgfSBlbHNlIGUucHVzaCh0W2ldKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdCA9IGUuam9pbigiLCIpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuc2VjdXJpdHlUYWdzID0gdDsKICAgICAgICB9LCBuLnByb3RvdHlwZS5zZXRVc2VyVG9rZW4gPSBmdW5jdGlvbiAodCkgewogICAgICAgICAgdGhpcy51c2VyVG9rZW4gPSB0OwogICAgICAgIH0sIG4ucHJvdG90eXBlLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGlzLmNhY2hlID0ge307CiAgICAgICAgfSwgbi5wcm90b3R5cGUuc2V0UmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAodCkgewogICAgICAgICAgdCAmJiAodGhpcy5fdGltZW91dHMuY29ubmVjdCA9IHRoaXMuX3RpbWVvdXRzLnJlYWQgPSB0aGlzLl90aW1lb3V0cy53cml0ZSA9IHQpOwogICAgICAgIH0sIG4ucHJvdG90eXBlLnNldFRpbWVvdXRzID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHRoaXMuX3RpbWVvdXRzID0gdDsKICAgICAgICB9LCBuLnByb3RvdHlwZS5nZXRUaW1lb3V0cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0czsKICAgICAgICB9LCBuLnByb3RvdHlwZS5fZ2V0QXBwSWREYXRhID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHQgPSB1LmdldCh0aGlzLmFwcGxpY2F0aW9uSUQpOwogICAgICAgICAgcmV0dXJuIG51bGwgIT09IHQgJiYgdGhpcy5fY2FjaGVBcHBJZERhdGEodCksIHQ7CiAgICAgICAgfSwgbi5wcm90b3R5cGUuX3NldEFwcElkRGF0YSA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gdC5sYXN0Q2hhbmdlID0gbmV3IERhdGUoKS5nZXRUaW1lKCksIHRoaXMuX2NhY2hlQXBwSWREYXRhKHQpLCB1LnNldCh0aGlzLmFwcGxpY2F0aW9uSUQsIHQpOwogICAgICAgIH0sIG4ucHJvdG90eXBlLl9jaGVja0FwcElkRGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB0ID0gdGhpcy5fZ2V0QXBwSWREYXRhKCksCiAgICAgICAgICAgICAgZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwoKICAgICAgICAgIHJldHVybiBudWxsID09PSB0IHx8IGUgLSB0Lmxhc3RDaGFuZ2UgPiBkID8gdGhpcy5fcmVzZXRJbml0aWFsQXBwSWREYXRhKHQpIDogdDsKICAgICAgICB9LCBuLnByb3RvdHlwZS5fcmVzZXRJbml0aWFsQXBwSWREYXRhID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHZhciBlID0gdCB8fCB7fTsKICAgICAgICAgIHJldHVybiBlLmhvc3RJbmRleGVzID0gewogICAgICAgICAgICByZWFkOiAwLAogICAgICAgICAgICB3cml0ZTogMAogICAgICAgICAgfSwgZS50aW1lb3V0TXVsdGlwbGllciA9IDEsIGUuc2h1ZmZsZVJlc3VsdCA9IGUuc2h1ZmZsZVJlc3VsdCB8fCByKFsxLCAyLCAzXSksIHRoaXMuX3NldEFwcElkRGF0YShlKTsKICAgICAgICB9LCBuLnByb3RvdHlwZS5fY2FjaGVBcHBJZERhdGEgPSBmdW5jdGlvbiAodCkgewogICAgICAgICAgdGhpcy5faG9zdEluZGV4ZXMgPSB0Lmhvc3RJbmRleGVzLCB0aGlzLl90aW1lb3V0TXVsdGlwbGllciA9IHQudGltZW91dE11bHRpcGxpZXIsIHRoaXMuX3NodWZmbGVSZXN1bHQgPSB0LnNodWZmbGVSZXN1bHQ7CiAgICAgICAgfSwgbi5wcm90b3R5cGUuX3BhcnRpYWxBcHBJZERhdGFVcGRhdGUgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIGkgPSB0KDUpLAogICAgICAgICAgICAgIG4gPSB0aGlzLl9nZXRBcHBJZERhdGEoKTsKCiAgICAgICAgICByZXR1cm4gaShlLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICBuW2VdID0gdDsKICAgICAgICAgIH0pLCB0aGlzLl9zZXRBcHBJZERhdGEobik7CiAgICAgICAgfSwgbi5wcm90b3R5cGUuX2dldEhvc3RCeVR5cGUgPSBmdW5jdGlvbiAodCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuaG9zdHNbdF1bdGhpcy5fZ2V0SG9zdEluZGV4QnlUeXBlKHQpXTsKICAgICAgICB9LCBuLnByb3RvdHlwZS5fZ2V0VGltZW91dE11bHRpcGxpZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5fdGltZW91dE11bHRpcGxpZXI7CiAgICAgICAgfSwgbi5wcm90b3R5cGUuX2dldEhvc3RJbmRleEJ5VHlwZSA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5faG9zdEluZGV4ZXNbdF07CiAgICAgICAgfSwgbi5wcm90b3R5cGUuX3NldEhvc3RJbmRleEJ5VHlwZSA9IGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgICB2YXIgbiA9IHQoMjQpKHRoaXMuX2hvc3RJbmRleGVzKTsKICAgICAgICAgIHJldHVybiBuW2ldID0gZSwgdGhpcy5fcGFydGlhbEFwcElkRGF0YVVwZGF0ZSh7CiAgICAgICAgICAgIGhvc3RJbmRleGVzOiBuCiAgICAgICAgICB9KSwgZTsKICAgICAgICB9LCBuLnByb3RvdHlwZS5faW5jcmVtZW50SG9zdEluZGV4ID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRIb3N0SW5kZXhCeVR5cGUoKHRoaXMuX2dldEhvc3RJbmRleEJ5VHlwZSh0KSArIDEpICUgdGhpcy5ob3N0c1t0XS5sZW5ndGgsIHQpOwogICAgICAgIH0sIG4ucHJvdG90eXBlLl9pbmNyZW1lbnRUaW1lb3V0TXVsdGlwbGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHQgPSBNYXRoLm1heCh0aGlzLl90aW1lb3V0TXVsdGlwbGllciArIDEsIDQpOwogICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRpYWxBcHBJZERhdGFVcGRhdGUoewogICAgICAgICAgICB0aW1lb3V0TXVsdGlwbGllcjogdAogICAgICAgICAgfSk7CiAgICAgICAgfSwgbi5wcm90b3R5cGUuX2dldFRpbWVvdXRzRm9yUmVxdWVzdCA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjb25uZWN0OiB0aGlzLl90aW1lb3V0cy5jb25uZWN0ICogdGhpcy5fdGltZW91dE11bHRpcGxpZXIsCiAgICAgICAgICAgIGNvbXBsZXRlOiB0aGlzLl90aW1lb3V0c1t0XSAqIHRoaXMuX3RpbWVvdXRNdWx0aXBsaWVyCiAgICAgICAgICB9OwogICAgICAgIH07CiAgICAgIH0pLmNhbGwodGhpcywgdCgxMikpOwogICAgfSwgewogICAgICAxOiAxLAogICAgICAxMjogMTIsCiAgICAgIDE4OiAxOCwKICAgICAgMjQ6IDI0LAogICAgICAyNzogMjcsCiAgICAgIDI4OiAyOCwKICAgICAgMjk6IDI5LAogICAgICAzMzogMzMsCiAgICAgIDU6IDUsCiAgICAgIDg6IDgKICAgIH1dLAogICAgMTY6IFtmdW5jdGlvbiAodCwgZSkgewogICAgICBmdW5jdGlvbiBpKCkgewogICAgICAgIG8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbih0LCBlLCBpKSB7CiAgICAgICAgZnVuY3Rpb24gbihpLCBzKSB7CiAgICAgICAgICB2YXIgbyA9IHsKICAgICAgICAgICAgcGFnZTogaSB8fCAwLAogICAgICAgICAgICBoaXRzUGVyUGFnZTogZSB8fCAxMDAKICAgICAgICAgIH0sCiAgICAgICAgICAgICAgciA9IHMgfHwgW107CiAgICAgICAgICByZXR1cm4gdChvKS50aGVuKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHZhciBlID0gdC5oaXRzLAogICAgICAgICAgICAgICAgaSA9IHQubmJIaXRzLAogICAgICAgICAgICAgICAgcyA9IGUubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZSB0Ll9oaWdobGlnaHRSZXN1bHQsIHQ7CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgYSA9IHIuY29uY2F0KHMpOwogICAgICAgICAgICByZXR1cm4gYS5sZW5ndGggPCBpID8gbihvLnBhZ2UgKyAxLCBhKSA6IGE7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuKCkudGhlbihmdW5jdGlvbiAodCkgewogICAgICAgICAgcmV0dXJuICJmdW5jdGlvbiIgPT0gdHlwZW9mIGkgPyB2b2lkIGkodCkgOiB0OwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgcyA9IHQoNyksCiAgICAgICAgICBvID0gdCgxOCksCiAgICAgICAgICByID0gdCgyNSksCiAgICAgICAgICBhID0gdCgyNiksCiAgICAgICAgICBoID0gdCgyOCksCiAgICAgICAgICBsID0gdCgyNyksCiAgICAgICAgICBjID0gcihmdW5jdGlvbiAoKSB7fSwgYSgiZm9yd2FyZFRvU2xhdmVzIiwgImZvcndhcmRUb1JlcGxpY2FzIikpOwogICAgICBlLmV4cG9ydHMgPSBpLCBzKGksIG8pLCBpLnByb3RvdHlwZS5hZGRPYmplY3QgPSBmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgIHZhciBuID0gdGhpczsKICAgICAgICByZXR1cm4gMSAhPT0gYXJndW1lbnRzLmxlbmd0aCAmJiAiZnVuY3Rpb24iICE9IHR5cGVvZiBlIHx8IChpID0gZSwgZSA9IHZvaWQgMCksIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogdm9pZCAwICE9PSBlID8gIlBVVCIgOiAiUE9TVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQobi5pbmRleE5hbWUpICsgKHZvaWQgMCAhPT0gZSA/ICIvIiArIGVuY29kZVVSSUNvbXBvbmVudChlKSA6ICIiKSwKICAgICAgICAgIGJvZHk6IHQsCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBpCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmFkZE9iamVjdHMgPSBmdW5jdGlvbiAoZSwgaSkgewogICAgICAgIHZhciBuID0gIlVzYWdlOiBpbmRleC5hZGRPYmplY3RzKGFycmF5T2ZPYmplY3RzWywgY2FsbGJhY2tdKSI7CiAgICAgICAgaWYgKCF0KDgpKGUpKSB0aHJvdyBuZXcgRXJyb3Iobik7CgogICAgICAgIGZvciAodmFyIHMgPSB0aGlzLCBvID0gewogICAgICAgICAgcmVxdWVzdHM6IFtdCiAgICAgICAgfSwgciA9IDA7IHIgPCBlLmxlbmd0aDsgKytyKSB7CiAgICAgICAgICB2YXIgYSA9IHsKICAgICAgICAgICAgYWN0aW9uOiAiYWRkT2JqZWN0IiwKICAgICAgICAgICAgYm9keTogZVtyXQogICAgICAgICAgfTsKICAgICAgICAgIG8ucmVxdWVzdHMucHVzaChhKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudChzLmluZGV4TmFtZSkgKyAiL2JhdGNoIiwKICAgICAgICAgIGJvZHk6IG8sCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBpCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLnBhcnRpYWxVcGRhdGVPYmplY3QgPSBmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgIDEgIT09IGFyZ3VtZW50cy5sZW5ndGggJiYgImZ1bmN0aW9uIiAhPSB0eXBlb2YgZSB8fCAoaSA9IGUsIGUgPSB2b2lkIDApOwogICAgICAgIHZhciBuID0gIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkgKyAiLyIgKyBlbmNvZGVVUklDb21wb25lbnQodC5vYmplY3RJRCkgKyAiL3BhcnRpYWwiOwogICAgICAgIHJldHVybiAhMSA9PT0gZSAmJiAobiArPSAiP2NyZWF0ZUlmTm90RXhpc3RzPWZhbHNlIiksIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiBuLAogICAgICAgICAgYm9keTogdCwKICAgICAgICAgIGhvc3RUeXBlOiAid3JpdGUiLAogICAgICAgICAgY2FsbGJhY2s6IGkKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUucGFydGlhbFVwZGF0ZU9iamVjdHMgPSBmdW5jdGlvbiAoZSwgaSwgbikgewogICAgICAgIDEgIT09IGFyZ3VtZW50cy5sZW5ndGggJiYgImZ1bmN0aW9uIiAhPSB0eXBlb2YgaSB8fCAobiA9IGksIGkgPSAhMCk7CiAgICAgICAgdmFyIHMgPSAiVXNhZ2U6IGluZGV4LnBhcnRpYWxVcGRhdGVPYmplY3RzKGFycmF5T2ZPYmplY3RzWywgY2FsbGJhY2tdKSI7CiAgICAgICAgaWYgKCF0KDgpKGUpKSB0aHJvdyBuZXcgRXJyb3Iocyk7CgogICAgICAgIGZvciAodmFyIG8gPSB0aGlzLCByID0gewogICAgICAgICAgcmVxdWVzdHM6IFtdCiAgICAgICAgfSwgYSA9IDA7IGEgPCBlLmxlbmd0aDsgKythKSB7CiAgICAgICAgICB2YXIgaCA9IHsKICAgICAgICAgICAgYWN0aW9uOiAhMCA9PT0gaSA/ICJwYXJ0aWFsVXBkYXRlT2JqZWN0IiA6ICJwYXJ0aWFsVXBkYXRlT2JqZWN0Tm9DcmVhdGUiLAogICAgICAgICAgICBvYmplY3RJRDogZVthXS5vYmplY3RJRCwKICAgICAgICAgICAgYm9keTogZVthXQogICAgICAgICAgfTsKICAgICAgICAgIHIucmVxdWVzdHMucHVzaChoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudChvLmluZGV4TmFtZSkgKyAiL2JhdGNoIiwKICAgICAgICAgIGJvZHk6IHIsCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBuCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLnNhdmVPYmplY3QgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHZhciBpID0gdGhpczsKICAgICAgICByZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudChpLmluZGV4TmFtZSkgKyAiLyIgKyBlbmNvZGVVUklDb21wb25lbnQodC5vYmplY3RJRCksCiAgICAgICAgICBib2R5OiB0LAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5zYXZlT2JqZWN0cyA9IGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgdmFyIG4gPSAiVXNhZ2U6IGluZGV4LnNhdmVPYmplY3RzKGFycmF5T2ZPYmplY3RzWywgY2FsbGJhY2tdKSI7CiAgICAgICAgaWYgKCF0KDgpKGUpKSB0aHJvdyBuZXcgRXJyb3Iobik7CgogICAgICAgIGZvciAodmFyIHMgPSB0aGlzLCBvID0gewogICAgICAgICAgcmVxdWVzdHM6IFtdCiAgICAgICAgfSwgciA9IDA7IHIgPCBlLmxlbmd0aDsgKytyKSB7CiAgICAgICAgICB2YXIgYSA9IHsKICAgICAgICAgICAgYWN0aW9uOiAidXBkYXRlT2JqZWN0IiwKICAgICAgICAgICAgb2JqZWN0SUQ6IGVbcl0ub2JqZWN0SUQsCiAgICAgICAgICAgIGJvZHk6IGVbcl0KICAgICAgICAgIH07CiAgICAgICAgICBvLnJlcXVlc3RzLnB1c2goYSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQocy5pbmRleE5hbWUpICsgIi9iYXRjaCIsCiAgICAgICAgICBib2R5OiBvLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogaQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5kZWxldGVPYmplY3QgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiB0IHx8ICJzdHJpbmciICE9IHR5cGVvZiB0ICYmICJudW1iZXIiICE9IHR5cGVvZiB0KSB7CiAgICAgICAgICB2YXIgaSA9IG5ldyBsLkFsZ29saWFTZWFyY2hFcnJvcigiQ2Fubm90IGRlbGV0ZSBhbiBvYmplY3Qgd2l0aG91dCBhbiBvYmplY3RJRCIpOwogICAgICAgICAgcmV0dXJuICJmdW5jdGlvbiIgPT0gdHlwZW9mIChlID0gdCkgPyBlKGkpIDogdGhpcy5hcy5fcHJvbWlzZS5yZWplY3QoaSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgbiA9IHRoaXM7CiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIkRFTEVURSIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQobi5pbmRleE5hbWUpICsgIi8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQpLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5kZWxldGVPYmplY3RzID0gZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICB2YXIgbiA9IHQoOCksCiAgICAgICAgICAgIHMgPSB0KDI5KSwKICAgICAgICAgICAgbyA9ICJVc2FnZTogaW5kZXguZGVsZXRlT2JqZWN0cyhhcnJheU9mT2JqZWN0SURzWywgY2FsbGJhY2tdKSI7CiAgICAgICAgaWYgKCFuKGUpKSB0aHJvdyBuZXcgRXJyb3Iobyk7CiAgICAgICAgdmFyIHIgPSB0aGlzLAogICAgICAgICAgICBhID0gewogICAgICAgICAgcmVxdWVzdHM6IHMoZSwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBhY3Rpb246ICJkZWxldGVPYmplY3QiLAogICAgICAgICAgICAgIG9iamVjdElEOiB0LAogICAgICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgICAgIG9iamVjdElEOiB0CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgfSkKICAgICAgICB9OwogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudChyLmluZGV4TmFtZSkgKyAiL2JhdGNoIiwKICAgICAgICAgIGJvZHk6IGEsCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBpCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmRlbGV0ZUJ5UXVlcnkgPSByKGZ1bmN0aW9uIChlLCBpLCBuKSB7CiAgICAgICAgZnVuY3Rpb24gcyh0KSB7CiAgICAgICAgICBpZiAoMCA9PT0gdC5uYkhpdHMpIHJldHVybiB0OwogICAgICAgICAgdmFyIGUgPSB1KHQuaGl0cywgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHQub2JqZWN0SUQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBwLmRlbGV0ZU9iamVjdHMoZSkudGhlbihvKS50aGVuKHIpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbyh0KSB7CiAgICAgICAgICByZXR1cm4gcC53YWl0VGFzayh0LnRhc2tJRCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByKCkgewogICAgICAgICAgcmV0dXJuIHAuZGVsZXRlQnlRdWVyeShlLCBpKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGEoKSB7CiAgICAgICAgICBoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbihudWxsKTsKICAgICAgICAgIH0sIGQuX3NldFRpbWVvdXQgfHwgc2V0VGltZW91dCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBsKHQpIHsKICAgICAgICAgIGgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBuKHQpOwogICAgICAgICAgfSwgZC5fc2V0VGltZW91dCB8fCBzZXRUaW1lb3V0KTsKICAgICAgICB9CgogICAgICAgIHZhciBjID0gdCgyNCksCiAgICAgICAgICAgIHUgPSB0KDI5KSwKICAgICAgICAgICAgcCA9IHRoaXMsCiAgICAgICAgICAgIGQgPSBwLmFzOwogICAgICAgIDEgPT09IGFyZ3VtZW50cy5sZW5ndGggfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgaSA/IChuID0gaSwgaSA9IHt9KSA6IGkgPSBjKGkpLCBpLmF0dHJpYnV0ZXNUb1JldHJpZXZlID0gIm9iamVjdElEIiwgaS5oaXRzUGVyUGFnZSA9IDFlMywgaS5kaXN0aW5jdCA9ICExLCB0aGlzLmNsZWFyQ2FjaGUoKTsKICAgICAgICB2YXIgZiA9IHRoaXMuc2VhcmNoKGUsIGkpLnRoZW4ocyk7CiAgICAgICAgcmV0dXJuIG4gPyB2b2lkIGYudGhlbihhLCBsKSA6IGY7CiAgICAgIH0sIGEoImluZGV4LmRlbGV0ZUJ5UXVlcnkoKSIsICJpbmRleC5kZWxldGVCeSgpIikpLCBpLnByb3RvdHlwZS5kZWxldGVCeSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgdmFyIGkgPSB0aGlzOwogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudChpLmluZGV4TmFtZSkgKyAiL2RlbGV0ZUJ5UXVlcnkiLAogICAgICAgICAgYm9keTogewogICAgICAgICAgICBwYXJhbXM6IGkuYXMuX2dldFNlYXJjaFBhcmFtcyh0LCAiIikKICAgICAgICAgIH0sCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBlCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmJyb3dzZUFsbCA9IGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgZnVuY3Rpb24gbih0KSB7CiAgICAgICAgICB2YXIgZTsKICAgICAgICAgIHIuX3N0b3BwZWQgfHwgKGUgPSB2b2lkIDAgIT09IHQgPyB7CiAgICAgICAgICAgIGN1cnNvcjogdAogICAgICAgICAgfSA6IHsKICAgICAgICAgICAgcGFyYW1zOiBsCiAgICAgICAgICB9LCBhLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQoaC5pbmRleE5hbWUpICsgIi9icm93c2UiLAogICAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgICBib2R5OiBlLAogICAgICAgICAgICBjYWxsYmFjazogcwogICAgICAgICAgfSkpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcyh0LCBlKSB7CiAgICAgICAgICBpZiAoIXIuX3N0b3BwZWQpIHJldHVybiB0ID8gdm9pZCByLl9lcnJvcih0KSA6IChyLl9yZXN1bHQoZSksIHZvaWQgMCA9PT0gZS5jdXJzb3IgPyB2b2lkIHIuX2VuZCgpIDogdm9pZCBuKGUuY3Vyc29yKSk7CiAgICAgICAgfQoKICAgICAgICAib2JqZWN0IiA9PSBfdHlwZW9mKGUpICYmIChpID0gZSwgZSA9IHZvaWQgMCk7CgogICAgICAgIHZhciBvID0gdCgzMCksCiAgICAgICAgICAgIHIgPSBuZXcgKHQoMTcpKSgpLAogICAgICAgICAgICBhID0gdGhpcy5hcywKICAgICAgICAgICAgaCA9IHRoaXMsCiAgICAgICAgICAgIGwgPSBhLl9nZXRTZWFyY2hQYXJhbXMobyh7fSwgaSB8fCB7fSwgewogICAgICAgICAgcXVlcnk6IGUKICAgICAgICB9KSwgIiIpOwoKICAgICAgICByZXR1cm4gbigpLCByOwogICAgICB9LCBpLnByb3RvdHlwZS50dEFkYXB0ZXIgPSByKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdmFyIGUgPSB0aGlzOwogICAgICAgIHJldHVybiBmdW5jdGlvbiAoaSwgbiwgcykgewogICAgICAgICAgdmFyIG87CiAgICAgICAgICBvID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgcyA/IHMgOiBuLCBlLnNlYXJjaChpLCB0LCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICByZXR1cm4gdCA/IHZvaWQgbyh0KSA6IHZvaWQgbyhlLmhpdHMpOwogICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgfSwgInR0QWRhcHRlciBpcyBub3QgbmVjZXNzYXJ5IGFueW1vcmUgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCB2ZXJzaW9uLFxuaGF2ZSBhIGxvb2sgYXQgYXV0b2NvbXBsZXRlLmpzIChodHRwczovL2dpdGh1Yi5jb20vYWxnb2xpYS9hdXRvY29tcGxldGUuanMpIiksIGkucHJvdG90eXBlLndhaXRUYXNrID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICBmdW5jdGlvbiBpKCkgewogICAgICAgICAgcmV0dXJuIGMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgaG9zdFR5cGU6ICJyZWFkIiwKICAgICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KGwuaW5kZXhOYW1lKSArICIvdGFzay8iICsgdAogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodCkgewogICAgICAgICAgICB2YXIgZSA9IG8gKiArK2EgKiBhOwogICAgICAgICAgICByZXR1cm4gZSA+IHIgJiYgKGUgPSByKSwgInB1Ymxpc2hlZCIgIT09IHQuc3RhdHVzID8gYy5fcHJvbWlzZS5kZWxheShlKS50aGVuKGkpIDogdDsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbih0KSB7CiAgICAgICAgICBoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZShudWxsLCB0KTsKICAgICAgICAgIH0sIGMuX3NldFRpbWVvdXQgfHwgc2V0VGltZW91dCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzKHQpIHsKICAgICAgICAgIGgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBlKHQpOwogICAgICAgICAgfSwgYy5fc2V0VGltZW91dCB8fCBzZXRUaW1lb3V0KTsKICAgICAgICB9CgogICAgICAgIHZhciBvID0gMTAwLAogICAgICAgICAgICByID0gNWUzLAogICAgICAgICAgICBhID0gMCwKICAgICAgICAgICAgbCA9IHRoaXMsCiAgICAgICAgICAgIGMgPSBsLmFzLAogICAgICAgICAgICB1ID0gaSgpOwogICAgICAgIHJldHVybiBlID8gdm9pZCB1LnRoZW4obiwgcykgOiB1OwogICAgICB9LCBpLnByb3RvdHlwZS5jbGVhckluZGV4ID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgZSA9IHRoaXM7CiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KGUuaW5kZXhOYW1lKSArICIvY2xlYXIiLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogdAogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5nZXRTZXR0aW5ncyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgMSA9PT0gYXJndW1lbnRzLmxlbmd0aCAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiB0ICYmIChlID0gdCwgdCA9IHt9KSwgdCA9IHQgfHwge307CiAgICAgICAgdmFyIGkgPSBlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpOwogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgaSArICIvc2V0dGluZ3M/Z2V0VmVyc2lvbj0yIiArICh0LmFkdmFuY2VkID8gIiZhZHZhbmNlZD0iICsgdC5hZHZhbmNlZCA6ICIiKSwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5zZWFyY2hTeW5vbnltcyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgcmV0dXJuICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgPyAoZSA9IHQsIHQgPSB7fSkgOiB2b2lkIDAgPT09IHQgJiYgKHQgPSB7fSksIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSArICIvc3lub255bXMvc2VhcmNoIiwKICAgICAgICAgIGJvZHk6IHQsCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgY2FsbGJhY2s6IGUKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuZXhwb3J0U3lub255bXMgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiBuKHRoaXMuc2VhcmNoU3lub255bXMuYmluZCh0aGlzKSwgdCwgZSk7CiAgICAgIH0sIGkucHJvdG90eXBlLnNhdmVTeW5vbnltID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgICAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBlID8gKGkgPSBlLCBlID0ge30pIDogdm9pZCAwID09PSBlICYmIChlID0ge30pLCB2b2lkIDAgIT09IGUuZm9yd2FyZFRvU2xhdmVzICYmIGMoKTsKICAgICAgICB2YXIgbiA9IGUuZm9yd2FyZFRvU2xhdmVzIHx8IGUuZm9yd2FyZFRvUmVwbGljYXMgPyAidHJ1ZSIgOiAiZmFsc2UiOwogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQVVQiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSArICIvc3lub255bXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0Lm9iamVjdElEKSArICI/Zm9yd2FyZFRvUmVwbGljYXM9IiArIG4sCiAgICAgICAgICBib2R5OiB0LAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogaQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5nZXRTeW5vbnltID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkgKyAiL3N5bm9ueW1zLyIgKyBlbmNvZGVVUklDb21wb25lbnQodCksCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgY2FsbGJhY2s6IGUKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuZGVsZXRlU3lub255bSA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSA/IChpID0gZSwgZSA9IHt9KSA6IHZvaWQgMCA9PT0gZSAmJiAoZSA9IHt9KSwgdm9pZCAwICE9PSBlLmZvcndhcmRUb1NsYXZlcyAmJiBjKCk7CiAgICAgICAgdmFyIG4gPSBlLmZvcndhcmRUb1NsYXZlcyB8fCBlLmZvcndhcmRUb1JlcGxpY2FzID8gInRydWUiIDogImZhbHNlIjsKICAgICAgICByZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiREVMRVRFIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkgKyAiL3N5bm9ueW1zLyIgKyBlbmNvZGVVUklDb21wb25lbnQodCkgKyAiP2ZvcndhcmRUb1JlcGxpY2FzPSIgKyBuLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogaQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5jbGVhclN5bm9ueW1zID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAiZnVuY3Rpb24iID09IHR5cGVvZiB0ID8gKGUgPSB0LCB0ID0ge30pIDogdm9pZCAwID09PSB0ICYmICh0ID0ge30pLCB2b2lkIDAgIT09IHQuZm9yd2FyZFRvU2xhdmVzICYmIGMoKTsKICAgICAgICB2YXIgaSA9IHQuZm9yd2FyZFRvU2xhdmVzIHx8IHQuZm9yd2FyZFRvUmVwbGljYXMgPyAidHJ1ZSIgOiAiZmFsc2UiOwogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkgKyAiL3N5bm9ueW1zL2NsZWFyP2ZvcndhcmRUb1JlcGxpY2FzPSIgKyBpLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5iYXRjaFN5bm9ueW1zID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgICAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBlID8gKGkgPSBlLCBlID0ge30pIDogdm9pZCAwID09PSBlICYmIChlID0ge30pLCB2b2lkIDAgIT09IGUuZm9yd2FyZFRvU2xhdmVzICYmIGMoKTsKICAgICAgICB2YXIgbiA9IGUuZm9yd2FyZFRvU2xhdmVzIHx8IGUuZm9yd2FyZFRvUmVwbGljYXMgPyAidHJ1ZSIgOiAiZmFsc2UiOwogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkgKyAiL3N5bm9ueW1zL2JhdGNoP2ZvcndhcmRUb1JlcGxpY2FzPSIgKyBuICsgIiZyZXBsYWNlRXhpc3RpbmdTeW5vbnltcz0iICsgKGUucmVwbGFjZUV4aXN0aW5nU3lub255bXMgPyAidHJ1ZSIgOiAiZmFsc2UiKSwKICAgICAgICAgIGhvc3RUeXBlOiAid3JpdGUiLAogICAgICAgICAgYm9keTogdCwKICAgICAgICAgIGNhbGxiYWNrOiBpCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLnNlYXJjaFJ1bGVzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCA/IChlID0gdCwgdCA9IHt9KSA6IHZvaWQgMCA9PT0gdCAmJiAodCA9IHt9KSwgdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpICsgIi9ydWxlcy9zZWFyY2giLAogICAgICAgICAgYm9keTogdCwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5leHBvcnRSdWxlcyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgcmV0dXJuIG4odGhpcy5zZWFyY2hSdWxlcy5iaW5kKHRoaXMpLCB0LCBlKTsKICAgICAgfSwgaS5wcm90b3R5cGUuc2F2ZVJ1bGUgPSBmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgPyAoaSA9IGUsIGUgPSB7fSkgOiB2b2lkIDAgPT09IGUgJiYgKGUgPSB7fSk7CiAgICAgICAgdmFyIG4gPSAhMCA9PT0gZS5mb3J3YXJkVG9SZXBsaWNhcyA/ICJ0cnVlIiA6ICJmYWxzZSI7CiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBVVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpICsgIi9ydWxlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQub2JqZWN0SUQpICsgIj9mb3J3YXJkVG9SZXBsaWNhcz0iICsgbiwKICAgICAgICAgIGJvZHk6IHQsCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBpCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmdldFJ1bGUgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSArICIvcnVsZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0KSwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5kZWxldGVSdWxlID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgICAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBlID8gKGkgPSBlLCBlID0ge30pIDogdm9pZCAwID09PSBlICYmIChlID0ge30pOwogICAgICAgIHZhciBuID0gITAgPT09IGUuZm9yd2FyZFRvUmVwbGljYXMgPyAidHJ1ZSIgOiAiZmFsc2UiOwogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJERUxFVEUiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSArICIvcnVsZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0KSArICI/Zm9yd2FyZFRvUmVwbGljYXM9IiArIG4sCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBpCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmNsZWFyUnVsZXMgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgPyAoZSA9IHQsIHQgPSB7fSkgOiB2b2lkIDAgPT09IHQgJiYgKHQgPSB7fSk7CiAgICAgICAgdmFyIGkgPSAhMCA9PT0gdC5mb3J3YXJkVG9SZXBsaWNhcyA/ICJ0cnVlIiA6ICJmYWxzZSI7CiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSArICIvcnVsZXMvY2xlYXI/Zm9yd2FyZFRvUmVwbGljYXM9IiArIGksCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBlCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmJhdGNoUnVsZXMgPSBmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgPyAoaSA9IGUsIGUgPSB7fSkgOiB2b2lkIDAgPT09IGUgJiYgKGUgPSB7fSk7CiAgICAgICAgdmFyIG4gPSAhMCA9PT0gZS5mb3J3YXJkVG9SZXBsaWNhcyA/ICJ0cnVlIiA6ICJmYWxzZSI7CiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSArICIvcnVsZXMvYmF0Y2g/Zm9yd2FyZFRvUmVwbGljYXM9IiArIG4gKyAiJmNsZWFyRXhpc3RpbmdSdWxlcz0iICsgKCEwID09PSBlLmNsZWFyRXhpc3RpbmdSdWxlcyA/ICJ0cnVlIiA6ICJmYWxzZSIpLAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBib2R5OiB0LAogICAgICAgICAgY2FsbGJhY2s6IGkKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuc2V0U2V0dGluZ3MgPSBmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgIDEgIT09IGFyZ3VtZW50cy5sZW5ndGggJiYgImZ1bmN0aW9uIiAhPSB0eXBlb2YgZSB8fCAoaSA9IGUsIGUgPSB7fSksIHZvaWQgMCAhPT0gZS5mb3J3YXJkVG9TbGF2ZXMgJiYgYygpOwogICAgICAgIHZhciBuID0gZS5mb3J3YXJkVG9TbGF2ZXMgfHwgZS5mb3J3YXJkVG9SZXBsaWNhcyA/ICJ0cnVlIiA6ICJmYWxzZSIsCiAgICAgICAgICAgIHMgPSB0aGlzOwogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQVVQiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuaW5kZXhOYW1lKSArICIvc2V0dGluZ3M/Zm9yd2FyZFRvUmVwbGljYXM9IiArIG4sCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGJvZHk6IHQsCiAgICAgICAgICBjYWxsYmFjazogaQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5saXN0VXNlcktleXMgPSByKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMubGlzdEFwaUtleXModCk7CiAgICAgIH0sIGEoImluZGV4Lmxpc3RVc2VyS2V5cygpIiwgImluZGV4Lmxpc3RBcGlLZXlzKCkiKSksIGkucHJvdG90eXBlLmxpc3RBcGlLZXlzID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgZSA9IHRoaXM7CiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQoZS5pbmRleE5hbWUpICsgIi9rZXlzIiwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogdAogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5nZXRVc2VyS2V5QUNMID0gcihmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFwaUtleSh0LCBlKTsKICAgICAgfSwgYSgiaW5kZXguZ2V0VXNlcktleUFDTCgpIiwgImluZGV4LmdldEFwaUtleSgpIikpLCBpLnByb3RvdHlwZS5nZXRBcGlLZXkgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHZhciBpID0gdGhpczsKICAgICAgICByZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudChpLmluZGV4TmFtZSkgKyAiL2tleXMvIiArIHQsCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgY2FsbGJhY2s6IGUKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuZGVsZXRlVXNlcktleSA9IHIoZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5kZWxldGVBcGlLZXkodCwgZSk7CiAgICAgIH0sIGEoImluZGV4LmRlbGV0ZVVzZXJLZXkoKSIsICJpbmRleC5kZWxldGVBcGlLZXkoKSIpKSwgaS5wcm90b3R5cGUuZGVsZXRlQXBpS2V5ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICB2YXIgaSA9IHRoaXM7CiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIkRFTEVURSIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQoaS5pbmRleE5hbWUpICsgIi9rZXlzLyIgKyB0LAogICAgICAgICAgaG9zdFR5cGU6ICJ3cml0ZSIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5hZGRVc2VyS2V5ID0gcihmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICAgIHJldHVybiB0aGlzLmFkZEFwaUtleSh0LCBlLCBpKTsKICAgICAgfSwgYSgiaW5kZXguYWRkVXNlcktleSgpIiwgImluZGV4LmFkZEFwaUtleSgpIikpLCBpLnByb3RvdHlwZS5hZGRBcGlLZXkgPSBmdW5jdGlvbiAoZSwgaSwgbikgewogICAgICAgIHZhciBzID0gIlVzYWdlOiBpbmRleC5hZGRBcGlLZXkoYXJyYXlPZkFjbHNbLCBwYXJhbXMsIGNhbGxiYWNrXSkiOwogICAgICAgIGlmICghdCg4KShlKSkgdGhyb3cgbmV3IEVycm9yKHMpOwogICAgICAgIDEgIT09IGFyZ3VtZW50cy5sZW5ndGggJiYgImZ1bmN0aW9uIiAhPSB0eXBlb2YgaSB8fCAobiA9IGksIGkgPSBudWxsKTsKICAgICAgICB2YXIgbyA9IHsKICAgICAgICAgIGFjbDogZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGkgJiYgKG8udmFsaWRpdHkgPSBpLnZhbGlkaXR5LCBvLm1heFF1ZXJpZXNQZXJJUFBlckhvdXIgPSBpLm1heFF1ZXJpZXNQZXJJUFBlckhvdXIsIG8ubWF4SGl0c1BlclF1ZXJ5ID0gaS5tYXhIaXRzUGVyUXVlcnksIG8uZGVzY3JpcHRpb24gPSBpLmRlc2NyaXB0aW9uLCBpLnF1ZXJ5UGFyYW1ldGVycyAmJiAoby5xdWVyeVBhcmFtZXRlcnMgPSB0aGlzLmFzLl9nZXRTZWFyY2hQYXJhbXMoaS5xdWVyeVBhcmFtZXRlcnMsICIiKSksIG8ucmVmZXJlcnMgPSBpLnJlZmVyZXJzKSwgdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpICsgIi9rZXlzIiwKICAgICAgICAgIGJvZHk6IG8sCiAgICAgICAgICBob3N0VHlwZTogIndyaXRlIiwKICAgICAgICAgIGNhbGxiYWNrOiBuCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmFkZFVzZXJLZXlXaXRoVmFsaWRpdHkgPSByKGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQXBpS2V5KHQsIGUsIGkpOwogICAgICB9LCBhKCJpbmRleC5hZGRVc2VyS2V5V2l0aFZhbGlkaXR5KCkiLCAiaW5kZXguYWRkQXBpS2V5KCkiKSksIGkucHJvdG90eXBlLnVwZGF0ZVVzZXJLZXkgPSByKGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQXBpS2V5KHQsIGUsIGksIG4pOwogICAgICB9LCBhKCJpbmRleC51cGRhdGVVc2VyS2V5KCkiLCAiaW5kZXgudXBkYXRlQXBpS2V5KCkiKSksIGkucHJvdG90eXBlLnVwZGF0ZUFwaUtleSA9IGZ1bmN0aW9uIChlLCBpLCBuLCBzKSB7CiAgICAgICAgdmFyIG8gPSAiVXNhZ2U6IGluZGV4LnVwZGF0ZUFwaUtleShrZXksIGFycmF5T2ZBY2xzWywgcGFyYW1zLCBjYWxsYmFja10pIjsKICAgICAgICBpZiAoIXQoOCkoaSkpIHRocm93IG5ldyBFcnJvcihvKTsKICAgICAgICAyICE9PSBhcmd1bWVudHMubGVuZ3RoICYmICJmdW5jdGlvbiIgIT0gdHlwZW9mIG4gfHwgKHMgPSBuLCBuID0gbnVsbCk7CiAgICAgICAgdmFyIHIgPSB7CiAgICAgICAgICBhY2w6IGkKICAgICAgICB9OwogICAgICAgIHJldHVybiBuICYmIChyLnZhbGlkaXR5ID0gbi52YWxpZGl0eSwgci5tYXhRdWVyaWVzUGVySVBQZXJIb3VyID0gbi5tYXhRdWVyaWVzUGVySVBQZXJIb3VyLCByLm1heEhpdHNQZXJRdWVyeSA9IG4ubWF4SGl0c1BlclF1ZXJ5LCByLmRlc2NyaXB0aW9uID0gbi5kZXNjcmlwdGlvbiwgbi5xdWVyeVBhcmFtZXRlcnMgJiYgKHIucXVlcnlQYXJhbWV0ZXJzID0gdGhpcy5hcy5fZ2V0U2VhcmNoUGFyYW1zKG4ucXVlcnlQYXJhbWV0ZXJzLCAiIikpLCByLnJlZmVyZXJzID0gbi5yZWZlcmVycyksIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBVVCIsCiAgICAgICAgICB1cmw6ICIvMS9pbmRleGVzLyIgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5pbmRleE5hbWUpICsgIi9rZXlzLyIgKyBlLAogICAgICAgICAgYm9keTogciwKICAgICAgICAgIGhvc3RUeXBlOiAid3JpdGUiLAogICAgICAgICAgY2FsbGJhY2s6IHMKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sIHsKICAgICAgMTc6IDE3LAogICAgICAxODogMTgsCiAgICAgIDI0OiAyNCwKICAgICAgMjU6IDI1LAogICAgICAyNjogMjYsCiAgICAgIDI3OiAyNywKICAgICAgMjg6IDI4LAogICAgICAyOTogMjksCiAgICAgIDMwOiAzMCwKICAgICAgNzogNywKICAgICAgODogOAogICAgfV0sCiAgICAxNzogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIGZ1bmN0aW9uIGkoKSB7fQoKICAgICAgZS5leHBvcnRzID0gaSwgdCg3KShpLCB0KDQpLkV2ZW50RW1pdHRlciksIGkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5fc3RvcHBlZCA9ICEwLCB0aGlzLl9jbGVhbigpOwogICAgICB9LCBpLnByb3RvdHlwZS5fZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuZW1pdCgiZW5kIiksIHRoaXMuX2NsZWFuKCk7CiAgICAgIH0sIGkucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdGhpcy5lbWl0KCJlcnJvciIsIHQpLCB0aGlzLl9jbGVhbigpOwogICAgICB9LCBpLnByb3RvdHlwZS5fcmVzdWx0ID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICB0aGlzLmVtaXQoInJlc3VsdCIsIHQpOwogICAgICB9LCBpLnByb3RvdHlwZS5fY2xlYW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInN0b3AiKSwgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoImVuZCIpLCB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygiZXJyb3IiKSwgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoInJlc3VsdCIpOwogICAgICB9OwogICAgfSwgewogICAgICA0OiA0LAogICAgICA3OiA3CiAgICB9XSwKICAgIDE4OiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgZnVuY3Rpb24gaSh0LCBlKSB7CiAgICAgICAgdGhpcy5pbmRleE5hbWUgPSBlLCB0aGlzLmFzID0gdCwgdGhpcy50eXBlQWhlYWRBcmdzID0gbnVsbCwgdGhpcy50eXBlQWhlYWRWYWx1ZU9wdGlvbiA9IG51bGwsIHRoaXMuY2FjaGUgPSB7fTsKICAgICAgfQoKICAgICAgdmFyIG4gPSB0KDIzKSwKICAgICAgICAgIHMgPSB0KDI1KSwKICAgICAgICAgIG8gPSB0KDI2KTsKICAgICAgZS5leHBvcnRzID0gaSwgaS5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmNhY2hlID0ge307CiAgICAgIH0sIGkucHJvdG90eXBlLnNlYXJjaCA9IG4oInF1ZXJ5IiksIGkucHJvdG90eXBlLnNpbWlsYXJTZWFyY2ggPSBuKCJzaW1pbGFyUXVlcnkiKSwgaS5wcm90b3R5cGUuYnJvd3NlID0gZnVuY3Rpb24gKGUsIGksIG4pIHsKICAgICAgICB2YXIgcywKICAgICAgICAgICAgbywKICAgICAgICAgICAgciA9IHQoMzApLAogICAgICAgICAgICBhID0gdGhpczsKICAgICAgICAwID09PSBhcmd1bWVudHMubGVuZ3RoIHx8IDEgPT09IGFyZ3VtZW50cy5sZW5ndGggJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgYXJndW1lbnRzWzBdID8gKHMgPSAwLCBuID0gYXJndW1lbnRzWzBdLCBlID0gdm9pZCAwKSA6ICJudW1iZXIiID09IHR5cGVvZiBhcmd1bWVudHNbMF0gPyAocyA9IGFyZ3VtZW50c1swXSwgIm51bWJlciIgPT0gdHlwZW9mIGFyZ3VtZW50c1sxXSA/IG8gPSBhcmd1bWVudHNbMV0gOiAiZnVuY3Rpb24iID09IHR5cGVvZiBhcmd1bWVudHNbMV0gJiYgKG4gPSBhcmd1bWVudHNbMV0sIG8gPSB2b2lkIDApLCBlID0gdm9pZCAwLCBpID0gdm9pZCAwKSA6ICJvYmplY3QiID09IF90eXBlb2YoYXJndW1lbnRzWzBdKSA/ICgiZnVuY3Rpb24iID09IHR5cGVvZiBhcmd1bWVudHNbMV0gJiYgKG4gPSBhcmd1bWVudHNbMV0pLCBpID0gYXJndW1lbnRzWzBdLCBlID0gdm9pZCAwKSA6ICJzdHJpbmciID09IHR5cGVvZiBhcmd1bWVudHNbMF0gJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgYXJndW1lbnRzWzFdICYmIChuID0gYXJndW1lbnRzWzFdLCBpID0gdm9pZCAwKSwgaSA9IHIoe30sIGkgfHwge30sIHsKICAgICAgICAgIHBhZ2U6IHMsCiAgICAgICAgICBoaXRzUGVyUGFnZTogbywKICAgICAgICAgIHF1ZXJ5OiBlCiAgICAgICAgfSk7CgogICAgICAgIHZhciBoID0gdGhpcy5hcy5fZ2V0U2VhcmNoUGFyYW1zKGksICIiKTsKCiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KGEuaW5kZXhOYW1lKSArICIvYnJvd3NlIiwKICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgcGFyYW1zOiBoCiAgICAgICAgICB9LAogICAgICAgICAgaG9zdFR5cGU6ICJyZWFkIiwKICAgICAgICAgIGNhbGxiYWNrOiBuCiAgICAgICAgfSk7CiAgICAgIH0sIGkucHJvdG90eXBlLmJyb3dzZUZyb20gPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkgKyAiL2Jyb3dzZSIsCiAgICAgICAgICBib2R5OiB7CiAgICAgICAgICAgIGN1cnNvcjogdAogICAgICAgICAgfSwKICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICBjYWxsYmFjazogZQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5zZWFyY2hGb3JGYWNldFZhbHVlcyA9IGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgdmFyIG4gPSB0KDI0KSwKICAgICAgICAgICAgcyA9IHQoMzEpLAogICAgICAgICAgICBvID0gIlVzYWdlOiBpbmRleC5zZWFyY2hGb3JGYWNldFZhbHVlcyh7ZmFjZXROYW1lLCBmYWNldFF1ZXJ5LCAuLi5wYXJhbXN9WywgY2FsbGJhY2tdKSI7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZS5mYWNldE5hbWUgfHwgdm9pZCAwID09PSBlLmZhY2V0UXVlcnkpIHRocm93IG5ldyBFcnJvcihvKTsKCiAgICAgICAgdmFyIHIgPSBlLmZhY2V0TmFtZSwKICAgICAgICAgICAgYSA9IHMobihlKSwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiAiZmFjZXROYW1lIiA9PT0gdDsKICAgICAgICB9KSwKICAgICAgICAgICAgaCA9IHRoaXMuYXMuX2dldFNlYXJjaFBhcmFtcyhhLCAiIik7CgogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogIi8xL2luZGV4ZXMvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmluZGV4TmFtZSkgKyAiL2ZhY2V0cy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHIpICsgIi9xdWVyeSIsCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgYm9keTogewogICAgICAgICAgICBwYXJhbXM6IGgKICAgICAgICAgIH0sCiAgICAgICAgICBjYWxsYmFjazogaQogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5zZWFyY2hGYWNldCA9IHMoZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5zZWFyY2hGb3JGYWNldFZhbHVlcyh0LCBlKTsKICAgICAgfSwgbygiaW5kZXguc2VhcmNoRmFjZXQocGFyYW1zWywgY2FsbGJhY2tdKSIsICJpbmRleC5zZWFyY2hGb3JGYWNldFZhbHVlcyhwYXJhbXNbLCBjYWxsYmFja10pIikpLCBpLnByb3RvdHlwZS5fc2VhcmNoID0gZnVuY3Rpb24gKHQsIGUsIGksIG4pIHsKICAgICAgICByZXR1cm4gdGhpcy5hcy5fanNvblJlcXVlc3QoewogICAgICAgICAgY2FjaGU6IHRoaXMuY2FjaGUsCiAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgIHVybDogZSB8fCAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSArICIvcXVlcnkiLAogICAgICAgICAgYm9keTogewogICAgICAgICAgICBwYXJhbXM6IHQKICAgICAgICAgIH0sCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgZmFsbGJhY2s6IHsKICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuaW5kZXhOYW1lKSwKICAgICAgICAgICAgYm9keTogewogICAgICAgICAgICAgIHBhcmFtczogdAogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgY2FsbGJhY2s6IGksCiAgICAgICAgICBhZGRpdGlvbmFsVUE6IG4KICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuZ2V0T2JqZWN0ID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgICAgICB2YXIgbiA9IHRoaXM7CiAgICAgICAgMSAhPT0gYXJndW1lbnRzLmxlbmd0aCAmJiAiZnVuY3Rpb24iICE9IHR5cGVvZiBlIHx8IChpID0gZSwgZSA9IHZvaWQgMCk7CiAgICAgICAgdmFyIHMgPSAiIjsKCiAgICAgICAgaWYgKHZvaWQgMCAhPT0gZSkgewogICAgICAgICAgcyA9ICI/YXR0cmlidXRlcz0iOwoKICAgICAgICAgIGZvciAodmFyIG8gPSAwOyBvIDwgZS5sZW5ndGg7ICsrbykgewogICAgICAgICAgICAwICE9PSBvICYmIChzICs9ICIsIiksIHMgKz0gZVtvXTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzLmFzLl9qc29uUmVxdWVzdCh7CiAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KG4uaW5kZXhOYW1lKSArICIvIiArIGVuY29kZVVSSUNvbXBvbmVudCh0KSArIHMsCiAgICAgICAgICBob3N0VHlwZTogInJlYWQiLAogICAgICAgICAgY2FsbGJhY2s6IGkKICAgICAgICB9KTsKICAgICAgfSwgaS5wcm90b3R5cGUuZ2V0T2JqZWN0cyA9IGZ1bmN0aW9uIChlLCBpLCBuKSB7CiAgICAgICAgdmFyIHMgPSB0KDgpLAogICAgICAgICAgICBvID0gdCgyOSksCiAgICAgICAgICAgIHIgPSAiVXNhZ2U6IGluZGV4LmdldE9iamVjdHMoYXJyYXlPZk9iamVjdElEc1ssIGNhbGxiYWNrXSkiOwogICAgICAgIGlmICghcyhlKSkgdGhyb3cgbmV3IEVycm9yKHIpOwogICAgICAgIHZhciBhID0gdGhpczsKICAgICAgICAxICE9PSBhcmd1bWVudHMubGVuZ3RoICYmICJmdW5jdGlvbiIgIT0gdHlwZW9mIGkgfHwgKG4gPSBpLCBpID0gdm9pZCAwKTsKICAgICAgICB2YXIgaCA9IHsKICAgICAgICAgIHJlcXVlc3RzOiBvKGUsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIHZhciBlID0gewogICAgICAgICAgICAgIGluZGV4TmFtZTogYS5pbmRleE5hbWUsCiAgICAgICAgICAgICAgb2JqZWN0SUQ6IHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIGkgJiYgKGUuYXR0cmlidXRlc1RvUmV0cmlldmUgPSBpLmpvaW4oIiwiKSksIGU7CiAgICAgICAgICB9KQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgdXJsOiAiLzEvaW5kZXhlcy8qL29iamVjdHMiLAogICAgICAgICAgaG9zdFR5cGU6ICJyZWFkIiwKICAgICAgICAgIGJvZHk6IGgsCiAgICAgICAgICBjYWxsYmFjazogbgogICAgICAgIH0pOwogICAgICB9LCBpLnByb3RvdHlwZS5hcyA9IG51bGwsIGkucHJvdG90eXBlLmluZGV4TmFtZSA9IG51bGwsIGkucHJvdG90eXBlLnR5cGVBaGVhZEFyZ3MgPSBudWxsLCBpLnByb3RvdHlwZS50eXBlQWhlYWRWYWx1ZU9wdGlvbiA9IG51bGw7CiAgICB9LCB7CiAgICAgIDIzOiAyMywKICAgICAgMjQ6IDI0LAogICAgICAyNTogMjUsCiAgICAgIDI2OiAyNiwKICAgICAgMjk6IDI5LAogICAgICAzMDogMzAsCiAgICAgIDMxOiAzMSwKICAgICAgODogOAogICAgfV0sCiAgICAxOTogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIHZhciBpID0gdCgxNCksCiAgICAgICAgICBuID0gdCgyMCk7CiAgICAgIGUuZXhwb3J0cyA9IG4oaSk7CiAgICB9LCB7CiAgICAgIDE0OiAxNCwKICAgICAgMjA6IDIwCiAgICB9XSwKICAgIDIwOiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgICB2YXIgbiA9IHQoNiksCiAgICAgICAgICAgIHMgPSBuLlByb21pc2UgfHwgdCgzKS5Qcm9taXNlOwoKICAgICAgICBlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgbykgewogICAgICAgICAgZnVuY3Rpb24gcihlLCBpLCBuKSB7CiAgICAgICAgICAgIHJldHVybiAobiA9IHQoMjQpKG4gfHwge30pKS5fdWEgPSBuLl91YSB8fCByLnVhLCBuZXcgYShlLCBpLCBuKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBhKCkgewogICAgICAgICAgICBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGggPSB0KDcpLAogICAgICAgICAgICAgIGwgPSB0KDI3KSwKICAgICAgICAgICAgICBjID0gdCgyMSksCiAgICAgICAgICAgICAgdSA9IHQoMjIpLAogICAgICAgICAgICAgIHAgPSB0KDMyKTsKICAgICAgICAgIG8gPSBvIHx8ICIiLCAiZGVidWciID09PSBpLmVudi5OT0RFX0VOViAmJiB0KDEpLmVuYWJsZSgiYWxnb2xpYXNlYXJjaCoiKSwgci52ZXJzaW9uID0gdCgzNCksIHIudWEgPSAiQWxnb2xpYSBmb3IgdmFuaWxsYSBKYXZhU2NyaXB0ICIgKyBvICsgci52ZXJzaW9uLCByLmluaXRQbGFjZXMgPSBwKHIpLCBuLl9fYWxnb2xpYSA9IHsKICAgICAgICAgICAgZGVidWc6IHQoMSksCiAgICAgICAgICAgIGFsZ29saWFzZWFyY2g6IHIKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgZCA9IHsKICAgICAgICAgICAgaGFzWE1MSHR0cFJlcXVlc3Q6ICJYTUxIdHRwUmVxdWVzdCIgaW4gbiwKICAgICAgICAgICAgaGFzWERvbWFpblJlcXVlc3Q6ICJYRG9tYWluUmVxdWVzdCIgaW4gbgogICAgICAgICAgfTsKICAgICAgICAgIHJldHVybiBkLmhhc1hNTEh0dHBSZXF1ZXN0ICYmIChkLmNvcnMgPSAid2l0aENyZWRlbnRpYWxzIiBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKSksIGgoYSwgZSksIGEucHJvdG90eXBlLl9yZXF1ZXN0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBzKGZ1bmN0aW9uIChpLCBuKSB7CiAgICAgICAgICAgICAgZnVuY3Rpb24gcygpIHsKICAgICAgICAgICAgICAgIGlmICghZikgewogICAgICAgICAgICAgICAgICB2YXIgdDsKICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHApOwoKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICB0ID0gewogICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5wYXJzZShnLnJlc3BvbnNlVGV4dCksCiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVRleHQ6IGcucmVzcG9uc2VUZXh0LAogICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogZy5zdGF0dXMsCiAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBnLmdldEFsbFJlc3BvbnNlSGVhZGVycyAmJiBnLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8IHt9CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIHQgPSBuZXcgbC5VbnBhcnNhYmxlSlNPTih7CiAgICAgICAgICAgICAgICAgICAgICBtb3JlOiBnLnJlc3BvbnNlVGV4dAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB0IGluc3RhbmNlb2YgbC5VbnBhcnNhYmxlSlNPTiA/IG4odCkgOiBpKHQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZnVuY3Rpb24gbyh0KSB7CiAgICAgICAgICAgICAgICBmIHx8IChjbGVhclRpbWVvdXQocCksIG4obmV3IGwuTmV0d29yayh7CiAgICAgICAgICAgICAgICAgIG1vcmU6IHQKICAgICAgICAgICAgICAgIH0pKSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBmdW5jdGlvbiByKCkgewogICAgICAgICAgICAgICAgZiA9ICEwLCBnLmFib3J0KCksIG4obmV3IGwuUmVxdWVzdFRpbWVvdXQoKSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBmdW5jdGlvbiBhKCkgewogICAgICAgICAgICAgICAgdiA9ICEwLCBjbGVhclRpbWVvdXQocCksIHAgPSBzZXRUaW1lb3V0KHIsIGUudGltZW91dHMuY29tcGxldGUpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZnVuY3Rpb24gaCgpIHsKICAgICAgICAgICAgICAgIHYgfHwgYSgpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZnVuY3Rpb24gdSgpIHsKICAgICAgICAgICAgICAgICF2ICYmIGcucmVhZHlTdGF0ZSA+IDEgJiYgYSgpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGQuY29ycyB8fCBkLmhhc1hEb21haW5SZXF1ZXN0KSB7CiAgICAgICAgICAgICAgICB0ID0gYyh0LCBlLmhlYWRlcnMpOwogICAgICAgICAgICAgICAgdmFyIHAsCiAgICAgICAgICAgICAgICAgICAgZiwKICAgICAgICAgICAgICAgICAgICBtID0gZS5ib2R5LAogICAgICAgICAgICAgICAgICAgIGcgPSBkLmNvcnMgPyBuZXcgWE1MSHR0cFJlcXVlc3QoKSA6IG5ldyBYRG9tYWluUmVxdWVzdCgpLAogICAgICAgICAgICAgICAgICAgIHYgPSAhMTsKICAgICAgICAgICAgICAgIHAgPSBzZXRUaW1lb3V0KHIsIGUudGltZW91dHMuY29ubmVjdCksIGcub25wcm9ncmVzcyA9IGgsICJvbnJlYWR5c3RhdGVjaGFuZ2UiIGluIGcgJiYgKGcub25yZWFkeXN0YXRlY2hhbmdlID0gdSksIGcub25sb2FkID0gcywgZy5vbmVycm9yID0gbywgZyBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0ID8gZy5vcGVuKGUubWV0aG9kLCB0LCAhMCkgOiBnLm9wZW4oZS5tZXRob2QsIHQpLCBkLmNvcnMgJiYgKG0gJiYgKCJQT1NUIiA9PT0gZS5tZXRob2QgPyBnLnNldFJlcXVlc3RIZWFkZXIoImNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSA6IGcuc2V0UmVxdWVzdEhlYWRlcigiY29udGVudC10eXBlIiwgImFwcGxpY2F0aW9uL2pzb24iKSksIGcuc2V0UmVxdWVzdEhlYWRlcigiYWNjZXB0IiwgImFwcGxpY2F0aW9uL2pzb24iKSksIGcuc2VuZChtKTsKICAgICAgICAgICAgICB9IGVsc2UgbihuZXcgbC5OZXR3b3JrKCJDT1JTIG5vdCBzdXBwb3J0ZWQiKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgYS5wcm90b3R5cGUuX3JlcXVlc3QuZmFsbGJhY2sgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICByZXR1cm4gdCA9IGModCwgZS5oZWFkZXJzKSwgbmV3IHMoZnVuY3Rpb24gKGksIG4pIHsKICAgICAgICAgICAgICB1KHQsIGUsIGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdCA/IHZvaWQgbih0KSA6IHZvaWQgaShlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCBhLnByb3RvdHlwZS5fcHJvbWlzZSA9IHsKICAgICAgICAgICAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3QodCkgewogICAgICAgICAgICAgIHJldHVybiBzLnJlamVjdCh0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHMucmVzb2x2ZSh0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVsYXk6IGZ1bmN0aW9uIGRlbGF5KHQpIHsKICAgICAgICAgICAgICByZXR1cm4gbmV3IHMoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZSwgdCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHI7CiAgICAgICAgfTsKICAgICAgfSkuY2FsbCh0aGlzLCB0KDEyKSk7CiAgICB9LCB7CiAgICAgIDE6IDEsCiAgICAgIDEyOiAxMiwKICAgICAgMjE6IDIxLAogICAgICAyMjogMjIsCiAgICAgIDI0OiAyNCwKICAgICAgMjc6IDI3LAogICAgICAzOiAzLAogICAgICAzMjogMzIsCiAgICAgIDM0OiAzNCwKICAgICAgNjogNiwKICAgICAgNzogNwogICAgfV0sCiAgICAyMTogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgIGZ1bmN0aW9uIGkodCwgZSkgewogICAgICAgIHJldHVybiAodCArPSAvXD8vLnRlc3QodCkgPyAiJiIgOiAiPyIpICsgbihlKTsKICAgICAgfQoKICAgICAgZS5leHBvcnRzID0gaTsKICAgICAgdmFyIG4gPSB0KDEzKTsKICAgIH0sIHsKICAgICAgMTM6IDEzCiAgICB9XSwKICAgIDIyOiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgZnVuY3Rpb24gaSh0LCBlLCBpKSB7CiAgICAgICAgZnVuY3Rpb24gbygpIHsKICAgICAgICAgIGUuZGVidWcoIkpTT05QOiBzdWNjZXNzIiksIGcgfHwgcCB8fCAoZyA9ICEwLCB1IHx8IChlLmRlYnVnKCJKU09OUDogRmFpbC4gU2NyaXB0IGxvYWRlZCBidXQgZGlkIG5vdCBjYWxsIHRoZSBjYWxsYmFjayIpLCBhKCksIGkobmV3IG4uSlNPTlBTY3JpcHRGYWlsKCkpKSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByKCkgewogICAgICAgICAgImxvYWRlZCIgIT09IHRoaXMucmVhZHlTdGF0ZSAmJiAiY29tcGxldGUiICE9PSB0aGlzLnJlYWR5U3RhdGUgfHwgbygpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYSgpIHsKICAgICAgICAgIGNsZWFyVGltZW91dCh2KSwgZi5vbmxvYWQgPSBudWxsLCBmLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGwsIGYub25lcnJvciA9IG51bGwsIGQucmVtb3ZlQ2hpbGQoZik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoKCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZGVsZXRlIHdpbmRvd1ttXSwgZGVsZXRlIHdpbmRvd1ttICsgIl9sb2FkZWQiXTsKICAgICAgICAgIH0gY2F0Y2ggKHQpIHsKICAgICAgICAgICAgd2luZG93W21dID0gd2luZG93W20gKyAiX2xvYWRlZCJdID0gdm9pZCAwOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbCgpIHsKICAgICAgICAgIGUuZGVidWcoIkpTT05QOiBTY3JpcHQgdGltZW91dCIpLCBwID0gITAsIGEoKSwgaShuZXcgbi5SZXF1ZXN0VGltZW91dCgpKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGMoKSB7CiAgICAgICAgICBlLmRlYnVnKCJKU09OUDogU2NyaXB0IGVycm9yIiksIGcgfHwgcCB8fCAoYSgpLCBpKG5ldyBuLkpTT05QU2NyaXB0RXJyb3IoKSkpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCJHRVQiID09PSBlLm1ldGhvZCkgewogICAgICAgICAgZS5kZWJ1ZygiSlNPTlA6IHN0YXJ0Iik7CiAgICAgICAgICB2YXIgdSA9ICExLAogICAgICAgICAgICAgIHAgPSAhMTsKICAgICAgICAgIHMgKz0gMTsKICAgICAgICAgIHZhciBkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSwKICAgICAgICAgICAgICBmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksCiAgICAgICAgICAgICAgbSA9ICJhbGdvbGlhSlNPTlBfIiArIHMsCiAgICAgICAgICAgICAgZyA9ICExOwogICAgICAgICAgd2luZG93W21dID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgcmV0dXJuIGgoKSwgcCA/IHZvaWQgZS5kZWJ1ZygiSlNPTlA6IExhdGUgYW5zd2VyLCBpZ25vcmluZyIpIDogKHUgPSAhMCwgYSgpLCB2b2lkIGkobnVsbCwgewogICAgICAgICAgICAgIGJvZHk6IHQKICAgICAgICAgICAgfSkpOwogICAgICAgICAgfSwgdCArPSAiJmNhbGxiYWNrPSIgKyBtLCBlLmpzb25Cb2R5ICYmIGUuanNvbkJvZHkucGFyYW1zICYmICh0ICs9ICImIiArIGUuanNvbkJvZHkucGFyYW1zKTsKICAgICAgICAgIHZhciB2ID0gc2V0VGltZW91dChsLCBlLnRpbWVvdXRzLmNvbXBsZXRlKTsKICAgICAgICAgIGYub25yZWFkeXN0YXRlY2hhbmdlID0gciwgZi5vbmxvYWQgPSBvLCBmLm9uZXJyb3IgPSBjLCBmLmFzeW5jID0gITAsIGYuZGVmZXIgPSAhMCwgZi5zcmMgPSB0LCBkLmFwcGVuZENoaWxkKGYpOwogICAgICAgIH0gZWxzZSBpKG5ldyBFcnJvcigiTWV0aG9kICIgKyBlLm1ldGhvZCArICIgIiArIHQgKyAiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSlNPTlAuIikpOwogICAgICB9CgogICAgICBlLmV4cG9ydHMgPSBpOwogICAgICB2YXIgbiA9IHQoMjcpLAogICAgICAgICAgcyA9IDA7CiAgICB9LCB7CiAgICAgIDI3OiAyNwogICAgfV0sCiAgICAyMzogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIGZ1bmN0aW9uIGkodCwgZSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoaSwgcywgbykgewogICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGkgJiYgIm9iamVjdCIgPT0gX3R5cGVvZihzKSB8fCAib2JqZWN0IiA9PSBfdHlwZW9mKG8pKSB0aHJvdyBuZXcgbi5BbGdvbGlhU2VhcmNoRXJyb3IoImluZGV4LnNlYXJjaCB1c2FnZSBpcyBpbmRleC5zZWFyY2gocXVlcnksIHBhcmFtcywgY2IpIik7CiAgICAgICAgICAwID09PSBhcmd1bWVudHMubGVuZ3RoIHx8ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGkgPyAobyA9IGksIGkgPSAiIikgOiAxICE9PSBhcmd1bWVudHMubGVuZ3RoICYmICJmdW5jdGlvbiIgIT0gdHlwZW9mIHMgfHwgKG8gPSBzLCBzID0gdm9pZCAwKSwgIm9iamVjdCIgPT0gX3R5cGVvZihpKSAmJiBudWxsICE9PSBpID8gKHMgPSBpLCBpID0gdm9pZCAwKSA6IG51bGwgIT0gaSB8fCAoaSA9ICIiKTsKICAgICAgICAgIHZhciByLAogICAgICAgICAgICAgIGEgPSAiIjsKICAgICAgICAgIHJldHVybiB2b2lkIDAgIT09IGkgJiYgKGEgKz0gdCArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChpKSksIHZvaWQgMCAhPT0gcyAmJiAocy5hZGRpdGlvbmFsVUEgJiYgKHIgPSBzLmFkZGl0aW9uYWxVQSwgZGVsZXRlIHMuYWRkaXRpb25hbFVBKSwgYSA9IHRoaXMuYXMuX2dldFNlYXJjaFBhcmFtcyhzLCBhKSksIHRoaXMuX3NlYXJjaChhLCBlLCBvLCByKTsKICAgICAgICB9OwogICAgICB9CgogICAgICBlLmV4cG9ydHMgPSBpOwogICAgICB2YXIgbiA9IHQoMjcpOwogICAgfSwgewogICAgICAyNzogMjcKICAgIH1dLAogICAgMjQ6IFtmdW5jdGlvbiAodCwgZSkgewogICAgICBlLmV4cG9ydHMgPSBmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKTsKICAgICAgfTsKICAgIH0sIHt9XSwKICAgIDI1OiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgZS5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICBmdW5jdGlvbiBpKCkgewogICAgICAgICAgcmV0dXJuIG4gfHwgKGNvbnNvbGUud2FybihlKSwgbiA9ICEwKSwgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgdmFyIG4gPSAhMTsKICAgICAgICByZXR1cm4gaTsKICAgICAgfTsKICAgIH0sIHt9XSwKICAgIDI2OiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgZS5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICByZXR1cm4gImFsZ29saWFzZWFyY2g6IGAiICsgdCArICJgIHdhcyByZXBsYWNlZCBieSBgIiArIGUgKyAiYC4gUGxlYXNlIHNlZSBodHRwczovL2dpdGh1Yi5jb20vYWxnb2xpYS9hbGdvbGlhc2VhcmNoLWNsaWVudC1qYXZhc2NyaXB0L3dpa2kvRGVwcmVjYXRlZCMiICsgdC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1tcLlwoXCldL2csICIiKTsKICAgICAgfTsKICAgIH0sIHt9XSwKICAgIDI3OiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgZnVuY3Rpb24gaShlLCBpKSB7CiAgICAgICAgdmFyIG4gPSB0KDUpLAogICAgICAgICAgICBzID0gdGhpczsKICAgICAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA/IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpIDogcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrIHx8ICJDYW5ub3QgZ2V0IGEgc3RhY2t0cmFjZSwgYnJvd3NlciBpcyB0b28gb2xkIiwgdGhpcy5uYW1lID0gIkFsZ29saWFTZWFyY2hFcnJvciIsIHRoaXMubWVzc2FnZSA9IGUgfHwgIlVua25vd24gZXJyb3IiLCBpICYmIG4oaSwgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgIHNbZV0gPSB0OwogICAgICAgIH0pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBuKHQsIGUpIHsKICAgICAgICBmdW5jdGlvbiBuKCkgewogICAgICAgICAgdmFyIG4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgICAgInN0cmluZyIgIT0gdHlwZW9mIG5bMF0gJiYgbi51bnNoaWZ0KGUpLCBpLmFwcGx5KHRoaXMsIG4pLCB0aGlzLm5hbWUgPSAiQWxnb2xpYVNlYXJjaCIgKyB0ICsgIkVycm9yIjsKICAgICAgICB9CgogICAgICAgIHJldHVybiBzKG4sIGkpLCBuOwogICAgICB9CgogICAgICB2YXIgcyA9IHQoNyk7CiAgICAgIHMoaSwgRXJyb3IpLCBlLmV4cG9ydHMgPSB7CiAgICAgICAgQWxnb2xpYVNlYXJjaEVycm9yOiBpLAogICAgICAgIFVucGFyc2FibGVKU09OOiBuKCJVbnBhcnNhYmxlSlNPTiIsICJDb3VsZCBub3QgcGFyc2UgdGhlIGluY29taW5nIHJlc3BvbnNlIGFzIEpTT04sIHNlZSBlcnIubW9yZSBmb3IgZGV0YWlscyIpLAogICAgICAgIFJlcXVlc3RUaW1lb3V0OiBuKCJSZXF1ZXN0VGltZW91dCIsICJSZXF1ZXN0IHRpbWVkb3V0IGJlZm9yZSBnZXR0aW5nIGEgcmVzcG9uc2UiKSwKICAgICAgICBOZXR3b3JrOiBuKCJOZXR3b3JrIiwgIk5ldHdvcmsgaXNzdWUsIHNlZSBlcnIubW9yZSBmb3IgZGV0YWlscyIpLAogICAgICAgIEpTT05QU2NyaXB0RmFpbDogbigiSlNPTlBTY3JpcHRGYWlsIiwgIjxzY3JpcHQ+IHdhcyBsb2FkZWQgYnV0IGRpZCBub3QgY2FsbCBvdXIgcHJvdmlkZWQgY2FsbGJhY2siKSwKICAgICAgICBKU09OUFNjcmlwdEVycm9yOiBuKCJKU09OUFNjcmlwdEVycm9yIiwgIjxzY3JpcHQ+IHVuYWJsZSB0byBsb2FkIGR1ZSB0byBhbiBgZXJyb3JgIGV2ZW50IG9uIGl0IiksCiAgICAgICAgVW5rbm93bjogbigiVW5rbm93biIsICJVbmtub3duIGVycm9yIG9jY3VyZWQiKQogICAgICB9OwogICAgfSwgewogICAgICA1OiA1LAogICAgICA3OiA3CiAgICB9XSwKICAgIDI4OiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgZS5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICBlKHQsIDApOwogICAgICB9OwogICAgfSwge31dLAogICAgMjk6IFtmdW5jdGlvbiAodCwgZSkgewogICAgICB2YXIgaSA9IHQoNSk7CgogICAgICBlLmV4cG9ydHMgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHZhciBuID0gW107CiAgICAgICAgcmV0dXJuIGkodCwgZnVuY3Rpb24gKGksIHMpIHsKICAgICAgICAgIG4ucHVzaChlKGksIHMsIHQpKTsKICAgICAgICB9KSwgbjsKICAgICAgfTsKICAgIH0sIHsKICAgICAgNTogNQogICAgfV0sCiAgICAzMDogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIHZhciBpID0gdCg1KTsKCiAgICAgIGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG4odCkgewogICAgICAgIHZhciBlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgICAgICByZXR1cm4gaShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgZm9yICh2YXIgaSBpbiBlKSB7CiAgICAgICAgICAgIGUuaGFzT3duUHJvcGVydHkoaSkgJiYgKCJvYmplY3QiID09IF90eXBlb2YodFtpXSkgJiYgIm9iamVjdCIgPT0gX3R5cGVvZihlW2ldKSA/IHRbaV0gPSBuKHt9LCB0W2ldLCBlW2ldKSA6IHZvaWQgMCAhPT0gZVtpXSAmJiAodFtpXSA9IGVbaV0pKTsKICAgICAgICAgIH0KICAgICAgICB9KSwgdDsKICAgICAgfTsKICAgIH0sIHsKICAgICAgNTogNQogICAgfV0sCiAgICAzMTogW2Z1bmN0aW9uICh0LCBlKSB7CiAgICAgIGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgdmFyIG4gPSB0KDEwKSwKICAgICAgICAgICAgcyA9IHQoNSksCiAgICAgICAgICAgIG8gPSB7fTsKICAgICAgICByZXR1cm4gcyhuKGUpLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgITAgIT09IGkodCkgJiYgKG9bdF0gPSBlW3RdKTsKICAgICAgICB9KSwgbzsKICAgICAgfTsKICAgIH0sIHsKICAgICAgMTA6IDEwLAogICAgICA1OiA1CiAgICB9XSwKICAgIDMyOiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgZnVuY3Rpb24gaShlKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpLCBzLCBvKSB7CiAgICAgICAgICB2YXIgciA9IHQoMjQpOwogICAgICAgICAgKG8gPSBvICYmIHIobykgfHwge30pLmhvc3RzID0gby5ob3N0cyB8fCBbInBsYWNlcy1kc24uYWxnb2xpYS5uZXQiLCAicGxhY2VzLTEuYWxnb2xpYW5ldC5jb20iLCAicGxhY2VzLTIuYWxnb2xpYW5ldC5jb20iLCAicGxhY2VzLTMuYWxnb2xpYW5ldC5jb20iXSwgMCAhPT0gYXJndW1lbnRzLmxlbmd0aCAmJiAib2JqZWN0IiAhPSBfdHlwZW9mKGkpICYmIHZvaWQgMCAhPT0gaSB8fCAoaSA9ICIiLCBzID0gIiIsIG8uX2FsbG93RW1wdHlDcmVkZW50aWFscyA9ICEwKTsKICAgICAgICAgIHZhciBhID0gZShpLCBzLCBvKS5pbml0SW5kZXgoInBsYWNlcyIpOwogICAgICAgICAgcmV0dXJuIGEuc2VhcmNoID0gbigicXVlcnkiLCAiLzEvcGxhY2VzL3F1ZXJ5IiksIGEuZ2V0T2JqZWN0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXMuX2pzb25SZXF1ZXN0KHsKICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgIHVybDogIi8xL3BsYWNlcy8iICsgZW5jb2RlVVJJQ29tcG9uZW50KHQpLAogICAgICAgICAgICAgIGhvc3RUeXBlOiAicmVhZCIsCiAgICAgICAgICAgICAgY2FsbGJhY2s6IGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCBhOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGUuZXhwb3J0cyA9IGk7CiAgICAgIHZhciBuID0gdCgyMyk7CiAgICB9LCB7CiAgICAgIDIzOiAyMywKICAgICAgMjQ6IDI0CiAgICB9XSwKICAgIDMzOiBbZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgZnVuY3Rpb24gbih0LCBlKSB7CiAgICAgICAgICByZXR1cm4gaCgibG9jYWxTdG9yYWdlIGZhaWxlZCB3aXRoIiwgZSksIHIoKSwgKGEgPSBjKS5nZXQodCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzKHQsIGUpIHsKICAgICAgICAgIHJldHVybiAxID09PSBhcmd1bWVudHMubGVuZ3RoID8gYS5nZXQodCkgOiBhLnNldCh0LCBlKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIG8oKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gImxvY2FsU3RvcmFnZSIgaW4gaSAmJiBudWxsICE9PSBpLmxvY2FsU3RvcmFnZSAmJiAoaS5sb2NhbFN0b3JhZ2VbbF0gfHwgaS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShsLCBKU09OLnN0cmluZ2lmeSh7fSkpLCAhMCk7CiAgICAgICAgICB9IGNhdGNoICh0KSB7CiAgICAgICAgICAgIHJldHVybiAhMTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHIoKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGwpOwogICAgICAgICAgfSBjYXRjaCAodCkge30KICAgICAgICB9CgogICAgICAgIHZhciBhLAogICAgICAgICAgICBoID0gdCgxKSgiYWxnb2xpYXNlYXJjaDpzcmMvaG9zdEluZGV4U3RhdGUuanMiKSwKICAgICAgICAgICAgbCA9ICJhbGdvbGlhc2VhcmNoLWNsaWVudC1qcyIsCiAgICAgICAgICAgIGMgPSB7CiAgICAgICAgICBzdGF0ZToge30sCiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0LCBlKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlW3RdID0gZSwgdGhpcy5zdGF0ZVt0XTsKICAgICAgICAgIH0sCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCh0KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlW3RdIHx8IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAgICAgdSA9IHsKICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHQsIGUpIHsKICAgICAgICAgICAgYy5zZXQodCwgZSk7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHZhciBzID0gSlNPTi5wYXJzZShpLmxvY2FsU3RvcmFnZVtsXSk7CiAgICAgICAgICAgICAgcmV0dXJuIHNbdF0gPSBlLCBpLmxvY2FsU3RvcmFnZVtsXSA9IEpTT04uc3RyaW5naWZ5KHMpLCBzW3RdOwogICAgICAgICAgICB9IGNhdGNoIChvKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG4odCwgbyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCh0KSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoaS5sb2NhbFN0b3JhZ2VbbF0pW3RdIHx8IG51bGw7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gbih0LCBlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgYSA9IG8oKSA/IHUgOiBjLCBlLmV4cG9ydHMgPSB7CiAgICAgICAgICBnZXQ6IHMsCiAgICAgICAgICBzZXQ6IHMsCiAgICAgICAgICBzdXBwb3J0c0xvY2FsU3RvcmFnZTogbwogICAgICAgIH07CiAgICAgIH0pLmNhbGwodGhpcywgInVuZGVmaW5lZCIgIT0gdHlwZW9mIGdsb2JhbCA/IGdsb2JhbCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBzZWxmID8gc2VsZiA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB7fSk7CiAgICB9LCB7CiAgICAgIDE6IDEKICAgIH1dLAogICAgMzQ6IFtmdW5jdGlvbiAodCwgZSkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICBlLmV4cG9ydHMgPSAiMy4yNi4wIjsKICAgIH0sIHt9XQogIH0sIHt9LCBbMTldKSgxOSk7Cn0pLCBmdW5jdGlvbiAodCkgewogIGZ1bmN0aW9uIGUobikgewogICAgaWYgKGlbbl0pIHJldHVybiBpW25dLmV4cG9ydHM7CiAgICB2YXIgcyA9IGlbbl0gPSB7CiAgICAgIGV4cG9ydHM6IHt9LAogICAgICBpZDogbiwKICAgICAgbG9hZGVkOiAhMQogICAgfTsKICAgIHJldHVybiB0W25dLmNhbGwocy5leHBvcnRzLCBzLCBzLmV4cG9ydHMsIGUpLCBzLmxvYWRlZCA9ICEwLCBzLmV4cG9ydHM7CiAgfQoKICB2YXIgaSA9IHt9OwogIGUubSA9IHQsIGUuYyA9IGksIGUucCA9ICIiLCBlKDApOwp9KFtmdW5jdGlvbiAodCwgZSwgaSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdC5leHBvcnRzID0gaSgxKTsKfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBuID0gaSgyKSwKICAgICAgcyA9IGkoMyk7CiAgbi5lbGVtZW50ID0gczsKICB2YXIgbyA9IGkoNCk7CiAgby5pc0FycmF5ID0gcy5pc0FycmF5LCBvLmlzRnVuY3Rpb24gPSBzLmlzRnVuY3Rpb24sIG8uaXNPYmplY3QgPSBzLmlzUGxhaW5PYmplY3QsIG8uYmluZCA9IHMucHJveHksIG8uZWFjaCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBmdW5jdGlvbiBpKHQsIGkpIHsKICAgICAgcmV0dXJuIGUoaSwgdCk7CiAgICB9CgogICAgcy5lYWNoKHQsIGkpOwogIH0sIG8ubWFwID0gcy5tYXAsIG8ubWl4aW4gPSBzLmV4dGVuZCwgby5FdmVudCA9IHMuRXZlbnQ7CiAgdmFyIHIsCiAgICAgIGEsCiAgICAgIGgsCiAgICAgIGwgPSBpKDUpLAogICAgICBjID0gaSg2KTsKICByID0gcy5mbi5hdXRvY29tcGxldGUsIGEgPSAiYWFBdXRvY29tcGxldGUiLCBoID0gewogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSh0LCBlKSB7CiAgICAgIGZ1bmN0aW9uIGkoKSB7CiAgICAgICAgdmFyIGksCiAgICAgICAgICAgIG4gPSBzKHRoaXMpLAogICAgICAgICAgICBvID0gbmV3IGMoewogICAgICAgICAgZWw6IG4KICAgICAgICB9KTsKICAgICAgICBpID0gbmV3IGwoewogICAgICAgICAgaW5wdXQ6IG4sCiAgICAgICAgICBldmVudEJ1czogbywKICAgICAgICAgIGRyb3Bkb3duTWVudUNvbnRhaW5lcjogdC5kcm9wZG93bk1lbnVDb250YWluZXIsCiAgICAgICAgICBoaW50OiB2b2lkIDAgPT09IHQuaGludCB8fCAhIXQuaGludCwKICAgICAgICAgIG1pbkxlbmd0aDogdC5taW5MZW5ndGgsCiAgICAgICAgICBhdXRvc2VsZWN0OiB0LmF1dG9zZWxlY3QsCiAgICAgICAgICBhdXRvc2VsZWN0T25CbHVyOiB0LmF1dG9zZWxlY3RPbkJsdXIsCiAgICAgICAgICBvcGVuT25Gb2N1czogdC5vcGVuT25Gb2N1cywKICAgICAgICAgIHRlbXBsYXRlczogdC50ZW1wbGF0ZXMsCiAgICAgICAgICBkZWJ1ZzogdC5kZWJ1ZywKICAgICAgICAgIGNzc0NsYXNzZXM6IHQuY3NzQ2xhc3NlcywKICAgICAgICAgIGRhdGFzZXRzOiBlLAogICAgICAgICAga2V5Ym9hcmRTaG9ydGN1dHM6IHQua2V5Ym9hcmRTaG9ydGN1dHMsCiAgICAgICAgICBhcHBlbmRUbzogdC5hcHBlbmRUbywKICAgICAgICAgIGF1dG9XaWR0aDogdC5hdXRvV2lkdGgKICAgICAgICB9KSwgbi5kYXRhKGEsIGkpOwogICAgICB9CgogICAgICByZXR1cm4gZSA9IG8uaXNBcnJheShlKSA/IGUgOiBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIHQgPSB0IHx8IHt9LCB0aGlzLmVhY2goaSk7CiAgICB9LAogICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHsKICAgICAgZnVuY3Rpb24gdCgpIHsKICAgICAgICB2YXIgdDsKICAgICAgICAodCA9IHModGhpcykuZGF0YShhKSkgJiYgdC5vcGVuKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmVhY2godCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICBmdW5jdGlvbiB0KCkgewogICAgICAgIHZhciB0OwogICAgICAgICh0ID0gcyh0aGlzKS5kYXRhKGEpKSAmJiB0LmNsb3NlKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmVhY2godCk7CiAgICB9LAogICAgdmFsOiBmdW5jdGlvbiB2YWwodCkgewogICAgICBmdW5jdGlvbiBlKCkgewogICAgICAgIHZhciBlOwogICAgICAgIChlID0gcyh0aGlzKS5kYXRhKGEpKSAmJiBlLnNldFZhbCh0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyB0aGlzLmVhY2goZSkgOiBmdW5jdGlvbiAodCkgewogICAgICAgIHZhciBlLCBpOwogICAgICAgIHJldHVybiAoZSA9IHQuZGF0YShhKSkgJiYgKGkgPSBlLmdldFZhbCgpKSwgaTsKICAgICAgfSh0aGlzLmZpcnN0KCkpOwogICAgfSwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIGZ1bmN0aW9uIHQoKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIGUgPSBzKHRoaXMpOwogICAgICAgICh0ID0gZS5kYXRhKGEpKSAmJiAodC5kZXN0cm95KCksIGUucmVtb3ZlRGF0YShhKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmVhY2godCk7CiAgICB9CiAgfSwgcy5mbi5hdXRvY29tcGxldGUgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGU7CiAgICByZXR1cm4gaFt0XSAmJiAiaW5pdGlhbGl6ZSIgIT09IHQgPyAoZSA9IHRoaXMuZmlsdGVyKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICEhcyh0aGlzKS5kYXRhKGEpOwogICAgfSksIGhbdF0uYXBwbHkoZSwgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSkgOiBoLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9LCBzLmZuLmF1dG9jb21wbGV0ZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHMuZm4uYXV0b2NvbXBsZXRlID0gciwgdGhpczsKICB9LCBzLmZuLmF1dG9jb21wbGV0ZS5zb3VyY2VzID0gbC5zb3VyY2VzLCBzLmZuLmF1dG9jb21wbGV0ZS5lc2NhcGVIaWdobGlnaHRlZFN0cmluZyA9IG8uZXNjYXBlSGlnaGxpZ2h0ZWRTdHJpbmcsIHQuZXhwb3J0cyA9IHMuZm4uYXV0b2NvbXBsZXRlOwp9LCBmdW5jdGlvbiAodCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdC5leHBvcnRzID0gewogICAgZWxlbWVudDogbnVsbAogIH07Cn0sIGZ1bmN0aW9uICh0KSB7CiAgdC5leHBvcnRzID0galF1ZXJ5Owp9LCBmdW5jdGlvbiAodCwgZSwgaSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gbih0KSB7CiAgICByZXR1cm4gdC5yZXBsYWNlKC9bXC1cW1xdXC9ce1x9XChcKVwqXCtcP1wuXFxcXlwkXHxdL2csICJcXCQmIik7CiAgfQoKICB2YXIgcyA9IGkoMik7CiAgdC5leHBvcnRzID0gewogICAgaXNBcnJheTogbnVsbCwKICAgIGlzRnVuY3Rpb246IG51bGwsCiAgICBpc09iamVjdDogbnVsbCwKICAgIGJpbmQ6IG51bGwsCiAgICBlYWNoOiBudWxsLAogICAgbWFwOiBudWxsLAogICAgbWl4aW46IG51bGwsCiAgICBpc01zaWU6IGZ1bmN0aW9uIGlzTXNpZSgpIHsKICAgICAgcmV0dXJuICEhLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8obXNpZSB8cnY6KShcZCsoLlxkKyk/KS9pKVsyXTsKICAgIH0sCiAgICBlc2NhcGVSZWdFeENoYXJzOiBmdW5jdGlvbiBlc2NhcGVSZWdFeENoYXJzKHQpIHsKICAgICAgcmV0dXJuIHQucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogICAgfSwKICAgIGlzTnVtYmVyOiBmdW5jdGlvbiBpc051bWJlcih0KSB7CiAgICAgIHJldHVybiAibnVtYmVyIiA9PSB0eXBlb2YgdDsKICAgIH0sCiAgICB0b1N0cjogZnVuY3Rpb24gdG9TdHIodCkgewogICAgICByZXR1cm4gbnVsbCA9PSB0ID8gIiIgOiB0ICsgIiI7CiAgICB9LAogICAgY2xvbmVEZWVwOiBmdW5jdGlvbiBjbG9uZURlZXAodCkgewogICAgICB2YXIgZSA9IHRoaXMubWl4aW4oe30sIHQpLAogICAgICAgICAgaSA9IHRoaXM7CiAgICAgIHJldHVybiB0aGlzLmVhY2goZSwgZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgICB0ICYmIChpLmlzQXJyYXkodCkgPyBlW25dID0gW10uY29uY2F0KHQpIDogaS5pc09iamVjdCh0KSAmJiAoZVtuXSA9IGkuY2xvbmVEZWVwKHQpKSk7CiAgICAgIH0pLCBlOwogICAgfSwKICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcih0KSB7CiAgICAgIHRocm93IG5ldyBFcnJvcih0KTsKICAgIH0sCiAgICBldmVyeTogZnVuY3Rpb24gZXZlcnkodCwgZSkgewogICAgICB2YXIgaSA9ICEwOwogICAgICByZXR1cm4gdCA/ICh0aGlzLmVhY2godCwgZnVuY3Rpb24gKG4sIHMpIHsKICAgICAgICBpZiAoIShpID0gZS5jYWxsKG51bGwsIG4sIHMsIHQpKSkgcmV0dXJuICExOwogICAgICB9KSwgISFpKSA6IGk7CiAgICB9LAogICAgYW55OiBmdW5jdGlvbiBhbnkodCwgZSkgewogICAgICB2YXIgaSA9ICExOwogICAgICByZXR1cm4gdCA/ICh0aGlzLmVhY2godCwgZnVuY3Rpb24gKG4sIHMpIHsKICAgICAgICBpZiAoZS5jYWxsKG51bGwsIG4sIHMsIHQpKSByZXR1cm4gaSA9ICEwLCAhMTsKICAgICAgfSksIGkpIDogaTsKICAgIH0sCiAgICBnZXRVbmlxdWVJZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCA9IDA7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHQrKzsKICAgICAgfTsKICAgIH0oKSwKICAgIHRlbXBsYXRpZnk6IGZ1bmN0aW9uIHRlbXBsYXRpZnkodCkgewogICAgICBpZiAodGhpcy5pc0Z1bmN0aW9uKHQpKSByZXR1cm4gdDsKICAgICAgdmFyIGUgPSBzLmVsZW1lbnQodCk7CiAgICAgIHJldHVybiAiU0NSSVBUIiA9PT0gZS5wcm9wKCJ0YWdOYW1lIikgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGUudGV4dCgpOwogICAgICB9IDogZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBTdHJpbmcodCk7CiAgICAgIH07CiAgICB9LAogICAgZGVmZXI6IGZ1bmN0aW9uIGRlZmVyKHQpIHsKICAgICAgc2V0VGltZW91dCh0LCAwKTsKICAgIH0sCiAgICBub29wOiBmdW5jdGlvbiBub29wKCkge30sCiAgICBmb3JtYXRQcmVmaXg6IGZ1bmN0aW9uIGZvcm1hdFByZWZpeCh0LCBlKSB7CiAgICAgIHJldHVybiBlID8gIiIgOiB0ICsgIi0iOwogICAgfSwKICAgIGNsYXNzTmFtZTogZnVuY3Rpb24gY2xhc3NOYW1lKHQsIGUsIGkpIHsKICAgICAgcmV0dXJuIChpID8gIiIgOiAiLiIpICsgdCArIGU7CiAgICB9LAogICAgZXNjYXBlSGlnaGxpZ2h0ZWRTdHJpbmc6IGZ1bmN0aW9uIGVzY2FwZUhpZ2hsaWdodGVkU3RyaW5nKHQsIGUsIGkpIHsKICAgICAgZSA9IGUgfHwgIjxlbT4iOwogICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKSwgaSA9IGkgfHwgIjwvZW0+IjsKICAgICAgdmFyIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgby5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpKSk7CiAgICAgIHZhciByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHJldHVybiByLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKSwgci5pbm5lckhUTUwucmVwbGFjZShSZWdFeHAobihzLmlubmVySFRNTCksICJnIiksIGUpLnJlcGxhY2UoUmVnRXhwKG4oby5pbm5lckhUTUwpLCAiZyIpLCBpKTsKICAgIH0KICB9Owp9LCBmdW5jdGlvbiAodCwgZSwgaSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gbih0KSB7CiAgICB2YXIgZSwgaTsKICAgIGlmICgodCA9IHQgfHwge30pLmlucHV0IHx8IGguZXJyb3IoIm1pc3NpbmcgaW5wdXQiKSwgdGhpcy5pc0FjdGl2YXRlZCA9ICExLCB0aGlzLmRlYnVnID0gISF0LmRlYnVnLCB0aGlzLmF1dG9zZWxlY3QgPSAhIXQuYXV0b3NlbGVjdCwgdGhpcy5hdXRvc2VsZWN0T25CbHVyID0gISF0LmF1dG9zZWxlY3RPbkJsdXIsIHRoaXMub3Blbk9uRm9jdXMgPSAhIXQub3Blbk9uRm9jdXMsIHRoaXMubWluTGVuZ3RoID0gaC5pc051bWJlcih0Lm1pbkxlbmd0aCkgPyB0Lm1pbkxlbmd0aCA6IDEsIHRoaXMuYXV0b1dpZHRoID0gdm9pZCAwID09PSB0LmF1dG9XaWR0aCB8fCAhIXQuYXV0b1dpZHRoLCB0LmhpbnQgPSAhIXQuaGludCwgdC5oaW50ICYmIHQuYXBwZW5kVG8pIHRocm93IG5ldyBFcnJvcigiW2F1dG9jb21wbGV0ZS5qc10gaGludCBhbmQgYXBwZW5kVG8gb3B0aW9ucyBjYW4ndCBiZSB1c2VkIGF0IHRoZSBzYW1lIHRpbWUiKTsKICAgIHRoaXMuY3NzID0gdC5jc3MgPSBoLm1peGluKHt9LCBmLCB0LmFwcGVuZFRvID8gZi5hcHBlbmRUbyA6IHt9KSwgdGhpcy5jc3NDbGFzc2VzID0gdC5jc3NDbGFzc2VzID0gaC5taXhpbih7fSwgZi5kZWZhdWx0Q2xhc3NlcywgdC5jc3NDbGFzc2VzIHx8IHt9KSwgdGhpcy5jc3NDbGFzc2VzLnByZWZpeCA9IHQuY3NzQ2xhc3Nlcy5mb3JtYXR0ZWRQcmVmaXggPSBoLmZvcm1hdFByZWZpeCh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMubm9QcmVmaXgpLCB0aGlzLmxpc3Rib3hJZCA9IHQubGlzdGJveElkID0gW3RoaXMuY3NzQ2xhc3Nlcy5yb290LCAibGlzdGJveCIsIGguZ2V0VW5pcXVlSWQoKV0uam9pbigiLSIpOwogICAgdmFyIG8gPSBzKHQpOwogICAgdGhpcy4kbm9kZSA9IG8ud3JhcHBlcjsKICAgIHZhciByID0gdGhpcy4kaW5wdXQgPSBvLmlucHV0OwogICAgZSA9IG8ubWVudSwgaSA9IG8uaGludCwgdC5kcm9wZG93bk1lbnVDb250YWluZXIgJiYgbC5lbGVtZW50KHQuZHJvcGRvd25NZW51Q29udGFpbmVyKS5jc3MoInBvc2l0aW9uIiwgInJlbGF0aXZlIikuYXBwZW5kKGUuY3NzKCJ0b3AiLCAiMCIpKSwgci5vbigiYmx1ci5hYSIsIGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBpID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKICAgICAgaC5pc01zaWUoKSAmJiAoZVswXSA9PT0gaSB8fCBlWzBdLmNvbnRhaW5zKGkpKSAmJiAodC5wcmV2ZW50RGVmYXVsdCgpLCB0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCBoLmRlZmVyKGZ1bmN0aW9uICgpIHsKICAgICAgICByLmZvY3VzKCk7CiAgICAgIH0pKTsKICAgIH0pLCBlLm9uKCJtb3VzZWRvd24uYWEiLCBmdW5jdGlvbiAodCkgewogICAgICB0LnByZXZlbnREZWZhdWx0KCk7CiAgICB9KSwgdGhpcy5ldmVudEJ1cyA9IHQuZXZlbnRCdXMgfHwgbmV3IGMoewogICAgICBlbDogcgogICAgfSksIHRoaXMuZHJvcGRvd24gPSBuZXcgbi5Ecm9wZG93bih7CiAgICAgIGFwcGVuZFRvOiB0LmFwcGVuZFRvLAogICAgICB3cmFwcGVyOiB0aGlzLiRub2RlLAogICAgICBtZW51OiBlLAogICAgICBkYXRhc2V0czogdC5kYXRhc2V0cywKICAgICAgdGVtcGxhdGVzOiB0LnRlbXBsYXRlcywKICAgICAgY3NzQ2xhc3NlczogdC5jc3NDbGFzc2VzLAogICAgICBtaW5MZW5ndGg6IHRoaXMubWluTGVuZ3RoCiAgICB9KS5vblN5bmMoInN1Z2dlc3Rpb25DbGlja2VkIiwgdGhpcy5fb25TdWdnZXN0aW9uQ2xpY2tlZCwgdGhpcykub25TeW5jKCJjdXJzb3JNb3ZlZCIsIHRoaXMuX29uQ3Vyc29yTW92ZWQsIHRoaXMpLm9uU3luYygiY3Vyc29yUmVtb3ZlZCIsIHRoaXMuX29uQ3Vyc29yUmVtb3ZlZCwgdGhpcykub25TeW5jKCJvcGVuZWQiLCB0aGlzLl9vbk9wZW5lZCwgdGhpcykub25TeW5jKCJjbG9zZWQiLCB0aGlzLl9vbkNsb3NlZCwgdGhpcykub25TeW5jKCJzaG93biIsIHRoaXMuX29uU2hvd24sIHRoaXMpLm9uU3luYygiZW1wdHkiLCB0aGlzLl9vbkVtcHR5LCB0aGlzKS5vblN5bmMoInJlZHJhd24iLCB0aGlzLl9vblJlZHJhd24sIHRoaXMpLm9uQXN5bmMoImRhdGFzZXRSZW5kZXJlZCIsIHRoaXMuX29uRGF0YXNldFJlbmRlcmVkLCB0aGlzKSwgdGhpcy5pbnB1dCA9IG5ldyBuLklucHV0KHsKICAgICAgaW5wdXQ6IHIsCiAgICAgIGhpbnQ6IGkKICAgIH0pLm9uU3luYygiZm9jdXNlZCIsIHRoaXMuX29uRm9jdXNlZCwgdGhpcykub25TeW5jKCJibHVycmVkIiwgdGhpcy5fb25CbHVycmVkLCB0aGlzKS5vblN5bmMoImVudGVyS2V5ZWQiLCB0aGlzLl9vbkVudGVyS2V5ZWQsIHRoaXMpLm9uU3luYygidGFiS2V5ZWQiLCB0aGlzLl9vblRhYktleWVkLCB0aGlzKS5vblN5bmMoImVzY0tleWVkIiwgdGhpcy5fb25Fc2NLZXllZCwgdGhpcykub25TeW5jKCJ1cEtleWVkIiwgdGhpcy5fb25VcEtleWVkLCB0aGlzKS5vblN5bmMoImRvd25LZXllZCIsIHRoaXMuX29uRG93bktleWVkLCB0aGlzKS5vblN5bmMoImxlZnRLZXllZCIsIHRoaXMuX29uTGVmdEtleWVkLCB0aGlzKS5vblN5bmMoInJpZ2h0S2V5ZWQiLCB0aGlzLl9vblJpZ2h0S2V5ZWQsIHRoaXMpLm9uU3luYygicXVlcnlDaGFuZ2VkIiwgdGhpcy5fb25RdWVyeUNoYW5nZWQsIHRoaXMpLm9uU3luYygid2hpdGVzcGFjZUNoYW5nZWQiLCB0aGlzLl9vbldoaXRlc3BhY2VDaGFuZ2VkLCB0aGlzKSwgdGhpcy5fYmluZEtleWJvYXJkU2hvcnRjdXRzKHQpLCB0aGlzLl9zZXRMYW5ndWFnZURpcmVjdGlvbigpOwogIH0KCiAgZnVuY3Rpb24gcyh0KSB7CiAgICB2YXIgZSwgaSwgbiwgczsKICAgIGUgPSBsLmVsZW1lbnQodC5pbnB1dCksIGkgPSBsLmVsZW1lbnQoZC53cmFwcGVyLnJlcGxhY2UoIiVST09UJSIsIHQuY3NzQ2xhc3Nlcy5yb290KSkuY3NzKHQuY3NzLndyYXBwZXIpLCB0LmFwcGVuZFRvIHx8ICJibG9jayIgIT09IGUuY3NzKCJkaXNwbGF5IikgfHwgInRhYmxlIiAhPT0gZS5wYXJlbnQoKS5jc3MoImRpc3BsYXkiKSB8fCBpLmNzcygiZGlzcGxheSIsICJ0YWJsZS1jZWxsIik7CiAgICB2YXIgciA9IGQuZHJvcGRvd24ucmVwbGFjZSgiJVBSRUZJWCUiLCB0LmNzc0NsYXNzZXMucHJlZml4KS5yZXBsYWNlKCIlRFJPUERPV05fTUVOVSUiLCB0LmNzc0NsYXNzZXMuZHJvcGRvd25NZW51KTsKICAgIG4gPSBsLmVsZW1lbnQocikuY3NzKHQuY3NzLmRyb3Bkb3duKS5hdHRyKHsKICAgICAgcm9sZTogImxpc3Rib3giLAogICAgICBpZDogdC5saXN0Ym94SWQKICAgIH0pLCB0LnRlbXBsYXRlcyAmJiB0LnRlbXBsYXRlcy5kcm9wZG93bk1lbnUgJiYgbi5odG1sKGgudGVtcGxhdGlmeSh0LnRlbXBsYXRlcy5kcm9wZG93bk1lbnUpKCkpLCAocyA9IGUuY2xvbmUoKS5jc3ModC5jc3MuaGludCkuY3NzKG8oZSkpKS52YWwoIiIpLmFkZENsYXNzKGguY2xhc3NOYW1lKHQuY3NzQ2xhc3Nlcy5wcmVmaXgsIHQuY3NzQ2xhc3Nlcy5oaW50LCAhMCkpLnJlbW92ZUF0dHIoImlkIG5hbWUgcGxhY2Vob2xkZXIgcmVxdWlyZWQiKS5wcm9wKCJyZWFkb25seSIsICEwKS5hdHRyKHsKICAgICAgImFyaWEtaGlkZGVuIjogInRydWUiLAogICAgICBhdXRvY29tcGxldGU6ICJvZmYiLAogICAgICBzcGVsbGNoZWNrOiAiZmFsc2UiLAogICAgICB0YWJpbmRleDogLTEKICAgIH0pLCBzLnJlbW92ZURhdGEgJiYgcy5yZW1vdmVEYXRhKCksIGUuZGF0YShhLCB7CiAgICAgICJhcmlhLWF1dG9jb21wbGV0ZSI6IGUuYXR0cigiYXJpYS1hdXRvY29tcGxldGUiKSwKICAgICAgImFyaWEtZXhwYW5kZWQiOiBlLmF0dHIoImFyaWEtZXhwYW5kZWQiKSwKICAgICAgImFyaWEtb3ducyI6IGUuYXR0cigiYXJpYS1vd25zIiksCiAgICAgIGF1dG9jb21wbGV0ZTogZS5hdHRyKCJhdXRvY29tcGxldGUiKSwKICAgICAgZGlyOiBlLmF0dHIoImRpciIpLAogICAgICByb2xlOiBlLmF0dHIoInJvbGUiKSwKICAgICAgc3BlbGxjaGVjazogZS5hdHRyKCJzcGVsbGNoZWNrIiksCiAgICAgIHN0eWxlOiBlLmF0dHIoInN0eWxlIiksCiAgICAgIHR5cGU6IGUuYXR0cigidHlwZSIpCiAgICB9KSwgZS5hZGRDbGFzcyhoLmNsYXNzTmFtZSh0LmNzc0NsYXNzZXMucHJlZml4LCB0LmNzc0NsYXNzZXMuaW5wdXQsICEwKSkuYXR0cih7CiAgICAgIGF1dG9jb21wbGV0ZTogIm9mZiIsCiAgICAgIHNwZWxsY2hlY2s6ICExLAogICAgICByb2xlOiAiY29tYm9ib3giLAogICAgICAiYXJpYS1hdXRvY29tcGxldGUiOiB0LmRhdGFzZXRzICYmIHQuZGF0YXNldHNbMF0gJiYgdC5kYXRhc2V0c1swXS5kaXNwbGF5S2V5ID8gImJvdGgiIDogImxpc3QiLAogICAgICAiYXJpYS1leHBhbmRlZCI6ICJmYWxzZSIsCiAgICAgICJhcmlhLWxhYmVsIjogdC5hcmlhTGFiZWwsCiAgICAgICJhcmlhLW93bnMiOiB0Lmxpc3Rib3hJZAogICAgfSkuY3NzKHQuaGludCA/IHQuY3NzLmlucHV0IDogdC5jc3MuaW5wdXRXaXRoTm9IaW50KTsKCiAgICB0cnkgewogICAgICBlLmF0dHIoImRpciIpIHx8IGUuYXR0cigiZGlyIiwgImF1dG8iKTsKICAgIH0gY2F0Y2ggKHQpIHt9CgogICAgcmV0dXJuIChpID0gdC5hcHBlbmRUbyA/IGkuYXBwZW5kVG8obC5lbGVtZW50KHQuYXBwZW5kVG8pLmVxKDApKS5lcSgwKSA6IGUud3JhcChpKS5wYXJlbnQoKSkucHJlcGVuZCh0LmhpbnQgPyBzIDogbnVsbCkuYXBwZW5kKG4pLCB7CiAgICAgIHdyYXBwZXI6IGksCiAgICAgIGlucHV0OiBlLAogICAgICBoaW50OiBzLAogICAgICBtZW51OiBuCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gbyh0KSB7CiAgICByZXR1cm4gewogICAgICBiYWNrZ3JvdW5kQXR0YWNobWVudDogdC5jc3MoImJhY2tncm91bmQtYXR0YWNobWVudCIpLAogICAgICBiYWNrZ3JvdW5kQ2xpcDogdC5jc3MoImJhY2tncm91bmQtY2xpcCIpLAogICAgICBiYWNrZ3JvdW5kQ29sb3I6IHQuY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIiksCiAgICAgIGJhY2tncm91bmRJbWFnZTogdC5jc3MoImJhY2tncm91bmQtaW1hZ2UiKSwKICAgICAgYmFja2dyb3VuZE9yaWdpbjogdC5jc3MoImJhY2tncm91bmQtb3JpZ2luIiksCiAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogdC5jc3MoImJhY2tncm91bmQtcG9zaXRpb24iKSwKICAgICAgYmFja2dyb3VuZFJlcGVhdDogdC5jc3MoImJhY2tncm91bmQtcmVwZWF0IiksCiAgICAgIGJhY2tncm91bmRTaXplOiB0LmNzcygiYmFja2dyb3VuZC1zaXplIikKICAgIH07CiAgfQoKICBmdW5jdGlvbiByKHQsIGUpIHsKICAgIHZhciBpID0gdC5maW5kKGguY2xhc3NOYW1lKGUucHJlZml4LCBlLmlucHV0KSk7CiAgICBoLmVhY2goaS5kYXRhKGEpLCBmdW5jdGlvbiAodCwgZSkgewogICAgICB2b2lkIDAgPT09IHQgPyBpLnJlbW92ZUF0dHIoZSkgOiBpLmF0dHIoZSwgdCk7CiAgICB9KSwgaS5kZXRhY2goKS5yZW1vdmVDbGFzcyhoLmNsYXNzTmFtZShlLnByZWZpeCwgZS5pbnB1dCwgITApKS5pbnNlcnRBZnRlcih0KSwgaS5yZW1vdmVEYXRhICYmIGkucmVtb3ZlRGF0YShhKSwgdC5yZW1vdmUoKTsKICB9CgogIHZhciBhID0gImFhQXR0cnMiLAogICAgICBoID0gaSg0KSwKICAgICAgbCA9IGkoMiksCiAgICAgIGMgPSBpKDYpLAogICAgICB1ID0gaSg3KSwKICAgICAgcCA9IGkoMTYpLAogICAgICBkID0gaSgxOCksCiAgICAgIGYgPSBpKDE5KTsKICBoLm1peGluKG4ucHJvdG90eXBlLCB7CiAgICBfYmluZEtleWJvYXJkU2hvcnRjdXRzOiBmdW5jdGlvbiBfYmluZEtleWJvYXJkU2hvcnRjdXRzKHQpIHsKICAgICAgaWYgKHQua2V5Ym9hcmRTaG9ydGN1dHMpIHsKICAgICAgICB2YXIgZSA9IHRoaXMuJGlucHV0LAogICAgICAgICAgICBpID0gW107CiAgICAgICAgaC5lYWNoKHQua2V5Ym9hcmRTaG9ydGN1dHMsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAic3RyaW5nIiA9PSB0eXBlb2YgdCAmJiAodCA9IHQudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApKSwgaS5wdXNoKHQpOwogICAgICAgIH0pLCBsLmVsZW1lbnQoZG9jdW1lbnQpLmtleWRvd24oZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHZhciBuID0gdC50YXJnZXQgfHwgdC5zcmNFbGVtZW50LAogICAgICAgICAgICAgIHMgPSBuLnRhZ05hbWU7CgogICAgICAgICAgaWYgKCFuLmlzQ29udGVudEVkaXRhYmxlICYmICJJTlBVVCIgIT09IHMgJiYgIlNFTEVDVCIgIT09IHMgJiYgIlRFWFRBUkVBIiAhPT0gcykgewogICAgICAgICAgICB2YXIgbyA9IHQud2hpY2ggfHwgdC5rZXlDb2RlOwogICAgICAgICAgICAtMSAhPT0gaS5pbmRleE9mKG8pICYmIChlLmZvY3VzKCksIHQuc3RvcFByb3BhZ2F0aW9uKCksIHQucHJldmVudERlZmF1bHQoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBfb25TdWdnZXN0aW9uQ2xpY2tlZDogZnVuY3Rpb24gX29uU3VnZ2VzdGlvbkNsaWNrZWQodCwgZSkgewogICAgICB2YXIgaTsKICAgICAgKGkgPSB0aGlzLmRyb3Bkb3duLmdldERhdHVtRm9yU3VnZ2VzdGlvbihlKSkgJiYgdGhpcy5fc2VsZWN0KGkpOwogICAgfSwKICAgIF9vbkN1cnNvck1vdmVkOiBmdW5jdGlvbiBfb25DdXJzb3JNb3ZlZCh0LCBlKSB7CiAgICAgIHZhciBpID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvckN1cnNvcigpLAogICAgICAgICAgbiA9IHRoaXMuZHJvcGRvd24uZ2V0Q3VycmVudEN1cnNvcigpLmF0dHIoImlkIik7CiAgICAgIHRoaXMuaW5wdXQuc2V0QWN0aXZlRGVzY2VuZGFudChuKSwgaSAmJiAoZSAmJiB0aGlzLmlucHV0LnNldElucHV0VmFsdWUoaS52YWx1ZSwgITApLCB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoImN1cnNvcmNoYW5nZWQiLCBpLnJhdywgaS5kYXRhc2V0TmFtZSkpOwogICAgfSwKICAgIF9vbkN1cnNvclJlbW92ZWQ6IGZ1bmN0aW9uIF9vbkN1cnNvclJlbW92ZWQoKSB7CiAgICAgIHRoaXMuaW5wdXQucmVzZXRJbnB1dFZhbHVlKCksIHRoaXMuX3VwZGF0ZUhpbnQoKSwgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJjdXJzb3JyZW1vdmVkIik7CiAgICB9LAogICAgX29uRGF0YXNldFJlbmRlcmVkOiBmdW5jdGlvbiBfb25EYXRhc2V0UmVuZGVyZWQoKSB7CiAgICAgIHRoaXMuX3VwZGF0ZUhpbnQoKSwgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJ1cGRhdGVkIik7CiAgICB9LAogICAgX29uT3BlbmVkOiBmdW5jdGlvbiBfb25PcGVuZWQoKSB7CiAgICAgIHRoaXMuX3VwZGF0ZUhpbnQoKSwgdGhpcy5pbnB1dC5leHBhbmQoKSwgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJvcGVuZWQiKTsKICAgIH0sCiAgICBfb25FbXB0eTogZnVuY3Rpb24gX29uRW1wdHkoKSB7CiAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcigiZW1wdHkiKTsKICAgIH0sCiAgICBfb25SZWRyYXduOiBmdW5jdGlvbiBfb25SZWRyYXduKCkgewogICAgICB0aGlzLiRub2RlLmNzcygidG9wIiwgIjBweCIpLCB0aGlzLiRub2RlLmNzcygibGVmdCIsICIwcHgiKTsKICAgICAgdmFyIHQgPSB0aGlzLiRpbnB1dFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdGhpcy5hdXRvV2lkdGggJiYgdGhpcy4kbm9kZS5jc3MoIndpZHRoIiwgdC53aWR0aCArICJweCIpOwogICAgICB2YXIgZSA9IHRoaXMuJG5vZGVbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgICBpID0gdC5ib3R0b20gLSBlLnRvcDsKICAgICAgdGhpcy4kbm9kZS5jc3MoInRvcCIsIGkgKyAicHgiKTsKICAgICAgdmFyIG4gPSB0LmxlZnQgLSBlLmxlZnQ7CiAgICAgIHRoaXMuJG5vZGUuY3NzKCJsZWZ0IiwgbiArICJweCIpLCB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoInJlZHJhd24iKTsKICAgIH0sCiAgICBfb25TaG93bjogZnVuY3Rpb24gX29uU2hvd24oKSB7CiAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcigic2hvd24iKSwgdGhpcy5hdXRvc2VsZWN0ICYmIHRoaXMuZHJvcGRvd24uY3Vyc29yVG9wU3VnZ2VzdGlvbigpOwogICAgfSwKICAgIF9vbkNsb3NlZDogZnVuY3Rpb24gX29uQ2xvc2VkKCkgewogICAgICB0aGlzLmlucHV0LmNsZWFySGludCgpLCB0aGlzLmlucHV0LnJlbW92ZUFjdGl2ZURlc2NlbmRhbnQoKSwgdGhpcy5pbnB1dC5jb2xsYXBzZSgpLCB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoImNsb3NlZCIpOwogICAgfSwKICAgIF9vbkZvY3VzZWQ6IGZ1bmN0aW9uIF9vbkZvY3VzZWQoKSB7CiAgICAgIGlmICh0aGlzLmlzQWN0aXZhdGVkID0gITAsIHRoaXMub3Blbk9uRm9jdXMpIHsKICAgICAgICB2YXIgdCA9IHRoaXMuaW5wdXQuZ2V0UXVlcnkoKTsKICAgICAgICB0Lmxlbmd0aCA+PSB0aGlzLm1pbkxlbmd0aCA/IHRoaXMuZHJvcGRvd24udXBkYXRlKHQpIDogdGhpcy5kcm9wZG93bi5lbXB0eSgpLCB0aGlzLmRyb3Bkb3duLm9wZW4oKTsKICAgICAgfQogICAgfSwKICAgIF9vbkJsdXJyZWQ6IGZ1bmN0aW9uIF9vbkJsdXJyZWQoKSB7CiAgICAgIHZhciB0LCBlOwogICAgICB0ID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvckN1cnNvcigpLCBlID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvclRvcFN1Z2dlc3Rpb24oKSwgdGhpcy5kZWJ1ZyB8fCAodGhpcy5hdXRvc2VsZWN0T25CbHVyICYmIHQgPyB0aGlzLl9zZWxlY3QodCkgOiB0aGlzLmF1dG9zZWxlY3RPbkJsdXIgJiYgZSA/IHRoaXMuX3NlbGVjdChlKSA6ICh0aGlzLmlzQWN0aXZhdGVkID0gITEsIHRoaXMuZHJvcGRvd24uZW1wdHkoKSwgdGhpcy5kcm9wZG93bi5jbG9zZSgpKSk7CiAgICB9LAogICAgX29uRW50ZXJLZXllZDogZnVuY3Rpb24gX29uRW50ZXJLZXllZCh0LCBlKSB7CiAgICAgIHZhciBpLCBuOwogICAgICBpID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvckN1cnNvcigpLCBuID0gdGhpcy5kcm9wZG93bi5nZXREYXR1bUZvclRvcFN1Z2dlc3Rpb24oKSwgaSA/ICh0aGlzLl9zZWxlY3QoaSksIGUucHJldmVudERlZmF1bHQoKSkgOiB0aGlzLmF1dG9zZWxlY3QgJiYgbiAmJiAodGhpcy5fc2VsZWN0KG4pLCBlLnByZXZlbnREZWZhdWx0KCkpOwogICAgfSwKICAgIF9vblRhYktleWVkOiBmdW5jdGlvbiBfb25UYWJLZXllZCh0LCBlKSB7CiAgICAgIHZhciBpOwogICAgICAoaSA9IHRoaXMuZHJvcGRvd24uZ2V0RGF0dW1Gb3JDdXJzb3IoKSkgPyAodGhpcy5fc2VsZWN0KGkpLCBlLnByZXZlbnREZWZhdWx0KCkpIDogdGhpcy5fYXV0b2NvbXBsZXRlKCEwKTsKICAgIH0sCiAgICBfb25Fc2NLZXllZDogZnVuY3Rpb24gX29uRXNjS2V5ZWQoKSB7CiAgICAgIHRoaXMuZHJvcGRvd24uY2xvc2UoKSwgdGhpcy5pbnB1dC5yZXNldElucHV0VmFsdWUoKTsKICAgIH0sCiAgICBfb25VcEtleWVkOiBmdW5jdGlvbiBfb25VcEtleWVkKCkgewogICAgICB2YXIgdCA9IHRoaXMuaW5wdXQuZ2V0UXVlcnkoKTsKICAgICAgdGhpcy5kcm9wZG93bi5pc0VtcHR5ICYmIHQubGVuZ3RoID49IHRoaXMubWluTGVuZ3RoID8gdGhpcy5kcm9wZG93bi51cGRhdGUodCkgOiB0aGlzLmRyb3Bkb3duLm1vdmVDdXJzb3JVcCgpLCB0aGlzLmRyb3Bkb3duLm9wZW4oKTsKICAgIH0sCiAgICBfb25Eb3duS2V5ZWQ6IGZ1bmN0aW9uIF9vbkRvd25LZXllZCgpIHsKICAgICAgdmFyIHQgPSB0aGlzLmlucHV0LmdldFF1ZXJ5KCk7CiAgICAgIHRoaXMuZHJvcGRvd24uaXNFbXB0eSAmJiB0Lmxlbmd0aCA+PSB0aGlzLm1pbkxlbmd0aCA/IHRoaXMuZHJvcGRvd24udXBkYXRlKHQpIDogdGhpcy5kcm9wZG93bi5tb3ZlQ3Vyc29yRG93bigpLCB0aGlzLmRyb3Bkb3duLm9wZW4oKTsKICAgIH0sCiAgICBfb25MZWZ0S2V5ZWQ6IGZ1bmN0aW9uIF9vbkxlZnRLZXllZCgpIHsKICAgICAgInJ0bCIgPT09IHRoaXMuZGlyICYmIHRoaXMuX2F1dG9jb21wbGV0ZSgpOwogICAgfSwKICAgIF9vblJpZ2h0S2V5ZWQ6IGZ1bmN0aW9uIF9vblJpZ2h0S2V5ZWQoKSB7CiAgICAgICJsdHIiID09PSB0aGlzLmRpciAmJiB0aGlzLl9hdXRvY29tcGxldGUoKTsKICAgIH0sCiAgICBfb25RdWVyeUNoYW5nZWQ6IGZ1bmN0aW9uIF9vblF1ZXJ5Q2hhbmdlZCh0LCBlKSB7CiAgICAgIHRoaXMuaW5wdXQuY2xlYXJIaW50SWZJbnZhbGlkKCksIGUubGVuZ3RoID49IHRoaXMubWluTGVuZ3RoID8gdGhpcy5kcm9wZG93bi51cGRhdGUoZSkgOiB0aGlzLmRyb3Bkb3duLmVtcHR5KCksIHRoaXMuZHJvcGRvd24ub3BlbigpLCB0aGlzLl9zZXRMYW5ndWFnZURpcmVjdGlvbigpOwogICAgfSwKICAgIF9vbldoaXRlc3BhY2VDaGFuZ2VkOiBmdW5jdGlvbiBfb25XaGl0ZXNwYWNlQ2hhbmdlZCgpIHsKICAgICAgdGhpcy5fdXBkYXRlSGludCgpLCB0aGlzLmRyb3Bkb3duLm9wZW4oKTsKICAgIH0sCiAgICBfc2V0TGFuZ3VhZ2VEaXJlY3Rpb246IGZ1bmN0aW9uIF9zZXRMYW5ndWFnZURpcmVjdGlvbigpIHsKICAgICAgdmFyIHQgPSB0aGlzLmlucHV0LmdldExhbmd1YWdlRGlyZWN0aW9uKCk7CiAgICAgIHRoaXMuZGlyICE9PSB0ICYmICh0aGlzLmRpciA9IHQsIHRoaXMuJG5vZGUuY3NzKCJkaXJlY3Rpb24iLCB0KSwgdGhpcy5kcm9wZG93bi5zZXRMYW5ndWFnZURpcmVjdGlvbih0KSk7CiAgICB9LAogICAgX3VwZGF0ZUhpbnQ6IGZ1bmN0aW9uIF91cGRhdGVIaW50KCkgewogICAgICB2YXIgdCwgZSwgaSwgbiwgczsKICAgICAgKHQgPSB0aGlzLmRyb3Bkb3duLmdldERhdHVtRm9yVG9wU3VnZ2VzdGlvbigpKSAmJiB0aGlzLmRyb3Bkb3duLmlzVmlzaWJsZSgpICYmICF0aGlzLmlucHV0Lmhhc092ZXJmbG93KCkgPyAoZSA9IHRoaXMuaW5wdXQuZ2V0SW5wdXRWYWx1ZSgpLCBpID0gdS5ub3JtYWxpemVRdWVyeShlKSwgbiA9IGguZXNjYXBlUmVnRXhDaGFycyhpKSwgKHMgPSBuZXcgUmVnRXhwKCJeKD86IiArIG4gKyAiKSguKyQpIiwgImkiKS5leGVjKHQudmFsdWUpKSA/IHRoaXMuaW5wdXQuc2V0SGludChlICsgc1sxXSkgOiB0aGlzLmlucHV0LmNsZWFySGludCgpKSA6IHRoaXMuaW5wdXQuY2xlYXJIaW50KCk7CiAgICB9LAogICAgX2F1dG9jb21wbGV0ZTogZnVuY3Rpb24gX2F1dG9jb21wbGV0ZSh0KSB7CiAgICAgIHZhciBlLCBpLCBuLCBzOwogICAgICBlID0gdGhpcy5pbnB1dC5nZXRIaW50KCksIGkgPSB0aGlzLmlucHV0LmdldFF1ZXJ5KCksIG4gPSB0IHx8IHRoaXMuaW5wdXQuaXNDdXJzb3JBdEVuZCgpLCBlICYmIGkgIT09IGUgJiYgbiAmJiAoKHMgPSB0aGlzLmRyb3Bkb3duLmdldERhdHVtRm9yVG9wU3VnZ2VzdGlvbigpKSAmJiB0aGlzLmlucHV0LnNldElucHV0VmFsdWUocy52YWx1ZSksIHRoaXMuZXZlbnRCdXMudHJpZ2dlcigiYXV0b2NvbXBsZXRlZCIsIHMucmF3LCBzLmRhdGFzZXROYW1lKSk7CiAgICB9LAogICAgX3NlbGVjdDogZnVuY3Rpb24gX3NlbGVjdCh0KSB7CiAgICAgIHZvaWQgMCAhPT0gdC52YWx1ZSAmJiB0aGlzLmlucHV0LnNldFF1ZXJ5KHQudmFsdWUpLCB0aGlzLmlucHV0LnNldElucHV0VmFsdWUodC52YWx1ZSwgITApLCB0aGlzLl9zZXRMYW5ndWFnZURpcmVjdGlvbigpLCAhMSA9PT0gdGhpcy5ldmVudEJ1cy50cmlnZ2VyKCJzZWxlY3RlZCIsIHQucmF3LCB0LmRhdGFzZXROYW1lKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSAmJiAodGhpcy5kcm9wZG93bi5jbG9zZSgpLCBoLmRlZmVyKGguYmluZCh0aGlzLmRyb3Bkb3duLmVtcHR5LCB0aGlzLmRyb3Bkb3duKSkpOwogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7CiAgICAgIGlmICghdGhpcy5pc0FjdGl2YXRlZCkgewogICAgICAgIHZhciB0ID0gdGhpcy5pbnB1dC5nZXRJbnB1dFZhbHVlKCk7CiAgICAgICAgdC5sZW5ndGggPj0gdGhpcy5taW5MZW5ndGggPyB0aGlzLmRyb3Bkb3duLnVwZGF0ZSh0KSA6IHRoaXMuZHJvcGRvd24uZW1wdHkoKTsKICAgICAgfQoKICAgICAgdGhpcy5kcm9wZG93bi5vcGVuKCk7CiAgICB9LAogICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB0aGlzLmRyb3Bkb3duLmNsb3NlKCk7CiAgICB9LAogICAgc2V0VmFsOiBmdW5jdGlvbiBzZXRWYWwodCkgewogICAgICB0ID0gaC50b1N0cih0KSwgdGhpcy5pc0FjdGl2YXRlZCA/IHRoaXMuaW5wdXQuc2V0SW5wdXRWYWx1ZSh0KSA6ICh0aGlzLmlucHV0LnNldFF1ZXJ5KHQpLCB0aGlzLmlucHV0LnNldElucHV0VmFsdWUodCwgITApKSwgdGhpcy5fc2V0TGFuZ3VhZ2VEaXJlY3Rpb24oKTsKICAgIH0sCiAgICBnZXRWYWw6IGZ1bmN0aW9uIGdldFZhbCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuZ2V0UXVlcnkoKTsKICAgIH0sCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKSwgdGhpcy5kcm9wZG93bi5kZXN0cm95KCksIHIodGhpcy4kbm9kZSwgdGhpcy5jc3NDbGFzc2VzKSwgdGhpcy4kbm9kZSA9IG51bGw7CiAgICB9LAogICAgZ2V0V3JhcHBlcjogZnVuY3Rpb24gZ2V0V3JhcHBlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuZHJvcGRvd24uJGNvbnRhaW5lclswXTsKICAgIH0KICB9KSwgbi5Ecm9wZG93biA9IHAsIG4uSW5wdXQgPSB1LCBuLnNvdXJjZXMgPSBpKDIwKSwgdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIG4odCkgewogICAgdCAmJiB0LmVsIHx8IHMuZXJyb3IoIkV2ZW50QnVzIGluaXRpYWxpemVkIHdpdGhvdXQgZWwiKSwgdGhpcy4kZWwgPSBvLmVsZW1lbnQodC5lbCk7CiAgfQoKICB2YXIgcyA9IGkoNCksCiAgICAgIG8gPSBpKDIpOwogIHMubWl4aW4obi5wcm90b3R5cGUsIHsKICAgIHRyaWdnZXI6IGZ1bmN0aW9uIHRyaWdnZXIodCkgewogICAgICB2YXIgZSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwKICAgICAgICAgIGkgPSBzLkV2ZW50KCJhdXRvY29tcGxldGU6IiArIHQpOwogICAgICByZXR1cm4gdGhpcy4kZWwudHJpZ2dlcihpLCBlKSwgaTsKICAgIH0KICB9KSwgdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIG4odCkgewogICAgdmFyIGUsCiAgICAgICAgaSwKICAgICAgICBuLAogICAgICAgIG8sCiAgICAgICAgciA9IHRoaXM7CiAgICAodCA9IHQgfHwge30pLmlucHV0IHx8IGguZXJyb3IoImlucHV0IGlzIG1pc3NpbmciKSwgZSA9IGguYmluZCh0aGlzLl9vbkJsdXIsIHRoaXMpLCBpID0gaC5iaW5kKHRoaXMuX29uRm9jdXMsIHRoaXMpLCBuID0gaC5iaW5kKHRoaXMuX29uS2V5ZG93biwgdGhpcyksIG8gPSBoLmJpbmQodGhpcy5fb25JbnB1dCwgdGhpcyksIHRoaXMuJGhpbnQgPSBsLmVsZW1lbnQodC5oaW50KSwgdGhpcy4kaW5wdXQgPSBsLmVsZW1lbnQodC5pbnB1dCkub24oImJsdXIuYWEiLCBlKS5vbigiZm9jdXMuYWEiLCBpKS5vbigia2V5ZG93bi5hYSIsIG4pLCAwID09PSB0aGlzLiRoaW50Lmxlbmd0aCAmJiAodGhpcy5zZXRIaW50ID0gdGhpcy5nZXRIaW50ID0gdGhpcy5jbGVhckhpbnQgPSB0aGlzLmNsZWFySGludElmSW52YWxpZCA9IGgubm9vcCksIGguaXNNc2llKCkgPyB0aGlzLiRpbnB1dC5vbigia2V5ZG93bi5hYSBrZXlwcmVzcy5hYSBjdXQuYWEgcGFzdGUuYWEiLCBmdW5jdGlvbiAodCkgewogICAgICBhW3Qud2hpY2ggfHwgdC5rZXlDb2RlXSB8fCBoLmRlZmVyKGguYmluZChyLl9vbklucHV0LCByLCB0KSk7CiAgICB9KSA6IHRoaXMuJGlucHV0Lm9uKCJpbnB1dC5hYSIsIG8pLCB0aGlzLnF1ZXJ5ID0gdGhpcy4kaW5wdXQudmFsKCksIHRoaXMuJG92ZXJmbG93SGVscGVyID0gcyh0aGlzLiRpbnB1dCk7CiAgfQoKICBmdW5jdGlvbiBzKHQpIHsKICAgIHJldHVybiBsLmVsZW1lbnQoJzxwcmUgYXJpYS1oaWRkZW49InRydWUiPjwvcHJlPicpLmNzcyh7CiAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICB2aXNpYmlsaXR5OiAiaGlkZGVuIiwKICAgICAgd2hpdGVTcGFjZTogInByZSIsCiAgICAgIGZvbnRGYW1pbHk6IHQuY3NzKCJmb250LWZhbWlseSIpLAogICAgICBmb250U2l6ZTogdC5jc3MoImZvbnQtc2l6ZSIpLAogICAgICBmb250U3R5bGU6IHQuY3NzKCJmb250LXN0eWxlIiksCiAgICAgIGZvbnRWYXJpYW50OiB0LmNzcygiZm9udC12YXJpYW50IiksCiAgICAgIGZvbnRXZWlnaHQ6IHQuY3NzKCJmb250LXdlaWdodCIpLAogICAgICB3b3JkU3BhY2luZzogdC5jc3MoIndvcmQtc3BhY2luZyIpLAogICAgICBsZXR0ZXJTcGFjaW5nOiB0LmNzcygibGV0dGVyLXNwYWNpbmciKSwKICAgICAgdGV4dEluZGVudDogdC5jc3MoInRleHQtaW5kZW50IiksCiAgICAgIHRleHRSZW5kZXJpbmc6IHQuY3NzKCJ0ZXh0LXJlbmRlcmluZyIpLAogICAgICB0ZXh0VHJhbnNmb3JtOiB0LmNzcygidGV4dC10cmFuc2Zvcm0iKQogICAgfSkuaW5zZXJ0QWZ0ZXIodCk7CiAgfQoKICBmdW5jdGlvbiBvKHQsIGUpIHsKICAgIHJldHVybiBuLm5vcm1hbGl6ZVF1ZXJ5KHQpID09PSBuLm5vcm1hbGl6ZVF1ZXJ5KGUpOwogIH0KCiAgZnVuY3Rpb24gcih0KSB7CiAgICByZXR1cm4gdC5hbHRLZXkgfHwgdC5jdHJsS2V5IHx8IHQubWV0YUtleSB8fCB0LnNoaWZ0S2V5OwogIH0KCiAgdmFyIGE7CiAgYSA9IHsKICAgIDk6ICJ0YWIiLAogICAgMjc6ICJlc2MiLAogICAgMzc6ICJsZWZ0IiwKICAgIDM5OiAicmlnaHQiLAogICAgMTM6ICJlbnRlciIsCiAgICAzODogInVwIiwKICAgIDQwOiAiZG93biIKICB9OwogIHZhciBoID0gaSg0KSwKICAgICAgbCA9IGkoMiksCiAgICAgIGMgPSBpKDgpOwogIG4ubm9ybWFsaXplUXVlcnkgPSBmdW5jdGlvbiAodCkgewogICAgcmV0dXJuICh0IHx8ICIiKS5yZXBsYWNlKC9eXHMqL2csICIiKS5yZXBsYWNlKC9cc3syLH0vZywgIiAiKTsKICB9LCBoLm1peGluKG4ucHJvdG90eXBlLCBjLCB7CiAgICBfb25CbHVyOiBmdW5jdGlvbiBfb25CbHVyKCkgewogICAgICB0aGlzLnJlc2V0SW5wdXRWYWx1ZSgpLCB0aGlzLiRpbnB1dC5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKSwgdGhpcy50cmlnZ2VyKCJibHVycmVkIik7CiAgICB9LAogICAgX29uRm9jdXM6IGZ1bmN0aW9uIF9vbkZvY3VzKCkgewogICAgICB0aGlzLnRyaWdnZXIoImZvY3VzZWQiKTsKICAgIH0sCiAgICBfb25LZXlkb3duOiBmdW5jdGlvbiBfb25LZXlkb3duKHQpIHsKICAgICAgdmFyIGUgPSBhW3Qud2hpY2ggfHwgdC5rZXlDb2RlXTsKICAgICAgdGhpcy5fbWFuYWdlUHJldmVudERlZmF1bHQoZSwgdCksIGUgJiYgdGhpcy5fc2hvdWxkVHJpZ2dlcihlLCB0KSAmJiB0aGlzLnRyaWdnZXIoZSArICJLZXllZCIsIHQpOwogICAgfSwKICAgIF9vbklucHV0OiBmdW5jdGlvbiBfb25JbnB1dCgpIHsKICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbHVlKCk7CiAgICB9LAogICAgX21hbmFnZVByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBfbWFuYWdlUHJldmVudERlZmF1bHQodCwgZSkgewogICAgICB2YXIgaSwgbiwgczsKCiAgICAgIHN3aXRjaCAodCkgewogICAgICAgIGNhc2UgInRhYiI6CiAgICAgICAgICBuID0gdGhpcy5nZXRIaW50KCksIHMgPSB0aGlzLmdldElucHV0VmFsdWUoKSwgaSA9IG4gJiYgbiAhPT0gcyAmJiAhcihlKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJ1cCI6CiAgICAgICAgY2FzZSAiZG93biI6CiAgICAgICAgICBpID0gIXIoZSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGkgPSAhMTsKICAgICAgfQoKICAgICAgaSAmJiBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9LAogICAgX3Nob3VsZFRyaWdnZXI6IGZ1bmN0aW9uIF9zaG91bGRUcmlnZ2VyKHQsIGUpIHsKICAgICAgdmFyIGk7CgogICAgICBzd2l0Y2ggKHQpIHsKICAgICAgICBjYXNlICJ0YWIiOgogICAgICAgICAgaSA9ICFyKGUpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBpID0gITA7CiAgICAgIH0KCiAgICAgIHJldHVybiBpOwogICAgfSwKICAgIF9jaGVja0lucHV0VmFsdWU6IGZ1bmN0aW9uIF9jaGVja0lucHV0VmFsdWUoKSB7CiAgICAgIHZhciB0LCBlLCBpOwogICAgICBpID0gISghKGUgPSBvKHQgPSB0aGlzLmdldElucHV0VmFsdWUoKSwgdGhpcy5xdWVyeSkpIHx8ICF0aGlzLnF1ZXJ5KSAmJiB0aGlzLnF1ZXJ5Lmxlbmd0aCAhPT0gdC5sZW5ndGgsIHRoaXMucXVlcnkgPSB0LCBlID8gaSAmJiB0aGlzLnRyaWdnZXIoIndoaXRlc3BhY2VDaGFuZ2VkIiwgdGhpcy5xdWVyeSkgOiB0aGlzLnRyaWdnZXIoInF1ZXJ5Q2hhbmdlZCIsIHRoaXMucXVlcnkpOwogICAgfSwKICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cygpIHsKICAgICAgdGhpcy4kaW5wdXQuZm9jdXMoKTsKICAgIH0sCiAgICBibHVyOiBmdW5jdGlvbiBibHVyKCkgewogICAgICB0aGlzLiRpbnB1dC5ibHVyKCk7CiAgICB9LAogICAgZ2V0UXVlcnk6IGZ1bmN0aW9uIGdldFF1ZXJ5KCkgewogICAgICByZXR1cm4gdGhpcy5xdWVyeTsKICAgIH0sCiAgICBzZXRRdWVyeTogZnVuY3Rpb24gc2V0UXVlcnkodCkgewogICAgICB0aGlzLnF1ZXJ5ID0gdDsKICAgIH0sCiAgICBnZXRJbnB1dFZhbHVlOiBmdW5jdGlvbiBnZXRJbnB1dFZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy4kaW5wdXQudmFsKCk7CiAgICB9LAogICAgc2V0SW5wdXRWYWx1ZTogZnVuY3Rpb24gc2V0SW5wdXRWYWx1ZSh0LCBlKSB7CiAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IHRoaXMucXVlcnkpLCB0aGlzLiRpbnB1dC52YWwodCksIGUgPyB0aGlzLmNsZWFySGludCgpIDogdGhpcy5fY2hlY2tJbnB1dFZhbHVlKCk7CiAgICB9LAogICAgZXhwYW5kOiBmdW5jdGlvbiBleHBhbmQoKSB7CiAgICAgIHRoaXMuJGlucHV0LmF0dHIoImFyaWEtZXhwYW5kZWQiLCAidHJ1ZSIpOwogICAgfSwKICAgIGNvbGxhcHNlOiBmdW5jdGlvbiBjb2xsYXBzZSgpIHsKICAgICAgdGhpcy4kaW5wdXQuYXR0cigiYXJpYS1leHBhbmRlZCIsICJmYWxzZSIpOwogICAgfSwKICAgIHNldEFjdGl2ZURlc2NlbmRhbnQ6IGZ1bmN0aW9uIHNldEFjdGl2ZURlc2NlbmRhbnQodCkgewogICAgICB0aGlzLiRpbnB1dC5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLCB0KTsKICAgIH0sCiAgICByZW1vdmVBY3RpdmVEZXNjZW5kYW50OiBmdW5jdGlvbiByZW1vdmVBY3RpdmVEZXNjZW5kYW50KCkgewogICAgICB0aGlzLiRpbnB1dC5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKTsKICAgIH0sCiAgICByZXNldElucHV0VmFsdWU6IGZ1bmN0aW9uIHJlc2V0SW5wdXRWYWx1ZSgpIHsKICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKHRoaXMucXVlcnksICEwKTsKICAgIH0sCiAgICBnZXRIaW50OiBmdW5jdGlvbiBnZXRIaW50KCkgewogICAgICByZXR1cm4gdGhpcy4kaGludC52YWwoKTsKICAgIH0sCiAgICBzZXRIaW50OiBmdW5jdGlvbiBzZXRIaW50KHQpIHsKICAgICAgdGhpcy4kaGludC52YWwodCk7CiAgICB9LAogICAgY2xlYXJIaW50OiBmdW5jdGlvbiBjbGVhckhpbnQoKSB7CiAgICAgIHRoaXMuc2V0SGludCgiIik7CiAgICB9LAogICAgY2xlYXJIaW50SWZJbnZhbGlkOiBmdW5jdGlvbiBjbGVhckhpbnRJZkludmFsaWQoKSB7CiAgICAgIHZhciB0LCBlLCBpOwogICAgICBpID0gKHQgPSB0aGlzLmdldElucHV0VmFsdWUoKSkgIT09IChlID0gdGhpcy5nZXRIaW50KCkpICYmIDAgPT09IGUuaW5kZXhPZih0KSwgIiIgIT09IHQgJiYgaSAmJiAhdGhpcy5oYXNPdmVyZmxvdygpIHx8IHRoaXMuY2xlYXJIaW50KCk7CiAgICB9LAogICAgZ2V0TGFuZ3VhZ2VEaXJlY3Rpb246IGZ1bmN0aW9uIGdldExhbmd1YWdlRGlyZWN0aW9uKCkgewogICAgICByZXR1cm4gKHRoaXMuJGlucHV0LmNzcygiZGlyZWN0aW9uIikgfHwgImx0ciIpLnRvTG93ZXJDYXNlKCk7CiAgICB9LAogICAgaGFzT3ZlcmZsb3c6IGZ1bmN0aW9uIGhhc092ZXJmbG93KCkgewogICAgICB2YXIgdCA9IHRoaXMuJGlucHV0LndpZHRoKCkgLSAyOwogICAgICByZXR1cm4gdGhpcy4kb3ZlcmZsb3dIZWxwZXIudGV4dCh0aGlzLmdldElucHV0VmFsdWUoKSksIHRoaXMuJG92ZXJmbG93SGVscGVyLndpZHRoKCkgPj0gdDsKICAgIH0sCiAgICBpc0N1cnNvckF0RW5kOiBmdW5jdGlvbiBpc0N1cnNvckF0RW5kKCkgewogICAgICB2YXIgdCwgZSwgaTsKICAgICAgcmV0dXJuIHQgPSB0aGlzLiRpbnB1dC52YWwoKS5sZW5ndGgsIGUgPSB0aGlzLiRpbnB1dFswXS5zZWxlY3Rpb25TdGFydCwgaC5pc051bWJlcihlKSA/IGUgPT09IHQgOiAhZG9jdW1lbnQuc2VsZWN0aW9uIHx8ICgoaSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpKS5tb3ZlU3RhcnQoImNoYXJhY3RlciIsIC10KSwgdCA9PT0gaS50ZXh0Lmxlbmd0aCk7CiAgICB9LAogICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgdGhpcy4kaGludC5vZmYoIi5hYSIpLCB0aGlzLiRpbnB1dC5vZmYoIi5hYSIpLCB0aGlzLiRoaW50ID0gdGhpcy4kaW5wdXQgPSB0aGlzLiRvdmVyZmxvd0hlbHBlciA9IG51bGw7CiAgICB9CiAgfSksIHQuZXhwb3J0cyA9IG47Cn0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBuKHQsIGUsIGksIG4pIHsKICAgIHZhciBzOwogICAgaWYgKCFpKSByZXR1cm4gdGhpczsKCiAgICBmb3IgKGUgPSBlLnNwbGl0KHUpLCBpID0gbiA/IGwoaSwgbikgOiBpLCB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307IHMgPSBlLnNoaWZ0KCk7KSB7CiAgICAgIHRoaXMuX2NhbGxiYWNrc1tzXSA9IHRoaXMuX2NhbGxiYWNrc1tzXSB8fCB7CiAgICAgICAgc3luYzogW10sCiAgICAgICAgYXN5bmM6IFtdCiAgICAgIH0sIHRoaXMuX2NhbGxiYWNrc1tzXVt0XS5wdXNoKGkpOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgZnVuY3Rpb24gcyh0LCBlLCBpKSB7CiAgICByZXR1cm4gbi5jYWxsKHRoaXMsICJhc3luYyIsIHQsIGUsIGkpOwogIH0KCiAgZnVuY3Rpb24gbyh0LCBlLCBpKSB7CiAgICByZXR1cm4gbi5jYWxsKHRoaXMsICJzeW5jIiwgdCwgZSwgaSk7CiAgfQoKICBmdW5jdGlvbiByKHQpIHsKICAgIHZhciBlOwogICAgaWYgKCF0aGlzLl9jYWxsYmFja3MpIHJldHVybiB0aGlzOwoKICAgIGZvciAodCA9IHQuc3BsaXQodSk7IGUgPSB0LnNoaWZ0KCk7KSB7CiAgICAgIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbZV07CiAgICB9CgogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBhKHQpIHsKICAgIHZhciBlLCBpLCBuLCBzLCBvOwogICAgaWYgKCF0aGlzLl9jYWxsYmFja3MpIHJldHVybiB0aGlzOwoKICAgIGZvciAodCA9IHQuc3BsaXQodSksIG4gPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7IChlID0gdC5zaGlmdCgpKSAmJiAoaSA9IHRoaXMuX2NhbGxiYWNrc1tlXSk7KSB7CiAgICAgIHMgPSBoKGkuc3luYywgdGhpcywgW2VdLmNvbmNhdChuKSksIG8gPSBoKGkuYXN5bmMsIHRoaXMsIFtlXS5jb25jYXQobikpLCBzKCkgJiYgYyhvKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9CgogIGZ1bmN0aW9uIGgodCwgZSwgaSkgewogICAgZnVuY3Rpb24gbigpIHsKICAgICAgZm9yICh2YXIgbiwgcyA9IDAsIG8gPSB0Lmxlbmd0aDsgIW4gJiYgcyA8IG87IHMgKz0gMSkgewogICAgICAgIG4gPSAhMSA9PT0gdFtzXS5hcHBseShlLCBpKTsKICAgICAgfQoKICAgICAgcmV0dXJuICFuOwogICAgfQoKICAgIHJldHVybiBuOwogIH0KCiAgZnVuY3Rpb24gbCh0LCBlKSB7CiAgICByZXR1cm4gdC5iaW5kID8gdC5iaW5kKGUpIDogZnVuY3Rpb24gKCkgewogICAgICB0LmFwcGx5KGUsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7CiAgICB9OwogIH0KCiAgdmFyIGMgPSBpKDkpLAogICAgICB1ID0gL1xzKy87CiAgdC5leHBvcnRzID0gewogICAgb25TeW5jOiBvLAogICAgb25Bc3luYzogcywKICAgIG9mZjogciwKICAgIHRyaWdnZXI6IGEKICB9Owp9LCBmdW5jdGlvbiAodCwgZSwgaSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gbigpIHsKICAgIGEgJiYgaCAmJiAoYSA9ICExLCBoLmxlbmd0aCA/IHAgPSBoLmNvbmNhdChwKSA6IHUgPSAtMSwgcC5sZW5ndGggJiYgcygpKTsKICB9CgogIGZ1bmN0aW9uIHMoKSB7CiAgICBpZiAoIWEpIHsKICAgICAgZCA9ICExLCBhID0gITA7CgogICAgICBmb3IgKHZhciB0ID0gcC5sZW5ndGgsIGUgPSBzZXRUaW1lb3V0KG4pOyB0OykgewogICAgICAgIGZvciAoaCA9IHAsIHAgPSBbXTsgaCAmJiArK3UgPCB0OykgewogICAgICAgICAgaFt1XS5ydW4oKTsKICAgICAgICB9CgogICAgICAgIHUgPSAtMSwgdCA9IHAubGVuZ3RoOwogICAgICB9CgogICAgICBoID0gbnVsbCwgdSA9IC0xLCBhID0gITEsIGNsZWFyVGltZW91dChlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIG8odCwgZSkgewogICAgdGhpcy5mdW4gPSB0LCB0aGlzLmFycmF5ID0gZTsKICB9CgogIGZ1bmN0aW9uIHIodCkgewogICAgdmFyIGUgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpOwogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBlW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTsKICAgIH0KICAgIHAucHVzaChuZXcgbyh0LCBlKSksIGQgfHwgYSB8fCAoZCA9ICEwLCBsKCkpOwogIH0KCiAgZm9yICh2YXIgYSwgaCwgbCwgYyA9IFtpKDEwKSwgaSgxMiksIGkoMTMpLCBpKDE0KSwgaSgxNSldLCB1ID0gLTEsIHAgPSBbXSwgZCA9ICExLCBmID0gLTEsIG0gPSBjLmxlbmd0aDsgKytmIDwgbTspIHsKICAgIGlmIChjW2ZdICYmIGNbZl0udGVzdCAmJiBjW2ZdLnRlc3QoKSkgewogICAgICBsID0gY1tmXS5pbnN0YWxsKHMpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIG8ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy5mdW4sCiAgICAgICAgZSA9IHRoaXMuYXJyYXk7CgogICAgc3dpdGNoIChlLmxlbmd0aCkgewogICAgICBjYXNlIDA6CiAgICAgICAgcmV0dXJuIHQoKTsKCiAgICAgIGNhc2UgMToKICAgICAgICByZXR1cm4gdChlWzBdKTsKCiAgICAgIGNhc2UgMjoKICAgICAgICByZXR1cm4gdChlWzBdLCBlWzFdKTsKCiAgICAgIGNhc2UgMzoKICAgICAgICByZXR1cm4gdChlWzBdLCBlWzFdLCBlWzJdKTsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuIHQuYXBwbHkobnVsbCwgZSk7CiAgICB9CiAgfSwgdC5leHBvcnRzID0gcjsKfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAoZnVuY3Rpb24gKHQpIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICBlLnRlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB2b2lkIDAgIT09IHQgJiYgIXQuYnJvd3NlcjsKICAgIH0sIGUuaW5zdGFsbCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdC5uZXh0VGljayhlKTsKICAgICAgfTsKICAgIH07CiAgfSkuY2FsbChlLCBpKDExKSk7Cn0sIGZ1bmN0aW9uICh0KSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIHRocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpOwogIH0KCiAgZnVuY3Rpb24gaSgpIHsKICAgIHRocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIik7CiAgfQoKICBmdW5jdGlvbiBuKHQpIHsKICAgIGlmIChsID09PSBzZXRUaW1lb3V0KSByZXR1cm4gc2V0VGltZW91dCh0LCAwKTsKICAgIGlmICgobCA9PT0gZSB8fCAhbCkgJiYgc2V0VGltZW91dCkgcmV0dXJuIGwgPSBzZXRUaW1lb3V0LCBzZXRUaW1lb3V0KHQsIDApOwoKICAgIHRyeSB7CiAgICAgIHJldHVybiBsKHQsIDApOwogICAgfSBjYXRjaCAoaSkgewogICAgICB0cnkgewogICAgICAgIHJldHVybiBsLmNhbGwobnVsbCwgdCwgMCk7CiAgICAgIH0gY2F0Y2ggKGkpIHsKICAgICAgICByZXR1cm4gbC5jYWxsKHRoaXMsIHQsIDApOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzKHQpIHsKICAgIGlmIChjID09PSBjbGVhclRpbWVvdXQpIHJldHVybiBjbGVhclRpbWVvdXQodCk7CiAgICBpZiAoKGMgPT09IGkgfHwgIWMpICYmIGNsZWFyVGltZW91dCkgcmV0dXJuIGMgPSBjbGVhclRpbWVvdXQsIGNsZWFyVGltZW91dCh0KTsKCiAgICB0cnkgewogICAgICByZXR1cm4gYyh0KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gYy5jYWxsKG51bGwsIHQpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIGMuY2FsbCh0aGlzLCB0KTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gbygpIHsKICAgIGYgJiYgcCAmJiAoZiA9ICExLCBwLmxlbmd0aCA/IGQgPSBwLmNvbmNhdChkKSA6IG0gPSAtMSwgZC5sZW5ndGggJiYgcigpKTsKICB9CgogIGZ1bmN0aW9uIHIoKSB7CiAgICBpZiAoIWYpIHsKICAgICAgdmFyIHQgPSBuKG8pOwogICAgICBmID0gITA7CgogICAgICBmb3IgKHZhciBlID0gZC5sZW5ndGg7IGU7KSB7CiAgICAgICAgZm9yIChwID0gZCwgZCA9IFtdOyArK20gPCBlOykgewogICAgICAgICAgcCAmJiBwW21dLnJ1bigpOwogICAgICAgIH0KCiAgICAgICAgbSA9IC0xLCBlID0gZC5sZW5ndGg7CiAgICAgIH0KCiAgICAgIHAgPSBudWxsLCBmID0gITEsIHModCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhKHQsIGUpIHsKICAgIHRoaXMuZnVuID0gdCwgdGhpcy5hcnJheSA9IGU7CiAgfQoKICBmdW5jdGlvbiBoKCkge30KCiAgdmFyIGwsCiAgICAgIGMsCiAgICAgIHUgPSB0LmV4cG9ydHMgPSB7fTsKICAhZnVuY3Rpb24gKCkgewogICAgdHJ5IHsKICAgICAgbCA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHNldFRpbWVvdXQgPyBzZXRUaW1lb3V0IDogZTsKICAgIH0gY2F0Y2ggKHQpIHsKICAgICAgbCA9IGU7CiAgICB9CgogICAgdHJ5IHsKICAgICAgYyA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGNsZWFyVGltZW91dCA/IGNsZWFyVGltZW91dCA6IGk7CiAgICB9IGNhdGNoICh0KSB7CiAgICAgIGMgPSBpOwogICAgfQogIH0oKTsKICB2YXIgcCwKICAgICAgZCA9IFtdLAogICAgICBmID0gITEsCiAgICAgIG0gPSAtMTsKICB1Lm5leHRUaWNrID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgZVtpIC0gMV0gPSBhcmd1bWVudHNbaV07CiAgICB9CiAgICBkLnB1c2gobmV3IGEodCwgZSkpLCAxICE9PSBkLmxlbmd0aCB8fCBmIHx8IG4ocik7CiAgfSwgYS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7CiAgfSwgdS50aXRsZSA9ICJicm93c2VyIiwgdS5icm93c2VyID0gITAsIHUuZW52ID0ge30sIHUuYXJndiA9IFtdLCB1LnZlcnNpb24gPSAiIiwgdS52ZXJzaW9ucyA9IHt9LCB1Lm9uID0gaCwgdS5hZGRMaXN0ZW5lciA9IGgsIHUub25jZSA9IGgsIHUub2ZmID0gaCwgdS5yZW1vdmVMaXN0ZW5lciA9IGgsIHUucmVtb3ZlQWxsTGlzdGVuZXJzID0gaCwgdS5lbWl0ID0gaCwgdS5iaW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpOwogIH0sIHUuY3dkID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICIvIjsKICB9LCB1LmNoZGlyID0gZnVuY3Rpb24gKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKTsKICB9LCB1LnVtYXNrID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIDA7CiAgfTsKfSwgZnVuY3Rpb24gKHQsIGUpIHsKICAoZnVuY3Rpb24gKHQpIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICB2YXIgaSA9IHQuTXV0YXRpb25PYnNlcnZlciB8fCB0LldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7CiAgICBlLnRlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBpOwogICAgfSwgZS5pbnN0YWxsID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG4gPSAwLAogICAgICAgICAgcyA9IG5ldyBpKGUpLAogICAgICAgICAgbyA9IHQuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpOwogICAgICByZXR1cm4gcy5vYnNlcnZlKG8sIHsKICAgICAgICBjaGFyYWN0ZXJEYXRhOiAhMAogICAgICB9KSwgZnVuY3Rpb24gKCkgewogICAgICAgIG8uZGF0YSA9IG4gPSArK24gJSAyOwogICAgICB9OwogICAgfTsKICB9KS5jYWxsKGUsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzOwogIH0oKSk7Cn0sIGZ1bmN0aW9uICh0LCBlKSB7CiAgKGZ1bmN0aW9uICh0KSB7CiAgICAidXNlIHN0cmljdCI7CgogICAgZS50ZXN0ID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gIXQuc2V0SW1tZWRpYXRlICYmIHZvaWQgMCAhPT0gdC5NZXNzYWdlQ2hhbm5lbDsKICAgIH0sIGUuaW5zdGFsbCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBpID0gbmV3IHQuTWVzc2FnZUNoYW5uZWwoKTsKICAgICAgcmV0dXJuIGkucG9ydDEub25tZXNzYWdlID0gZSwgZnVuY3Rpb24gKCkgewogICAgICAgIGkucG9ydDIucG9zdE1lc3NhZ2UoMCk7CiAgICAgIH07CiAgICB9OwogIH0pLmNhbGwoZSwgZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXM7CiAgfSgpKTsKfSwgZnVuY3Rpb24gKHQsIGUpIHsKICAoZnVuY3Rpb24gKHQpIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICBlLnRlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAiZG9jdW1lbnQiIGluIHQgJiYgIm9ucmVhZHlzdGF0ZWNoYW5nZSIgaW4gdC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgIH0sIGUuaW5zdGFsbCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGkgPSB0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgICAgIHJldHVybiBpLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGUoKSwgaS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsLCBpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSksIGkgPSBudWxsOwogICAgICAgIH0sIHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGkpLCBlOwogICAgICB9OwogICAgfTsKICB9KS5jYWxsKGUsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzOwogIH0oKSk7Cn0sIGZ1bmN0aW9uICh0LCBlKSB7CiAgInVzZSBzdHJpY3QiOwoKICBlLnRlc3QgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gITA7CiAgfSwgZS5pbnN0YWxsID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHNldFRpbWVvdXQodCwgMCk7CiAgICB9OwogIH07Cn0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBuKHQpIHsKICAgIHZhciBlLAogICAgICAgIGksCiAgICAgICAgbiwKICAgICAgICBhID0gdGhpczsKICAgICh0ID0gdCB8fCB7fSkubWVudSB8fCBvLmVycm9yKCJtZW51IGlzIHJlcXVpcmVkIiksIG8uaXNBcnJheSh0LmRhdGFzZXRzKSB8fCBvLmlzT2JqZWN0KHQuZGF0YXNldHMpIHx8IG8uZXJyb3IoIjEgb3IgbW9yZSBkYXRhc2V0cyByZXF1aXJlZCIpLCB0LmRhdGFzZXRzIHx8IG8uZXJyb3IoImRhdGFzZXRzIGlzIHJlcXVpcmVkIiksIHRoaXMuaXNPcGVuID0gITEsIHRoaXMuaXNFbXB0eSA9ICEwLCB0aGlzLm1pbkxlbmd0aCA9IHQubWluTGVuZ3RoIHx8IDAsIHRoaXMudGVtcGxhdGVzID0ge30sIHRoaXMuYXBwZW5kVG8gPSB0LmFwcGVuZFRvIHx8ICExLCB0aGlzLmNzcyA9IG8ubWl4aW4oe30sIGwsIHQuYXBwZW5kVG8gPyBsLmFwcGVuZFRvIDoge30pLCB0aGlzLmNzc0NsYXNzZXMgPSB0LmNzc0NsYXNzZXMgPSBvLm1peGluKHt9LCBsLmRlZmF1bHRDbGFzc2VzLCB0LmNzc0NsYXNzZXMgfHwge30pLCB0aGlzLmNzc0NsYXNzZXMucHJlZml4ID0gdC5jc3NDbGFzc2VzLmZvcm1hdHRlZFByZWZpeCB8fCBvLmZvcm1hdFByZWZpeCh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMubm9QcmVmaXgpLCBlID0gby5iaW5kKHRoaXMuX29uU3VnZ2VzdGlvbkNsaWNrLCB0aGlzKSwgaSA9IG8uYmluZCh0aGlzLl9vblN1Z2dlc3Rpb25Nb3VzZUVudGVyLCB0aGlzKSwgbiA9IG8uYmluZCh0aGlzLl9vblN1Z2dlc3Rpb25Nb3VzZUxlYXZlLCB0aGlzKTsKICAgIHZhciBoID0gby5jbGFzc05hbWUodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLnN1Z2dlc3Rpb24pOwogICAgdGhpcy4kbWVudSA9IHIuZWxlbWVudCh0Lm1lbnUpLm9uKCJtb3VzZWVudGVyLmFhIiwgaCwgaSkub24oIm1vdXNlbGVhdmUuYWEiLCBoLCBuKS5vbigiY2xpY2suYWEiLCBoLCBlKSwgdGhpcy4kY29udGFpbmVyID0gdC5hcHBlbmRUbyA/IHQud3JhcHBlciA6IHRoaXMuJG1lbnUsIHQudGVtcGxhdGVzICYmIHQudGVtcGxhdGVzLmhlYWRlciAmJiAodGhpcy50ZW1wbGF0ZXMuaGVhZGVyID0gby50ZW1wbGF0aWZ5KHQudGVtcGxhdGVzLmhlYWRlciksIHRoaXMuJG1lbnUucHJlcGVuZCh0aGlzLnRlbXBsYXRlcy5oZWFkZXIoKSkpLCB0LnRlbXBsYXRlcyAmJiB0LnRlbXBsYXRlcy5lbXB0eSAmJiAodGhpcy50ZW1wbGF0ZXMuZW1wdHkgPSBvLnRlbXBsYXRpZnkodC50ZW1wbGF0ZXMuZW1wdHkpLCB0aGlzLiRlbXB0eSA9IHIuZWxlbWVudCgnPGRpdiBjbGFzcz0iJyArIG8uY2xhc3NOYW1lKHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXgsIHRoaXMuY3NzQ2xhc3Nlcy5lbXB0eSwgITApICsgJyI+PC9kaXY+JyksIHRoaXMuJG1lbnUuYXBwZW5kKHRoaXMuJGVtcHR5KSwgdGhpcy4kZW1wdHkuaGlkZSgpKSwgdGhpcy5kYXRhc2V0cyA9IG8ubWFwKHQuZGF0YXNldHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBzKGEuJG1lbnUsIGUsIHQuY3NzQ2xhc3Nlcyk7CiAgICB9KSwgby5lYWNoKHRoaXMuZGF0YXNldHMsIGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBlID0gdC5nZXRSb290KCk7CiAgICAgIGUgJiYgMCA9PT0gZS5wYXJlbnQoKS5sZW5ndGggJiYgYS4kbWVudS5hcHBlbmQoZSksIHQub25TeW5jKCJyZW5kZXJlZCIsIGEuX29uUmVuZGVyZWQsIGEpOwogICAgfSksIHQudGVtcGxhdGVzICYmIHQudGVtcGxhdGVzLmZvb3RlciAmJiAodGhpcy50ZW1wbGF0ZXMuZm9vdGVyID0gby50ZW1wbGF0aWZ5KHQudGVtcGxhdGVzLmZvb3RlciksIHRoaXMuJG1lbnUuYXBwZW5kKHRoaXMudGVtcGxhdGVzLmZvb3RlcigpKSk7CiAgICB2YXIgYyA9IHRoaXM7CiAgICByLmVsZW1lbnQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkgewogICAgICBjLl9yZWRyYXcoKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gcyh0LCBlLCBpKSB7CiAgICByZXR1cm4gbmV3IG4uRGF0YXNldChvLm1peGluKHsKICAgICAgJG1lbnU6IHQsCiAgICAgIGNzc0NsYXNzZXM6IGkKICAgIH0sIGUpKTsKICB9CgogIHZhciBvID0gaSg0KSwKICAgICAgciA9IGkoMiksCiAgICAgIGEgPSBpKDgpLAogICAgICBoID0gaSgxNyksCiAgICAgIGwgPSBpKDE5KTsKICBvLm1peGluKG4ucHJvdG90eXBlLCBhLCB7CiAgICBfb25TdWdnZXN0aW9uQ2xpY2s6IGZ1bmN0aW9uIF9vblN1Z2dlc3Rpb25DbGljayh0KSB7CiAgICAgIHRoaXMudHJpZ2dlcigic3VnZ2VzdGlvbkNsaWNrZWQiLCByLmVsZW1lbnQodC5jdXJyZW50VGFyZ2V0KSk7CiAgICB9LAogICAgX29uU3VnZ2VzdGlvbk1vdXNlRW50ZXI6IGZ1bmN0aW9uIF9vblN1Z2dlc3Rpb25Nb3VzZUVudGVyKHQpIHsKICAgICAgdmFyIGUgPSByLmVsZW1lbnQodC5jdXJyZW50VGFyZ2V0KTsKCiAgICAgIGlmICghZS5oYXNDbGFzcyhvLmNsYXNzTmFtZSh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMuY3Vyc29yLCAhMCkpKSB7CiAgICAgICAgdGhpcy5fcmVtb3ZlQ3Vyc29yKCk7CgogICAgICAgIHZhciBpID0gdGhpczsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGkuX3NldEN1cnNvcihlLCAhMSk7CiAgICAgICAgfSwgMCk7CiAgICAgIH0KICAgIH0sCiAgICBfb25TdWdnZXN0aW9uTW91c2VMZWF2ZTogZnVuY3Rpb24gX29uU3VnZ2VzdGlvbk1vdXNlTGVhdmUodCkgewogICAgICB0LnJlbGF0ZWRUYXJnZXQgJiYgci5lbGVtZW50KHQucmVsYXRlZFRhcmdldCkuY2xvc2VzdCgiLiIgKyBvLmNsYXNzTmFtZSh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMuY3Vyc29yLCAhMCkpLmxlbmd0aCA+IDAgfHwgKHRoaXMuX3JlbW92ZUN1cnNvcigpLCB0aGlzLnRyaWdnZXIoImN1cnNvclJlbW92ZWQiKSk7CiAgICB9LAogICAgX29uUmVuZGVyZWQ6IGZ1bmN0aW9uIF9vblJlbmRlcmVkKHQsIGUpIHsKICAgICAgZnVuY3Rpb24gaSh0KSB7CiAgICAgICAgcmV0dXJuIHQuaXNFbXB0eSgpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBuKHQpIHsKICAgICAgICByZXR1cm4gdC50ZW1wbGF0ZXMgJiYgdC50ZW1wbGF0ZXMuZW1wdHk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzRW1wdHkgPSBvLmV2ZXJ5KHRoaXMuZGF0YXNldHMsIGkpLCB0aGlzLmlzRW1wdHkpIHsKICAgICAgICBpZiAoZS5sZW5ndGggPj0gdGhpcy5taW5MZW5ndGggJiYgdGhpcy50cmlnZ2VyKCJlbXB0eSIpLCB0aGlzLiRlbXB0eSkgewogICAgICAgICAgaWYgKGUubGVuZ3RoIDwgdGhpcy5taW5MZW5ndGgpIHRoaXMuX2hpZGUoKTtlbHNlIHsKICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnRlbXBsYXRlcy5lbXB0eSh7CiAgICAgICAgICAgICAgcXVlcnk6IHRoaXMuZGF0YXNldHNbMF0gJiYgdGhpcy5kYXRhc2V0c1swXS5xdWVyeQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy4kZW1wdHkuaHRtbChzKSwgdGhpcy4kZW1wdHkuc2hvdygpLCB0aGlzLl9zaG93KCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIG8uYW55KHRoaXMuZGF0YXNldHMsIG4pID8gZS5sZW5ndGggPCB0aGlzLm1pbkxlbmd0aCA/IHRoaXMuX2hpZGUoKSA6IHRoaXMuX3Nob3coKSA6IHRoaXMuX2hpZGUoKTsKICAgICAgfSBlbHNlIHRoaXMuaXNPcGVuICYmICh0aGlzLiRlbXB0eSAmJiAodGhpcy4kZW1wdHkuZW1wdHkoKSwgdGhpcy4kZW1wdHkuaGlkZSgpKSwgZS5sZW5ndGggPj0gdGhpcy5taW5MZW5ndGggPyB0aGlzLl9zaG93KCkgOiB0aGlzLl9oaWRlKCkpOwogICAgICB0aGlzLnRyaWdnZXIoImRhdGFzZXRSZW5kZXJlZCIpOwogICAgfSwKICAgIF9oaWRlOiBmdW5jdGlvbiBfaGlkZSgpIHsKICAgICAgdGhpcy4kY29udGFpbmVyLmhpZGUoKTsKICAgIH0sCiAgICBfc2hvdzogZnVuY3Rpb24gX3Nob3coKSB7CiAgICAgIHRoaXMuJGNvbnRhaW5lci5jc3MoImRpc3BsYXkiLCAiYmxvY2siKSwgdGhpcy5fcmVkcmF3KCksIHRoaXMudHJpZ2dlcigic2hvd24iKTsKICAgIH0sCiAgICBfcmVkcmF3OiBmdW5jdGlvbiBfcmVkcmF3KCkgewogICAgICB0aGlzLmlzT3BlbiAmJiB0aGlzLmFwcGVuZFRvICYmIHRoaXMudHJpZ2dlcigicmVkcmF3biIpOwogICAgfSwKICAgIF9nZXRTdWdnZXN0aW9uczogZnVuY3Rpb24gX2dldFN1Z2dlc3Rpb25zKCkgewogICAgICByZXR1cm4gdGhpcy4kbWVudS5maW5kKG8uY2xhc3NOYW1lKHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXgsIHRoaXMuY3NzQ2xhc3Nlcy5zdWdnZXN0aW9uKSk7CiAgICB9LAogICAgX2dldEN1cnNvcjogZnVuY3Rpb24gX2dldEN1cnNvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJG1lbnUuZmluZChvLmNsYXNzTmFtZSh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMuY3Vyc29yKSkuZmlyc3QoKTsKICAgIH0sCiAgICBfc2V0Q3Vyc29yOiBmdW5jdGlvbiBfc2V0Q3Vyc29yKHQsIGUpIHsKICAgICAgdC5maXJzdCgpLmFkZENsYXNzKG8uY2xhc3NOYW1lKHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXgsIHRoaXMuY3NzQ2xhc3Nlcy5jdXJzb3IsICEwKSkuYXR0cigiYXJpYS1zZWxlY3RlZCIsICJ0cnVlIiksIHRoaXMudHJpZ2dlcigiY3Vyc29yTW92ZWQiLCBlKTsKICAgIH0sCiAgICBfcmVtb3ZlQ3Vyc29yOiBmdW5jdGlvbiBfcmVtb3ZlQ3Vyc29yKCkgewogICAgICB0aGlzLl9nZXRDdXJzb3IoKS5yZW1vdmVDbGFzcyhvLmNsYXNzTmFtZSh0aGlzLmNzc0NsYXNzZXMucHJlZml4LCB0aGlzLmNzc0NsYXNzZXMuY3Vyc29yLCAhMCkpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKTsKICAgIH0sCiAgICBfbW92ZUN1cnNvcjogZnVuY3Rpb24gX21vdmVDdXJzb3IodCkgewogICAgICB2YXIgZSwgaSwgbiwgczsKCiAgICAgIGlmICh0aGlzLmlzT3BlbikgewogICAgICAgIGlmIChpID0gdGhpcy5fZ2V0Q3Vyc29yKCksIGUgPSB0aGlzLl9nZXRTdWdnZXN0aW9ucygpLCB0aGlzLl9yZW1vdmVDdXJzb3IoKSwgLTEgPT0gKG4gPSAoKG4gPSBlLmluZGV4KGkpICsgdCkgKyAxKSAlIChlLmxlbmd0aCArIDEpIC0gMSkpIHJldHVybiB2b2lkIHRoaXMudHJpZ2dlcigiY3Vyc29yUmVtb3ZlZCIpOwogICAgICAgIG4gPCAtMSAmJiAobiA9IGUubGVuZ3RoIC0gMSksIHRoaXMuX3NldEN1cnNvcihzID0gZS5lcShuKSwgITApLCB0aGlzLl9lbnN1cmVWaXNpYmxlKHMpOwogICAgICB9CiAgICB9LAogICAgX2Vuc3VyZVZpc2libGU6IGZ1bmN0aW9uIF9lbnN1cmVWaXNpYmxlKHQpIHsKICAgICAgdmFyIGUsIGksIG4sIHM7CiAgICAgIGkgPSAoZSA9IHQucG9zaXRpb24oKS50b3ApICsgdC5oZWlnaHQoKSArIHBhcnNlSW50KHQuY3NzKCJtYXJnaW4tdG9wIiksIDEwKSArIHBhcnNlSW50KHQuY3NzKCJtYXJnaW4tYm90dG9tIiksIDEwKSwgbiA9IHRoaXMuJG1lbnUuc2Nyb2xsVG9wKCksIHMgPSB0aGlzLiRtZW51LmhlaWdodCgpICsgcGFyc2VJbnQodGhpcy4kbWVudS5jc3MoInBhZGRpbmctdG9wIiksIDEwKSArIHBhcnNlSW50KHRoaXMuJG1lbnUuY3NzKCJwYWRkaW5nLWJvdHRvbSIpLCAxMCksIGUgPCAwID8gdGhpcy4kbWVudS5zY3JvbGxUb3AobiArIGUpIDogcyA8IGkgJiYgdGhpcy4kbWVudS5zY3JvbGxUb3AobiArIChpIC0gcykpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy5pc09wZW4gJiYgKHRoaXMuaXNPcGVuID0gITEsIHRoaXMuX3JlbW92ZUN1cnNvcigpLCB0aGlzLl9oaWRlKCksIHRoaXMudHJpZ2dlcigiY2xvc2VkIikpOwogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oKSB7CiAgICAgIHRoaXMuaXNPcGVuIHx8ICh0aGlzLmlzT3BlbiA9ICEwLCB0aGlzLmlzRW1wdHkgfHwgdGhpcy5fc2hvdygpLCB0aGlzLnRyaWdnZXIoIm9wZW5lZCIpKTsKICAgIH0sCiAgICBzZXRMYW5ndWFnZURpcmVjdGlvbjogZnVuY3Rpb24gc2V0TGFuZ3VhZ2VEaXJlY3Rpb24odCkgewogICAgICB0aGlzLiRtZW51LmNzcygibHRyIiA9PT0gdCA/IHRoaXMuY3NzLmx0ciA6IHRoaXMuY3NzLnJ0bCk7CiAgICB9LAogICAgbW92ZUN1cnNvclVwOiBmdW5jdGlvbiBtb3ZlQ3Vyc29yVXAoKSB7CiAgICAgIHRoaXMuX21vdmVDdXJzb3IoLTEpOwogICAgfSwKICAgIG1vdmVDdXJzb3JEb3duOiBmdW5jdGlvbiBtb3ZlQ3Vyc29yRG93bigpIHsKICAgICAgdGhpcy5fbW92ZUN1cnNvcigxKTsKICAgIH0sCiAgICBnZXREYXR1bUZvclN1Z2dlc3Rpb246IGZ1bmN0aW9uIGdldERhdHVtRm9yU3VnZ2VzdGlvbih0KSB7CiAgICAgIHZhciBlID0gbnVsbDsKICAgICAgcmV0dXJuIHQubGVuZ3RoICYmIChlID0gewogICAgICAgIHJhdzogaC5leHRyYWN0RGF0dW0odCksCiAgICAgICAgdmFsdWU6IGguZXh0cmFjdFZhbHVlKHQpLAogICAgICAgIGRhdGFzZXROYW1lOiBoLmV4dHJhY3REYXRhc2V0TmFtZSh0KQogICAgICB9KSwgZTsKICAgIH0sCiAgICBnZXRDdXJyZW50Q3Vyc29yOiBmdW5jdGlvbiBnZXRDdXJyZW50Q3Vyc29yKCkgewogICAgICByZXR1cm4gdGhpcy5fZ2V0Q3Vyc29yKCkuZmlyc3QoKTsKICAgIH0sCiAgICBnZXREYXR1bUZvckN1cnNvcjogZnVuY3Rpb24gZ2V0RGF0dW1Gb3JDdXJzb3IoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldERhdHVtRm9yU3VnZ2VzdGlvbih0aGlzLl9nZXRDdXJzb3IoKS5maXJzdCgpKTsKICAgIH0sCiAgICBnZXREYXR1bUZvclRvcFN1Z2dlc3Rpb246IGZ1bmN0aW9uIGdldERhdHVtRm9yVG9wU3VnZ2VzdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0dW1Gb3JTdWdnZXN0aW9uKHRoaXMuX2dldFN1Z2dlc3Rpb25zKCkuZmlyc3QoKSk7CiAgICB9LAogICAgY3Vyc29yVG9wU3VnZ2VzdGlvbjogZnVuY3Rpb24gY3Vyc29yVG9wU3VnZ2VzdGlvbigpIHsKICAgICAgdGhpcy5fc2V0Q3Vyc29yKHRoaXMuX2dldFN1Z2dlc3Rpb25zKCkuZmlyc3QoKSwgITEpOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHQpIHsKICAgICAgZnVuY3Rpb24gZShlKSB7CiAgICAgICAgZS51cGRhdGUodCk7CiAgICAgIH0KCiAgICAgIG8uZWFjaCh0aGlzLmRhdGFzZXRzLCBlKTsKICAgIH0sCiAgICBlbXB0eTogZnVuY3Rpb24gZW1wdHkoKSB7CiAgICAgIGZ1bmN0aW9uIHQodCkgewogICAgICAgIHQuY2xlYXIoKTsKICAgICAgfQoKICAgICAgby5lYWNoKHRoaXMuZGF0YXNldHMsIHQpLCB0aGlzLmlzRW1wdHkgPSAhMDsKICAgIH0sCiAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIGlzVmlzaWJsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNPcGVuICYmICF0aGlzLmlzRW1wdHk7CiAgICB9LAogICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgZnVuY3Rpb24gdCh0KSB7CiAgICAgICAgdC5kZXN0cm95KCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJG1lbnUub2ZmKCIuYWEiKSwgdGhpcy4kbWVudSA9IG51bGwsIG8uZWFjaCh0aGlzLmRhdGFzZXRzLCB0KTsKICAgIH0KICB9KSwgbi5EYXRhc2V0ID0gaCwgdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIG4odCkgewogICAgKHQgPSB0IHx8IHt9KS50ZW1wbGF0ZXMgPSB0LnRlbXBsYXRlcyB8fCB7fSwgdC5zb3VyY2UgfHwgYy5lcnJvcigibWlzc2luZyBzb3VyY2UiKSwgdC5uYW1lICYmICFyKHQubmFtZSkgJiYgYy5lcnJvcigiaW52YWxpZCBkYXRhc2V0IG5hbWU6ICIgKyB0Lm5hbWUpLCB0aGlzLnF1ZXJ5ID0gbnVsbCwgdGhpcy5faXNFbXB0eSA9ICEwLCB0aGlzLmhpZ2hsaWdodCA9ICEhdC5oaWdobGlnaHQsIHRoaXMubmFtZSA9IHZvaWQgMCA9PT0gdC5uYW1lIHx8IG51bGwgPT09IHQubmFtZSA/IGMuZ2V0VW5pcXVlSWQoKSA6IHQubmFtZSwgdGhpcy5zb3VyY2UgPSB0LnNvdXJjZSwgdGhpcy5kaXNwbGF5Rm4gPSBzKHQuZGlzcGxheSB8fCB0LmRpc3BsYXlLZXkpLCB0aGlzLnRlbXBsYXRlcyA9IG8odC50ZW1wbGF0ZXMsIHRoaXMuZGlzcGxheUZuKSwgdGhpcy5jc3MgPSBjLm1peGluKHt9LCBkLCB0LmFwcGVuZFRvID8gZC5hcHBlbmRUbyA6IHt9KSwgdGhpcy5jc3NDbGFzc2VzID0gdC5jc3NDbGFzc2VzID0gYy5taXhpbih7fSwgZC5kZWZhdWx0Q2xhc3NlcywgdC5jc3NDbGFzc2VzIHx8IHt9KSwgdGhpcy5jc3NDbGFzc2VzLnByZWZpeCA9IHQuY3NzQ2xhc3Nlcy5mb3JtYXR0ZWRQcmVmaXggfHwgYy5mb3JtYXRQcmVmaXgodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLm5vUHJlZml4KTsKICAgIHZhciBlID0gYy5jbGFzc05hbWUodGhpcy5jc3NDbGFzc2VzLnByZWZpeCwgdGhpcy5jc3NDbGFzc2VzLmRhdGFzZXQpOwogICAgdGhpcy4kZWwgPSB0LiRtZW51ICYmIHQuJG1lbnUuZmluZChlICsgIi0iICsgdGhpcy5uYW1lKS5sZW5ndGggPiAwID8gdS5lbGVtZW50KHQuJG1lbnUuZmluZChlICsgIi0iICsgdGhpcy5uYW1lKVswXSkgOiB1LmVsZW1lbnQocC5kYXRhc2V0LnJlcGxhY2UoIiVDTEFTUyUiLCB0aGlzLm5hbWUpLnJlcGxhY2UoIiVQUkVGSVglIiwgdGhpcy5jc3NDbGFzc2VzLnByZWZpeCkucmVwbGFjZSgiJURBVEFTRVQlIiwgdGhpcy5jc3NDbGFzc2VzLmRhdGFzZXQpKSwgdGhpcy4kbWVudSA9IHQuJG1lbnUsIHRoaXMuY2xlYXJDYWNoZWRTdWdnZXN0aW9ucygpOwogIH0KCiAgZnVuY3Rpb24gcyh0KSB7CiAgICBmdW5jdGlvbiBlKGUpIHsKICAgICAgcmV0dXJuIGVbdF07CiAgICB9CgogICAgcmV0dXJuIHQgPSB0IHx8ICJ2YWx1ZSIsIGMuaXNGdW5jdGlvbih0KSA/IHQgOiBlOwogIH0KCiAgZnVuY3Rpb24gbyh0LCBlKSB7CiAgICBmdW5jdGlvbiBpKHQpIHsKICAgICAgcmV0dXJuICI8cD4iICsgZSh0KSArICI8L3A+IjsKICAgIH0KCiAgICByZXR1cm4gewogICAgICBlbXB0eTogdC5lbXB0eSAmJiBjLnRlbXBsYXRpZnkodC5lbXB0eSksCiAgICAgIGhlYWRlcjogdC5oZWFkZXIgJiYgYy50ZW1wbGF0aWZ5KHQuaGVhZGVyKSwKICAgICAgZm9vdGVyOiB0LmZvb3RlciAmJiBjLnRlbXBsYXRpZnkodC5mb290ZXIpLAogICAgICBzdWdnZXN0aW9uOiB0LnN1Z2dlc3Rpb24gfHwgaQogICAgfTsKICB9CgogIGZ1bmN0aW9uIHIodCkgewogICAgcmV0dXJuIC9eW19hLXpBLVowLTktXSskLy50ZXN0KHQpOwogIH0KCiAgdmFyIGEgPSAiYWFEYXRhc2V0IiwKICAgICAgaCA9ICJhYVZhbHVlIiwKICAgICAgbCA9ICJhYURhdHVtIiwKICAgICAgYyA9IGkoNCksCiAgICAgIHUgPSBpKDIpLAogICAgICBwID0gaSgxOCksCiAgICAgIGQgPSBpKDE5KSwKICAgICAgZiA9IGkoOCk7CiAgbi5leHRyYWN0RGF0YXNldE5hbWUgPSBmdW5jdGlvbiAodCkgewogICAgcmV0dXJuIHUuZWxlbWVudCh0KS5kYXRhKGEpOwogIH0sIG4uZXh0cmFjdFZhbHVlID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiB1LmVsZW1lbnQodCkuZGF0YShoKTsKICB9LCBuLmV4dHJhY3REYXR1bSA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHUuZWxlbWVudCh0KS5kYXRhKGwpOwogICAgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiBlICYmIChlID0gSlNPTi5wYXJzZShlKSksIGU7CiAgfSwgYy5taXhpbihuLnByb3RvdHlwZSwgZiwgewogICAgX3JlbmRlcjogZnVuY3Rpb24gX3JlbmRlcih0LCBlKSB7CiAgICAgIGZ1bmN0aW9uIGkoKSB7CiAgICAgICAgdmFyIGUgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CiAgICAgICAgcmV0dXJuIGUgPSBbewogICAgICAgICAgcXVlcnk6IHQsCiAgICAgICAgICBpc0VtcHR5OiAhMAogICAgICAgIH1dLmNvbmNhdChlKSwgZC50ZW1wbGF0ZXMuZW1wdHkuYXBwbHkodGhpcywgZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG4oKSB7CiAgICAgICAgZnVuY3Rpb24gdCh0KSB7CiAgICAgICAgICB2YXIgZSwKICAgICAgICAgICAgICBpID0gcC5zdWdnZXN0aW9uLnJlcGxhY2UoIiVQUkVGSVglIiwgby5jc3NDbGFzc2VzLnByZWZpeCkucmVwbGFjZSgiJVNVR0dFU1RJT04lIiwgby5jc3NDbGFzc2VzLnN1Z2dlc3Rpb24pOwogICAgICAgICAgcmV0dXJuIChlID0gdS5lbGVtZW50KGkpLmF0dHIoewogICAgICAgICAgICByb2xlOiAib3B0aW9uIiwKICAgICAgICAgICAgaWQ6IFsib3B0aW9uIiwgTWF0aC5mbG9vcigxZTggKiBNYXRoLnJhbmRvbSgpKV0uam9pbigiLSIpCiAgICAgICAgICB9KS5hcHBlbmQoZC50ZW1wbGF0ZXMuc3VnZ2VzdGlvbi5hcHBseSh0aGlzLCBbdF0uY29uY2F0KHMpKSkpLmRhdGEoYSwgZC5uYW1lKSwgZS5kYXRhKGgsIGQuZGlzcGxheUZuKHQpIHx8IHZvaWQgMCksIGUuZGF0YShsLCBKU09OLnN0cmluZ2lmeSh0KSksIGUuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdS5lbGVtZW50KHRoaXMpLmNzcyhvLmNzcy5zdWdnZXN0aW9uQ2hpbGQpOwogICAgICAgICAgfSksIGU7CiAgICAgICAgfQoKICAgICAgICB2YXIgaSwKICAgICAgICAgICAgbiwKICAgICAgICAgICAgcyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSwKICAgICAgICAgICAgbyA9IHRoaXMsCiAgICAgICAgICAgIHIgPSBwLnN1Z2dlc3Rpb25zLnJlcGxhY2UoIiVQUkVGSVglIiwgdGhpcy5jc3NDbGFzc2VzLnByZWZpeCkucmVwbGFjZSgiJVNVR0dFU1RJT05TJSIsIHRoaXMuY3NzQ2xhc3Nlcy5zdWdnZXN0aW9ucyk7CiAgICAgICAgcmV0dXJuIGkgPSB1LmVsZW1lbnQocikuY3NzKHRoaXMuY3NzLnN1Z2dlc3Rpb25zKSwgbiA9IGMubWFwKGUsIHQpLCBpLmFwcGVuZC5hcHBseShpLCBuKSwgaTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcygpIHsKICAgICAgICB2YXIgZSA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKICAgICAgICByZXR1cm4gZSA9IFt7CiAgICAgICAgICBxdWVyeTogdCwKICAgICAgICAgIGlzRW1wdHk6ICFyCiAgICAgICAgfV0uY29uY2F0KGUpLCBkLnRlbXBsYXRlcy5oZWFkZXIuYXBwbHkodGhpcywgZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG8oKSB7CiAgICAgICAgdmFyIGUgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CiAgICAgICAgcmV0dXJuIGUgPSBbewogICAgICAgICAgcXVlcnk6IHQsCiAgICAgICAgICBpc0VtcHR5OiAhcgogICAgICAgIH1dLmNvbmNhdChlKSwgZC50ZW1wbGF0ZXMuZm9vdGVyLmFwcGx5KHRoaXMsIGUpOwogICAgICB9CgogICAgICBpZiAodGhpcy4kZWwpIHsKICAgICAgICB2YXIgciwKICAgICAgICAgICAgZCA9IHRoaXMsCiAgICAgICAgICAgIGYgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7CiAgICAgICAgdGhpcy4kZWwuZW1wdHkoKSwgciA9IGUgJiYgZS5sZW5ndGgsIHRoaXMuX2lzRW1wdHkgPSAhciwgIXIgJiYgdGhpcy50ZW1wbGF0ZXMuZW1wdHkgPyB0aGlzLiRlbC5odG1sKGkuYXBwbHkodGhpcywgZikpLnByZXBlbmQoZC50ZW1wbGF0ZXMuaGVhZGVyID8gcy5hcHBseSh0aGlzLCBmKSA6IG51bGwpLmFwcGVuZChkLnRlbXBsYXRlcy5mb290ZXIgPyBvLmFwcGx5KHRoaXMsIGYpIDogbnVsbCkgOiByICYmIHRoaXMuJGVsLmh0bWwobi5hcHBseSh0aGlzLCBmKSkucHJlcGVuZChkLnRlbXBsYXRlcy5oZWFkZXIgPyBzLmFwcGx5KHRoaXMsIGYpIDogbnVsbCkuYXBwZW5kKGQudGVtcGxhdGVzLmZvb3RlciA/IG8uYXBwbHkodGhpcywgZikgOiBudWxsKSwgdGhpcy4kbWVudSAmJiB0aGlzLiRtZW51LmFkZENsYXNzKHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXggKyAociA/ICJ3aXRoIiA6ICJ3aXRob3V0IikgKyAiLSIgKyB0aGlzLm5hbWUpLnJlbW92ZUNsYXNzKHRoaXMuY3NzQ2xhc3Nlcy5wcmVmaXggKyAociA/ICJ3aXRob3V0IiA6ICJ3aXRoIikgKyAiLSIgKyB0aGlzLm5hbWUpLCB0aGlzLnRyaWdnZXIoInJlbmRlcmVkIiwgdCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSb290OiBmdW5jdGlvbiBnZXRSb290KCkgewogICAgICByZXR1cm4gdGhpcy4kZWw7CiAgICB9LAogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUodCkgewogICAgICBmdW5jdGlvbiBlKGUpIHsKICAgICAgICBpZiAoIXRoaXMuY2FuY2VsZWQgJiYgdCA9PT0gdGhpcy5xdWVyeSkgewogICAgICAgICAgdmFyIGkgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICAgICAgICB0aGlzLmNhY2hlU3VnZ2VzdGlvbnModCwgZSwgaSksIHRoaXMuX3JlbmRlci5hcHBseSh0aGlzLCBbdCwgZV0uY29uY2F0KGkpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMucXVlcnkgPSB0LCB0aGlzLmNhbmNlbGVkID0gITEsIHRoaXMuc2hvdWxkRmV0Y2hGcm9tQ2FjaGUodCkgPyBlLmFwcGx5KHRoaXMsIFt0aGlzLmNhY2hlZFN1Z2dlc3Rpb25zXS5jb25jYXQodGhpcy5jYWNoZWRSZW5kZXJFeHRyYUFyZ3MpKSA6IHRoaXMuc291cmNlKHQsIGUuYmluZCh0aGlzKSk7CiAgICB9LAogICAgY2FjaGVTdWdnZXN0aW9uczogZnVuY3Rpb24gY2FjaGVTdWdnZXN0aW9ucyh0LCBlLCBpKSB7CiAgICAgIHRoaXMuY2FjaGVkUXVlcnkgPSB0LCB0aGlzLmNhY2hlZFN1Z2dlc3Rpb25zID0gZSwgdGhpcy5jYWNoZWRSZW5kZXJFeHRyYUFyZ3MgPSBpOwogICAgfSwKICAgIHNob3VsZEZldGNoRnJvbUNhY2hlOiBmdW5jdGlvbiBzaG91bGRGZXRjaEZyb21DYWNoZSh0KSB7CiAgICAgIHJldHVybiB0aGlzLmNhY2hlZFF1ZXJ5ID09PSB0ICYmIHRoaXMuY2FjaGVkU3VnZ2VzdGlvbnMgJiYgdGhpcy5jYWNoZWRTdWdnZXN0aW9ucy5sZW5ndGg7CiAgICB9LAogICAgY2xlYXJDYWNoZWRTdWdnZXN0aW9uczogZnVuY3Rpb24gY2xlYXJDYWNoZWRTdWdnZXN0aW9ucygpIHsKICAgICAgZGVsZXRlIHRoaXMuY2FjaGVkUXVlcnksIGRlbGV0ZSB0aGlzLmNhY2hlZFN1Z2dlc3Rpb25zLCBkZWxldGUgdGhpcy5jYWNoZWRSZW5kZXJFeHRyYUFyZ3M7CiAgICB9LAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuY2FuY2VsZWQgPSAhMDsKICAgIH0sCiAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7CiAgICAgIHRoaXMuY2FuY2VsKCksIHRoaXMuJGVsLmVtcHR5KCksIHRoaXMudHJpZ2dlcigicmVuZGVyZWQiLCAiIik7CiAgICB9LAogICAgaXNFbXB0eTogZnVuY3Rpb24gaXNFbXB0eSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2lzRW1wdHk7CiAgICB9LAogICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgdGhpcy5jbGVhckNhY2hlZFN1Z2dlc3Rpb25zKCksIHRoaXMuJGVsID0gbnVsbDsKICAgIH0KICB9KSwgdC5leHBvcnRzID0gbjsKfSwgZnVuY3Rpb24gKHQpIHsKICAidXNlIHN0cmljdCI7CgogIHQuZXhwb3J0cyA9IHsKICAgIHdyYXBwZXI6ICc8c3BhbiBjbGFzcz0iJVJPT1QlIj48L3NwYW4+JywKICAgIGRyb3Bkb3duOiAnPHNwYW4gY2xhc3M9IiVQUkVGSVglJURST1BET1dOX01FTlUlIj48L3NwYW4+JywKICAgIGRhdGFzZXQ6ICc8ZGl2IGNsYXNzPSIlUFJFRklYJSVEQVRBU0VUJS0lQ0xBU1MlIj48L2Rpdj4nLAogICAgc3VnZ2VzdGlvbnM6ICc8c3BhbiBjbGFzcz0iJVBSRUZJWCUlU1VHR0VTVElPTlMlIj48L3NwYW4+JywKICAgIHN1Z2dlc3Rpb246ICc8ZGl2IGNsYXNzPSIlUFJFRklYJSVTVUdHRVNUSU9OJSI+PC9kaXY+JwogIH07Cn0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgInVzZSBzdHJpY3QiOwoKICB2YXIgbiA9IGkoNCksCiAgICAgIHMgPSB7CiAgICB3cmFwcGVyOiB7CiAgICAgIHBvc2l0aW9uOiAicmVsYXRpdmUiLAogICAgICBkaXNwbGF5OiAiaW5saW5lLWJsb2NrIgogICAgfSwKICAgIGhpbnQ6IHsKICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsCiAgICAgIHRvcDogIjAiLAogICAgICBsZWZ0OiAiMCIsCiAgICAgIGJvcmRlckNvbG9yOiAidHJhbnNwYXJlbnQiLAogICAgICBib3hTaGFkb3c6ICJub25lIiwKICAgICAgb3BhY2l0eTogIjEiCiAgICB9LAogICAgaW5wdXQ6IHsKICAgICAgcG9zaXRpb246ICJyZWxhdGl2ZSIsCiAgICAgIHZlcnRpY2FsQWxpZ246ICJ0b3AiLAogICAgICBiYWNrZ3JvdW5kQ29sb3I6ICJ0cmFuc3BhcmVudCIKICAgIH0sCiAgICBpbnB1dFdpdGhOb0hpbnQ6IHsKICAgICAgcG9zaXRpb246ICJyZWxhdGl2ZSIsCiAgICAgIHZlcnRpY2FsQWxpZ246ICJ0b3AiCiAgICB9LAogICAgZHJvcGRvd246IHsKICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsCiAgICAgIHRvcDogIjEwMCUiLAogICAgICBsZWZ0OiAiMCIsCiAgICAgIHpJbmRleDogIjEwMCIsCiAgICAgIGRpc3BsYXk6ICJub25lIgogICAgfSwKICAgIHN1Z2dlc3Rpb25zOiB7CiAgICAgIGRpc3BsYXk6ICJibG9jayIKICAgIH0sCiAgICBzdWdnZXN0aW9uOiB7CiAgICAgIHdoaXRlU3BhY2U6ICJub3dyYXAiLAogICAgICBjdXJzb3I6ICJwb2ludGVyIgogICAgfSwKICAgIHN1Z2dlc3Rpb25DaGlsZDogewogICAgICB3aGl0ZVNwYWNlOiAibm9ybWFsIgogICAgfSwKICAgIGx0cjogewogICAgICBsZWZ0OiAiMCIsCiAgICAgIHJpZ2h0OiAiYXV0byIKICAgIH0sCiAgICBydGw6IHsKICAgICAgbGVmdDogImF1dG8iLAogICAgICByaWdodDogIjAiCiAgICB9LAogICAgZGVmYXVsdENsYXNzZXM6IHsKICAgICAgcm9vdDogImFsZ29saWEtYXV0b2NvbXBsZXRlIiwKICAgICAgcHJlZml4OiAiYWEiLAogICAgICBub1ByZWZpeDogITEsCiAgICAgIGRyb3Bkb3duTWVudTogImRyb3Bkb3duLW1lbnUiLAogICAgICBpbnB1dDogImlucHV0IiwKICAgICAgaGludDogImhpbnQiLAogICAgICBzdWdnZXN0aW9uczogInN1Z2dlc3Rpb25zIiwKICAgICAgc3VnZ2VzdGlvbjogInN1Z2dlc3Rpb24iLAogICAgICBjdXJzb3I6ICJjdXJzb3IiLAogICAgICBkYXRhc2V0OiAiZGF0YXNldCIsCiAgICAgIGVtcHR5OiAiZW1wdHkiCiAgICB9LAogICAgYXBwZW5kVG86IHsKICAgICAgd3JhcHBlcjogewogICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgIHpJbmRleDogIjEwMCIsCiAgICAgICAgZGlzcGxheTogIm5vbmUiCiAgICAgIH0sCiAgICAgIGlucHV0OiB7fSwKICAgICAgaW5wdXRXaXRoTm9IaW50OiB7fSwKICAgICAgZHJvcGRvd246IHsKICAgICAgICBkaXNwbGF5OiAiYmxvY2siCiAgICAgIH0KICAgIH0KICB9OwogIG4uaXNNc2llKCkgJiYgbi5taXhpbihzLmlucHV0LCB7CiAgICBiYWNrZ3JvdW5kSW1hZ2U6ICJ1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUE3KSIKICB9KSwgbi5pc01zaWUoKSAmJiBuLmlzTXNpZSgpIDw9IDcgJiYgbi5taXhpbihzLmlucHV0LCB7CiAgICBtYXJnaW5Ub3A6ICItMXB4IgogIH0pLCB0LmV4cG9ydHMgPSBzOwp9LCBmdW5jdGlvbiAodCwgZSwgaSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdC5leHBvcnRzID0gewogICAgaGl0czogaSgyMSksCiAgICBwb3B1bGFySW46IGkoMjQpCiAgfTsKfSwgZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBuID0gaSg0KSwKICAgICAgcyA9IGkoMjIpLAogICAgICBvID0gaSgyMyk7CgogIHQuZXhwb3J0cyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBmdW5jdGlvbiBpKGksIHMpIHsKICAgICAgdC5zZWFyY2goaSwgZSwgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICB0ID8gbi5lcnJvcih0Lm1lc3NhZ2UpIDogcyhlLmhpdHMsIGUpOwogICAgICB9KTsKICAgIH0KCiAgICB2YXIgciA9IG8odC5hcy5fdWEpOwogICAgcmV0dXJuIHIgJiYgclswXSA+PSAzICYmIHJbMV0gPiAyMCAmJiAoKGUgPSBlIHx8IHt9KS5hZGRpdGlvbmFsVUEgPSAiYXV0b2NvbXBsZXRlLmpzICIgKyBzKSwgaTsKICB9Owp9LCBmdW5jdGlvbiAodCkgewogIHQuZXhwb3J0cyA9ICIwLjI5LjAiOwp9LCBmdW5jdGlvbiAodCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdC5leHBvcnRzID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdC5tYXRjaCgvQWxnb2xpYSBmb3IgdmFuaWxsYSBKYXZhU2NyaXB0IChcZCtcLikoXGQrXC4pKFxkKykvKTsKICAgIGlmIChlKSByZXR1cm4gW2VbMV0sIGVbMl0sIGVbM11dOwogIH07Cn0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgInVzZSBzdHJpY3QiOwoKICB2YXIgbiA9IGkoNCksCiAgICAgIHMgPSBpKDIyKSwKICAgICAgbyA9IGkoMjMpOwoKICB0LmV4cG9ydHMgPSBmdW5jdGlvbiAodCwgZSwgaSwgcikgewogICAgZnVuY3Rpb24gYShhLCBoKSB7CiAgICAgIHQuc2VhcmNoKGEsIGUsIGZ1bmN0aW9uICh0LCBhKSB7CiAgICAgICAgaWYgKHQpIG4uZXJyb3IodC5tZXNzYWdlKTtlbHNlIHsKICAgICAgICAgIGlmIChhLmhpdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgdSA9IGEuaGl0c1swXSwKICAgICAgICAgICAgICAgIHAgPSBuLm1peGluKHsKICAgICAgICAgICAgICBoaXRzUGVyUGFnZTogMAogICAgICAgICAgICB9LCBpKTsKICAgICAgICAgICAgZGVsZXRlIHAuc291cmNlLCBkZWxldGUgcC5pbmRleDsKICAgICAgICAgICAgdmFyIGQgPSBvKGMuYXMuX3VhKTsKICAgICAgICAgICAgcmV0dXJuIGQgJiYgZFswXSA+PSAzICYmIGRbMV0gPiAyMCAmJiAoZS5hZGRpdGlvbmFsVUEgPSAiYXV0b2NvbXBsZXRlLmpzICIgKyBzKSwgdm9pZCBjLnNlYXJjaChsKHUpLCBwLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgICAgICAgIGlmICh0KSBuLmVycm9yKHQubWVzc2FnZSk7ZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgaSA9IFtdOwoKICAgICAgICAgICAgICAgIGlmIChyLmluY2x1ZGVBbGwpIHsKICAgICAgICAgICAgICAgICAgdmFyIHMgPSByLmFsbFRpdGxlIHx8ICJBbGwgZGVwYXJ0bWVudHMiOwogICAgICAgICAgICAgICAgICBpLnB1c2gobi5taXhpbih7CiAgICAgICAgICAgICAgICAgICAgZmFjZXQ6IHsKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzLAogICAgICAgICAgICAgICAgICAgICAgY291bnQ6IGUubmJIaXRzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBuLmNsb25lRGVlcCh1KSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG4uZWFjaChlLmZhY2V0cywgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgICAgICAgICAgICAgbi5lYWNoKHQsIGZ1bmN0aW9uICh0LCBzKSB7CiAgICAgICAgICAgICAgICAgICAgaS5wdXNoKG4ubWl4aW4oewogICAgICAgICAgICAgICAgICAgICAgZmFjZXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXQ6IGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzLAogICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogdAogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIG4uY2xvbmVEZWVwKHUpKSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgZm9yICh2YXIgbyA9IDE7IG8gPCBhLmhpdHMubGVuZ3RoOyArK28pIHsKICAgICAgICAgICAgICAgICAgaS5wdXNoKGEuaGl0c1tvXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaChpLCBhKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGgoW10pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgdmFyIGggPSBvKHQuYXMuX3VhKTsKICAgIGlmIChoICYmIGhbMF0gPj0gMyAmJiBoWzFdID4gMjAgJiYgKChlID0gZSB8fCB7fSkuYWRkaXRpb25hbFVBID0gImF1dG9jb21wbGV0ZS5qcyAiICsgcyksICFpLnNvdXJjZSkgcmV0dXJuIG4uZXJyb3IoIk1pc3NpbmcgJ3NvdXJjZScga2V5Iik7CiAgICB2YXIgbCA9IG4uaXNGdW5jdGlvbihpLnNvdXJjZSkgPyBpLnNvdXJjZSA6IGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiB0W2kuc291cmNlXTsKICAgIH07CiAgICBpZiAoIWkuaW5kZXgpIHJldHVybiBuLmVycm9yKCJNaXNzaW5nICdpbmRleCcga2V5Iik7CiAgICB2YXIgYyA9IGkuaW5kZXg7CiAgICByZXR1cm4gciA9IHIgfHwge30sIGE7CiAgfTsKfV0pLCB3aW5kb3cuQ2FjaGVHZXQgPSB7CiAgX2luTWVtb3J5U3RvcmU6IHt9LAogIGZpbmQ6IGZ1bmN0aW9uIGZpbmQodCkgewogICAgdGhpcy5fdmFsaWRhdGVPcHRzKHQpOwoKICAgIHZhciBlID0gdGhpcy5fZmluZCh0KTsKCiAgICBlID8gdC5vblN1Y2Nlc3MoZSkgOiB0aGlzLl9mZXRjaEFuZENhY2hlKHQpOwogIH0sCiAgX2ZpbmQ6IGZ1bmN0aW9uIF9maW5kKHQpIHsKICAgIHJldHVybiB0aGlzLl9pbk1lbW9yeVN0b3JlW3Qua2V5XTsKICB9LAogIF92YWxpZGF0ZU9wdHM6IGZ1bmN0aW9uIF92YWxpZGF0ZU9wdHModCkgewogICAgaWYgKCF0LmtleSkgdGhyb3cgIkludmFsaWQga2V5IjsKICAgIGlmICghdC51cmwpIHRocm93ICJJbnZhbGlkIFVSTCI7CiAgICBpZiAoIXQub25TdWNjZXNzKSB0aHJvdyAiSW52YWxpZCBjYWxsYmFjayI7CiAgfSwKICBfZmV0Y2hBbmRDYWNoZTogZnVuY3Rpb24gX2ZldGNoQW5kQ2FjaGUodCkgewogICAgdmFyIGUgPSB0aGlzOwogICAgJC5hamF4KHsKICAgICAgZGF0YVR5cGU6IHQuZGF0YVR5cGUgfHwgInRleHQiLAogICAgICB1cmw6IHQudXJsLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGkpIHsKICAgICAgICB2YXIgbiA9IGk7CiAgICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdC5jcmVhdGVDYWNoZWFibGVSZXN1bHQgJiYgKG4gPSB0LmNyZWF0ZUNhY2hlYWJsZVJlc3VsdChpKSksIGUuX2luTWVtb3J5U3RvcmVbdC5rZXldID0gbiwgdC5vblN1Y2Nlc3Mobik7CiAgICAgIH0KICAgIH0pOwogIH0KfSwgd2luZG93LklER2VuZXJhdG9yID0gewogIGxlbmd0aDogOCwKICBnZW5lcmF0ZTogZnVuY3Rpb24gZ2VuZXJhdGUoKSB7CiAgICBmb3IgKHZhciB0ID0gKCtuZXcgRGF0ZSgpKS50b1N0cmluZygpLnNwbGl0KCIiKS5yZXZlcnNlKCksIGUgPSAiIiwgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7CiAgICAgIGUgKz0gdFt0aGlzLl9nZXRSYW5kb21JbnQoMCwgdC5sZW5ndGggLSAxKV07CiAgICB9CgogICAgcmV0dXJuIGU7CiAgfSwKICBfZ2V0UmFuZG9tSW50OiBmdW5jdGlvbiBfZ2V0UmFuZG9tSW50KHQsIGUpIHsKICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoZSAtIHQgKyAxKSkgKyB0OwogIH0KfSwgZnVuY3Rpb24gKCkgewogIHZhciB0ID0gITEsCiAgICAgIGUgPSAveHl6Ly50ZXN0KGZ1bmN0aW9uICgpIHsKICAgICJ4eXoiOwogIH0pID8gL1xiX3N1cGVyXGIvIDogLy4qLzsKICB0aGlzLkNsYXNzID0gZnVuY3Rpb24gKCkge30sIENsYXNzLmV4dGVuZCA9IGZ1bmN0aW9uIChpKSB7CiAgICBmdW5jdGlvbiBuKCkgewogICAgICAhdCAmJiB0aGlzLmluaXQgJiYgdGhpcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgdmFyIHMgPSB0aGlzLnByb3RvdHlwZTsKICAgIHQgPSAhMDsKICAgIHZhciBvID0gbmV3IHRoaXMoKTsKCiAgICBmb3IgKHZhciByIGluIHQgPSAhMSwgaSkgewogICAgICBvW3JdID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgaVtyXSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBzW3JdICYmIGUudGVzdChpW3JdKSA/IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBpID0gdGhpcy5fc3VwZXI7CiAgICAgICAgICB0aGlzLl9zdXBlciA9IHNbdF07CiAgICAgICAgICB2YXIgbiA9IGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIHJldHVybiB0aGlzLl9zdXBlciA9IGksIG47CiAgICAgICAgfTsKICAgICAgfShyLCBpW3JdKSA6IGlbcl07CiAgICB9CgogICAgcmV0dXJuIG4ucHJvdG90eXBlID0gbywgbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBuLCBuLmV4dGVuZCA9IGFyZ3VtZW50cy5jYWxsZWUsIG47CiAgfTsKfSgpLCB3aW5kb3cuS2V5dHJhcCA9IGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIHQodCkgewogICAgdmFyIGUgPSBbdC5rZXlDb2RlIHx8IHQud2hpY2hdOwogICAgcmV0dXJuIHQuc2hpZnRLZXkgJiYgMTYgIT09IHQua2V5Q29kZSAmJiBlLnB1c2goMTYpLCB0LmN0cmxLZXkgJiYgMTcgIT09IHQua2V5Q29kZSAmJiBlLnB1c2goMTcpLCB0LmFsdEtleSAmJiAxOCAhPT0gdC5rZXlDb2RlICYmIGUucHVzaCgxOCksIHQubWV0YUtleSAmJiA5MSAhPT0gdC5rZXlDb2RlICYmIGUucHVzaCg5MSksIGUuc29ydCgpLCBlLmpvaW4oIisiKTsKICB9CgogIGZ1bmN0aW9uIGUodCkgewogICAgcmV0dXJuIGhbdF0gPyBoW3RdIDogdC50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7CiAgfQoKICBmdW5jdGlvbiBpKHQpIHsKICAgIGZvciAodmFyIGkgPSB0LnNwbGl0KCIrIiksIG4gPSBbXSwgcyA9IDA7IHMgPCBpLmxlbmd0aDsgcysrKSB7CiAgICAgIG4ucHVzaChlKGlbc10pKTsKICAgIH0KCiAgICByZXR1cm4gbi5zb3J0KCksIG4uam9pbigiKyIpOwogIH0KCiAgZnVuY3Rpb24gbih0KSB7CiAgICBmb3IgKHZhciBlID0gW10sIG4gPSB0LnNwbGl0KCIsIiksIHMgPSAwOyBzIDwgbi5sZW5ndGg7IHMrKykgewogICAgICBlLnB1c2goaShuW3NdKSk7CiAgICB9CgogICAgcmV0dXJuIGU7CiAgfQoKICBmdW5jdGlvbiBzKHQsIGUpIHsKICAgIGlmIChyW2VdKSB7CiAgICAgIGZvciAodmFyIGkgPSByW2VdLCBuID0gMDsgbiA8IGkubGVuZ3RoOyBuKyspIHsKICAgICAgICBpW25dKHQpOwogICAgICB9CgogICAgICBpZiAoYVtlXSAmJiB0KSByZXR1cm4galF1ZXJ5LkV2ZW50KHQpLnN0b3BQcm9wYWdhdGlvbigpLCAhMTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIG8oZSkgewogICAgcmV0dXJuIHMoZSwgdChlKSk7CiAgfQoKICB2YXIgciA9IHt9LAogICAgICBhID0ge30sCiAgICAgIGggPSB7CiAgICBiYWNrc3BhY2U6IDgsCiAgICB0YWI6IDksCiAgICBlbnRlcjogMTMsCiAgICAicmV0dXJuIjogMTMsCiAgICBzaGlmdDogMTYsCiAgICBjdHJsOiAxNywKICAgIGNvbWN0cmw6IDE3LAogICAgYWx0OiAxOCwKICAgICIiOiAxOCwKICAgIGNhcHNsb2NrOiAyMCwKICAgIGVzYzogMjcsCiAgICBlc2NhcGU6IDI3LAogICAgc3BhY2U6IDMyLAogICAgcGFnZXVwOiAzMywKICAgIHBhZ2Vkb3duOiAzNCwKICAgIGVuZDogMzUsCiAgICBob21lOiAzNiwKICAgIGxlZnQ6IDM3LAogICAgdXA6IDM4LAogICAgcmlnaHQ6IDM5LAogICAgZG93bjogNDAsCiAgICBkZWw6IDQ2LAogICAgbWV0YTogOTEsCiAgICBjb21tYW5kOiA5MSwKICAgICI7IjogMTg2LAogICAgIj0iOiAxODcsCiAgICAiLCI6IDE4OCwKICAgICItIjogMTg5LAogICAgIi4iOiAxOTAsCiAgICAiLyI6IDE5MSwKICAgICJgIjogMTkyLAogICAgIlsiOiAyMTksCiAgICAiXFwiOiAyMjAsCiAgICAiXSI6IDIyMSwKICAgICciJzogMjIyCiAgfTsKICByZXR1cm4gLTEgIT09IG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIk1hYyIpICYmIChoLmNvbWN0cmwgPSA5MSksICQoZG9jdW1lbnQpLm9uKCJrZXlkb3duIiwgbyksIHsKICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQodCwgZSwgaSkgewogICAgICBmb3IgKHZhciBzID0gbih0KSwgbyA9IHMubGVuZ3RoIC0gMTsgbyA+PSAwOyBvLS0pIHsKICAgICAgICBqUXVlcnkuaXNBcnJheShyW3Nbb11dKSB8fCAocltzW29dXSA9IFtdKSwgcltzW29dXS5wdXNoKGUpLCBhW3Nbb11dID0gISFpOwogICAgICB9CiAgICB9LAogICAgZ2V0S2V5Q29kZTogZnVuY3Rpb24gZ2V0S2V5Q29kZSh0KSB7CiAgICAgIHJldHVybiBlKHQpOwogICAgfSwKICAgIGdldEtleUV2ZW50SUQ6IGZ1bmN0aW9uIGdldEtleUV2ZW50SUQoZSkgewogICAgICByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIGUgPyBpKGUpIDogdChlKTsKICAgIH0sCiAgICBrZXlFdmVudE1hdGNoZXNLZXlDb21ibzogZnVuY3Rpb24ga2V5RXZlbnRNYXRjaGVzS2V5Q29tYm8oZSwgbikgewogICAgICByZXR1cm4gdChlKSA9PT0gaShuKTsKICAgIH0sCiAgICB0cmlnZ2VyOiBmdW5jdGlvbiB0cmlnZ2VyKHQsIGUpIHsKICAgICAgcyh0LCBlKTsKICAgIH0KICB9Owp9KCk7"},{"version":3,"sources":["/Users/andrew/Projects/Andrew/portfolio/src/assets/images/projects/Gooey Menu_files/commonLibs-f5489cf690cbd8eeac55398b1729b3033fad1b38546322969bb251fad3795ce3.js"],"names":["t","define","amd","jQuery","e","n","s","o","r","a","nodeName","toLowerCase","parentNode","name","href","i","test","disabled","expr","filters","visible","parents","addBack","filter","css","length","ui","extend","version","keyCode","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","fn","scrollParent","eq","ownerDocument","document","uniqueId","each","id","removeUniqueId","removeAttr","data","createPseudo","focusable","isNaN","attr","tabbable","outerWidth","jquery","parseFloat","innerWidth","innerHeight","outerHeight","undefined","call","add","prevObject","removeData","arguments","camelCase","ie","exec","navigator","userAgent","focus","setTimeout","apply","disableSelection","createElement","bind","preventDefault","enableSelection","unbind","zIndex","parseInt","parent","plugin","prototype","plugins","push","element","nodeType","options","h","Array","slice","cleanData","_data","remove","triggerHandler","widget","l","split","Widget","_createWidget","_proto","_childConstructors","isFunction","_super","_superApply","widgetEventPrefix","constructor","namespace","widgetName","widgetFullName","bridge","hasOwnProperty","isPlainObject","charAt","pushStack","get","error","concat","option","_init","defaultElement","create","uuid","eventNamespace","bindings","hoverable","_on","target","destroy","style","window","defaultView","parentWindow","_getCreateOptions","_create","_trigger","_getCreateEventData","noop","_destroy","removeClass","shift","pop","_setOptions","_setOption","toggleClass","enable","disable","hasClass","guid","match","c","delegate","_off","join","undelegate","not","_delay","_hoverable","mouseenter","currentTarget","addClass","mouseleave","_focusable","focusin","focusout","Event","type","originalEvent","trigger","isDefaultPrevented","show","hide","effect","duration","isEmptyObject","complete","delay","effects","easing","queue","mouseup","cancel","distance","_mouseInit","_mouseDown","stopImmediatePropagation","started","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseMoved","_mouseStarted","_mouseUp","_mouseDownEvent","which","closest","_mouseCapture","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseStart","_mouseMove","documentMode","button","_mouseDrag","_mouseStop","Math","max","abs","pageX","pageY","mouse","addClasses","appendTo","axis","connectToSortable","containment","cursor","cursorAt","grid","handle","helper","iframeFix","opacity","refreshPositions","revert","revertDuration","scope","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","drag","start","stop","_setPositionRelative","_setHandleClassName","_removeHandleClassName","is","destroyOnClear","_blurActiveElement","_getHandle","_blockFrames","iframeBlocks","find","map","offset","_unblockFrames","handleElement","activeElement","blur","_createHelper","_cacheHelperProportions","ddmanager","current","_cacheMargins","cssPosition","offsetParent","hasFixedAncestor","positionAbs","_refreshOffsets","originalPosition","position","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","prepareOffsets","_normalizeRightBottom","dragStart","top","margins","left","_getParentOffset","relative","_getRelativeOffset","click","_convertPositionTo","_uiHash","drop","dropped","animate","dragStop","clone","isArray","helperProportions","width","right","height","bottom","_isRootNode","tagName","contains","scrollLeft","scrollTop","relativeContainer","scrollWidth","offsetWidth","scrollHeight","offsetHeight","body","round","cancelHelperRemoval","item","sortables","sortable","isOver","_storedCSS","placeholder","_helper","_intersectsWith","containerCache","currentItem","fromOutside","_revert","_cursor","_opacity","scrollParentNotHidden","overflowOffset","snapElements","String","items","u","p","d","f","m","g","v","y","_","snapping","release","snapItem","makeArray","sort","_zIndex","draggable","accept","activeClass","greedy","hoverClass","tolerance","activate","deactivate","out","over","isover","isout","proportions","_addToManager","droppables","_splice","splice","_activate","_deactivate","_over","_out","_drop","droppable","intersect","absolute","parentsUntil","greedyChild","alsoResize","animateDuration","animateEasing","aspectRatio","autoHide","ghost","handles","maxHeight","maxWidth","minHeight","minWidth","resize","_num","_isNumber","_hasScroll","_aspectRatio","originalElement","_proportionallyResizeElements","wrap","resizable","elementIsWrapper","marginLeft","marginTop","marginRight","marginBottom","originalResizeStyle","zoom","display","margin","_proportionallyResize","w","se","sw","ne","nw","trim","append","_renderAxis","children","first","_handles","mouseover","resizing","className","insertAfter","_renderProxy","size","originalSize","sizeDiff","originalMousePosition","_propagate","_change","_updatePrevProperties","_updateVirtualBoundaries","shiftKey","_updateRatio","_respectSize","_updateCache","_applyChanges","prevPosition","prevSize","Infinity","_vBoundaries","_getPaddingPlusBorderDimensions","outerDimensions","elementOffset","step","containerElement","containerOffset","containerPosition","parentData","containerSize","removeChild","ready","connectWith","dropOnEmpty","forcePlaceholderSize","forceHelperSize","beforeStop","change","receive","update","_isOverAxis","_isFloating","refresh","floating","instance","reverting","_refreshItems","_removeCurrentsFromItems","currentContainer","domPosition","prev","_createPlaceholder","storedCursor","storedStylesheet","_storedOpacity","_storedZIndex","_preserveHelperProportions","containers","dragging","lastPositionAbs","_intersectsWithPointer","direction","_intersectsWithSides","_rearrange","_contactContainers","_noFinalSort","after","prepend","serialize","_getItemsAsjQuery","connected","attribute","expression","key","toArray","forcePointerForContainers","_getDragVerticalDirection","_getDragHorizontalDirection","_connectWith","grep","toleranceElement","custom","refreshContainers","appendChild","insertBefore","nextSibling","counter","before","sender","listener","EventEmitter","getListeners","_getEvents","RegExp","flattenListeners","getListenersAsObject","addListener","once","on","addOnceListener","defineEvent","defineEvents","removeListener","off","addListeners","manipulateListeners","removeListeners","removeEvent","_events","removeAllListeners","emitEvent","_getOnceReturnValue","emit","setOnceReturnValue","_onceReturnValue","noConflict","module","exports","event","srcElement","documentElement","addEventListener","attachEvent","handleEvent","removeEventListener","detachEvent","eventie","require","Unipointer","bindStartEvent","_bindStartEvent","unbindStartEvent","pointerEnabled","msPointerEnabled","getTouch","identifier","pointerIdentifier","onmousedown","_pointerDown","ontouchstart","changedTouches","onMSPointerDown","onpointerdown","isPointerDown","pointerId","pointerDown","_bindPostStartEvents","mousedown","touchstart","pointerdown","MSPointerDown","_boundPointerEvents","events","node","_unbindPostStartEvents","onmousemove","_pointerMove","onMSPointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onMSPointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","pointerDone","onMSPointerCancel","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","x","clientX","clientY","Unidragger","returnValue","bindHandles","_bindHandles","unbindHandles","touchAction","msTouchAction","ondragstart","querySelectorAll","_dragPointerDown","pointerDownScroll","getScrollPosition","pointerDownPoint","_dragPointerMove","_dragMove","isDragging","hasDragStarted","_dragStart","_dragPointerUp","_dragEnd","_staticClick","dragStartPoint","isPreventingClicks","dragMove","dragEnd","onclick","isIgnoringMouseUp","staticClick","onscroll","pageYOffset","pageXOffset","self","ALGOLIA_MIGRATION_LAYER","Error","code","setAttribute","onload","onerror","src","onreadystatechange","readyState","head","getElementsByTagName","charset","async","attrs","text","replace","console","warn","log","write","ALGOLIA_SUPPORTS_DOCWRITE","AlgoliaSearch","AlgoliaSearchHelper","AlgoliaExplainResults","global","algoliasearch","process","WebkitAppearance","firebug","exception","table","$1","useColors","humanize","diff","color","Function","storage","removeItem","debug","env","DEBUG","localStorage","formatArgs","save","load","chrome","local","colors","formatters","j","JSON","stringify","message","charCodeAt","enabled","Date","curr","coerce","unshift","init","names","skips","substr","ES6Promise","X","Q","nextTick","V","G","createTextNode","observe","characterData","MessageChannel","port1","onmessage","port2","postMessage","B","et","runOnLoop","runOnContext","nt","_state","O","_result","E","C","TypeError","then","at","b","S","I","_label","ot","rt","P","resolve","T","_onerror","A","st","_subscribers","R","k","ht","D","N","lt","z","_instanceConstructor","promise","K","_remaining","_enumerate","H","L","U","M","q","$","W","F","Promise","Object","toString","cast","it","Y","J","MutationObserver","WebKitMutationObserver","Z","tt","Uint8ClampedArray","importScripts","random","substring","_eachEntry","_settledAt","_willSettleAt","all","race","reject","_setScheduler","_setAsap","_asap","polyfill","_maxListeners","defaultMaxListeners","setMaxListeners","context","newListener","warned","trace","listeners","listenerCount","super_","value","enumerable","writable","configurable","floor","ceil","long","propertyIsEnumerable","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","shim","keys","callee","clearTimeout","run","fun","array","title","browser","argv","versions","binding","cwd","chdir","umask","isFinite","encodeURIComponent","AlgoliaSearchError","deleteIndex","_jsonRequest","method","url","hostType","callback","moveIndex","operation","destination","copyIndex","getLogs","_getSearchParams","listIndexes","initIndex","listUserKeys","listApiKeys","getUserKeyACL","getApiKey","deleteUserKey","deleteApiKey","addUserKey","addApiKey","acl","validity","maxQueriesPerIPPerHour","maxHitsPerQuery","indexes","description","queryParameters","referers","addUserKeyWithValidity","updateUserKey","updateApiKey","startQueriesBatch","_batch","addQueryInBatch","indexName","query","params","sendQueriesBatch","search","batch","requests","assignUserID","userID","cluster","headers","getTopUserID","getUserID","debugData","listClusters","listUserIDs","removeUserID","searchUserIDs","enableRateLimitForward","disableRateLimitForward","useSecuredAPIKey","disableSecuredAPIKey","generateSecuredApiKey","_allowEmptyCredentials","applicationID","apiKey","hosts","read","_timeouts","timeouts","connect","timeout","protocol","_checkAppIdData","_shuffleResult","dsn","extraHeaders","cache","_cache","_ua","_useCache","_useFallback","useFallback","_setTimeout","toJSON","RESET_APP_DATA_TIMER","setExtraHeader","getExtraHeader","unsetExtraHeader","addAlgoliaAgent","indexOf","status","statusCode","currentHost","content","contentLength","startTime","endTime","responseText","_promise","Unknown","UnparsableJSON","RequestTimeout","_incrementHostIndex","_incrementTimeoutMultipler","_getTimeoutsForRequest","parse","fallback","jsonBody","_computeRequestHeaders","additionalUA","_setHostIndexByType","_request","_getHostByType","withApiKey","userToken","securityTags","strategy","setSecurityTags","setUserToken","clearCache","setRequestTimeout","setTimeouts","getTimeouts","_getAppIdData","_cacheAppIdData","_setAppIdData","lastChange","getTime","set","_resetInitialAppIdData","hostIndexes","timeoutMultiplier","shuffleResult","_hostIndexes","_timeoutMultiplier","_partialAppIdDataUpdate","_getHostIndexByType","_getTimeoutMultiplier","page","hitsPerPage","hits","nbHits","_highlightResult","addObject","as","addObjects","action","partialUpdateObject","objectID","partialUpdateObjects","saveObject","saveObjects","deleteObject","deleteObjects","deleteByQuery","waitTask","taskID","attributesToRetrieve","distinct","deleteBy","browseAll","_stopped","_error","_end","ttAdapter","clearIndex","getSettings","advanced","searchSynonyms","exportSynonyms","saveSynonym","forwardToSlaves","forwardToReplicas","getSynonym","deleteSynonym","clearSynonyms","batchSynonyms","replaceExistingSynonyms","searchRules","exportRules","saveRule","getRule","deleteRule","clearRules","batchRules","clearExistingRules","setSettings","_clean","typeAheadArgs","typeAheadValueOption","similarSearch","browse","browseFrom","searchForFacetValues","facetName","facetQuery","searchFacet","_search","getObject","getObjects","ua","NODE_ENV","initPlaces","__algolia","hasXMLHttpRequest","hasXDomainRequest","cors","XMLHttpRequest","getAllResponseHeaders","more","Network","abort","XDomainRequest","onprogress","open","setRequestHeader","send","JSONPScriptFail","JSONPScriptError","defer","captureStackTrace","setItem","state","supportsLocalStorage","loaded","isObject","proxy","mixin","autocomplete","initialize","el","input","eventBus","dropdownMenuContainer","hint","minLength","autoselect","autoselectOnBlur","openOnFocus","templates","cssClasses","datasets","keyboardShortcuts","autoWidth","close","val","setVal","getVal","sources","escapeHighlightedString","isMsie","escapeRegExChars","isNumber","toStr","cloneDeep","every","any","getUniqueId","templatify","prop","formatPrefix","innerHTML","isActivated","defaultClasses","prefix","formattedPrefix","noPrefix","listboxId","root","$node","wrapper","$input","menu","dropdown","Dropdown","onSync","_onSuggestionClicked","_onCursorMoved","_onCursorRemoved","_onOpened","_onClosed","_onShown","_onEmpty","_onRedrawn","onAsync","_onDatasetRendered","Input","_onFocused","_onBlurred","_onEnterKeyed","_onTabKeyed","_onEscKeyed","_onUpKeyed","_onDownKeyed","_onLeftKeyed","_onRightKeyed","_onQueryChanged","_onWhitespaceChanged","_bindKeyboardShortcuts","_setLanguageDirection","dropdownMenu","role","html","spellcheck","tabindex","dir","displayKey","ariaLabel","inputWithNoHint","backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundRepeat","backgroundSize","detach","toUpperCase","keydown","isContentEditable","stopPropagation","getDatumForSuggestion","_select","getDatumForCursor","getCurrentCursor","setActiveDescendant","setInputValue","raw","datasetName","resetInputValue","_updateHint","expand","getBoundingClientRect","cursorTopSuggestion","clearHint","removeActiveDescendant","collapse","getQuery","empty","getDatumForTopSuggestion","_autocomplete","isEmpty","moveCursorUp","moveCursorDown","clearHintIfInvalid","getLanguageDirection","setLanguageDirection","isVisible","hasOverflow","getInputValue","normalizeQuery","setHint","getHint","isCursorAtEnd","setQuery","getWrapper","$container","$el","_onBlur","_onFocus","_onKeydown","_onInput","$hint","$overflowHelper","visibility","whiteSpace","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","wordSpacing","letterSpacing","textIndent","textRendering","textTransform","altKey","ctrlKey","metaKey","_managePreventDefault","_shouldTrigger","_checkInputValue","selectionStart","selection","createRange","moveStart","_callbacks","sync","install","setImmediate","isOpen","_onSuggestionClick","_onSuggestionMouseEnter","_onSuggestionMouseLeave","suggestion","$menu","header","$empty","getRoot","_onRendered","footer","_redraw","Dataset","_removeCursor","_setCursor","relatedTarget","_hide","_show","_getSuggestions","_getCursor","_moveCursor","index","_ensureVisible","ltr","rtl","extractDatum","extractValue","extractDatasetName","clear","source","_isEmpty","highlight","displayFn","dataset","clearCachedSuggestions","_render","suggestionChild","suggestions","canceled","cacheSuggestions","shouldFetchFromCache","cachedSuggestions","cachedRenderExtraArgs","cachedQuery","borderColor","boxShadow","verticalAlign","popularIn","includeAll","allTitle","facet","count","facets","CacheGet","_inMemoryStore","_validateOpts","_find","onSuccess","_fetchAndCache","ajax","dataType","success","createCacheableResult","IDGenerator","generate","reverse","_getRandomInt","Class","Keytrap","backspace","tab","enter","ctrl","comctrl","alt","capslock","esc","escape","space","pageup","pagedown","end","home","up","down","del","meta","command","appVersion","getKeyCode","getKeyEventID","keyEventMatchesKeyCombo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAIA,CAAC,UAASA,CAAT,EAAW;AAAC,gBAAY,OAAOC,MAAnB,IAA2BA,MAAM,CAACC,GAAlC,GAAsCD,MAAM,CAAC,CAAC,QAAD,CAAD,EAAYD,CAAZ,CAA5C,GAA2DA,CAAC,CAACG,MAAD,CAA5D;AAAqE,CAAjF,CAAkF,UAASH,CAAT,EAAW;AAAC,WAASI,CAAT,CAAWA,CAAX,EAAaC,CAAb,EAAe;AAAC,QAAIC,CAAJ;AAAA,QAAMC,CAAN;AAAA,QAAQC,CAAR;AAAA,QAAUC,CAAC,GAACL,CAAC,CAACM,QAAF,CAAWC,WAAX,EAAZ;AAAqC,WAAM,WAASF,CAAT,IAAYF,CAAC,GAAC,CAACD,CAAC,GAACF,CAAC,CAACQ,UAAL,EAAiBC,IAAnB,EAAwB,EAAE,CAACT,CAAC,CAACU,IAAH,IAAS,CAACP,CAAV,IAAa,UAAQD,CAAC,CAACI,QAAF,CAAWC,WAAX,EAAvB,KAAmD,CAAC,EAAEH,CAAC,GAACR,CAAC,CAAC,kBAAgBO,CAAhB,GAAkB,IAAnB,CAAD,CAA0B,CAA1B,CAAJ,CAAD,IAAoCQ,CAAC,CAACP,CAAD,CAA5H,IAAkI,CAAC,0CAA0CQ,IAA1C,CAA+CP,CAA/C,IAAkD,CAACL,CAAC,CAACa,QAArD,GAA8D,QAAMR,CAAN,IAASL,CAAC,CAACU,IAAX,IAAiBT,CAAhF,KAAoFU,CAAC,CAACX,CAAD,CAA7N;AAAiO;;AAAA,WAASW,CAAT,CAAWX,CAAX,EAAa;AAAC,WAAOJ,CAAC,CAACkB,IAAF,CAAOC,OAAP,CAAeC,OAAf,CAAuBhB,CAAvB,KAA2B,CAACJ,CAAC,CAACI,CAAD,CAAD,CAAKiB,OAAL,GAAeC,OAAf,GAAyBC,MAAzB,CAAgC,YAAU;AAAC,aAAM,aAAWvB,CAAC,CAACwB,GAAF,CAAM,IAAN,EAAW,YAAX,CAAjB;AAA0C,KAArF,EAAuFC,MAA1H;AAAiI;;AAAA,MAAIpB,CAAJ,EAAMC,CAAN,EAAQC,CAAR,EAAUC,CAAV;AACpgB;;;;;;;;;;;AAUAR,EAAAA,CAAC,CAAC0B,EAAF,GAAK1B,CAAC,CAAC0B,EAAF,IAAM,EAAX,EAAc1B,CAAC,CAAC2B,MAAF,CAAS3B,CAAC,CAAC0B,EAAX,EAAc;AAACE,IAAAA,OAAO,EAAC,QAAT;AAAkBC,IAAAA,OAAO,EAAC;AAACC,MAAAA,SAAS,EAAC,CAAX;AAAaC,MAAAA,KAAK,EAAC,GAAnB;AAAuBC,MAAAA,MAAM,EAAC,EAA9B;AAAiCC,MAAAA,IAAI,EAAC,EAAtC;AAAyCC,MAAAA,GAAG,EAAC,EAA7C;AAAgDC,MAAAA,KAAK,EAAC,EAAtD;AAAyDC,MAAAA,MAAM,EAAC,EAAhE;AAAmEC,MAAAA,IAAI,EAAC,EAAxE;AAA2EC,MAAAA,IAAI,EAAC,EAAhF;AAAmFC,MAAAA,SAAS,EAAC,EAA7F;AAAgGC,MAAAA,OAAO,EAAC,EAAxG;AAA2GC,MAAAA,MAAM,EAAC,GAAlH;AAAsHC,MAAAA,KAAK,EAAC,EAA5H;AAA+HC,MAAAA,KAAK,EAAC,EAArI;AAAwIC,MAAAA,GAAG,EAAC,CAA5I;AAA8IC,MAAAA,EAAE,EAAC;AAAjJ;AAA1B,GAAd,CAAd,EAA6M7C,CAAC,CAAC8C,EAAF,CAAKnB,MAAL,CAAY;AAACoB,IAAAA,YAAY,EAAC,sBAAS3C,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,KAAKS,GAAL,CAAS,UAAT,CAAN;AAAA,UAA2BnB,CAAC,GAAC,eAAaU,CAA1C;AAAA,UAA4CT,CAAC,GAACF,CAAC,GAAC,sBAAD,GAAwB,eAAvE;AAAA,UAAuFG,CAAC,GAAC,KAAKc,OAAL,GAAeE,MAAf,CAAsB,YAAU;AAAC,YAAInB,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAP;AAAc,eAAM,CAAC,CAACK,CAAD,IAAI,aAAWD,CAAC,CAACoB,GAAF,CAAM,UAAN,CAAhB,KAAoClB,CAAC,CAACU,IAAF,CAAOZ,CAAC,CAACoB,GAAF,CAAM,UAAN,IAAkBpB,CAAC,CAACoB,GAAF,CAAM,YAAN,CAAlB,GAAsCpB,CAAC,CAACoB,GAAF,CAAM,YAAN,CAA7C,CAA1C;AAA4G,OAA3J,EAA6JwB,EAA7J,CAAgK,CAAhK,CAAzF;AAA4P,aAAM,YAAUjC,CAAV,IAAaR,CAAC,CAACkB,MAAf,GAAsBlB,CAAtB,GAAwBP,CAAC,CAAC,KAAK,CAAL,EAAQiD,aAAR,IAAuBC,QAAxB,CAA/B;AAAiE,KAAvV;AAAwVC,IAAAA,QAAQ,GAAE9C,CAAC,GAAC,CAAF,EAAI,YAAU;AAAC,aAAO,KAAK+C,IAAL,CAAU,YAAU;AAAC,aAAKC,EAAL,KAAU,KAAKA,EAAL,GAAQ,WAAU,EAAEhD,CAA9B;AAAiC,OAAtD,CAAP;AAA+D,KAAhF,CAAhW;AAAkbiD,IAAAA,cAAc,EAAC,0BAAU;AAAC,aAAO,KAAKF,IAAL,CAAU,YAAU;AAAC,sBAAcpC,IAAd,CAAmB,KAAKqC,EAAxB,KAA6BrD,CAAC,CAAC,IAAD,CAAD,CAAQuD,UAAR,CAAmB,IAAnB,CAA7B;AAAsD,OAA3E,CAAP;AAAoF;AAAhiB,GAAZ,CAA7M,EAA4vBvD,CAAC,CAAC2B,MAAF,CAAS3B,CAAC,CAACkB,IAAF,CAAO,GAAP,CAAT,EAAqB;AAACsC,IAAAA,IAAI,EAACxD,CAAC,CAACkB,IAAF,CAAOuC,YAAP,GAAoBzD,CAAC,CAACkB,IAAF,CAAOuC,YAAP,CAAoB,UAASrD,CAAT,EAAW;AAAC,aAAO,UAASW,CAAT,EAAW;AAAC,eAAM,CAAC,CAACf,CAAC,CAACwD,IAAF,CAAOzC,CAAP,EAASX,CAAT,CAAR;AAAoB,OAAvC;AAAwC,KAAxE,CAApB,GAA8F,UAASA,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,aAAM,CAAC,CAACL,CAAC,CAACwD,IAAF,CAAOpD,CAAP,EAASC,CAAC,CAAC,CAAD,CAAV,CAAR;AAAuB,KAA3I;AAA4IqD,IAAAA,SAAS,EAAC,mBAAS3C,CAAT,EAAW;AAAC,aAAOX,CAAC,CAACW,CAAD,EAAG,CAAC4C,KAAK,CAAC3D,CAAC,CAAC4D,IAAF,CAAO7C,CAAP,EAAS,UAAT,CAAD,CAAT,CAAR;AAAyC,KAA3M;AAA4M8C,IAAAA,QAAQ,EAAC,kBAAS9C,CAAT,EAAW;AAAC,UAAIV,CAAC,GAACL,CAAC,CAAC4D,IAAF,CAAO7C,CAAP,EAAS,UAAT,CAAN;AAAA,UAA2BT,CAAC,GAACqD,KAAK,CAACtD,CAAD,CAAlC;AAAsC,aAAM,CAACC,CAAC,IAAED,CAAC,IAAE,CAAP,KAAWD,CAAC,CAACW,CAAD,EAAG,CAACT,CAAJ,CAAlB;AAAyB;AAAhS,GAArB,CAA5vB,EAAojCN,CAAC,CAAC,KAAD,CAAD,CAAS8D,UAAT,CAAoB,CAApB,EAAuBC,MAAvB,IAA+B/D,CAAC,CAACoD,IAAF,CAAO,CAAC,OAAD,EAAS,QAAT,CAAP,EAA0B,UAAShD,CAAT,EAAWW,CAAX,EAAa;AAAC,aAASV,CAAT,CAAWD,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiBE,CAAjB,EAAmB;AAAC,aAAOP,CAAC,CAACoD,IAAF,CAAO9C,CAAP,EAAS,YAAU;AAACS,QAAAA,CAAC,IAAEiD,UAAU,CAAChE,CAAC,CAACwB,GAAF,CAAMpB,CAAN,EAAQ,YAAU,IAAlB,CAAD,CAAV,IAAqC,CAAxC,EAA0CC,CAAC,KAAGU,CAAC,IAAEiD,UAAU,CAAChE,CAAC,CAACwB,GAAF,CAAMpB,CAAN,EAAQ,WAAS,IAAT,GAAc,OAAtB,CAAD,CAAV,IAA4C,CAAlD,CAA3C,EAAgGG,CAAC,KAAGQ,CAAC,IAAEiD,UAAU,CAAChE,CAAC,CAACwB,GAAF,CAAMpB,CAAN,EAAQ,WAAS,IAAjB,CAAD,CAAV,IAAoC,CAA1C,CAAjG;AAA8I,OAAlK,GAAoKW,CAA3K;AAA6K;;AAAA,QAAIT,CAAC,GAAC,YAAUS,CAAV,GAAY,CAAC,MAAD,EAAQ,OAAR,CAAZ,GAA6B,CAAC,KAAD,EAAO,QAAP,CAAnC;AAAA,QAAoDR,CAAC,GAACQ,CAAC,CAACJ,WAAF,EAAtD;AAAA,QAAsEH,CAAC,GAAC;AAACyD,MAAAA,UAAU,EAACjE,CAAC,CAAC8C,EAAF,CAAKmB,UAAjB;AAA4BC,MAAAA,WAAW,EAAClE,CAAC,CAAC8C,EAAF,CAAKoB,WAA7C;AAAyDJ,MAAAA,UAAU,EAAC9D,CAAC,CAAC8C,EAAF,CAAKgB,UAAzE;AAAoFK,MAAAA,WAAW,EAACnE,CAAC,CAAC8C,EAAF,CAAKqB;AAArG,KAAxE;AAA0LnE,IAAAA,CAAC,CAAC8C,EAAF,CAAK,UAAQ/B,CAAb,IAAgB,UAASX,CAAT,EAAW;AAAC,aAAOA,CAAC,KAAGgE,SAAJ,GAAc5D,CAAC,CAAC,UAAQO,CAAT,CAAD,CAAasD,IAAb,CAAkB,IAAlB,CAAd,GAAsC,KAAKjB,IAAL,CAAU,YAAU;AAACpD,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwB,GAAR,CAAYjB,CAAZ,EAAcF,CAAC,CAAC,IAAD,EAAMD,CAAN,CAAD,GAAU,IAAxB;AAA8B,OAAnD,CAA7C;AAAkG,KAA9H,EAA+HJ,CAAC,CAAC8C,EAAF,CAAK,UAAQ/B,CAAb,IAAgB,UAASX,CAAT,EAAWE,CAAX,EAAa;AAAC,aAAM,YAAU,OAAOF,CAAjB,GAAmBI,CAAC,CAAC,UAAQO,CAAT,CAAD,CAAasD,IAAb,CAAkB,IAAlB,EAAuBjE,CAAvB,CAAnB,GAA6C,KAAKgD,IAAL,CAAU,YAAU;AAACpD,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwB,GAAR,CAAYjB,CAAZ,EAAcF,CAAC,CAAC,IAAD,EAAMD,CAAN,EAAQ,CAAC,CAAT,EAAWE,CAAX,CAAD,GAAe,IAA7B;AAAmC,OAAxD,CAAnD;AAA6G,KAA1Q;AAA2Q,GAA9qB,CAAnlC,EAAmwDN,CAAC,CAAC8C,EAAF,CAAKxB,OAAL,KAAetB,CAAC,CAAC8C,EAAF,CAAKxB,OAAL,GAAa,UAAStB,CAAT,EAAW;AAAC,WAAO,KAAKsE,GAAL,CAAS,QAAMtE,CAAN,GAAQ,KAAKuE,UAAb,GAAwB,KAAKA,UAAL,CAAgBhD,MAAhB,CAAuBvB,CAAvB,CAAjC,CAAP;AAAmE,GAA3G,CAAnwD,EAAg3DA,CAAC,CAAC,KAAD,CAAD,CAASwD,IAAT,CAAc,KAAd,EAAoB,GAApB,EAAyBgB,UAAzB,CAAoC,KAApC,EAA2ChB,IAA3C,CAAgD,KAAhD,MAAyDxD,CAAC,CAAC8C,EAAF,CAAK0B,UAAL,IAAiBlE,CAAC,GAACN,CAAC,CAAC8C,EAAF,CAAK0B,UAAP,EAAkB,UAASpE,CAAT,EAAW;AAAC,WAAOqE,SAAS,CAAChD,MAAV,GAAiBnB,CAAC,CAAC+D,IAAF,CAAO,IAAP,EAAYrE,CAAC,CAAC0E,SAAF,CAAYtE,CAAZ,CAAZ,CAAjB,GAA6CE,CAAC,CAAC+D,IAAF,CAAO,IAAP,CAApD;AAAiE,GAAhH,CAAzD,CAAh3D,EAA4hErE,CAAC,CAAC0B,EAAF,CAAKiD,EAAL,GAAQ,CAAC,CAAC,cAAcC,IAAd,CAAmBC,SAAS,CAACC,SAAV,CAAoBnE,WAApB,EAAnB,CAAtiE,EAA4lEX,CAAC,CAAC8C,EAAF,CAAKnB,MAAL,CAAY;AAACoD,IAAAA,KAAK,GAAEvE,CAAC,GAACR,CAAC,CAAC8C,EAAF,CAAKiC,KAAP,EAAa,UAAS3E,CAAT,EAAWW,CAAX,EAAa;AAAC,aAAM,YAAU,OAAOX,CAAjB,GAAmB,KAAKgD,IAAL,CAAU,YAAU;AAAC,YAAI/C,CAAC,GAAC,IAAN;AAAW2E,QAAAA,UAAU,CAAC,YAAU;AAAChF,UAAAA,CAAC,CAACK,CAAD,CAAD,CAAK0E,KAAL,IAAahE,CAAC,IAAEA,CAAC,CAACsD,IAAF,CAAOhE,CAAP,CAAhB;AAA0B,SAAtC,EAAuCD,CAAvC,CAAV;AAAoD,OAApF,CAAnB,GAAyGI,CAAC,CAACyE,KAAF,CAAQ,IAAR,EAAaR,SAAb,CAA/G;AAAuI,KAApK,CAAN;AAA4KS,IAAAA,gBAAgB,GAAE3E,CAAC,GAAC,mBAAkB2C,QAAQ,CAACiC,aAAT,CAAuB,KAAvB,CAAlB,GAAgD,aAAhD,GAA8D,WAAhE,EAA4E,YAAU;AAAC,aAAO,KAAKC,IAAL,CAAU7E,CAAC,GAAC,sBAAZ,EAAmC,UAASP,CAAT,EAAW;AAACA,QAAAA,CAAC,CAACqF,cAAF;AAAmB,OAAlE,CAAP;AAA2E,KAApK,CAA5L;AAAkWC,IAAAA,eAAe,EAAC,2BAAU;AAAC,aAAO,KAAKC,MAAL,CAAY,sBAAZ,CAAP;AAA2C,KAAxa;AAAyaC,IAAAA,MAAM,EAAC,gBAASpF,CAAT,EAAW;AAAC,UAAGA,CAAC,KAAGgE,SAAP,EAAiB,OAAO,KAAK5C,GAAL,CAAS,QAAT,EAAkBpB,CAAlB,CAAP;AAA4B,UAAG,KAAKqB,MAAR,EAAe,KAAI,IAAIV,CAAJ,EAAMV,CAAN,EAAQC,CAAC,GAACN,CAAC,CAAC,KAAK,CAAL,CAAD,CAAf,EAAyBM,CAAC,CAACmB,MAAF,IAAUnB,CAAC,CAAC,CAAD,CAAD,KAAO4C,QAA1C,GAAoD;AAAC,YAAG,CAAC,gBAAcnC,CAAC,GAACT,CAAC,CAACkB,GAAF,CAAM,UAAN,CAAhB,KAAoC,eAAaT,CAAjD,IAAoD,YAAUA,CAA/D,MAAoEV,CAAC,GAACoF,QAAQ,CAACnF,CAAC,CAACkB,GAAF,CAAM,QAAN,CAAD,EAAiB,EAAjB,CAAV,EAA+B,CAACmC,KAAK,CAACtD,CAAD,CAAN,IAAW,MAAIA,CAAlH,CAAH,EAAwH,OAAOA,CAAP;AAASC,QAAAA,CAAC,GAACA,CAAC,CAACoF,MAAF,EAAF;AAAa;AAAA,aAAO,CAAP;AAAS;AAApsB,GAAZ,CAA5lE,EAA+yF1F,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,GAAY;AAACrB,IAAAA,GAAG,EAAC,aAASlE,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAJ;AAAA,UAAMC,CAAC,GAACP,CAAC,CAAC0B,EAAF,CAAKtB,CAAL,EAAQwF,SAAhB;;AAA0B,WAAItF,CAAJ,IAASD,CAAT;AAAWE,QAAAA,CAAC,CAACsF,OAAF,CAAUvF,CAAV,IAAaC,CAAC,CAACsF,OAAF,CAAUvF,CAAV,KAAc,EAA3B,EAA8BC,CAAC,CAACsF,OAAF,CAAUvF,CAAV,EAAawF,IAAb,CAAkB,CAAC/E,CAAD,EAAGV,CAAC,CAACC,CAAD,CAAJ,CAAlB,CAA9B;AAAX;AAAqE,KAApH;AAAqH+D,IAAAA,IAAI,EAAC,cAASrE,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAAC,UAAIC,CAAJ;AAAA,UAAMC,CAAC,GAACP,CAAC,CAAC6F,OAAF,CAAUzF,CAAV,CAAR;AAAqB,UAAGG,CAAC,KAAGF,CAAC,IAAEL,CAAC,CAAC+F,OAAF,CAAU,CAAV,EAAanF,UAAb,IAAyB,OAAKZ,CAAC,CAAC+F,OAAF,CAAU,CAAV,EAAanF,UAAb,CAAwBoF,QAA5D,CAAJ,EAA0E,KAAI1F,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACC,CAAC,CAACkB,MAAZ,EAAmBnB,CAAC,EAApB;AAAuBN,QAAAA,CAAC,CAACiG,OAAF,CAAU1F,CAAC,CAACD,CAAD,CAAD,CAAK,CAAL,CAAV,KAAoBC,CAAC,CAACD,CAAD,CAAD,CAAK,CAAL,EAAQ2E,KAAR,CAAcjF,CAAC,CAAC+F,OAAhB,EAAwBhF,CAAxB,CAApB;AAAvB;AAAsE;AAAjT,GAA3zF;AACA;;;;;;;;;;;AAUA,MAAIN,CAAC,GAAC,CAAN;AAAA,MAAQyF,CAAC,GAACC,KAAK,CAACP,SAAN,CAAgBQ,KAA1B;AAAgCpG,EAAAA,CAAC,CAACqG,SAAF,GAAY,UAASjG,CAAT,EAAW;AAAC,WAAO,UAASW,CAAT,EAAW;AAAC,UAAIV,CAAJ,EAAMC,CAAN,EAAQC,CAAR;;AAAU,WAAIA,CAAC,GAAC,CAAN,EAAQ,SAAOD,CAAC,GAACS,CAAC,CAACR,CAAD,CAAV,CAAR,EAAuBA,CAAC,EAAxB;AAA2B,YAAG;AAAC,WAACF,CAAC,GAACL,CAAC,CAACsG,KAAF,CAAQhG,CAAR,EAAU,QAAV,CAAH,KAAyBD,CAAC,CAACkG,MAA3B,IAAmCvG,CAAC,CAACM,CAAD,CAAD,CAAKkG,cAAL,CAAoB,QAApB,CAAnC;AAAiE,SAArE,CAAqE,OAAMhG,CAAN,EAAQ,CAAE;AAA1G;;AAA0GJ,MAAAA,CAAC,CAACW,CAAD,CAAD;AAAK,KAA5I;AAA6I,GAAzJ,CAA0Jf,CAAC,CAACqG,SAA5J,CAAZ,EAAmLrG,CAAC,CAACyG,MAAF,GAAS,UAASrG,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,QAAIC,CAAJ;AAAA,QAAMC,CAAN;AAAA,QAAQC,CAAR;AAAA,QAAUC,CAAV;AAAA,QAAYyF,CAAC,GAAC,EAAd;AAAA,QAAiBQ,CAAC,GAACtG,CAAC,CAACuG,KAAF,CAAQ,GAAR,EAAa,CAAb,CAAnB;AAAmC,WAAOvG,CAAC,GAACA,CAAC,CAACuG,KAAF,CAAQ,GAAR,EAAa,CAAb,CAAF,EAAkBrG,CAAC,GAACoG,CAAC,GAAC,GAAF,GAAMtG,CAA1B,EAA4BC,CAAC,KAAGA,CAAC,GAACU,CAAF,EAAIA,CAAC,GAACf,CAAC,CAAC4G,MAAX,CAA7B,EAAgD5G,CAAC,CAACkB,IAAF,CAAO,GAAP,EAAYZ,CAAC,CAACK,WAAF,EAAZ,IAA6B,UAASP,CAAT,EAAW;AAAC,aAAM,CAAC,CAACJ,CAAC,CAACwD,IAAF,CAAOpD,CAAP,EAASE,CAAT,CAAR;AAAoB,KAA7G,EAA8GN,CAAC,CAAC0G,CAAD,CAAD,GAAK1G,CAAC,CAAC0G,CAAD,CAAD,IAAM,EAAzH,EAA4HnG,CAAC,GAACP,CAAC,CAAC0G,CAAD,CAAD,CAAKtG,CAAL,CAA9H,EAAsII,CAAC,GAACR,CAAC,CAAC0G,CAAD,CAAD,CAAKtG,CAAL,IAAQ,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAG,CAAC,KAAKyG,aAAT,EAAuB,OAAO,IAAIrG,CAAJ,CAAMR,CAAN,EAAQI,CAAR,CAAP;AAAkBqE,MAAAA,SAAS,CAAChD,MAAV,IAAkB,KAAKoF,aAAL,CAAmB7G,CAAnB,EAAqBI,CAArB,CAAlB;AAA0C,KAAjP,EAAkPJ,CAAC,CAAC2B,MAAF,CAASnB,CAAT,EAAWD,CAAX,EAAa;AAACqB,MAAAA,OAAO,EAACvB,CAAC,CAACuB,OAAX;AAAmBkF,MAAAA,MAAM,EAAC9G,CAAC,CAAC2B,MAAF,CAAS,EAAT,EAAYtB,CAAZ,CAA1B;AAAyC0G,MAAAA,kBAAkB,EAAC;AAA5D,KAAb,CAAlP,EAAgU,CAACtG,CAAC,GAAC,IAAIM,CAAJ,EAAH,EAAUkF,OAAV,GAAkBjG,CAAC,CAACyG,MAAF,CAAS9E,MAAT,CAAgB,EAAhB,EAAmBlB,CAAC,CAACwF,OAArB,CAAlV,EAAgXjG,CAAC,CAACoD,IAAF,CAAO/C,CAAP,EAAS,UAASD,CAAT,EAAWC,CAAX,EAAa;AAAC,UAAIC,CAAJ,EAAMC,CAAN;AAAQP,MAAAA,CAAC,CAACgH,UAAF,CAAa3G,CAAb,IAAgB6F,CAAC,CAAC9F,CAAD,CAAD,IAAME,CAAC,GAAC,aAAU;AAAC,eAAOS,CAAC,CAAC6E,SAAF,CAAYxF,CAAZ,EAAe6E,KAAf,CAAqB,IAArB,EAA0BR,SAA1B,CAAP;AAA4C,OAAzD,EAA0DlE,CAAC,GAAC,WAASP,CAAT,EAAW;AAAC,eAAOe,CAAC,CAAC6E,SAAF,CAAYxF,CAAZ,EAAe6E,KAAf,CAAqB,IAArB,EAA0BjF,CAA1B,CAAP;AAAoC,OAA5G,EAA6G,YAAU;AAAC,YAAIA,CAAJ;AAAA,YAAMI,CAAC,GAAC,KAAK6G,MAAb;AAAA,YAAoBlG,CAAC,GAAC,KAAKmG,WAA3B;AAAuC,eAAO,KAAKD,MAAL,GAAY3G,CAAZ,EAAc,KAAK4G,WAAL,GAAiB3G,CAA/B,EAAiCP,CAAC,GAACK,CAAC,CAAC4E,KAAF,CAAQ,IAAR,EAAaR,SAAb,CAAnC,EAA2D,KAAKwC,MAAL,GAAY7G,CAAvE,EAAyE,KAAK8G,WAAL,GAAiBnG,CAA1F,EAA4Ff,CAAnG;AAAqG,OAA1Q,CAAhB,GAA4RkG,CAAC,CAAC9F,CAAD,CAAD,GAAKC,CAAjS;AAAmS,KAAlU,CAAhX,EAAorBG,CAAC,CAACoF,SAAF,GAAY5F,CAAC,CAACyG,MAAF,CAAS9E,MAAT,CAAgBlB,CAAhB,EAAkB;AAAC0G,MAAAA,iBAAiB,EAAC5G,CAAC,IAAEE,CAAC,CAAC0G,iBAAL,IAAwB/G;AAA3C,KAAlB,EAAgE8F,CAAhE,EAAkE;AAACkB,MAAAA,WAAW,EAAC5G,CAAb;AAAe6G,MAAAA,SAAS,EAACX,CAAzB;AAA2BY,MAAAA,UAAU,EAAClH,CAAtC;AAAwCmH,MAAAA,cAAc,EAACjH;AAAvD,KAAlE,CAAhsB,EAA6zBC,CAAC,IAAEP,CAAC,CAACoD,IAAF,CAAO7C,CAAC,CAACwG,kBAAT,EAA4B,UAAS3G,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAIV,CAAC,GAACU,CAAC,CAAC6E,SAAR;AAAkB5F,MAAAA,CAAC,CAACyG,MAAF,CAASpG,CAAC,CAACgH,SAAF,GAAY,GAAZ,GAAgBhH,CAAC,CAACiH,UAA3B,EAAsC9G,CAAtC,EAAwCO,CAAC,CAAC+F,MAA1C;AAAkD,KAA9G,GAAgH,OAAOvG,CAAC,CAACwG,kBAA3H,IAA+IhG,CAAC,CAACgG,kBAAF,CAAqBjB,IAArB,CAA0BtF,CAA1B,CAA78B,EAA0+BR,CAAC,CAACyG,MAAF,CAASe,MAAT,CAAgBpH,CAAhB,EAAkBI,CAAlB,CAA1+B,EAA+/BA,CAAtgC;AAAwgC,GAAvvC,EAAwvCR,CAAC,CAACyG,MAAF,CAAS9E,MAAT,GAAgB,UAASvB,CAAT,EAAW;AAAC,SAAI,IAAIW,CAAJ,EAAMV,CAAN,EAAQC,CAAC,GAAC4F,CAAC,CAAC7B,IAAF,CAAOI,SAAP,EAAiB,CAAjB,CAAV,EAA8BlE,CAAC,GAAC,CAAhC,EAAkCC,CAAC,GAACF,CAAC,CAACmB,MAA1C,EAAiDlB,CAAC,GAACC,CAAnD,EAAqDD,CAAC,EAAtD;AAAyD,WAAIQ,CAAJ,IAAST,CAAC,CAACC,CAAD,CAAV;AAAcF,QAAAA,CAAC,GAACC,CAAC,CAACC,CAAD,CAAD,CAAKQ,CAAL,CAAF,EAAUT,CAAC,CAACC,CAAD,CAAD,CAAKkH,cAAL,CAAoB1G,CAApB,KAAwBV,CAAC,KAAG+D,SAA5B,KAAwCpE,CAAC,CAAC0H,aAAF,CAAgBrH,CAAhB,IAAmBD,CAAC,CAACW,CAAD,CAAD,GAAKf,CAAC,CAAC0H,aAAF,CAAgBtH,CAAC,CAACW,CAAD,CAAjB,IAAsBf,CAAC,CAACyG,MAAF,CAAS9E,MAAT,CAAgB,EAAhB,EAAmBvB,CAAC,CAACW,CAAD,CAApB,EAAwBV,CAAxB,CAAtB,GAAiDL,CAAC,CAACyG,MAAF,CAAS9E,MAAT,CAAgB,EAAhB,EAAmBtB,CAAnB,CAAzE,GAA+FD,CAAC,CAACW,CAAD,CAAD,GAAKV,CAA5I,CAAV;AAAd;AAAzD;;AAAgO,WAAOD,CAAP;AAAS,GAA7/C,EAA8/CJ,CAAC,CAACyG,MAAF,CAASe,MAAT,GAAgB,UAASpH,CAAT,EAAWW,CAAX,EAAa;AAAC,QAAIV,CAAC,GAACU,CAAC,CAAC6E,SAAF,CAAY2B,cAAZ,IAA4BnH,CAAlC;;AAAoCJ,IAAAA,CAAC,CAAC8C,EAAF,CAAK1C,CAAL,IAAQ,UAASE,CAAT,EAAW;AAAC,UAAIC,CAAC,GAAC,YAAU,OAAOD,CAAvB;AAAA,UAAyBE,CAAC,GAAC0F,CAAC,CAAC7B,IAAF,CAAOI,SAAP,EAAiB,CAAjB,CAA3B;AAAA,UAA+ChE,CAAC,GAAC,IAAjD;AAAsD,aAAOF,CAAC,GAAC,KAAK6C,IAAL,CAAU,YAAU;AAAC,YAAIrC,CAAJ;AAAA,YAAMR,CAAC,GAACP,CAAC,CAACwD,IAAF,CAAO,IAAP,EAAYnD,CAAZ,CAAR;AAAuB,eAAM,eAAaC,CAAb,IAAgBG,CAAC,GAACF,CAAF,EAAI,CAAC,CAArB,IAAwBA,CAAC,GAACP,CAAC,CAACgH,UAAF,CAAazG,CAAC,CAACD,CAAD,CAAd,KAAoB,QAAMA,CAAC,CAACqH,MAAF,CAAS,CAAT,CAA1B,GAAsC,CAAC5G,CAAC,GAACR,CAAC,CAACD,CAAD,CAAD,CAAK2E,KAAL,CAAW1E,CAAX,EAAaC,CAAb,CAAH,MAAsBD,CAAtB,IAAyBQ,CAAC,KAAGqD,SAA7B,IAAwC3D,CAAC,GAACM,CAAC,IAAEA,CAAC,CAACgD,MAAL,GAAYtD,CAAC,CAACmH,SAAF,CAAY7G,CAAC,CAAC8G,GAAF,EAAZ,CAAZ,GAAiC9G,CAAnC,EAAqC,CAAC,CAA9E,IAAiF,KAAK,CAA5H,GAA8Hf,CAAC,CAAC8H,KAAF,CAAQ,qBAAmBxH,CAAnB,GAAqB,QAArB,GAA8BF,CAA9B,GAAgC,kBAAxC,CAA/H,GAA2LJ,CAAC,CAAC8H,KAAF,CAAQ,4BAA0B1H,CAA1B,GAA4B,sDAA5B,GAAmFE,CAAnF,GAAqF,GAA7F,CAA1N;AAA4T,OAAxW,CAAD,IAA4WE,CAAC,CAACiB,MAAF,KAAWnB,CAAC,GAACN,CAAC,CAACyG,MAAF,CAAS9E,MAAT,CAAgBsD,KAAhB,CAAsB,IAAtB,EAA2B,CAAC3E,CAAD,EAAIyH,MAAJ,CAAWvH,CAAX,CAA3B,CAAb,GAAwD,KAAK4C,IAAL,CAAU,YAAU;AAAC,YAAIhD,CAAC,GAACJ,CAAC,CAACwD,IAAF,CAAO,IAAP,EAAYnD,CAAZ,CAAN;AAAqBD,QAAAA,CAAC,IAAEA,CAAC,CAAC4H,MAAF,CAAS1H,CAAC,IAAE,EAAZ,GAAgBF,CAAC,CAAC6H,KAAF,IAAS7H,CAAC,CAAC6H,KAAF,EAA3B,IAAsCjI,CAAC,CAACwD,IAAF,CAAO,IAAP,EAAYnD,CAAZ,EAAc,IAAIU,CAAJ,CAAMT,CAAN,EAAQ,IAAR,CAAd,CAAvC;AAAoE,OAA9G,CAApa,CAAD,EAAshBG,CAA7hB;AAA+hB,KAAzmB;AAA0mB,GAA1qE,EAA2qET,CAAC,CAAC4G,MAAF,GAAS,YAAU,CAAE,CAAhsE,EAAisE5G,CAAC,CAAC4G,MAAF,CAASG,kBAAT,GAA4B,EAA7tE,EAAguE/G,CAAC,CAAC4G,MAAF,CAAShB,SAAT,GAAmB;AAAC0B,IAAAA,UAAU,EAAC,QAAZ;AAAqBH,IAAAA,iBAAiB,EAAC,EAAvC;AAA0Ce,IAAAA,cAAc,EAAC,OAAzD;AAAiEjC,IAAAA,OAAO,EAAC;AAAChF,MAAAA,QAAQ,EAAC,CAAC,CAAX;AAAakH,MAAAA,MAAM,EAAC;AAApB,KAAzE;AAAmGtB,IAAAA,aAAa,EAAC,uBAASzG,CAAT,EAAWW,CAAX,EAAa;AAACA,MAAAA,CAAC,GAACf,CAAC,CAACe,CAAC,IAAE,KAAKmH,cAAR,IAAwB,IAAzB,CAAD,CAAgC,CAAhC,CAAF,EAAqC,KAAKnC,OAAL,GAAa/F,CAAC,CAACe,CAAD,CAAnD,EAAuD,KAAKqH,IAAL,GAAU3H,CAAC,EAAlE,EAAqE,KAAK4H,cAAL,GAAoB,MAAI,KAAKf,UAAT,GAAoB,KAAKc,IAAlH,EAAuH,KAAKE,QAAL,GAActI,CAAC,EAAtI,EAAyI,KAAKuI,SAAL,GAAevI,CAAC,EAAzJ,EAA4J,KAAK0D,SAAL,GAAe1D,CAAC,EAA5K,EAA+Ke,CAAC,KAAG,IAAJ,KAAWf,CAAC,CAACwD,IAAF,CAAOzC,CAAP,EAAS,KAAKwG,cAAd,EAA6B,IAA7B,GAAmC,KAAKiB,GAAL,CAAS,CAAC,CAAV,EAAY,KAAKzC,OAAjB,EAAyB;AAACQ,QAAAA,MAAM,EAAC,gBAASvG,CAAT,EAAW;AAACA,UAAAA,CAAC,CAACyI,MAAF,KAAW1H,CAAX,IAAc,KAAK2H,OAAL,EAAd;AAA6B;AAAjD,OAAzB,CAAnC,EAAgH,KAAKxF,QAAL,GAAclD,CAAC,CAACe,CAAC,CAAC4H,KAAF,GAAQ5H,CAAC,CAACkC,aAAV,GAAwBlC,CAAC,CAACmC,QAAF,IAAYnC,CAArC,CAA/H,EAAuK,KAAK6H,MAAL,GAAY5I,CAAC,CAAC,KAAKkD,QAAL,CAAc,CAAd,EAAiB2F,WAAjB,IAA8B,KAAK3F,QAAL,CAAc,CAAd,EAAiB4F,YAAhD,CAA/L,CAA/K,EAA6a,KAAK7C,OAAL,GAAajG,CAAC,CAACyG,MAAF,CAAS9E,MAAT,CAAgB,EAAhB,EAAmB,KAAKsE,OAAxB,EAAgC,KAAK8C,iBAAL,EAAhC,EAAyD3I,CAAzD,CAA1b,EAAsf,KAAK4I,OAAL,EAAtf,EAAqgB,KAAKC,QAAL,CAAc,QAAd,EAAuB,IAAvB,EAA4B,KAAKC,mBAAL,EAA5B,CAArgB,EAA6jB,KAAKjB,KAAL,EAA7jB;AAA0kB,KAAzsB;AAA0sBc,IAAAA,iBAAiB,EAAC/I,CAAC,CAACmJ,IAA9tB;AAAmuBD,IAAAA,mBAAmB,EAAClJ,CAAC,CAACmJ,IAAzvB;AAA8vBH,IAAAA,OAAO,EAAChJ,CAAC,CAACmJ,IAAxwB;AAA6wBlB,IAAAA,KAAK,EAACjI,CAAC,CAACmJ,IAArxB;AAA0xBT,IAAAA,OAAO,EAAC,mBAAU;AAAC,WAAKU,QAAL,IAAgB,KAAKrD,OAAL,CAAaR,MAAb,CAAoB,KAAK8C,cAAzB,EAAyC7D,UAAzC,CAAoD,KAAK+C,cAAzD,EAAyE/C,UAAzE,CAAoFxE,CAAC,CAAC0E,SAAF,CAAY,KAAK6C,cAAjB,CAApF,CAAhB,EAAsI,KAAKd,MAAL,GAAclB,MAAd,CAAqB,KAAK8C,cAA1B,EAA0C9E,UAA1C,CAAqD,eAArD,EAAsE8F,WAAtE,CAAkF,KAAK9B,cAAL,GAAoB,6BAAtG,CAAtI,EAA2Q,KAAKe,QAAL,CAAc/C,MAAd,CAAqB,KAAK8C,cAA1B,CAA3Q,EAAqT,KAAKE,SAAL,CAAec,WAAf,CAA2B,gBAA3B,CAArT,EAAkW,KAAK3F,SAAL,CAAe2F,WAAf,CAA2B,gBAA3B,CAAlW;AAA+Y,KAA5rC;AAA6rCD,IAAAA,QAAQ,EAACpJ,CAAC,CAACmJ,IAAxsC;AAA6sC1C,IAAAA,MAAM,EAAC,kBAAU;AAAC,aAAO,KAAKV,OAAZ;AAAoB,KAAnvC;AAAovCiC,IAAAA,MAAM,EAAC,gBAAS5H,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAIV,CAAJ;AAAA,UAAMC,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAC,GAACJ,CAAZ;AAAc,UAAG,MAAIqE,SAAS,CAAChD,MAAjB,EAAwB,OAAOzB,CAAC,CAACyG,MAAF,CAAS9E,MAAT,CAAgB,EAAhB,EAAmB,KAAKsE,OAAxB,CAAP;AAAwC,UAAG,YAAU,OAAO7F,CAApB,EAAsB,IAAGI,CAAC,GAAC,EAAF,EAAKJ,CAAC,GAAC,CAACC,CAAC,GAACD,CAAC,CAACuG,KAAF,CAAQ,GAAR,CAAH,EAAiB2C,KAAjB,EAAP,EAAgCjJ,CAAC,CAACoB,MAArC,EAA4C;AAAC,aAAInB,CAAC,GAACE,CAAC,CAACJ,CAAD,CAAD,GAAKJ,CAAC,CAACyG,MAAF,CAAS9E,MAAT,CAAgB,EAAhB,EAAmB,KAAKsE,OAAL,CAAa7F,CAAb,CAAnB,CAAP,EAA2CG,CAAC,GAAC,CAAjD,EAAmDA,CAAC,GAACF,CAAC,CAACoB,MAAF,GAAS,CAA9D,EAAgElB,CAAC,EAAjE;AAAoED,UAAAA,CAAC,CAACD,CAAC,CAACE,CAAD,CAAF,CAAD,GAAQD,CAAC,CAACD,CAAC,CAACE,CAAD,CAAF,CAAD,IAAS,EAAjB,EAAoBD,CAAC,GAACA,CAAC,CAACD,CAAC,CAACE,CAAD,CAAF,CAAvB;AAApE;;AAAkG,YAAGH,CAAC,GAACC,CAAC,CAACkJ,GAAF,EAAF,EAAU,MAAI9E,SAAS,CAAChD,MAA3B,EAAkC,OAAOnB,CAAC,CAACF,CAAD,CAAD,KAAOgE,SAAP,GAAiB,IAAjB,GAAsB9D,CAAC,CAACF,CAAD,CAA9B;AAAkCE,QAAAA,CAAC,CAACF,CAAD,CAAD,GAAKW,CAAL;AAAO,OAA1N,MAA8N;AAAC,YAAG,MAAI0D,SAAS,CAAChD,MAAjB,EAAwB,OAAO,KAAKwE,OAAL,CAAa7F,CAAb,MAAkBgE,SAAlB,GAA4B,IAA5B,GAAiC,KAAK6B,OAAL,CAAa7F,CAAb,CAAxC;AAAwDI,QAAAA,CAAC,CAACJ,CAAD,CAAD,GAAKW,CAAL;AAAO;AAAA,aAAO,KAAKyI,WAAL,CAAiBhJ,CAAjB,GAAoB,IAA3B;AAAgC,KAAnsD;AAAosDgJ,IAAAA,WAAW,EAAC,qBAASxJ,CAAT,EAAW;AAAC,UAAII,CAAJ;;AAAM,WAAIA,CAAJ,IAASJ,CAAT;AAAW,aAAKyJ,UAAL,CAAgBrJ,CAAhB,EAAkBJ,CAAC,CAACI,CAAD,CAAnB;AAAX;;AAAmC,aAAO,IAAP;AAAY,KAAjxD;AAAkxDqJ,IAAAA,UAAU,EAAC,oBAASzJ,CAAT,EAAWI,CAAX,EAAa;AAAC,aAAO,KAAK6F,OAAL,CAAajG,CAAb,IAAgBI,CAAhB,EAAkB,eAAaJ,CAAb,KAAiB,KAAKyG,MAAL,GAAciD,WAAd,CAA0B,KAAKnC,cAAL,GAAoB,WAA9C,EAA0D,CAAC,CAACnH,CAA5D,GAA+DA,CAAC,KAAG,KAAKmI,SAAL,CAAec,WAAf,CAA2B,gBAA3B,GAA6C,KAAK3F,SAAL,CAAe2F,WAAf,CAA2B,gBAA3B,CAAhD,CAAjF,CAAlB,EAAkM,IAAzM;AAA8M,KAAz/D;AAA0/DM,IAAAA,MAAM,EAAC,kBAAU;AAAC,aAAO,KAAKH,WAAL,CAAiB;AAACvI,QAAAA,QAAQ,EAAC,CAAC;AAAX,OAAjB,CAAP;AAAuC,KAAnjE;AAAojE2I,IAAAA,OAAO,EAAC,mBAAU;AAAC,aAAO,KAAKJ,WAAL,CAAiB;AAACvI,QAAAA,QAAQ,EAAC,CAAC;AAAX,OAAjB,CAAP;AAAuC,KAA9mE;AAA+mEuH,IAAAA,GAAG,EAAC,aAASpI,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAJ;AAAA,UAAMC,CAAC,GAAC,IAAR;AAAa,mBAAW,OAAOH,CAAlB,KAAsBC,CAAC,GAACU,CAAF,EAAIA,CAAC,GAACX,CAAN,EAAQA,CAAC,GAAC,CAAC,CAAjC,GAAoCC,CAAC,IAAEU,CAAC,GAACT,CAAC,GAACN,CAAC,CAACe,CAAD,CAAL,EAAS,KAAKuH,QAAL,GAAc,KAAKA,QAAL,CAAchE,GAAd,CAAkBvD,CAAlB,CAAzB,KAAgDV,CAAC,GAACU,CAAF,EAAIA,CAAC,GAAC,KAAKgF,OAAX,EAAmBzF,CAAC,GAAC,KAAKmG,MAAL,EAArE,CAArC,EAAyHzG,CAAC,CAACoD,IAAF,CAAO/C,CAAP,EAAS,UAASA,CAAT,EAAWG,CAAX,EAAa;AAAC,iBAASC,CAAT,GAAY;AAAC,cAAGL,CAAC,IAAE,CAAC,CAAD,KAAKG,CAAC,CAAC0F,OAAF,CAAUhF,QAAf,IAAyB,CAACjB,CAAC,CAAC,IAAD,CAAD,CAAQ6J,QAAR,CAAiB,mBAAjB,CAAhC,EAAsE,OAAM,CAAC,YAAU,OAAOrJ,CAAjB,GAAmBD,CAAC,CAACC,CAAD,CAApB,GAAwBA,CAAzB,EAA4ByE,KAA5B,CAAkC1E,CAAlC,EAAoCkE,SAApC,CAAN;AAAqD;;AAAA,oBAAU,OAAOjE,CAAjB,KAAqBC,CAAC,CAACqJ,IAAF,GAAOtJ,CAAC,CAACsJ,IAAF,GAAOtJ,CAAC,CAACsJ,IAAF,IAAQrJ,CAAC,CAACqJ,IAAV,IAAgB9J,CAAC,CAAC8J,IAAF,EAAnD;AAA6D,YAAI5D,CAAC,GAAC7F,CAAC,CAAC0J,KAAF,CAAQ,oBAAR,CAAN;AAAA,YAAoCrD,CAAC,GAACR,CAAC,CAAC,CAAD,CAAD,GAAK3F,CAAC,CAAC8H,cAA7C;AAAA,YAA4D2B,CAAC,GAAC9D,CAAC,CAAC,CAAD,CAA/D;AAAmE8D,QAAAA,CAAC,GAAC1J,CAAC,CAAC2J,QAAF,CAAWD,CAAX,EAAatD,CAAb,EAAejG,CAAf,CAAD,GAAmBM,CAAC,CAACqE,IAAF,CAAOsB,CAAP,EAASjG,CAAT,CAApB;AAAgC,OAA/T,CAAzH;AAA0b,KAA1kF;AAA2kFyJ,IAAAA,IAAI,EAAC,cAAS9J,CAAT,EAAWW,CAAX,EAAa;AAACA,MAAAA,CAAC,GAAC,CAACA,CAAC,IAAE,EAAJ,EAAQ4F,KAAR,CAAc,GAAd,EAAmBwD,IAAnB,CAAwB,KAAK9B,cAAL,GAAoB,GAA5C,IAAiD,KAAKA,cAAxD,EAAuEjI,CAAC,CAACmF,MAAF,CAASxE,CAAT,EAAYqJ,UAAZ,CAAuBrJ,CAAvB,CAAvE,EAAiG,KAAKuH,QAAL,GAActI,CAAC,CAAC,KAAKsI,QAAL,CAAc+B,GAAd,CAAkBjK,CAAlB,EAAqByH,GAArB,EAAD,CAAhH,EAA6I,KAAKnE,SAAL,GAAe1D,CAAC,CAAC,KAAK0D,SAAL,CAAe2G,GAAf,CAAmBjK,CAAnB,EAAsByH,GAAtB,EAAD,CAA7J,EAA2L,KAAKU,SAAL,GAAevI,CAAC,CAAC,KAAKuI,SAAL,CAAe8B,GAAf,CAAmBjK,CAAnB,EAAsByH,GAAtB,EAAD,CAA3M;AAAyO,KAAv0F;AAAw0FyC,IAAAA,MAAM,EAAC,gBAAStK,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,GAAY;AAAC,eAAM,CAAC,YAAU,OAAOf,CAAjB,GAAmBK,CAAC,CAACL,CAAD,CAApB,GAAwBA,CAAzB,EAA4BiF,KAA5B,CAAkC5E,CAAlC,EAAoCoE,SAApC,CAAN;AAAqD;;AAAA,UAAIpE,CAAC,GAAC,IAAN;AAAW,aAAO2E,UAAU,CAACjE,CAAD,EAAGX,CAAC,IAAE,CAAN,CAAjB;AAA0B,KAAp8F;AAAq8FmK,IAAAA,UAAU,EAAC,oBAASnK,CAAT,EAAW;AAAC,WAAKmI,SAAL,GAAe,KAAKA,SAAL,CAAejE,GAAf,CAAmBlE,CAAnB,CAAf,EAAqC,KAAKoI,GAAL,CAASpI,CAAT,EAAW;AAACoK,QAAAA,UAAU,EAAC,oBAASpK,CAAT,EAAW;AAACJ,UAAAA,CAAC,CAACI,CAAC,CAACqK,aAAH,CAAD,CAAmBC,QAAnB,CAA4B,gBAA5B;AAA8C,SAAtE;AAAuEC,QAAAA,UAAU,EAAC,oBAASvK,CAAT,EAAW;AAACJ,UAAAA,CAAC,CAACI,CAAC,CAACqK,aAAH,CAAD,CAAmBpB,WAAnB,CAA+B,gBAA/B;AAAiD;AAA/I,OAAX,CAArC;AAAkM,KAA9pG;AAA+pGuB,IAAAA,UAAU,EAAC,oBAASxK,CAAT,EAAW;AAAC,WAAKsD,SAAL,GAAe,KAAKA,SAAL,CAAeY,GAAf,CAAmBlE,CAAnB,CAAf,EAAqC,KAAKoI,GAAL,CAASpI,CAAT,EAAW;AAACyK,QAAAA,OAAO,EAAC,iBAASzK,CAAT,EAAW;AAACJ,UAAAA,CAAC,CAACI,CAAC,CAACqK,aAAH,CAAD,CAAmBC,QAAnB,CAA4B,gBAA5B;AAA8C,SAAnE;AAAoEI,QAAAA,QAAQ,EAAC,kBAAS1K,CAAT,EAAW;AAACJ,UAAAA,CAAC,CAACI,CAAC,CAACqK,aAAH,CAAD,CAAmBpB,WAAnB,CAA+B,gBAA/B;AAAiD;AAA1I,OAAX,CAArC;AAA6L,KAAn3G;AAAo3GJ,IAAAA,QAAQ,EAAC,kBAAS7I,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAJ;AAAA,UAAMC,CAAN;AAAA,UAAQC,CAAC,GAAC,KAAKyF,OAAL,CAAa7F,CAAb,CAAV;AAA0B,UAAGC,CAAC,GAACA,CAAC,IAAE,EAAL,EAAQ,CAACU,CAAC,GAACf,CAAC,CAAC+K,KAAF,CAAQhK,CAAR,CAAH,EAAeiK,IAAf,GAAoB,CAAC5K,CAAC,KAAG,KAAK+G,iBAAT,GAA2B/G,CAA3B,GAA6B,KAAK+G,iBAAL,GAAuB/G,CAArD,EAAwDO,WAAxD,EAA5B,EAAkGI,CAAC,CAAC0H,MAAF,GAAS,KAAK1C,OAAL,CAAa,CAAb,CAA3G,EAA2HxF,CAAC,GAACQ,CAAC,CAACkK,aAAlI,EAAgJ,KAAI3K,CAAJ,IAASC,CAAT;AAAWD,QAAAA,CAAC,IAAIS,CAAL,KAASA,CAAC,CAACT,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAf;AAAX;AAA+B,aAAO,KAAKyF,OAAL,CAAamF,OAAb,CAAqBnK,CAArB,EAAuBV,CAAvB,GAA0B,EAAEL,CAAC,CAACgH,UAAF,CAAaxG,CAAb,KAAiB,CAAC,CAAD,KAAKA,CAAC,CAACyE,KAAF,CAAQ,KAAKc,OAAL,CAAa,CAAb,CAAR,EAAwB,CAAChF,CAAD,EAAIgH,MAAJ,CAAW1H,CAAX,CAAxB,CAAtB,IAA8DU,CAAC,CAACoK,kBAAF,EAAhE,CAAjC;AAAyH;AAA/sH,GAAnvE,EAAo8LnL,CAAC,CAACoD,IAAF,CAAO;AAACgI,IAAAA,IAAI,EAAC,QAAN;AAAeC,IAAAA,IAAI,EAAC;AAApB,GAAP,EAAsC,UAASjL,CAAT,EAAWW,CAAX,EAAa;AAACf,IAAAA,CAAC,CAAC4G,MAAF,CAAShB,SAAT,CAAmB,MAAIxF,CAAvB,IAA0B,UAASC,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAe;AAAC,kBAAU,OAAOD,CAAjB,KAAqBA,CAAC,GAAC;AAACgL,QAAAA,MAAM,EAAChL;AAAR,OAAvB;AAAmC,UAAIE,CAAJ;AAAA,UAAMC,CAAC,GAACH,CAAC,GAAC,CAAC,CAAD,KAAKA,CAAL,IAAQ,YAAU,OAAOA,CAAzB,GAA2BS,CAA3B,GAA6BT,CAAC,CAACgL,MAAF,IAAUvK,CAAxC,GAA0CX,CAAnD;AAAqD,kBAAU,QAAOE,CAAC,GAACA,CAAC,IAAE,EAAZ,CAAV,KAA4BA,CAAC,GAAC;AAACiL,QAAAA,QAAQ,EAACjL;AAAV,OAA9B,GAA4CE,CAAC,GAAC,CAACR,CAAC,CAACwL,aAAF,CAAgBlL,CAAhB,CAA/C,EAAkEA,CAAC,CAACmL,QAAF,GAAWlL,CAA7E,EAA+ED,CAAC,CAACoL,KAAF,IAASrL,CAAC,CAACqL,KAAF,CAAQpL,CAAC,CAACoL,KAAV,CAAxF,EAAyGlL,CAAC,IAAER,CAAC,CAAC2L,OAAL,IAAc3L,CAAC,CAAC2L,OAAF,CAAUL,MAAV,CAAiB7K,CAAjB,CAAd,GAAkCJ,CAAC,CAACD,CAAD,CAAD,CAAKE,CAAL,CAAlC,GAA0CG,CAAC,KAAGL,CAAJ,IAAOC,CAAC,CAACI,CAAD,CAAR,GAAYJ,CAAC,CAACI,CAAD,CAAD,CAAKH,CAAC,CAACiL,QAAP,EAAgBjL,CAAC,CAACsL,MAAlB,EAAyBrL,CAAzB,CAAZ,GAAwCF,CAAC,CAACwL,KAAF,CAAQ,UAAS9K,CAAT,EAAW;AAACf,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQI,CAAR,KAAaG,CAAC,IAAEA,CAAC,CAAC8D,IAAF,CAAOhE,CAAC,CAAC,CAAD,CAAR,CAAhB,EAA6BU,CAAC,EAA9B;AAAiC,OAArD,CAA3L;AAAkP,KAApX;AAAqX,GAAza,CAAp8L;AAA+2Mf,EAAAA,CAAC,CAACyG,MAAF;AAC/4M;;;;;;;;;;;AASG,MAAIC,CAAC,GAAC,CAAC,CAAP;AAAS1G,EAAAA,CAAC,CAACkD,QAAD,CAAD,CAAY4I,OAAZ,CAAoB,YAAU;AAACpF,IAAAA,CAAC,GAAC,CAAC,CAAH;AAAK,GAApC;AAAsC1G,EAAAA,CAAC,CAACyG,MAAF,CAAS,UAAT,EAAoB;AAAC7E,IAAAA,OAAO,EAAC,QAAT;AAAkBqE,IAAAA,OAAO,EAAC;AAAC8F,MAAAA,MAAM,EAAC,qCAAR;AAA8CC,MAAAA,QAAQ,EAAC,CAAvD;AAAyDN,MAAAA,KAAK,EAAC;AAA/D,KAA1B;AAA4FO,IAAAA,UAAU,EAAC,sBAAU;AAAC,UAAI7L,CAAC,GAAC,IAAN;AAAW,WAAK2F,OAAL,CAAaX,IAAb,CAAkB,eAAa,KAAKkC,UAApC,EAA+C,UAAStH,CAAT,EAAW;AAAC,eAAOI,CAAC,CAAC8L,UAAF,CAAalM,CAAb,CAAP;AAAuB,OAAlF,EAAoFoF,IAApF,CAAyF,WAAS,KAAKkC,UAAvG,EAAkH,UAASvG,CAAT,EAAW;AAAC,YAAG,CAAC,CAAD,KAAKf,CAAC,CAACwD,IAAF,CAAOzC,CAAC,CAAC0H,MAAT,EAAgBrI,CAAC,CAACkH,UAAF,GAAa,oBAA7B,CAAR,EAA2D,OAAOtH,CAAC,CAACwE,UAAF,CAAazD,CAAC,CAAC0H,MAAf,EAAsBrI,CAAC,CAACkH,UAAF,GAAa,oBAAnC,GAAyDvG,CAAC,CAACoL,wBAAF,EAAzD,EAAsF,CAAC,CAA9F;AAAgG,OAAzR,GAA2R,KAAKC,OAAL,GAAa,CAAC,CAAzS;AAA2S,KAAxa;AAAyaC,IAAAA,aAAa,EAAC,yBAAU;AAAC,WAAKtG,OAAL,CAAaR,MAAb,CAAoB,MAAI,KAAK+B,UAA7B,GAAyC,KAAKgF,kBAAL,IAAyB,KAAKpJ,QAAL,CAAcqC,MAAd,CAAqB,eAAa,KAAK+B,UAAvC,EAAkD,KAAKgF,kBAAvD,EAA2E/G,MAA3E,CAAkF,aAAW,KAAK+B,UAAlG,EAA6G,KAAKiF,gBAAlH,CAAlE;AAAsM,KAAxoB;AAAyoBL,IAAAA,UAAU,EAAC,oBAAS9L,CAAT,EAAW;AAAC,UAAG,CAACsG,CAAJ,EAAM;AAAC,aAAK8F,WAAL,GAAiB,CAAC,CAAlB,EAAoB,KAAKC,aAAL,IAAoB,KAAKC,QAAL,CAActM,CAAd,CAAxC,EAAyD,KAAKuM,eAAL,GAAqBvM,CAA9E;AAAgF,YAAIW,CAAC,GAAC,IAAN;AAAA,YAAWV,CAAC,GAAC,MAAID,CAAC,CAACwM,KAAnB;AAAA,YAAyBtM,CAAC,GAAC,EAAE,YAAU,OAAO,KAAK2F,OAAL,CAAa8F,MAA9B,IAAsC,CAAC3L,CAAC,CAACqI,MAAF,CAAS/H,QAAlD,KAA6DV,CAAC,CAACI,CAAC,CAACqI,MAAH,CAAD,CAAYoE,OAAZ,CAAoB,KAAK5G,OAAL,CAAa8F,MAAjC,EAAyCtK,MAAjI;AAAwI,eAAM,EAAEpB,CAAC,IAAE,CAACC,CAAJ,IAAO,KAAKwM,aAAL,CAAmB1M,CAAnB,CAAT,MAAkC,KAAK2M,aAAL,GAAmB,CAAC,KAAK9G,OAAL,CAAayF,KAAjC,EAAuC,KAAKqB,aAAL,KAAqB,KAAKC,gBAAL,GAAsBhI,UAAU,CAAC,YAAU;AAACjE,UAAAA,CAAC,CAACgM,aAAF,GAAgB,CAAC,CAAjB;AAAmB,SAA/B,EAAgC,KAAK9G,OAAL,CAAayF,KAA7C,CAArD,CAAvC,EAAiJ,KAAKuB,iBAAL,CAAuB7M,CAAvB,KAA2B,KAAK8M,cAAL,CAAoB9M,CAApB,CAA3B,KAAoD,KAAKqM,aAAL,GAAmB,CAAC,CAAD,KAAK,KAAKU,WAAL,CAAiB/M,CAAjB,CAAxB,EAA4C,CAAC,KAAKqM,aAAtG,KAAsHrM,CAAC,CAACiF,cAAF,IAAmB,CAAC,CAA1I,KAA8I,CAAC,CAAD,KAAKrF,CAAC,CAACwD,IAAF,CAAOpD,CAAC,CAACqI,MAAT,EAAgB,KAAKnB,UAAL,GAAgB,oBAAhC,CAAL,IAA4DtH,CAAC,CAACwE,UAAF,CAAapE,CAAC,CAACqI,MAAf,EAAsB,KAAKnB,UAAL,GAAgB,oBAAtC,CAA5D,EAAwH,KAAKgF,kBAAL,GAAwB,UAAStM,CAAT,EAAW;AAAC,iBAAOe,CAAC,CAACqM,UAAF,CAAapN,CAAb,CAAP;AAAuB,SAAnL,EAAoL,KAAKuM,gBAAL,GAAsB,UAASvM,CAAT,EAAW;AAAC,iBAAOe,CAAC,CAAC2L,QAAF,CAAW1M,CAAX,CAAP;AAAqB,SAA3O,EAA4O,KAAKkD,QAAL,CAAckC,IAAd,CAAmB,eAAa,KAAKkC,UAArC,EAAgD,KAAKgF,kBAArD,EAAyElH,IAAzE,CAA8E,aAAW,KAAKkC,UAA9F,EAAyG,KAAKiF,gBAA9G,CAA5O,EAA4WnM,CAAC,CAACiF,cAAF,EAA5W,EAA+XqB,CAAC,GAAC,CAAC,CAAlY,EAAoY,CAAC,CAAnhB,CAAnL,CAAN;AAAgtB;AAAC,KAAhlD;AAAilD0G,IAAAA,UAAU,EAAC,oBAAShN,CAAT,EAAW;AAAC,UAAG,KAAKoM,WAAR,EAAoB;AAAC,YAAGxM,CAAC,CAAC0B,EAAF,CAAKiD,EAAL,KAAU,CAACzB,QAAQ,CAACmK,YAAV,IAAwBnK,QAAQ,CAACmK,YAAT,GAAsB,CAAxD,KAA4D,CAACjN,CAAC,CAACkN,MAAlE,EAAyE,OAAO,KAAKZ,QAAL,CAActM,CAAd,CAAP;AAAwB,YAAG,CAACA,CAAC,CAACwM,KAAN,EAAY,OAAO,KAAKF,QAAL,CAActM,CAAd,CAAP;AAAwB;;AAAA,aAAM,CAACA,CAAC,CAACwM,KAAF,IAASxM,CAAC,CAACkN,MAAZ,MAAsB,KAAKd,WAAL,GAAiB,CAAC,CAAxC,GAA2C,KAAKC,aAAL,IAAoB,KAAKc,UAAL,CAAgBnN,CAAhB,GAAmBA,CAAC,CAACiF,cAAF,EAAvC,KAA4D,KAAK4H,iBAAL,CAAuB7M,CAAvB,KAA2B,KAAK8M,cAAL,CAAoB9M,CAApB,CAA3B,KAAoD,KAAKqM,aAAL,GAAmB,CAAC,CAAD,KAAK,KAAKU,WAAL,CAAiB,KAAKR,eAAtB,EAAsCvM,CAAtC,CAAxB,EAAiE,KAAKqM,aAAL,GAAmB,KAAKc,UAAL,CAAgBnN,CAAhB,CAAnB,GAAsC,KAAKsM,QAAL,CAActM,CAAd,CAA3J,GAA6K,CAAC,KAAKqM,aAA/O,CAAjD;AAA+S,KAAjjE;AAAkjEC,IAAAA,QAAQ,EAAC,kBAAStM,CAAT,EAAW;AAAC,aAAO,KAAK8C,QAAL,CAAcqC,MAAd,CAAqB,eAAa,KAAK+B,UAAvC,EAAkD,KAAKgF,kBAAvD,EAA2E/G,MAA3E,CAAkF,aAAW,KAAK+B,UAAlG,EAA6G,KAAKiF,gBAAlH,GAAoI,KAAKE,aAAL,KAAqB,KAAKA,aAAL,GAAmB,CAAC,CAApB,EAAsBrM,CAAC,CAACqI,MAAF,KAAW,KAAKkE,eAAL,CAAqBlE,MAAhC,IAAwCzI,CAAC,CAACwD,IAAF,CAAOpD,CAAC,CAACqI,MAAT,EAAgB,KAAKnB,UAAL,GAAgB,oBAAhC,EAAqD,CAAC,CAAtD,CAA9D,EAAuH,KAAKkG,UAAL,CAAgBpN,CAAhB,CAA5I,CAApI,EAAoSsG,CAAC,GAAC,CAAC,CAAvS,EAAyS,CAAC,CAAjT;AAAmT,KAA13E;AAA23EuG,IAAAA,iBAAiB,EAAC,2BAASjN,CAAT,EAAW;AAAC,aAAOyN,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAAS,KAAKhB,eAAL,CAAqBiB,KAArB,GAA2B5N,CAAC,CAAC4N,KAAtC,CAAT,EAAsDH,IAAI,CAACE,GAAL,CAAS,KAAKhB,eAAL,CAAqBkB,KAArB,GAA2B7N,CAAC,CAAC6N,KAAtC,CAAtD,KAAqG,KAAK5H,OAAL,CAAa+F,QAAzH;AAAkI,KAA3hF;AAA4hFkB,IAAAA,cAAc,EAAC,0BAAU;AAAC,aAAO,KAAKH,aAAZ;AAA0B,KAAhlF;AAAilFI,IAAAA,WAAW,EAAC,uBAAU,CAAE,CAAzmF;AAA0mFI,IAAAA,UAAU,EAAC,sBAAU,CAAE,CAAjoF;AAAkoFC,IAAAA,UAAU,EAAC,sBAAU,CAAE,CAAzpF;AAA0pFV,IAAAA,aAAa,EAAC,yBAAU;AAAC,aAAM,CAAC,CAAP;AAAS;AAA5rF,GAApB;AAClD;;;;;;;;;;;AASG9M,EAAAA,CAAC,CAACyG,MAAF,CAAS,cAAT,EAAwBzG,CAAC,CAAC0B,EAAF,CAAKoM,KAA7B,EAAmC;AAAClM,IAAAA,OAAO,EAAC,QAAT;AAAkBuF,IAAAA,iBAAiB,EAAC,MAApC;AAA2ClB,IAAAA,OAAO,EAAC;AAAC8H,MAAAA,UAAU,EAAC,CAAC,CAAb;AAAeC,MAAAA,QAAQ,EAAC,QAAxB;AAAiCC,MAAAA,IAAI,EAAC,CAAC,CAAvC;AAAyCC,MAAAA,iBAAiB,EAAC,CAAC,CAA5D;AAA8DC,MAAAA,WAAW,EAAC,CAAC,CAA3E;AAA6EC,MAAAA,MAAM,EAAC,MAApF;AAA2FC,MAAAA,QAAQ,EAAC,CAAC,CAArG;AAAuGC,MAAAA,IAAI,EAAC,CAAC,CAA7G;AAA+GC,MAAAA,MAAM,EAAC,CAAC,CAAvH;AAAyHC,MAAAA,MAAM,EAAC,UAAhI;AAA2IC,MAAAA,SAAS,EAAC,CAAC,CAAtJ;AAAwJC,MAAAA,OAAO,EAAC,CAAC,CAAjK;AAAmKC,MAAAA,gBAAgB,EAAC,CAAC,CAArL;AAAuLC,MAAAA,MAAM,EAAC,CAAC,CAA/L;AAAiMC,MAAAA,cAAc,EAAC,GAAhN;AAAoNC,MAAAA,KAAK,EAAC,SAA1N;AAAoOC,MAAAA,MAAM,EAAC,CAAC,CAA5O;AAA8OC,MAAAA,iBAAiB,EAAC,EAAhQ;AAAmQC,MAAAA,WAAW,EAAC,EAA/Q;AAAkRC,MAAAA,IAAI,EAAC,CAAC,CAAxR;AAA0RC,MAAAA,QAAQ,EAAC,MAAnS;AAA0SC,MAAAA,aAAa,EAAC,EAAxT;AAA2TC,MAAAA,KAAK,EAAC,CAAC,CAAlU;AAAoU7J,MAAAA,MAAM,EAAC,CAAC,CAA5U;AAA8U8J,MAAAA,IAAI,EAAC,IAAnV;AAAwVC,MAAAA,KAAK,EAAC,IAA9V;AAAmWC,MAAAA,IAAI,EAAC;AAAxW,KAAnD;AAAiaxG,IAAAA,OAAO,EAAC,mBAAU;AAAC,qBAAa,KAAK/C,OAAL,CAAauI,MAA1B,IAAkC,KAAKiB,oBAAL,EAAlC,EAA8D,KAAKxJ,OAAL,CAAa8H,UAAb,IAAyB,KAAKhI,OAAL,CAAa2E,QAAb,CAAsB,cAAtB,CAAvF,EAA6H,KAAKzE,OAAL,CAAahF,QAAb,IAAuB,KAAK8E,OAAL,CAAa2E,QAAb,CAAsB,uBAAtB,CAApJ,EAAmM,KAAKgF,mBAAL,EAAnM,EAA8N,KAAKzD,UAAL,EAA9N;AAAgP,KAApqB;AAAqqBxC,IAAAA,UAAU,EAAC,oBAASzJ,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAK6G,MAAL,CAAYjH,CAAZ,EAAcI,CAAd,GAAiB,aAAWJ,CAAX,KAAe,KAAK2P,sBAAL,IAA8B,KAAKD,mBAAL,EAA7C,CAAjB;AAA0F,KAAxxB;AAAyxBtG,IAAAA,QAAQ,EAAC,oBAAU;AAAC,OAAC,KAAKoF,MAAL,IAAa,KAAKzI,OAAnB,EAA4B6J,EAA5B,CAA+B,wBAA/B,IAAyD,KAAKC,cAAL,GAAoB,CAAC,CAA9E,IAAiF,KAAK9J,OAAL,CAAasD,WAAb,CAAyB,0DAAzB,GAAqF,KAAKsG,sBAAL,EAArF,EAAmH,KAAKtD,aAAL,EAApM;AAA0N,KAAvgC;AAAwgCS,IAAAA,aAAa,EAAC,uBAAS1M,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,KAAKkF,OAAX;AAAmB,aAAO,KAAK6J,kBAAL,CAAwB1P,CAAxB,GAA2B,EAAE,KAAKoO,MAAL,IAAazN,CAAC,CAACE,QAAf,IAAyBjB,CAAC,CAACI,CAAC,CAACqI,MAAH,CAAD,CAAYoE,OAAZ,CAAoB,sBAApB,EAA4CpL,MAA5C,GAAmD,CAA9E,MAAmF,KAAK8M,MAAL,GAAY,KAAKwB,UAAL,CAAgB3P,CAAhB,CAAZ,EAA+B,CAAC,CAAC,KAAKmO,MAAP,KAAgB,KAAKyB,YAAL,CAAkB,CAAC,CAAD,KAAKjP,CAAC,CAAC0N,SAAP,GAAiB,QAAjB,GAA0B1N,CAAC,CAAC0N,SAA9C,GAAyD,CAAC,CAA1E,CAAlH,CAAlC;AAAkO,KAAvxC;AAAwxCuB,IAAAA,YAAY,EAAC,sBAAS5P,CAAT,EAAW;AAAC,WAAK6P,YAAL,GAAkB,KAAK/M,QAAL,CAAcgN,IAAd,CAAmB9P,CAAnB,EAAsB+P,GAAtB,CAA0B,YAAU;AAAC,YAAI/P,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAP;AAAc,eAAOA,CAAC,CAAC,OAAD,CAAD,CAAWwB,GAAX,CAAe,UAAf,EAA0B,UAA1B,EAAsCwM,QAAtC,CAA+C5N,CAAC,CAACsF,MAAF,EAA/C,EAA2D5B,UAA3D,CAAsE1D,CAAC,CAAC0D,UAAF,EAAtE,EAAsFK,WAAtF,CAAkG/D,CAAC,CAAC+D,WAAF,EAAlG,EAAmHiM,MAAnH,CAA0HhQ,CAAC,CAACgQ,MAAF,EAA1H,EAAsI,CAAtI,CAAP;AAAgJ,OAAnM,CAAlB;AAAuN,KAAxgD;AAAygDC,IAAAA,cAAc,EAAC,0BAAU;AAAC,WAAKJ,YAAL,KAAoB,KAAKA,YAAL,CAAkB1J,MAAlB,IAA2B,OAAO,KAAK0J,YAA3D;AAAyE,KAA5mD;AAA6mDH,IAAAA,kBAAkB,EAAC,4BAAS1P,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,KAAKmC,QAAL,CAAc,CAAd,CAAN;AAAuB,UAAG,KAAKoN,aAAL,CAAmBV,EAAnB,CAAsBxP,CAAC,CAACqI,MAAxB,CAAH,EAAmC,IAAG;AAAC1H,QAAAA,CAAC,CAACwP,aAAF,IAAiB,WAASxP,CAAC,CAACwP,aAAF,CAAgB7P,QAAhB,CAAyBC,WAAzB,EAA1B,IAAkEX,CAAC,CAACe,CAAC,CAACwP,aAAH,CAAD,CAAmBC,IAAnB,EAAlE;AAA4F,OAAhG,CAAgG,OAAMnQ,CAAN,EAAQ,CAAE;AAAC,KAAjzD;AAAkzD8M,IAAAA,WAAW,EAAC,qBAAS/M,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,KAAKkF,OAAX;AAAmB,aAAO,KAAKuI,MAAL,GAAY,KAAKiC,aAAL,CAAmBrQ,CAAnB,CAAZ,EAAkC,KAAKoO,MAAL,CAAY9D,QAAZ,CAAqB,uBAArB,CAAlC,EAAgF,KAAKgG,uBAAL,EAAhF,EAA+G1Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,KAAiB3Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeC,OAAf,GAAuB,IAAxC,CAA/G,EAA6J,KAAKC,aAAL,EAA7J,EAAkL,KAAKC,WAAL,GAAiB,KAAKtC,MAAL,CAAYhN,GAAZ,CAAgB,UAAhB,CAAnM,EAA+N,KAAKuB,YAAL,GAAkB,KAAKyL,MAAL,CAAYzL,YAAZ,CAAyB,CAAC,CAA1B,CAAjP,EAA8Q,KAAKgO,YAAL,GAAkB,KAAKvC,MAAL,CAAYuC,YAAZ,EAAhS,EAA2T,KAAKC,gBAAL,GAAsB,KAAKxC,MAAL,CAAYnN,OAAZ,GAAsBE,MAAtB,CAA6B,YAAU;AAAC,eAAM,YAAUvB,CAAC,CAAC,IAAD,CAAD,CAAQwB,GAAR,CAAY,UAAZ,CAAhB;AAAwC,OAAhF,EAAkFC,MAAlF,GAAyF,CAA1a,EAA4a,KAAKwP,WAAL,GAAiB,KAAKlL,OAAL,CAAaqK,MAAb,EAA7b,EAAmd,KAAKc,eAAL,CAAqB9Q,CAArB,CAAnd,EAA2e,KAAK+Q,gBAAL,GAAsB,KAAKC,QAAL,GAAc,KAAKC,iBAAL,CAAuBjR,CAAvB,EAAyB,CAAC,CAA1B,CAA/gB,EAA4iB,KAAKkR,aAAL,GAAmBlR,CAAC,CAACwN,KAAjkB,EAAukB,KAAK2D,aAAL,GAAmBnR,CAAC,CAACyN,KAA5lB,EAAkmB9M,CAAC,CAACsN,QAAF,IAAY,KAAKmD,uBAAL,CAA6BzQ,CAAC,CAACsN,QAA/B,CAA9mB,EAAupB,KAAKoD,eAAL,EAAvpB,EAA8qB,CAAC,CAAD,KAAK,KAAKxI,QAAL,CAAc,OAAd,EAAsB7I,CAAtB,CAAL,IAA+B,KAAKsR,MAAL,IAAc,CAAC,CAA9C,KAAkD,KAAKhB,uBAAL,IAA+B1Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,IAAgB,CAAC5P,CAAC,CAAC4Q,aAAnB,IAAkC3R,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeiB,cAAf,CAA8B,IAA9B,EAAmCxR,CAAnC,CAAjE,EAAuG,KAAKyR,qBAAL,EAAvG,EAAoI,KAAKtE,UAAL,CAAgBnN,CAAhB,EAAkB,CAAC,CAAnB,CAApI,EAA0JJ,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,IAAgB3Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAemB,SAAf,CAAyB,IAAzB,EAA8B1R,CAA9B,CAA1K,EAA2M,CAAC,CAA9P,CAArrB;AAAs7B,KAAnxF;AAAoxF8Q,IAAAA,eAAe,EAAC,yBAASlR,CAAT,EAAW;AAAC,WAAKoQ,MAAL,GAAY;AAAC2B,QAAAA,GAAG,EAAC,KAAKd,WAAL,CAAiBc,GAAjB,GAAqB,KAAKC,OAAL,CAAaD,GAAvC;AAA2CE,QAAAA,IAAI,EAAC,KAAKhB,WAAL,CAAiBgB,IAAjB,GAAsB,KAAKD,OAAL,CAAaC,IAAnF;AAAwFlD,QAAAA,MAAM,EAAC,CAAC,CAAhG;AAAkGrJ,QAAAA,MAAM,EAAC,KAAKwM,gBAAL,EAAzG;AAAiIC,QAAAA,QAAQ,EAAC,KAAKC,kBAAL;AAA1I,OAAZ,EAAiL,KAAKhC,MAAL,CAAYiC,KAAZ,GAAkB;AAACJ,QAAAA,IAAI,EAACjS,CAAC,CAAC4N,KAAF,GAAQ,KAAKwC,MAAL,CAAY6B,IAA1B;AAA+BF,QAAAA,GAAG,EAAC/R,CAAC,CAAC6N,KAAF,GAAQ,KAAKuC,MAAL,CAAY2B;AAAvD,OAAnM;AAA+P,KAA/iG;AAAgjGxE,IAAAA,UAAU,EAAC,oBAASnN,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAG,KAAKiQ,gBAAL,KAAwB,KAAKZ,MAAL,CAAY1K,MAAZ,GAAmB,KAAKwM,gBAAL,EAA3C,GAAoE,KAAKd,QAAL,GAAc,KAAKC,iBAAL,CAAuBjR,CAAvB,EAAyB,CAAC,CAA1B,CAAlF,EAA+G,KAAK6Q,WAAL,GAAiB,KAAKqB,kBAAL,CAAwB,UAAxB,CAAhI,EAAoK,CAACvR,CAAxK,EAA0K;AAAC,YAAIV,CAAC,GAAC,KAAKkS,OAAL,EAAN;;AAAqB,YAAG,CAAC,CAAD,KAAK,KAAKtJ,QAAL,CAAc,MAAd,EAAqB7I,CAArB,EAAuBC,CAAvB,CAAR,EAAkC,OAAO,KAAKqM,QAAL,CAAc,EAAd,GAAkB,CAAC,CAA1B;AAA4B,aAAK0E,QAAL,GAAc/Q,CAAC,CAAC+Q,QAAhB;AAAyB;;AAAA,aAAO,KAAK5C,MAAL,CAAY,CAAZ,EAAe7F,KAAf,CAAqBsJ,IAArB,GAA0B,KAAKb,QAAL,CAAca,IAAd,GAAmB,IAA7C,EAAkD,KAAKzD,MAAL,CAAY,CAAZ,EAAe7F,KAAf,CAAqBoJ,GAArB,GAAyB,KAAKX,QAAL,CAAcW,GAAd,GAAkB,IAA7F,EAAkG/R,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,IAAgB3Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAerB,IAAf,CAAoB,IAApB,EAAyBlP,CAAzB,CAAlH,EAA8I,CAAC,CAAtJ;AAAwJ,KAAx/G;AAAy/GoN,IAAAA,UAAU,EAAC,oBAASpN,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,IAAN;AAAA,UAAWV,CAAC,GAAC,CAAC,CAAd;AAAgB,aAAOL,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,IAAgB,CAAC,KAAK1K,OAAL,CAAa0L,aAA9B,KAA8CtR,CAAC,GAACL,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAe6B,IAAf,CAAoB,IAApB,EAAyBpS,CAAzB,CAAhD,GAA6E,KAAKqS,OAAL,KAAepS,CAAC,GAAC,KAAKoS,OAAP,EAAe,KAAKA,OAAL,GAAa,CAAC,CAA5C,CAA7E,EAA4H,cAAY,KAAKxM,OAAL,CAAa2I,MAAzB,IAAiC,CAACvO,CAAlC,IAAqC,YAAU,KAAK4F,OAAL,CAAa2I,MAAvB,IAA+BvO,CAApE,IAAuE,CAAC,CAAD,KAAK,KAAK4F,OAAL,CAAa2I,MAAzF,IAAiG5O,CAAC,CAACgH,UAAF,CAAa,KAAKf,OAAL,CAAa2I,MAA1B,KAAmC,KAAK3I,OAAL,CAAa2I,MAAb,CAAoBvK,IAApB,CAAyB,KAAK0B,OAA9B,EAAsC1F,CAAtC,CAApI,GAA6KL,CAAC,CAAC,KAAKwO,MAAN,CAAD,CAAekE,OAAf,CAAuB,KAAKvB,gBAA5B,EAA6C1L,QAAQ,CAAC,KAAKQ,OAAL,CAAa4I,cAAd,EAA6B,EAA7B,CAArD,EAAsF,YAAU;AAAC,SAAC,CAAD,KAAK9N,CAAC,CAACkI,QAAF,CAAW,MAAX,EAAkB7I,CAAlB,CAAL,IAA2BW,CAAC,CAAC2Q,MAAF,EAA3B;AAAsC,OAAvI,CAA7K,GAAsT,CAAC,CAAD,KAAK,KAAKzI,QAAL,CAAc,MAAd,EAAqB7I,CAArB,CAAL,IAA8B,KAAKsR,MAAL,EAAhd,EAA8d,CAAC,CAAte;AAAwe,KAAxgI;AAAygIhF,IAAAA,QAAQ,EAAC,kBAAStM,CAAT,EAAW;AAAC,aAAO,KAAKiQ,cAAL,IAAsBrQ,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,IAAgB3Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAegC,QAAf,CAAwB,IAAxB,EAA6BvS,CAA7B,CAAtC,EAAsE,KAAKkQ,aAAL,CAAmBV,EAAnB,CAAsBxP,CAAC,CAACqI,MAAxB,KAAiC,KAAK1C,OAAL,CAAahB,KAAb,EAAvG,EAA4H/E,CAAC,CAAC0B,EAAF,CAAKoM,KAAL,CAAWlI,SAAX,CAAqB8G,QAArB,CAA8BrI,IAA9B,CAAmC,IAAnC,EAAwCjE,CAAxC,CAAnI;AAA8K,KAA5sI;AAA6sI2L,IAAAA,MAAM,EAAC,kBAAU;AAAC,aAAO,KAAKyC,MAAL,CAAYoB,EAAZ,CAAe,wBAAf,IAAyC,KAAKlD,QAAL,CAAc,EAAd,CAAzC,GAA2D,KAAKgF,MAAL,EAA3D,EAAyE,IAAhF;AAAqF,KAApzI;AAAqzI3B,IAAAA,UAAU,EAAC,oBAAS3P,CAAT,EAAW;AAAC,aAAM,CAAC,KAAK6F,OAAL,CAAasI,MAAd,IAAsB,CAAC,CAACvO,CAAC,CAACI,CAAC,CAACqI,MAAH,CAAD,CAAYoE,OAAZ,CAAoB,KAAK9G,OAAL,CAAamK,IAAb,CAAkB,KAAKjK,OAAL,CAAasI,MAA/B,CAApB,EAA4D9M,MAA1F;AAAiG,KAA76I;AAA86IiO,IAAAA,mBAAmB,EAAC,+BAAU;AAAC,WAAKY,aAAL,GAAmB,KAAKrK,OAAL,CAAasI,MAAb,GAAoB,KAAKxI,OAAL,CAAamK,IAAb,CAAkB,KAAKjK,OAAL,CAAasI,MAA/B,CAApB,GAA2D,KAAKxI,OAAnF,EAA2F,KAAKuK,aAAL,CAAmB5F,QAAnB,CAA4B,qBAA5B,CAA3F;AAA8I,KAA3lJ;AAA4lJiF,IAAAA,sBAAsB,EAAC,kCAAU;AAAC,WAAKW,aAAL,CAAmBjH,WAAnB,CAA+B,qBAA/B;AAAsD,KAAprJ;AAAqrJoH,IAAAA,aAAa,EAAC,uBAASrQ,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,KAAKkF,OAAX;AAAA,UAAmB5F,CAAC,GAACL,CAAC,CAACgH,UAAF,CAAajG,CAAC,CAACyN,MAAf,CAArB;AAAA,UAA4ClO,CAAC,GAACD,CAAC,GAACL,CAAC,CAACe,CAAC,CAACyN,MAAF,CAASvJ,KAAT,CAAe,KAAKc,OAAL,CAAa,CAAb,CAAf,EAA+B,CAAC3F,CAAD,CAA/B,CAAD,CAAF,GAAwC,YAAUW,CAAC,CAACyN,MAAZ,GAAmB,KAAKzI,OAAL,CAAa6M,KAAb,GAAqBrP,UAArB,CAAgC,IAAhC,CAAnB,GAAyD,KAAKwC,OAArJ;AAA6J,aAAOzF,CAAC,CAACe,OAAF,CAAU,MAAV,EAAkBI,MAAlB,IAA0BnB,CAAC,CAAC0N,QAAF,CAAW,aAAWjN,CAAC,CAACiN,QAAb,GAAsB,KAAKjI,OAAL,CAAa,CAAb,EAAgBnF,UAAtC,GAAiDG,CAAC,CAACiN,QAA9D,CAA1B,EAAkG3N,CAAC,IAAEC,CAAC,CAAC,CAAD,CAAD,KAAO,KAAKyF,OAAL,CAAa,CAAb,CAAV,IAA2B,KAAK0J,oBAAL,EAA7H,EAAyJnP,CAAC,CAAC,CAAD,CAAD,KAAO,KAAKyF,OAAL,CAAa,CAAb,CAAP,IAAwB,mBAAmB/E,IAAnB,CAAwBV,CAAC,CAACkB,GAAF,CAAM,UAAN,CAAxB,CAAxB,IAAoElB,CAAC,CAACkB,GAAF,CAAM,UAAN,EAAiB,UAAjB,CAA7N,EAA0PlB,CAAjQ;AAAmQ,KAA/mK;AAAgnKmP,IAAAA,oBAAoB,EAAC,gCAAU;AAAC,mBAAazO,IAAb,CAAkB,KAAK+E,OAAL,CAAavE,GAAb,CAAiB,UAAjB,CAAlB,MAAkD,KAAKuE,OAAL,CAAa,CAAb,EAAgB4C,KAAhB,CAAsByI,QAAtB,GAA+B,UAAjF;AAA6F,KAA7uK;AAA8uKI,IAAAA,uBAAuB,EAAC,iCAASpR,CAAT,EAAW;AAAC,kBAAU,OAAOA,CAAjB,KAAqBA,CAAC,GAACA,CAAC,CAACuG,KAAF,CAAQ,GAAR,CAAvB,GAAqC3G,CAAC,CAAC6S,OAAF,CAAUzS,CAAV,MAAeA,CAAC,GAAC;AAAC6R,QAAAA,IAAI,EAAC,CAAC7R,CAAC,CAAC,CAAD,CAAR;AAAY2R,QAAAA,GAAG,EAAC,CAAC3R,CAAC,CAAC,CAAD,CAAF,IAAO;AAAvB,OAAjB,CAArC,EAAiF,UAASA,CAAT,KAAa,KAAKgQ,MAAL,CAAYiC,KAAZ,CAAkBJ,IAAlB,GAAuB7R,CAAC,CAAC6R,IAAF,GAAO,KAAKD,OAAL,CAAaC,IAAxD,CAAjF,EAA+I,WAAU7R,CAAV,KAAc,KAAKgQ,MAAL,CAAYiC,KAAZ,CAAkBJ,IAAlB,GAAuB,KAAKa,iBAAL,CAAuBC,KAAvB,GAA6B3S,CAAC,CAAC4S,KAA/B,GAAqC,KAAKhB,OAAL,CAAaC,IAAvF,CAA/I,EAA4O,SAAQ7R,CAAR,KAAY,KAAKgQ,MAAL,CAAYiC,KAAZ,CAAkBN,GAAlB,GAAsB3R,CAAC,CAAC2R,GAAF,GAAM,KAAKC,OAAL,CAAaD,GAArD,CAA5O,EAAsS,YAAW3R,CAAX,KAAe,KAAKgQ,MAAL,CAAYiC,KAAZ,CAAkBN,GAAlB,GAAsB,KAAKe,iBAAL,CAAuBG,MAAvB,GAA8B7S,CAAC,CAAC8S,MAAhC,GAAuC,KAAKlB,OAAL,CAAaD,GAAzF,CAAtS;AAAoY,KAAtpL;AAAupLoB,IAAAA,WAAW,EAAC,qBAASnT,CAAT,EAAW;AAAC,aAAM,eAAegB,IAAf,CAAoBhB,CAAC,CAACoT,OAAtB,KAAgCpT,CAAC,KAAG,KAAKkD,QAAL,CAAc,CAAd,CAA1C;AAA2D,KAA1uL;AAA2uLgP,IAAAA,gBAAgB,EAAC,4BAAU;AAAC,UAAI9R,CAAC,GAAC,KAAK2Q,YAAL,CAAkBX,MAAlB,EAAN;AAAA,UAAiCrP,CAAC,GAAC,KAAKmC,QAAL,CAAc,CAAd,CAAnC;AAAoD,aAAM,eAAa,KAAK4N,WAAlB,IAA+B,KAAK/N,YAAL,CAAkB,CAAlB,MAAuBhC,CAAtD,IAAyDf,CAAC,CAACqT,QAAF,CAAW,KAAKtQ,YAAL,CAAkB,CAAlB,CAAX,EAAgC,KAAKgO,YAAL,CAAkB,CAAlB,CAAhC,CAAzD,KAAiH3Q,CAAC,CAAC6R,IAAF,IAAQ,KAAKlP,YAAL,CAAkBuQ,UAAlB,EAAR,EAAuClT,CAAC,CAAC2R,GAAF,IAAO,KAAKhP,YAAL,CAAkBwQ,SAAlB,EAA/J,GAA8L,KAAKJ,WAAL,CAAiB,KAAKpC,YAAL,CAAkB,CAAlB,CAAjB,MAAyC3Q,CAAC,GAAC;AAAC2R,QAAAA,GAAG,EAAC,CAAL;AAAOE,QAAAA,IAAI,EAAC;AAAZ,OAA3C,CAA9L,EAAyP;AAACF,QAAAA,GAAG,EAAC3R,CAAC,CAAC2R,GAAF,IAAOtM,QAAQ,CAAC,KAAKsL,YAAL,CAAkBvP,GAAlB,CAAsB,gBAAtB,CAAD,EAAyC,EAAzC,CAAR,IAAsD,CAA7D,CAAL;AAAqEyQ,QAAAA,IAAI,EAAC7R,CAAC,CAAC6R,IAAF,IAAQxM,QAAQ,CAAC,KAAKsL,YAAL,CAAkBvP,GAAlB,CAAsB,iBAAtB,CAAD,EAA0C,EAA1C,CAAR,IAAuD,CAA/D;AAA1E,OAA/P;AAA4Y,KAAvsM;AAAwsM4Q,IAAAA,kBAAkB,EAAC,8BAAU;AAAC,UAAG,eAAa,KAAKtB,WAArB,EAAiC,OAAM;AAACiB,QAAAA,GAAG,EAAC,CAAL;AAAOE,QAAAA,IAAI,EAAC;AAAZ,OAAN;;AAAqB,UAAIjS,CAAC,GAAC,KAAK+F,OAAL,CAAaqL,QAAb,EAAN;AAAA,UAA8BhR,CAAC,GAAC,KAAK+S,WAAL,CAAiB,KAAKpQ,YAAL,CAAkB,CAAlB,CAAjB,CAAhC;;AAAuE,aAAM;AAACgP,QAAAA,GAAG,EAAC/R,CAAC,CAAC+R,GAAF,IAAOtM,QAAQ,CAAC,KAAK+I,MAAL,CAAYhN,GAAZ,CAAgB,KAAhB,CAAD,EAAwB,EAAxB,CAAR,IAAqC,CAA5C,KAAgDpB,CAAC,GAAC,CAAD,GAAG,KAAK2C,YAAL,CAAkBwQ,SAAlB,EAApD,CAAL;AAAwFtB,QAAAA,IAAI,EAACjS,CAAC,CAACiS,IAAF,IAAQxM,QAAQ,CAAC,KAAK+I,MAAL,CAAYhN,GAAZ,CAAgB,MAAhB,CAAD,EAAyB,EAAzB,CAAR,IAAsC,CAA9C,KAAkDpB,CAAC,GAAC,CAAD,GAAG,KAAK2C,YAAL,CAAkBuQ,UAAlB,EAAtD;AAA7F,OAAN;AAA0L,KAA7hN;AAA8hNzC,IAAAA,aAAa,EAAC,yBAAU;AAAC,WAAKmB,OAAL,GAAa;AAACC,QAAAA,IAAI,EAACxM,QAAQ,CAAC,KAAKM,OAAL,CAAavE,GAAb,CAAiB,YAAjB,CAAD,EAAgC,EAAhC,CAAR,IAA6C,CAAnD;AAAqDuQ,QAAAA,GAAG,EAACtM,QAAQ,CAAC,KAAKM,OAAL,CAAavE,GAAb,CAAiB,WAAjB,CAAD,EAA+B,EAA/B,CAAR,IAA4C,CAArG;AAAuGwR,QAAAA,KAAK,EAACvN,QAAQ,CAAC,KAAKM,OAAL,CAAavE,GAAb,CAAiB,aAAjB,CAAD,EAAiC,EAAjC,CAAR,IAA8C,CAA3J;AAA6J0R,QAAAA,MAAM,EAACzN,QAAQ,CAAC,KAAKM,OAAL,CAAavE,GAAb,CAAiB,cAAjB,CAAD,EAAkC,EAAlC,CAAR,IAA+C;AAAnN,OAAb;AAAmO,KAA1xN;AAA2xNkP,IAAAA,uBAAuB,EAAC,mCAAU;AAAC,WAAKoC,iBAAL,GAAuB;AAACC,QAAAA,KAAK,EAAC,KAAKvE,MAAL,CAAY1K,UAAZ,EAAP;AAAgCmP,QAAAA,MAAM,EAAC,KAAKzE,MAAL,CAAYrK,WAAZ;AAAvC,OAAvB;AAAyF,KAAv5N;AAAw5NsN,IAAAA,eAAe,EAAC,2BAAU;AAAC,UAAIrR,CAAJ;AAAA,UAAMW,CAAN;AAAA,UAAQV,CAAR;AAAA,UAAUC,CAAC,GAAC,KAAK2F,OAAjB;AAAA,UAAyB1F,CAAC,GAAC,KAAK2C,QAAL,CAAc,CAAd,CAA3B;AAA4C,WAAKsQ,iBAAL,GAAuB,IAAvB,EAA4BlT,CAAC,CAAC6N,WAAF,GAAc,aAAW7N,CAAC,CAAC6N,WAAb,GAAyB,eAAa7N,CAAC,CAAC6N,WAAf,GAA2B7N,CAAC,CAAC6N,WAAF,CAAc/G,WAAd,KAA4BjB,KAA5B,IAAmC,aAAW7F,CAAC,CAAC6N,WAAb,KAA2B7N,CAAC,CAAC6N,WAAF,GAAc,KAAKK,MAAL,CAAY,CAAZ,EAAe5N,UAAxD,GAAoE,CAACP,CAAC,GAAC,CAACU,CAAC,GAACf,CAAC,CAACM,CAAC,CAAC6N,WAAH,CAAJ,EAAqB,CAArB,CAAH,MAA8B/N,CAAC,GAAC,gBAAgBY,IAAhB,CAAqBD,CAAC,CAACS,GAAF,CAAM,UAAN,CAArB,CAAF,EAA0C,KAAK2M,WAAL,GAAiB,CAAC,CAAC1I,QAAQ,CAAC1E,CAAC,CAACS,GAAF,CAAM,iBAAN,CAAD,EAA0B,EAA1B,CAAR,IAAuC,CAAxC,KAA4CiE,QAAQ,CAAC1E,CAAC,CAACS,GAAF,CAAM,aAAN,CAAD,EAAsB,EAAtB,CAAR,IAAmC,CAA/E,CAAD,EAAmF,CAACiE,QAAQ,CAAC1E,CAAC,CAACS,GAAF,CAAM,gBAAN,CAAD,EAAyB,EAAzB,CAAR,IAAsC,CAAvC,KAA2CiE,QAAQ,CAAC1E,CAAC,CAACS,GAAF,CAAM,YAAN,CAAD,EAAqB,EAArB,CAAR,IAAkC,CAA7E,CAAnF,EAAmK,CAACpB,CAAC,GAACqN,IAAI,CAACC,GAAL,CAASrN,CAAC,CAACoT,WAAX,EAAuBpT,CAAC,CAACqT,WAAzB,CAAD,GAAuCrT,CAAC,CAACqT,WAA3C,KAAyDjO,QAAQ,CAAC1E,CAAC,CAACS,GAAF,CAAM,kBAAN,CAAD,EAA2B,EAA3B,CAAR,IAAwC,CAAjG,KAAqGiE,QAAQ,CAAC1E,CAAC,CAACS,GAAF,CAAM,cAAN,CAAD,EAAuB,EAAvB,CAAR,IAAoC,CAAzI,IAA4I,KAAKsR,iBAAL,CAAuBC,KAAnK,GAAyK,KAAKf,OAAL,CAAaC,IAAtL,GAA2L,KAAKD,OAAL,CAAagB,KAA3W,EAAiX,CAAC5S,CAAC,GAACqN,IAAI,CAACC,GAAL,CAASrN,CAAC,CAACsT,YAAX,EAAwBtT,CAAC,CAACuT,YAA1B,CAAD,GAAyCvT,CAAC,CAACuT,YAA7C,KAA4DnO,QAAQ,CAAC1E,CAAC,CAACS,GAAF,CAAM,mBAAN,CAAD,EAA4B,EAA5B,CAAR,IAAyC,CAArG,KAAyGiE,QAAQ,CAAC1E,CAAC,CAACS,GAAF,CAAM,eAAN,CAAD,EAAwB,EAAxB,CAAR,IAAqC,CAA9I,IAAiJ,KAAKsR,iBAAL,CAAuBG,MAAxK,GAA+K,KAAKjB,OAAL,CAAaD,GAA5L,GAAgM,KAAKC,OAAL,CAAakB,MAA9jB,CAA3D,EAAioB,KAAKM,iBAAL,GAAuBzS,CAAtrB,CAAvG,IAAiyB,KAAKoN,WAAL,GAAiB7N,CAAC,CAAC6N,WAA/0B,GAA21B,KAAKA,WAAL,GAAiB,CAAC,CAAD,EAAG,CAAH,EAAKnO,CAAC,CAACO,CAAD,CAAD,CAAKwS,KAAL,KAAa,KAAKD,iBAAL,CAAuBC,KAApC,GAA0C,KAAKf,OAAL,CAAaC,IAA5D,EAAiE,CAACjS,CAAC,CAACO,CAAD,CAAD,CAAK0S,MAAL,MAAe1S,CAAC,CAACsT,IAAF,CAAOjT,UAAP,CAAkB+S,YAAlC,IAAgD,KAAKb,iBAAL,CAAuBG,MAAvE,GAA8E,KAAKjB,OAAL,CAAaD,GAA5J,CAAr4B,GAAsiC,KAAK5D,WAAL,GAAiB,CAACnO,CAAC,CAAC4I,MAAD,CAAD,CAAU0K,UAAV,KAAuB,KAAKlD,MAAL,CAAY+B,QAAZ,CAAqBF,IAA5C,GAAiD,KAAK7B,MAAL,CAAY1K,MAAZ,CAAmBuM,IAArE,EAA0EjS,CAAC,CAAC4I,MAAD,CAAD,CAAU2K,SAAV,KAAsB,KAAKnD,MAAL,CAAY+B,QAAZ,CAAqBJ,GAA3C,GAA+C,KAAK3B,MAAL,CAAY1K,MAAZ,CAAmBqM,GAA5I,EAAgJ/R,CAAC,CAAC4I,MAAD,CAAD,CAAU0K,UAAV,KAAuBtT,CAAC,CAAC4I,MAAD,CAAD,CAAUmK,KAAV,EAAvB,GAAyC,KAAKD,iBAAL,CAAuBC,KAAhE,GAAsE,KAAKf,OAAL,CAAaC,IAAnO,EAAwOjS,CAAC,CAAC4I,MAAD,CAAD,CAAU2K,SAAV,MAAuBvT,CAAC,CAAC4I,MAAD,CAAD,CAAUqK,MAAV,MAAoB1S,CAAC,CAACsT,IAAF,CAAOjT,UAAP,CAAkB+S,YAA7D,IAA2E,KAAKb,iBAAL,CAAuBG,MAAlG,GAAyG,KAAKjB,OAAL,CAAaD,GAA9V,CAArkC,GAAw6C,KAAK5D,WAAL,GAAiB,IAAr9C;AAA09C,KAAz7Q;AAA07QmE,IAAAA,kBAAkB,EAAC,4BAAStS,CAAT,EAAWI,CAAX,EAAa;AAACA,MAAAA,CAAC,KAAGA,CAAC,GAAC,KAAKgR,QAAV,CAAD;;AAAqB,UAAIrQ,CAAC,GAAC,eAAaf,CAAb,GAAe,CAAf,GAAiB,CAAC,CAAxB;AAAA,UAA0BK,CAAC,GAAC,KAAK8S,WAAL,CAAiB,KAAKpQ,YAAL,CAAkB,CAAlB,CAAjB,CAA5B;;AAAmE,aAAM;AAACgP,QAAAA,GAAG,EAAC3R,CAAC,CAAC2R,GAAF,GAAM,KAAK3B,MAAL,CAAY+B,QAAZ,CAAqBJ,GAArB,GAAyBhR,CAA/B,GAAiC,KAAKqP,MAAL,CAAY1K,MAAZ,CAAmBqM,GAAnB,GAAuBhR,CAAxD,GAA0D,CAAC,YAAU,KAAK+P,WAAf,GAA2B,CAAC,KAAKV,MAAL,CAAYrB,MAAZ,CAAmBgD,GAA/C,GAAmD1R,CAAC,GAAC,CAAD,GAAG,KAAK+P,MAAL,CAAYrB,MAAZ,CAAmBgD,GAA3E,IAAgFhR,CAA/I;AAAiJkR,QAAAA,IAAI,EAAC7R,CAAC,CAAC6R,IAAF,GAAO,KAAK7B,MAAL,CAAY+B,QAAZ,CAAqBF,IAArB,GAA0BlR,CAAjC,GAAmC,KAAKqP,MAAL,CAAY1K,MAAZ,CAAmBuM,IAAnB,GAAwBlR,CAA3D,GAA6D,CAAC,YAAU,KAAK+P,WAAf,GAA2B,CAAC,KAAKV,MAAL,CAAYrB,MAAZ,CAAmBkD,IAA/C,GAAoD5R,CAAC,GAAC,CAAD,GAAG,KAAK+P,MAAL,CAAYrB,MAAZ,CAAmBkD,IAA5E,IAAkFlR;AAArS,OAAN;AAA8S,KAAj2R;AAAk2RsQ,IAAAA,iBAAiB,EAAC,2BAASrR,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAC,GAAC,KAAKyF,OAAnB;AAAA,UAA2BxF,CAAC,GAAC,KAAK0S,WAAL,CAAiB,KAAKpQ,YAAL,CAAkB,CAAlB,CAAjB,CAA7B;AAAA,UAAoEmD,CAAC,GAAClG,CAAC,CAAC4N,KAAxE;AAAA,UAA8ElH,CAAC,GAAC1G,CAAC,CAAC6N,KAAlF;;AAAwF,aAAOpN,CAAC,IAAE,KAAK2P,MAAL,CAAYrB,MAAf,KAAwB,KAAKqB,MAAL,CAAYrB,MAAZ,GAAmB;AAACgD,QAAAA,GAAG,EAAC,KAAKhP,YAAL,CAAkBwQ,SAAlB,EAAL;AAAmCtB,QAAAA,IAAI,EAAC,KAAKlP,YAAL,CAAkBuQ,UAAlB;AAAxC,OAA3C,GAAoHlT,CAAC,KAAG,KAAK+N,WAAL,KAAmB,KAAKqF,iBAAL,IAAwBnT,CAAC,GAAC,KAAKmT,iBAAL,CAAuBpD,MAAvB,EAAF,EAAkCrP,CAAC,GAAC,CAAC,KAAKoN,WAAL,CAAiB,CAAjB,IAAoB9N,CAAC,CAAC4R,IAAvB,EAA4B,KAAK9D,WAAL,CAAiB,CAAjB,IAAoB9N,CAAC,CAAC0R,GAAlD,EAAsD,KAAK5D,WAAL,CAAiB,CAAjB,IAAoB9N,CAAC,CAAC4R,IAA5E,EAAiF,KAAK9D,WAAL,CAAiB,CAAjB,IAAoB9N,CAAC,CAAC0R,GAAvG,CAA5D,IAAyKhR,CAAC,GAAC,KAAKoN,WAAhL,EAA4LnO,CAAC,CAAC4N,KAAF,GAAQ,KAAKwC,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA1B,GAA+BlR,CAAC,CAAC,CAAD,CAAhC,KAAsCmF,CAAC,GAACnF,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKqP,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA/D,CAA5L,EAAiQjS,CAAC,CAAC6N,KAAF,GAAQ,KAAKuC,MAAL,CAAYiC,KAAZ,CAAkBN,GAA1B,GAA8BhR,CAAC,CAAC,CAAD,CAA/B,KAAqC2F,CAAC,GAAC3F,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKqP,MAAL,CAAYiC,KAAZ,CAAkBN,GAA9D,CAAjQ,EAAoU/R,CAAC,CAAC4N,KAAF,GAAQ,KAAKwC,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA1B,GAA+BlR,CAAC,CAAC,CAAD,CAAhC,KAAsCmF,CAAC,GAACnF,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKqP,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA/D,CAApU,EAAyYjS,CAAC,CAAC6N,KAAF,GAAQ,KAAKuC,MAAL,CAAYiC,KAAZ,CAAkBN,GAA1B,GAA8BhR,CAAC,CAAC,CAAD,CAA/B,KAAqC2F,CAAC,GAAC3F,CAAC,CAAC,CAAD,CAAD,GAAK,KAAKqP,MAAL,CAAYiC,KAAZ,CAAkBN,GAA9D,CAA5Z,GAAgevR,CAAC,CAAC8N,IAAF,KAAShO,CAAC,GAACE,CAAC,CAAC8N,IAAF,CAAO,CAAP,IAAU,KAAKiD,aAAL,GAAmB9D,IAAI,CAACqG,KAAL,CAAW,CAACpN,CAAC,GAAC,KAAK6K,aAAR,IAAuB/Q,CAAC,CAAC8N,IAAF,CAAO,CAAP,CAAlC,IAA6C9N,CAAC,CAAC8N,IAAF,CAAO,CAAP,CAA1E,GAAoF,KAAKiD,aAA3F,EAAyG7K,CAAC,GAAC3F,CAAC,GAACT,CAAC,GAAC,KAAK8P,MAAL,CAAYiC,KAAZ,CAAkBN,GAApB,IAAyBhR,CAAC,CAAC,CAAD,CAA1B,IAA+BT,CAAC,GAAC,KAAK8P,MAAL,CAAYiC,KAAZ,CAAkBN,GAApB,GAAwBhR,CAAC,CAAC,CAAD,CAAxD,GAA4DT,CAA5D,GAA8DA,CAAC,GAAC,KAAK8P,MAAL,CAAYiC,KAAZ,CAAkBN,GAApB,IAAyBhR,CAAC,CAAC,CAAD,CAA1B,GAA8BT,CAAC,GAACE,CAAC,CAAC8N,IAAF,CAAO,CAAP,CAAhC,GAA0ChO,CAAC,GAACE,CAAC,CAAC8N,IAAF,CAAO,CAAP,CAA3G,GAAqHhO,CAAjO,EAAmOC,CAAC,GAACC,CAAC,CAAC8N,IAAF,CAAO,CAAP,IAAU,KAAKgD,aAAL,GAAmB7D,IAAI,CAACqG,KAAL,CAAW,CAAC5N,CAAC,GAAC,KAAKoL,aAAR,IAAuB9Q,CAAC,CAAC8N,IAAF,CAAO,CAAP,CAAlC,IAA6C9N,CAAC,CAAC8N,IAAF,CAAO,CAAP,CAA1E,GAAoF,KAAKgD,aAA9T,EAA4UpL,CAAC,GAACnF,CAAC,GAACR,CAAC,GAAC,KAAK6P,MAAL,CAAYiC,KAAZ,CAAkBJ,IAApB,IAA0BlR,CAAC,CAAC,CAAD,CAA3B,IAAgCR,CAAC,GAAC,KAAK6P,MAAL,CAAYiC,KAAZ,CAAkBJ,IAApB,GAAyBlR,CAAC,CAAC,CAAD,CAA1D,GAA8DR,CAA9D,GAAgEA,CAAC,GAAC,KAAK6P,MAAL,CAAYiC,KAAZ,CAAkBJ,IAApB,IAA0BlR,CAAC,CAAC,CAAD,CAA3B,GAA+BR,CAAC,GAACC,CAAC,CAAC8N,IAAF,CAAO,CAAP,CAAjC,GAA2C/N,CAAC,GAACC,CAAC,CAAC8N,IAAF,CAAO,CAAP,CAA9G,GAAwH/N,CAAhd,CAAhe,EAAm7B,QAAMC,CAAC,CAACyN,IAAR,KAAe/H,CAAC,GAAC,KAAKoL,aAAtB,CAAn7B,EAAw9B,QAAM9Q,CAAC,CAACyN,IAAR,KAAevH,CAAC,GAAC,KAAK6K,aAAtB,CAA39B,CAArH,EAAsnC;AAACQ,QAAAA,GAAG,EAACrL,CAAC,GAAC,KAAK0J,MAAL,CAAYiC,KAAZ,CAAkBN,GAApB,GAAwB,KAAK3B,MAAL,CAAY+B,QAAZ,CAAqBJ,GAA7C,GAAiD,KAAK3B,MAAL,CAAY1K,MAAZ,CAAmBqM,GAApE,IAAyE,YAAU,KAAKjB,WAAf,GAA2B,CAAC,KAAKV,MAAL,CAAYrB,MAAZ,CAAmBgD,GAA/C,GAAmDtR,CAAC,GAAC,CAAD,GAAG,KAAK2P,MAAL,CAAYrB,MAAZ,CAAmBgD,GAAnJ,CAAL;AAA6JE,QAAAA,IAAI,EAAC/L,CAAC,GAAC,KAAKkK,MAAL,CAAYiC,KAAZ,CAAkBJ,IAApB,GAAyB,KAAK7B,MAAL,CAAY+B,QAAZ,CAAqBF,IAA9C,GAAmD,KAAK7B,MAAL,CAAY1K,MAAZ,CAAmBuM,IAAtE,IAA4E,YAAU,KAAKnB,WAAf,GAA2B,CAAC,KAAKV,MAAL,CAAYrB,MAAZ,CAAmBkD,IAA/C,GAAoDxR,CAAC,GAAC,CAAD,GAAG,KAAK2P,MAAL,CAAYrB,MAAZ,CAAmBkD,IAAvJ;AAAlK,OAA7nC;AAA67C,KAAv5U;AAAw5UP,IAAAA,MAAM,EAAC,kBAAU;AAAC,WAAKlD,MAAL,CAAYnF,WAAZ,CAAwB,uBAAxB,GAAiD,KAAKmF,MAAL,CAAY,CAAZ,MAAiB,KAAKzI,OAAL,CAAa,CAAb,CAAjB,IAAkC,KAAKgO,mBAAvC,IAA4D,KAAKvF,MAAL,CAAYjI,MAAZ,EAA7G,EAAkI,KAAKiI,MAAL,GAAY,IAA9I,EAAmJ,KAAKuF,mBAAL,GAAyB,CAAC,CAA7K,EAA+K,KAAKlE,cAAL,IAAqB,KAAKnH,OAAL,EAApM;AAAmN,KAA7nV;AAA8nVmJ,IAAAA,qBAAqB,EAAC,iCAAU;AAAC,cAAM,KAAK5L,OAAL,CAAagI,IAAnB,IAAyB,WAAS,KAAKO,MAAL,CAAYhN,GAAZ,CAAgB,OAAhB,CAAlC,KAA6D,KAAKgN,MAAL,CAAYuE,KAAZ,CAAkB,KAAKvE,MAAL,CAAYuE,KAAZ,EAAlB,GAAuC,KAAKvE,MAAL,CAAYhN,GAAZ,CAAgB,OAAhB,EAAwB,MAAxB,CAApG,GAAqI,QAAM,KAAKyE,OAAL,CAAagI,IAAnB,IAAyB,WAAS,KAAKO,MAAL,CAAYhN,GAAZ,CAAgB,QAAhB,CAAlC,KAA8D,KAAKgN,MAAL,CAAYyE,MAAZ,CAAmB,KAAKzE,MAAL,CAAYyE,MAAZ,EAAnB,GAAyC,KAAKzE,MAAL,CAAYhN,GAAZ,CAAgB,QAAhB,EAAyB,MAAzB,CAAvG,CAArI;AAA8Q,KAA76V;AAA86VyH,IAAAA,QAAQ,EAAC,kBAAS7I,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,aAAOA,CAAC,GAACA,CAAC,IAAE,KAAKkS,OAAL,EAAL,EAAoBvS,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYtB,IAAZ,CAAiB,IAAjB,EAAsBjE,CAAtB,EAAwB,CAACW,CAAD,EAAGV,CAAH,EAAK,IAAL,CAAxB,EAAmC,CAAC,CAApC,CAApB,EAA2D,qBAAqBW,IAArB,CAA0BZ,CAA1B,MAA+B,KAAK6Q,WAAL,GAAiB,KAAKqB,kBAAL,CAAwB,UAAxB,CAAjB,EAAqDjS,CAAC,CAAC+P,MAAF,GAAS,KAAKa,WAAlG,CAA3D,EAA0KjR,CAAC,CAAC4G,MAAF,CAAShB,SAAT,CAAmBqD,QAAnB,CAA4B5E,IAA5B,CAAiC,IAAjC,EAAsCjE,CAAtC,EAAwCW,CAAxC,EAA0CV,CAA1C,CAAjL;AAA8N,KAArqW;AAAsqWwF,IAAAA,OAAO,EAAC,EAA9qW;AAAirW0M,IAAAA,OAAO,EAAC,mBAAU;AAAC,aAAM;AAAC/D,QAAAA,MAAM,EAAC,KAAKA,MAAb;AAAoB4C,QAAAA,QAAQ,EAAC,KAAKA,QAAlC;AAA2CD,QAAAA,gBAAgB,EAAC,KAAKA,gBAAjE;AAAkFf,QAAAA,MAAM,EAAC,KAAKa;AAA9F,OAAN;AAAiH;AAArzW,GAAnC,GAA21WjR,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,mBAA5B,EAAgD;AAACiL,IAAAA,KAAK,EAAC,eAASnP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACN,CAAC,CAAC2B,MAAF,CAAS,EAAT,EAAYZ,CAAZ,EAAc;AAACiT,QAAAA,IAAI,EAAC3T,CAAC,CAAC0F;AAAR,OAAd,CAAN;AAAsC1F,MAAAA,CAAC,CAAC4T,SAAF,GAAY,EAAZ,EAAejU,CAAC,CAACK,CAAC,CAAC4F,OAAF,CAAUiI,iBAAX,CAAD,CAA+B9K,IAA/B,CAAoC,YAAU;AAAC,YAAIrC,CAAC,GAACf,CAAC,CAAC,IAAD,CAAD,CAAQkU,QAAR,CAAiB,UAAjB,CAAN;AAAmCnT,QAAAA,CAAC,IAAE,CAACA,CAAC,CAACkF,OAAF,CAAUhF,QAAd,KAAyBZ,CAAC,CAAC4T,SAAF,CAAYnO,IAAZ,CAAiB/E,CAAjB,GAAoBA,CAAC,CAAC4N,gBAAF,EAApB,EAAyC5N,CAAC,CAACkI,QAAF,CAAW,UAAX,EAAsB7I,CAAtB,EAAwBE,CAAxB,CAAlE;AAA8F,OAAhL,CAAf;AAAiM,KAA9P;AAA+PkP,IAAAA,IAAI,EAAC,cAASpP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACN,CAAC,CAAC2B,MAAF,CAAS,EAAT,EAAYZ,CAAZ,EAAc;AAACiT,QAAAA,IAAI,EAAC3T,CAAC,CAAC0F;AAAR,OAAd,CAAN;AAAsC1F,MAAAA,CAAC,CAAC0T,mBAAF,GAAsB,CAAC,CAAvB,EAAyB/T,CAAC,CAACoD,IAAF,CAAO/C,CAAC,CAAC4T,SAAT,EAAmB,YAAU;AAAC,YAAIjU,CAAC,GAAC,IAAN;AAAWA,QAAAA,CAAC,CAACmU,MAAF,IAAUnU,CAAC,CAACmU,MAAF,GAAS,CAAT,EAAW9T,CAAC,CAAC0T,mBAAF,GAAsB,CAAC,CAAlC,EAAoC/T,CAAC,CAAC+T,mBAAF,GAAsB,CAAC,CAA3D,EAA6D/T,CAAC,CAACoU,UAAF,GAAa;AAAChD,UAAAA,QAAQ,EAACpR,CAAC,CAACqU,WAAF,CAAc7S,GAAd,CAAkB,UAAlB,CAAV;AAAwCuQ,UAAAA,GAAG,EAAC/R,CAAC,CAACqU,WAAF,CAAc7S,GAAd,CAAkB,KAAlB,CAA5C;AAAqEyQ,UAAAA,IAAI,EAACjS,CAAC,CAACqU,WAAF,CAAc7S,GAAd,CAAkB,MAAlB;AAA1E,SAA1E,EAA+KxB,CAAC,CAACwN,UAAF,CAAapN,CAAb,CAA/K,EAA+LJ,CAAC,CAACiG,OAAF,CAAUuI,MAAV,GAAiBxO,CAAC,CAACiG,OAAF,CAAUqO,OAApO,KAA8OtU,CAAC,CAAC+T,mBAAF,GAAsB,CAAC,CAAvB,EAAyB/T,CAAC,CAACiJ,QAAF,CAAW,YAAX,EAAwB7I,CAAxB,EAA0BE,CAA1B,CAAvQ;AAAqS,OAA9U,CAAzB;AAAyW,KAAnqB;AAAoqBgP,IAAAA,IAAI,EAAC,cAASlP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAACL,MAAAA,CAAC,CAACoD,IAAF,CAAO/C,CAAC,CAAC4T,SAAT,EAAmB,YAAU;AAAC,YAAI3T,CAAC,GAAC,CAAC,CAAP;AAAA,YAASC,CAAC,GAAC,IAAX;AAAgBA,QAAAA,CAAC,CAAC0Q,WAAF,GAAc5Q,CAAC,CAAC4Q,WAAhB,EAA4B1Q,CAAC,CAACuS,iBAAF,GAAoBzS,CAAC,CAACyS,iBAAlD,EAAoEvS,CAAC,CAAC6P,MAAF,CAASiC,KAAT,GAAehS,CAAC,CAAC+P,MAAF,CAASiC,KAA5F,EAAkG9R,CAAC,CAACgU,eAAF,CAAkBhU,CAAC,CAACiU,cAApB,MAAsClU,CAAC,GAAC,CAAC,CAAH,EAAKN,CAAC,CAACoD,IAAF,CAAO/C,CAAC,CAAC4T,SAAT,EAAmB,YAAU;AAAC,iBAAO,KAAKhD,WAAL,GAAiB5Q,CAAC,CAAC4Q,WAAnB,EAA+B,KAAK6B,iBAAL,GAAuBzS,CAAC,CAACyS,iBAAxD,EAA0E,KAAK1C,MAAL,CAAYiC,KAAZ,GAAkBhS,CAAC,CAAC+P,MAAF,CAASiC,KAArG,EAA2G,SAAO9R,CAAP,IAAU,KAAKgU,eAAL,CAAqB,KAAKC,cAA1B,CAAV,IAAqDxU,CAAC,CAACqT,QAAF,CAAW9S,CAAC,CAACwF,OAAF,CAAU,CAAV,CAAX,EAAwB,KAAKA,OAAL,CAAa,CAAb,CAAxB,CAArD,KAAgGzF,CAAC,GAAC,CAAC,CAAnG,CAA3G,EAAiNA,CAAxN;AAA0N,SAAxP,CAA3C,CAAlG,EAAwYA,CAAC,IAAEC,CAAC,CAAC4T,MAAF,KAAW5T,CAAC,CAAC4T,MAAF,GAAS,CAAT,EAAW5T,CAAC,CAACkU,WAAF,GAAc1T,CAAC,CAACyN,MAAF,CAASR,QAAT,CAAkBzN,CAAC,CAACwF,OAApB,EAA6BvC,IAA7B,CAAkC,kBAAlC,EAAqD,CAAC,CAAtD,CAAzB,EAAkFjD,CAAC,CAAC0F,OAAF,CAAUqO,OAAV,GAAkB/T,CAAC,CAAC0F,OAAF,CAAUuI,MAA9G,EAAqHjO,CAAC,CAAC0F,OAAF,CAAUuI,MAAV,GAAiB,YAAU;AAAC,iBAAOzN,CAAC,CAACyN,MAAF,CAAS,CAAT,CAAP;AAAmB,SAApK,EAAqKpO,CAAC,CAACqI,MAAF,GAASlI,CAAC,CAACkU,WAAF,CAAc,CAAd,CAA9K,EAA+LlU,CAAC,CAACuM,aAAF,CAAgB1M,CAAhB,EAAkB,CAAC,CAAnB,CAA/L,EAAqNG,CAAC,CAAC4M,WAAF,CAAc/M,CAAd,EAAgB,CAAC,CAAjB,EAAmB,CAAC,CAApB,CAArN,EAA4OG,CAAC,CAAC6P,MAAF,CAASiC,KAAT,CAAeN,GAAf,GAAmB1R,CAAC,CAAC+P,MAAF,CAASiC,KAAT,CAAeN,GAA9Q,EAAkRxR,CAAC,CAAC6P,MAAF,CAASiC,KAAT,CAAeJ,IAAf,GAAoB5R,CAAC,CAAC+P,MAAF,CAASiC,KAAT,CAAeJ,IAArT,EAA0T1R,CAAC,CAAC6P,MAAF,CAAS1K,MAAT,CAAgBuM,IAAhB,IAAsB5R,CAAC,CAAC+P,MAAF,CAAS1K,MAAT,CAAgBuM,IAAhB,GAAqB1R,CAAC,CAAC6P,MAAF,CAAS1K,MAAT,CAAgBuM,IAArX,EAA0X1R,CAAC,CAAC6P,MAAF,CAAS1K,MAAT,CAAgBqM,GAAhB,IAAqB1R,CAAC,CAAC+P,MAAF,CAAS1K,MAAT,CAAgBqM,GAAhB,GAAoBxR,CAAC,CAAC6P,MAAF,CAAS1K,MAAT,CAAgBqM,GAAnb,EAAub1R,CAAC,CAAC4I,QAAF,CAAW,YAAX,EAAwB7I,CAAxB,CAAvb,EAAkdC,CAAC,CAACoS,OAAF,GAAUlS,CAAC,CAACwF,OAA9d,EAAse/F,CAAC,CAACoD,IAAF,CAAO/C,CAAC,CAAC4T,SAAT,EAAmB,YAAU;AAAC,eAAKtF,gBAAL;AAAwB,SAAtD,CAAte,EAA8hBtO,CAAC,CAACoU,WAAF,GAAcpU,CAAC,CAAC0F,OAA9iB,EAAsjBxF,CAAC,CAACmU,WAAF,GAAcrU,CAA/kB,GAAklBE,CAAC,CAACkU,WAAF,KAAgBlU,CAAC,CAACgN,UAAF,CAAanN,CAAb,GAAgBW,CAAC,CAACqQ,QAAF,GAAW7Q,CAAC,CAAC6Q,QAA7C,CAAplB,IAA4oB7Q,CAAC,CAAC4T,MAAF,KAAW5T,CAAC,CAAC4T,MAAF,GAAS,CAAT,EAAW5T,CAAC,CAACwT,mBAAF,GAAsB,CAAC,CAAlC,EAAoCxT,CAAC,CAAC0F,OAAF,CAAU0O,OAAV,GAAkBpU,CAAC,CAAC0F,OAAF,CAAU2I,MAAhE,EAAuErO,CAAC,CAAC0F,OAAF,CAAU2I,MAAV,GAAiB,CAAC,CAAzF,EAA2FrO,CAAC,CAAC0I,QAAF,CAAW,KAAX,EAAiB7I,CAAjB,EAAmBG,CAAC,CAACgS,OAAF,CAAUhS,CAAV,CAAnB,CAA3F,EAA4HA,CAAC,CAACiN,UAAF,CAAapN,CAAb,EAAe,CAAC,CAAhB,CAA5H,EAA+IG,CAAC,CAAC0F,OAAF,CAAU2I,MAAV,GAAiBrO,CAAC,CAAC0F,OAAF,CAAU0O,OAA1K,EAAkLpU,CAAC,CAAC0F,OAAF,CAAUuI,MAAV,GAAiBjO,CAAC,CAAC0F,OAAF,CAAUqO,OAA7M,EAAqN/T,CAAC,CAAC8T,WAAF,IAAe9T,CAAC,CAAC8T,WAAF,CAAc9N,MAAd,EAApO,EAA2PlG,CAAC,CAAC6Q,eAAF,CAAkB9Q,CAAlB,CAA3P,EAAgRW,CAAC,CAACqQ,QAAF,GAAW/Q,CAAC,CAACgR,iBAAF,CAAoBjR,CAApB,EAAsB,CAAC,CAAvB,CAA3R,EAAqTC,CAAC,CAAC4I,QAAF,CAAW,cAAX,EAA0B7I,CAA1B,CAArT,EAAkVC,CAAC,CAACoS,OAAF,GAAU,CAAC,CAA7V,EAA+VzS,CAAC,CAACoD,IAAF,CAAO/C,CAAC,CAAC4T,SAAT,EAAmB,YAAU;AAAC,eAAKtF,gBAAL;AAAwB,SAAtD,CAA1W,CAArhC;AAAw7C,OAAt+C;AAAw+C;AAAjqE,GAAhD,CAA31W,EAA+ib3O,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,QAA5B,EAAqC;AAACiL,IAAAA,KAAK,EAAC,eAASnP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACN,CAAC,CAAC,MAAD,CAAP;AAAA,UAAgBO,CAAC,GAACF,CAAC,CAAC4F,OAApB;AAA4B3F,MAAAA,CAAC,CAACkB,GAAF,CAAM,QAAN,MAAkBjB,CAAC,CAACqU,OAAF,GAAUtU,CAAC,CAACkB,GAAF,CAAM,QAAN,CAA5B,GAA6ClB,CAAC,CAACkB,GAAF,CAAM,QAAN,EAAejB,CAAC,CAAC6N,MAAjB,CAA7C;AAAsE,KAAzH;AAA0HoB,IAAAA,IAAI,EAAC,cAASpP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACD,CAAC,CAAC4F,OAAR;AAAgB3F,MAAAA,CAAC,CAACsU,OAAF,IAAW5U,CAAC,CAAC,MAAD,CAAD,CAAUwB,GAAV,CAAc,QAAd,EAAuBlB,CAAC,CAACsU,OAAzB,CAAX;AAA6C;AAA5M,GAArC,CAA/ib,EAAmyb5U,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,SAA5B,EAAsC;AAACiL,IAAAA,KAAK,EAAC,eAASnP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACN,CAAC,CAACe,CAAC,CAACyN,MAAH,CAAP;AAAA,UAAkBjO,CAAC,GAACF,CAAC,CAAC4F,OAAtB;AAA8B3F,MAAAA,CAAC,CAACkB,GAAF,CAAM,SAAN,MAAmBjB,CAAC,CAACsU,QAAF,GAAWvU,CAAC,CAACkB,GAAF,CAAM,SAAN,CAA9B,GAAgDlB,CAAC,CAACkB,GAAF,CAAM,SAAN,EAAgBjB,CAAC,CAACmO,OAAlB,CAAhD;AAA2E,KAAhI;AAAiIc,IAAAA,IAAI,EAAC,cAASpP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACD,CAAC,CAAC4F,OAAR;AAAgB3F,MAAAA,CAAC,CAACuU,QAAF,IAAY7U,CAAC,CAACe,CAAC,CAACyN,MAAH,CAAD,CAAYhN,GAAZ,CAAgB,SAAhB,EAA0BlB,CAAC,CAACuU,QAA5B,CAAZ;AAAkD;AAAxN,GAAtC,CAAnyb,EAAoic7U,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,QAA5B,EAAqC;AAACiL,IAAAA,KAAK,EAAC,eAASvP,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAACA,MAAAA,CAAC,CAAC+T,qBAAF,KAA0B/T,CAAC,CAAC+T,qBAAF,GAAwB/T,CAAC,CAACyN,MAAF,CAASzL,YAAT,CAAsB,CAAC,CAAvB,CAAlD,GAA6EhC,CAAC,CAAC+T,qBAAF,CAAwB,CAAxB,MAA6B/T,CAAC,CAACmC,QAAF,CAAW,CAAX,CAA7B,IAA4C,WAASnC,CAAC,CAAC+T,qBAAF,CAAwB,CAAxB,EAA2B1B,OAAhF,KAA0FrS,CAAC,CAACgU,cAAF,GAAiBhU,CAAC,CAAC+T,qBAAF,CAAwB1E,MAAxB,EAA3G,CAA7E;AAA0N,KAAjP;AAAkPd,IAAAA,IAAI,EAAC,cAASlP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACD,CAAC,CAAC4F,OAAR;AAAA,UAAgB1F,CAAC,GAAC,CAAC,CAAnB;AAAA,UAAqBC,CAAC,GAACH,CAAC,CAACyU,qBAAF,CAAwB,CAAxB,CAAvB;AAAA,UAAkDrU,CAAC,GAACJ,CAAC,CAAC6C,QAAF,CAAW,CAAX,CAApD;AAAkE1C,MAAAA,CAAC,KAAGC,CAAJ,IAAO,WAASD,CAAC,CAAC4S,OAAlB,IAA2B9S,CAAC,CAAC2N,IAAF,IAAQ,QAAM3N,CAAC,CAAC2N,IAAhB,KAAuB5N,CAAC,CAAC0U,cAAF,CAAiBhD,GAAjB,GAAqBvR,CAAC,CAACoT,YAAvB,GAAoCxT,CAAC,CAACyN,KAAtC,GAA4CvN,CAAC,CAAC0O,iBAA9C,GAAgExO,CAAC,CAAC+S,SAAF,GAAYhT,CAAC,GAACC,CAAC,CAAC+S,SAAF,GAAYjT,CAAC,CAAC2O,WAA5F,GAAwG7O,CAAC,CAACyN,KAAF,GAAQxN,CAAC,CAAC0U,cAAF,CAAiBhD,GAAzB,GAA6BzR,CAAC,CAAC0O,iBAA/B,KAAmDxO,CAAC,CAAC+S,SAAF,GAAYhT,CAAC,GAACC,CAAC,CAAC+S,SAAF,GAAYjT,CAAC,CAAC2O,WAA/E,CAA/H,GAA4N3O,CAAC,CAAC2N,IAAF,IAAQ,QAAM3N,CAAC,CAAC2N,IAAhB,KAAuB5N,CAAC,CAAC0U,cAAF,CAAiB9C,IAAjB,GAAsBzR,CAAC,CAACkT,WAAxB,GAAoCtT,CAAC,CAACwN,KAAtC,GAA4CtN,CAAC,CAAC0O,iBAA9C,GAAgExO,CAAC,CAAC8S,UAAF,GAAa/S,CAAC,GAACC,CAAC,CAAC8S,UAAF,GAAahT,CAAC,CAAC2O,WAA9F,GAA0G7O,CAAC,CAACwN,KAAF,GAAQvN,CAAC,CAAC0U,cAAF,CAAiB9C,IAAzB,GAA8B3R,CAAC,CAAC0O,iBAAhC,KAAoDxO,CAAC,CAAC8S,UAAF,GAAa/S,CAAC,GAACC,CAAC,CAAC8S,UAAF,GAAahT,CAAC,CAAC2O,WAAlF,CAAjI,CAAvP,KAA0d3O,CAAC,CAAC2N,IAAF,IAAQ,QAAM3N,CAAC,CAAC2N,IAAhB,KAAuB7N,CAAC,CAACyN,KAAF,GAAQ7N,CAAC,CAACS,CAAD,CAAD,CAAK8S,SAAL,EAAR,GAAyBjT,CAAC,CAAC0O,iBAA3B,GAA6CzO,CAAC,GAACP,CAAC,CAACS,CAAD,CAAD,CAAK8S,SAAL,CAAevT,CAAC,CAACS,CAAD,CAAD,CAAK8S,SAAL,KAAiBjT,CAAC,CAAC2O,WAAlC,CAA/C,GAA8FjP,CAAC,CAAC4I,MAAD,CAAD,CAAUqK,MAAV,MAAoB7S,CAAC,CAACyN,KAAF,GAAQ7N,CAAC,CAACS,CAAD,CAAD,CAAK8S,SAAL,EAA5B,IAA8CjT,CAAC,CAAC0O,iBAAhD,KAAoEzO,CAAC,GAACP,CAAC,CAACS,CAAD,CAAD,CAAK8S,SAAL,CAAevT,CAAC,CAACS,CAAD,CAAD,CAAK8S,SAAL,KAAiBjT,CAAC,CAAC2O,WAAlC,CAAtE,CAArH,GAA4O3O,CAAC,CAAC2N,IAAF,IAAQ,QAAM3N,CAAC,CAAC2N,IAAhB,KAAuB7N,CAAC,CAACwN,KAAF,GAAQ5N,CAAC,CAACS,CAAD,CAAD,CAAK6S,UAAL,EAAR,GAA0BhT,CAAC,CAAC0O,iBAA5B,GAA8CzO,CAAC,GAACP,CAAC,CAACS,CAAD,CAAD,CAAK6S,UAAL,CAAgBtT,CAAC,CAACS,CAAD,CAAD,CAAK6S,UAAL,KAAkBhT,CAAC,CAAC2O,WAApC,CAAhD,GAAiGjP,CAAC,CAAC4I,MAAD,CAAD,CAAUmK,KAAV,MAAmB3S,CAAC,CAACwN,KAAF,GAAQ5N,CAAC,CAACS,CAAD,CAAD,CAAK6S,UAAL,EAA3B,IAA8ChT,CAAC,CAAC0O,iBAAhD,KAAoEzO,CAAC,GAACP,CAAC,CAACS,CAAD,CAAD,CAAK6S,UAAL,CAAgBtT,CAAC,CAACS,CAAD,CAAD,CAAK6S,UAAL,KAAkBhT,CAAC,CAAC2O,WAApC,CAAtE,CAAxH,CAAtsB,GAAw7B,CAAC,CAAD,KAAK1O,CAAL,IAAQP,CAAC,CAAC0B,EAAF,CAAKiP,SAAb,IAAwB,CAACrQ,CAAC,CAACqR,aAA3B,IAA0C3R,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeiB,cAAf,CAA8BvR,CAA9B,EAAgCD,CAAhC,CAAl+B;AAAqgC;AAA90C,GAArC,CAApic,EAA05eJ,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,MAA5B,EAAmC;AAACiL,IAAAA,KAAK,EAAC,eAASnP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACD,CAAC,CAAC4F,OAAR;AAAgB5F,MAAAA,CAAC,CAAC2U,YAAF,GAAe,EAAf,EAAkBhV,CAAC,CAACM,CAAC,CAAC4O,IAAF,CAAO9H,WAAP,KAAqB6N,MAArB,GAA4B3U,CAAC,CAAC4O,IAAF,CAAOgG,KAAP,IAAc,qBAA1C,GAAgE5U,CAAC,CAAC4O,IAAnE,CAAD,CAA0E9L,IAA1E,CAA+E,YAAU;AAAC,YAAIhD,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAP;AAAA,YAAce,CAAC,GAACX,CAAC,CAACgQ,MAAF,EAAhB;AAA2B,iBAAO/P,CAAC,CAAC0F,OAAF,CAAU,CAAV,CAAP,IAAqB1F,CAAC,CAAC2U,YAAF,CAAelP,IAAf,CAAoB;AAACkO,UAAAA,IAAI,EAAC,IAAN;AAAWjB,UAAAA,KAAK,EAAC3S,CAAC,CAAC0D,UAAF,EAAjB;AAAgCmP,UAAAA,MAAM,EAAC7S,CAAC,CAAC+D,WAAF,EAAvC;AAAuD4N,UAAAA,GAAG,EAAChR,CAAC,CAACgR,GAA7D;AAAiEE,UAAAA,IAAI,EAAClR,CAAC,CAACkR;AAAxE,SAApB,CAArB;AAAwH,OAA7O,CAAlB;AAAiQ,KAAxS;AAAyS3C,IAAAA,IAAI,EAAC,cAASlP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAJ;AAAA,UAAMC,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYyF,CAAZ;AAAA,UAAcQ,CAAd;AAAA,UAAgBsD,CAAhB;AAAA,UAAkBmL,CAAlB;AAAA,UAAoBC,CAApB;AAAA,UAAsBC,CAAtB;AAAA,UAAwBC,CAAC,GAACjV,CAAC,CAAC4F,OAA5B;AAAA,UAAoCsP,CAAC,GAACD,CAAC,CAAClG,aAAxC;AAAA,UAAsDoG,CAAC,GAACzU,CAAC,CAACqP,MAAF,CAAS6B,IAAjE;AAAA,UAAsEwD,CAAC,GAACD,CAAC,GAACnV,CAAC,CAACyS,iBAAF,CAAoBC,KAA9F;AAAA,UAAoG2C,CAAC,GAAC3U,CAAC,CAACqP,MAAF,CAAS2B,GAA/G;AAAA,UAAmH4D,CAAC,GAACD,CAAC,GAACrV,CAAC,CAACyS,iBAAF,CAAoBG,MAA3I;;AAAkJ,WAAImC,CAAC,GAAC/U,CAAC,CAAC2U,YAAF,CAAevT,MAAf,GAAsB,CAA5B,EAA8B2T,CAAC,IAAE,CAAjC,EAAmCA,CAAC,EAApC;AAAuC1O,QAAAA,CAAC,GAAC,CAACR,CAAC,GAAC7F,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBnD,IAAlB,GAAuB5R,CAAC,CAAC2R,OAAF,CAAUC,IAApC,IAA0C5R,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBrC,KAA9D,EAAoEoC,CAAC,GAAC,CAACnL,CAAC,GAAC3J,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBrD,GAAlB,GAAsB1R,CAAC,CAAC2R,OAAF,CAAUD,GAAnC,IAAwC1R,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBnC,MAAhI,EAAuIwC,CAAC,GAACvP,CAAC,GAACqP,CAAJ,IAAOC,CAAC,GAAC9O,CAAC,GAAC6O,CAAX,IAAcI,CAAC,GAAC3L,CAAC,GAACuL,CAAlB,IAAqBG,CAAC,GAACP,CAAC,GAACI,CAAzB,IAA4B,CAACvV,CAAC,CAACqT,QAAF,CAAWhT,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBpB,IAAlB,CAAuB/Q,aAAlC,EAAgD5C,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBpB,IAAlE,CAA7B,IAAsG3T,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBQ,QAAlB,IAA4BvV,CAAC,CAAC4F,OAAF,CAAUiJ,IAAV,CAAe2G,OAA3C,IAAoDxV,CAAC,CAAC4F,OAAF,CAAUiJ,IAAV,CAAe2G,OAAf,CAAuBxR,IAAvB,CAA4BhE,CAAC,CAAC0F,OAA9B,EAAsC3F,CAAtC,EAAwCJ,CAAC,CAAC2B,MAAF,CAAStB,CAAC,CAACkS,OAAF,EAAT,EAAqB;AAACuD,UAAAA,QAAQ,EAACzV,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBpB;AAA5B,SAArB,CAAxC,CAApD,EAAqJ3T,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBQ,QAAlB,GAA2B,CAAC,CAAvR,KAA2R,YAAUN,CAAC,CAACnG,QAAZ,KAAuB7O,CAAC,GAACmN,IAAI,CAACE,GAAL,CAAS3D,CAAC,GAAC2L,CAAX,KAAeJ,CAAjB,EAAmBhV,CAAC,GAACkN,IAAI,CAACE,GAAL,CAASwH,CAAC,GAACO,CAAX,KAAeH,CAApC,EAAsC/U,CAAC,GAACiN,IAAI,CAACE,GAAL,CAASzH,CAAC,GAACuP,CAAX,KAAeF,CAAvD,EAAyD9U,CAAC,GAACgN,IAAI,CAACE,GAAL,CAASjH,CAAC,GAAC8O,CAAX,KAAeD,CAA1E,EAA4EjV,CAAC,KAAGS,CAAC,CAACqQ,QAAF,CAAWW,GAAX,GAAe1R,CAAC,CAACiS,kBAAF,CAAqB,UAArB,EAAgC;AAACP,UAAAA,GAAG,EAAC/H,CAAC,GAAC3J,CAAC,CAACyS,iBAAF,CAAoBG,MAA3B;AAAkChB,UAAAA,IAAI,EAAC;AAAvC,SAAhC,EAA2EF,GAA7F,CAA7E,EAA+KxR,CAAC,KAAGQ,CAAC,CAACqQ,QAAF,CAAWW,GAAX,GAAe1R,CAAC,CAACiS,kBAAF,CAAqB,UAArB,EAAgC;AAACP,UAAAA,GAAG,EAACoD,CAAL;AAAOlD,UAAAA,IAAI,EAAC;AAAZ,SAAhC,EAAgDF,GAAlE,CAAhL,EAAuPvR,CAAC,KAAGO,CAAC,CAACqQ,QAAF,CAAWa,IAAX,GAAgB5R,CAAC,CAACiS,kBAAF,CAAqB,UAArB,EAAgC;AAACP,UAAAA,GAAG,EAAC,CAAL;AAAOE,UAAAA,IAAI,EAAC/L,CAAC,GAAC7F,CAAC,CAACyS,iBAAF,CAAoBC;AAAlC,SAAhC,EAA0Ed,IAA7F,CAAxP,EAA2VxR,CAAC,KAAGM,CAAC,CAACqQ,QAAF,CAAWa,IAAX,GAAgB5R,CAAC,CAACiS,kBAAF,CAAqB,UAArB,EAAgC;AAACP,UAAAA,GAAG,EAAC,CAAL;AAAOE,UAAAA,IAAI,EAACvL;AAAZ,SAAhC,EAAgDuL,IAAnE,CAAnX,GAA6boD,CAAC,GAAC/U,CAAC,IAAEC,CAAH,IAAMC,CAAN,IAASC,CAAxc,EAA0c,YAAU6U,CAAC,CAACnG,QAAZ,KAAuB7O,CAAC,GAACmN,IAAI,CAACE,GAAL,CAAS3D,CAAC,GAAC0L,CAAX,KAAeH,CAAjB,EAAmBhV,CAAC,GAACkN,IAAI,CAACE,GAAL,CAASwH,CAAC,GAACQ,CAAX,KAAeJ,CAApC,EAAsC/U,CAAC,GAACiN,IAAI,CAACE,GAAL,CAASzH,CAAC,GAACsP,CAAX,KAAeD,CAAvD,EAAyD9U,CAAC,GAACgN,IAAI,CAACE,GAAL,CAASjH,CAAC,GAAC+O,CAAX,KAAeF,CAA1E,EAA4EjV,CAAC,KAAGS,CAAC,CAACqQ,QAAF,CAAWW,GAAX,GAAe1R,CAAC,CAACiS,kBAAF,CAAqB,UAArB,EAAgC;AAACP,UAAAA,GAAG,EAAC/H,CAAL;AAAOiI,UAAAA,IAAI,EAAC;AAAZ,SAAhC,EAAgDF,GAAlE,CAA7E,EAAoJxR,CAAC,KAAGQ,CAAC,CAACqQ,QAAF,CAAWW,GAAX,GAAe1R,CAAC,CAACiS,kBAAF,CAAqB,UAArB,EAAgC;AAACP,UAAAA,GAAG,EAACoD,CAAC,GAAC9U,CAAC,CAACyS,iBAAF,CAAoBG,MAA3B;AAAkChB,UAAAA,IAAI,EAAC;AAAvC,SAAhC,EAA2EF,GAA7F,CAArJ,EAAuPvR,CAAC,KAAGO,CAAC,CAACqQ,QAAF,CAAWa,IAAX,GAAgB5R,CAAC,CAACiS,kBAAF,CAAqB,UAArB,EAAgC;AAACP,UAAAA,GAAG,EAAC,CAAL;AAAOE,UAAAA,IAAI,EAAC/L;AAAZ,SAAhC,EAAgD+L,IAAnE,CAAxP,EAAiUxR,CAAC,KAAGM,CAAC,CAACqQ,QAAF,CAAWa,IAAX,GAAgB5R,CAAC,CAACiS,kBAAF,CAAqB,UAArB,EAAgC;AAACP,UAAAA,GAAG,EAAC,CAAL;AAAOE,UAAAA,IAAI,EAACvL,CAAC,GAACrG,CAAC,CAACyS,iBAAF,CAAoBC;AAAlC,SAAhC,EAA0Ed,IAA7F,CAAzV,CAA1c,EAAu4B,CAAC5R,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBQ,QAAnB,KAA8BtV,CAAC,IAAEC,CAAH,IAAMC,CAAN,IAASC,CAAT,IAAY4U,CAA1C,KAA8ChV,CAAC,CAAC4F,OAAF,CAAUiJ,IAAV,CAAeA,IAA7D,IAAmE7O,CAAC,CAAC4F,OAAF,CAAUiJ,IAAV,CAAeA,IAAf,CAAoB7K,IAApB,CAAyBhE,CAAC,CAAC0F,OAA3B,EAAmC3F,CAAnC,EAAqCJ,CAAC,CAAC2B,MAAF,CAAStB,CAAC,CAACkS,OAAF,EAAT,EAAqB;AAACuD,UAAAA,QAAQ,EAACzV,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBpB;AAA5B,SAArB,CAArC,CAA18B,EAAwiC3T,CAAC,CAAC2U,YAAF,CAAeI,CAAf,EAAkBQ,QAAlB,GAA2BtV,CAAC,IAAEC,CAAH,IAAMC,CAAN,IAASC,CAAT,IAAY4U,CAA12C,CAAvI;AAAvC;AAA2hD;AAA3+D,GAAnC,CAA15e,EAA26iBrV,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,OAA5B,EAAoC;AAACiL,IAAAA,KAAK,EAAC,eAASnP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAJ;AAAA,UAAMC,CAAC,GAACF,CAAC,CAAC4F,OAAV;AAAA,UAAkBzF,CAAC,GAACR,CAAC,CAAC+V,SAAF,CAAY/V,CAAC,CAACO,CAAC,CAAC8O,KAAH,CAAb,EAAwB2G,IAAxB,CAA6B,UAAS5V,CAAT,EAAWW,CAAX,EAAa;AAAC,eAAM,CAAC0E,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,QAAT,CAAD,EAAoB,EAApB,CAAR,IAAiC,CAAlC,KAAsCiE,QAAQ,CAACzF,CAAC,CAACe,CAAD,CAAD,CAAKS,GAAL,CAAS,QAAT,CAAD,EAAoB,EAApB,CAAR,IAAiC,CAAvE,CAAN;AAAgF,OAA3H,CAApB;AAAiJhB,MAAAA,CAAC,CAACiB,MAAF,KAAWnB,CAAC,GAACmF,QAAQ,CAACzF,CAAC,CAACQ,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQgB,GAAR,CAAY,QAAZ,CAAD,EAAuB,EAAvB,CAAR,IAAoC,CAAtC,EAAwCxB,CAAC,CAACQ,CAAD,CAAD,CAAK4C,IAAL,CAAU,UAAShD,CAAT,EAAW;AAACJ,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwB,GAAR,CAAY,QAAZ,EAAqBlB,CAAC,GAACF,CAAvB;AAA0B,OAAhD,CAAxC,EAA0F,KAAKoB,GAAL,CAAS,QAAT,EAAkBlB,CAAC,GAACE,CAAC,CAACiB,MAAtB,CAArG;AAAoI;AAA5S,GAApC,CAA36iB,EAA8vjBzB,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,QAA5B,EAAqC;AAACiL,IAAAA,KAAK,EAAC,eAASnP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACN,CAAC,CAACe,CAAC,CAACyN,MAAH,CAAP;AAAA,UAAkBjO,CAAC,GAACF,CAAC,CAAC4F,OAAtB;AAA8B3F,MAAAA,CAAC,CAACkB,GAAF,CAAM,QAAN,MAAkBjB,CAAC,CAAC0V,OAAF,GAAU3V,CAAC,CAACkB,GAAF,CAAM,QAAN,CAA5B,GAA6ClB,CAAC,CAACkB,GAAF,CAAM,QAAN,EAAejB,CAAC,CAACiF,MAAjB,CAA7C;AAAsE,KAA3H;AAA4HgK,IAAAA,IAAI,EAAC,cAASpP,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAC,GAACD,CAAC,CAAC4F,OAAR;AAAgB3F,MAAAA,CAAC,CAAC2V,OAAF,IAAWjW,CAAC,CAACe,CAAC,CAACyN,MAAH,CAAD,CAAYhN,GAAZ,CAAgB,QAAhB,EAAyBlB,CAAC,CAAC2V,OAA3B,CAAX;AAA+C;AAAhN,GAArC,CAA9vjB;AAAs/jBjW,EAAAA,CAAC,CAAC0B,EAAF,CAAKwU,SAAL;AACz/jB;;;;;;;;;;;AASGlW,EAAAA,CAAC,CAACyG,MAAF,CAAS,cAAT,EAAwB;AAAC7E,IAAAA,OAAO,EAAC,QAAT;AAAkBuF,IAAAA,iBAAiB,EAAC,MAApC;AAA2ClB,IAAAA,OAAO,EAAC;AAACkQ,MAAAA,MAAM,EAAC,GAAR;AAAYC,MAAAA,WAAW,EAAC,CAAC,CAAzB;AAA2BrI,MAAAA,UAAU,EAAC,CAAC,CAAvC;AAAyCsI,MAAAA,MAAM,EAAC,CAAC,CAAjD;AAAmDC,MAAAA,UAAU,EAAC,CAAC,CAA/D;AAAiExH,MAAAA,KAAK,EAAC,SAAvE;AAAiFyH,MAAAA,SAAS,EAAC,WAA3F;AAAuGC,MAAAA,QAAQ,EAAC,IAAhH;AAAqHC,MAAAA,UAAU,EAAC,IAAhI;AAAqIjE,MAAAA,IAAI,EAAC,IAA1I;AAA+IkE,MAAAA,GAAG,EAAC,IAAnJ;AAAwJC,MAAAA,IAAI,EAAC;AAA7J,KAAnD;AAAsN3N,IAAAA,OAAO,EAAC,mBAAU;AAAC,UAAI5I,CAAJ;AAAA,UAAMW,CAAC,GAAC,KAAKkF,OAAb;AAAA,UAAqB5F,CAAC,GAACU,CAAC,CAACoV,MAAzB;AAAgC,WAAKS,MAAL,GAAY,CAAC,CAAb,EAAe,KAAKC,KAAL,GAAW,CAAC,CAA3B,EAA6B,KAAKV,MAAL,GAAYnW,CAAC,CAACgH,UAAF,CAAa3G,CAAb,IAAgBA,CAAhB,GAAkB,UAASL,CAAT,EAAW;AAAC,eAAOA,CAAC,CAAC4P,EAAF,CAAKvP,CAAL,CAAP;AAAe,OAAtF,EAAuF,KAAKyW,WAAL,GAAiB,YAAU;AAAC,YAAG,CAACrS,SAAS,CAAChD,MAAd,EAAqB,OAAOrB,CAAC,KAAGA,CAAC,GAAC;AAAC2S,UAAAA,KAAK,EAAC,KAAKhN,OAAL,CAAa,CAAb,EAAgB2N,WAAvB;AAAmCT,UAAAA,MAAM,EAAC,KAAKlN,OAAL,CAAa,CAAb,EAAgB6N;AAA1D,SAAL,CAAR;AAAsFxT,QAAAA,CAAC,GAACqE,SAAS,CAAC,CAAD,CAAX;AAAe,OAA7O,EAA8O,KAAKsS,aAAL,CAAmBhW,CAAC,CAAC+N,KAArB,CAA9O,EAA0Q/N,CAAC,CAACgN,UAAF,IAAc,KAAKhI,OAAL,CAAa2E,QAAb,CAAsB,cAAtB,CAAxR;AAA8T,KAAvkB;AAAwkBqM,IAAAA,aAAa,EAAC,uBAAS3W,CAAT,EAAW;AAACJ,MAAAA,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeqG,UAAf,CAA0B5W,CAA1B,IAA6BJ,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeqG,UAAf,CAA0B5W,CAA1B,KAA8B,EAA3D,EAA8DJ,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeqG,UAAf,CAA0B5W,CAA1B,EAA6B0F,IAA7B,CAAkC,IAAlC,CAA9D;AAAsG,KAAxsB;AAAysBmR,IAAAA,OAAO,EAAC,iBAASjX,CAAT,EAAW;AAAC,WAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,CAAC,CAACyB,MAAhB,EAAuBrB,CAAC,EAAxB;AAA2BJ,QAAAA,CAAC,CAACI,CAAD,CAAD,KAAO,IAAP,IAAaJ,CAAC,CAACkX,MAAF,CAAS9W,CAAT,EAAW,CAAX,CAAb;AAA3B;AAAsD,KAAnxB;AAAoxBgJ,IAAAA,QAAQ,EAAC,oBAAU;AAAC,UAAIhJ,CAAC,GAACJ,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeqG,UAAf,CAA0B,KAAK/Q,OAAL,CAAa6I,KAAvC,CAAN;AAAoD,WAAKmI,OAAL,CAAa7W,CAAb,GAAgB,KAAK2F,OAAL,CAAasD,WAAb,CAAyB,oCAAzB,CAAhB;AAA+E,KAA36B;AAA46BI,IAAAA,UAAU,EAAC,oBAASrJ,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAG,aAAWX,CAAd,EAAgB,KAAK+V,MAAL,GAAYnW,CAAC,CAACgH,UAAF,CAAajG,CAAb,IAAgBA,CAAhB,GAAkB,UAASf,CAAT,EAAW;AAAC,eAAOA,CAAC,CAAC4P,EAAF,CAAK7O,CAAL,CAAP;AAAe,OAAzD,CAAhB,KAA+E,IAAG,YAAUX,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACL,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeqG,UAAf,CAA0B,KAAK/Q,OAAL,CAAa6I,KAAvC,CAAN;AAAoD,aAAKmI,OAAL,CAAa5W,CAAb,GAAgB,KAAK0W,aAAL,CAAmBhW,CAAnB,CAAhB;AAAsC;;AAAA,WAAKkG,MAAL,CAAY7G,CAAZ,EAAcW,CAAd;AAAiB,KAA/oC;AAAgpCoW,IAAAA,SAAS,EAAC,mBAAS/W,CAAT,EAAW;AAAC,UAAIW,CAAC,GAACf,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeC,OAArB;AAA6B,WAAK3K,OAAL,CAAamQ,WAAb,IAA0B,KAAKrQ,OAAL,CAAa2E,QAAb,CAAsB,KAAKzE,OAAL,CAAamQ,WAAnC,CAA1B,EAA0ErV,CAAC,IAAE,KAAKkI,QAAL,CAAc,UAAd,EAAyB7I,CAAzB,EAA2B,KAAKsB,EAAL,CAAQX,CAAR,CAA3B,CAA7E;AAAoH,KAAvzC;AAAwzCqW,IAAAA,WAAW,EAAC,qBAAShX,CAAT,EAAW;AAAC,UAAIW,CAAC,GAACf,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeC,OAArB;AAA6B,WAAK3K,OAAL,CAAamQ,WAAb,IAA0B,KAAKrQ,OAAL,CAAasD,WAAb,CAAyB,KAAKpD,OAAL,CAAamQ,WAAtC,CAA1B,EAA6ErV,CAAC,IAAE,KAAKkI,QAAL,CAAc,YAAd,EAA2B7I,CAA3B,EAA6B,KAAKsB,EAAL,CAAQX,CAAR,CAA7B,CAAhF;AAAyH,KAAt+C;AAAu+CsW,IAAAA,KAAK,EAAC,eAASjX,CAAT,EAAW;AAAC,UAAIW,CAAC,GAACf,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeC,OAArB;AAA6B7P,MAAAA,CAAC,IAAE,CAACA,CAAC,CAAC0T,WAAF,IAAe1T,CAAC,CAACgF,OAAlB,EAA2B,CAA3B,MAAgC,KAAKA,OAAL,CAAa,CAAb,CAAnC,IAAoD,KAAKoQ,MAAL,CAAY9R,IAAZ,CAAiB,KAAK0B,OAAL,CAAa,CAAb,CAAjB,EAAiChF,CAAC,CAAC0T,WAAF,IAAe1T,CAAC,CAACgF,OAAlD,CAApD,KAAiH,KAAKE,OAAL,CAAaqQ,UAAb,IAAyB,KAAKvQ,OAAL,CAAa2E,QAAb,CAAsB,KAAKzE,OAAL,CAAaqQ,UAAnC,CAAzB,EAAwE,KAAKrN,QAAL,CAAc,MAAd,EAAqB7I,CAArB,EAAuB,KAAKsB,EAAL,CAAQX,CAAR,CAAvB,CAAzL;AAA6N,KAAnvD;AAAovDuW,IAAAA,IAAI,EAAC,cAASlX,CAAT,EAAW;AAAC,UAAIW,CAAC,GAACf,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeC,OAArB;AAA6B7P,MAAAA,CAAC,IAAE,CAACA,CAAC,CAAC0T,WAAF,IAAe1T,CAAC,CAACgF,OAAlB,EAA2B,CAA3B,MAAgC,KAAKA,OAAL,CAAa,CAAb,CAAnC,IAAoD,KAAKoQ,MAAL,CAAY9R,IAAZ,CAAiB,KAAK0B,OAAL,CAAa,CAAb,CAAjB,EAAiChF,CAAC,CAAC0T,WAAF,IAAe1T,CAAC,CAACgF,OAAlD,CAApD,KAAiH,KAAKE,OAAL,CAAaqQ,UAAb,IAAyB,KAAKvQ,OAAL,CAAasD,WAAb,CAAyB,KAAKpD,OAAL,CAAaqQ,UAAtC,CAAzB,EAA2E,KAAKrN,QAAL,CAAc,KAAd,EAAoB7I,CAApB,EAAsB,KAAKsB,EAAL,CAAQX,CAAR,CAAtB,CAA5L;AAA+N,KAAjgE;AAAkgEwW,IAAAA,KAAK,EAAC,eAASnX,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAIV,CAAC,GAACU,CAAC,IAAEf,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeC,OAAxB;AAAA,UAAgCtQ,CAAC,GAAC,CAAC,CAAnC;AAAqC,aAAM,EAAE,CAACD,CAAD,IAAI,CAACA,CAAC,CAACoU,WAAF,IAAepU,CAAC,CAAC0F,OAAlB,EAA2B,CAA3B,MAAgC,KAAKA,OAAL,CAAa,CAAb,CAAtC,MAAyD,KAAKA,OAAL,CAAamK,IAAb,CAAkB,qBAAlB,EAAyC7F,GAAzC,CAA6C,wBAA7C,EAAuEjH,IAAvE,CAA4E,YAAU;AAAC,YAAIrC,CAAC,GAACf,CAAC,CAAC,IAAD,CAAD,CAAQwX,SAAR,CAAkB,UAAlB,CAAN;AAAoC,YAAGzW,CAAC,CAACkF,OAAF,CAAUoQ,MAAV,IAAkB,CAACtV,CAAC,CAACkF,OAAF,CAAUhF,QAA7B,IAAuCF,CAAC,CAACkF,OAAF,CAAU6I,KAAV,KAAkBzO,CAAC,CAAC4F,OAAF,CAAU6I,KAAnE,IAA0E/N,CAAC,CAACoV,MAAF,CAAS9R,IAAT,CAActD,CAAC,CAACgF,OAAF,CAAU,CAAV,CAAd,EAA2B1F,CAAC,CAACoU,WAAF,IAAepU,CAAC,CAAC0F,OAA5C,CAA1E,IAAgI/F,CAAC,CAAC0B,EAAF,CAAK+V,SAAL,CAAepX,CAAf,EAAiBL,CAAC,CAAC2B,MAAF,CAASZ,CAAT,EAAW;AAACqP,UAAAA,MAAM,EAACrP,CAAC,CAACgF,OAAF,CAAUqK,MAAV;AAAR,SAAX,CAAjB,EAAyDrP,CAAC,CAACkF,OAAF,CAAUsQ,SAAnE,EAA6EnW,CAA7E,CAAnI,EAAmN,OAAOE,CAAC,GAAC,CAAC,CAAH,EAAK,CAAC,CAAb;AAAe,OAA7V,GAA+V,CAACA,CAAD,IAAK,CAAC,CAAC,KAAK6V,MAAL,CAAY9R,IAAZ,CAAiB,KAAK0B,OAAL,CAAa,CAAb,CAAjB,EAAiC1F,CAAC,CAACoU,WAAF,IAAepU,CAAC,CAAC0F,OAAlD,CAAF,KAA+D,KAAKE,OAAL,CAAamQ,WAAb,IAA0B,KAAKrQ,OAAL,CAAasD,WAAb,CAAyB,KAAKpD,OAAL,CAAamQ,WAAtC,CAA1B,EAA6E,KAAKnQ,OAAL,CAAaqQ,UAAb,IAAyB,KAAKvQ,OAAL,CAAasD,WAAb,CAAyB,KAAKpD,OAAL,CAAaqQ,UAAtC,CAAtG,EAAwJ,KAAKrN,QAAL,CAAc,MAAd,EAAqB7I,CAArB,EAAuB,KAAKsB,EAAL,CAAQrB,CAAR,CAAvB,CAAxJ,EAA2L,KAAK0F,OAA/P,CAA7Z,CAAN;AAA6qB,KAAxuF;AAAyuFrE,IAAAA,EAAE,EAAC,YAAS1B,CAAT,EAAW;AAAC,aAAM;AAACkW,QAAAA,SAAS,EAAClW,CAAC,CAACyU,WAAF,IAAezU,CAAC,CAAC+F,OAA5B;AAAoCyI,QAAAA,MAAM,EAACxO,CAAC,CAACwO,MAA7C;AAAoD4C,QAAAA,QAAQ,EAACpR,CAAC,CAACoR,QAA/D;AAAwEhB,QAAAA,MAAM,EAACpQ,CAAC,CAACiR;AAAjF,OAAN;AAAoG;AAA51F,GAAxB,GAAu3FjR,CAAC,CAAC0B,EAAF,CAAK+V,SAAL,GAAe,YAAU;AAAC,aAASzX,CAAT,CAAWA,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,aAAOf,CAAC,IAAEI,CAAH,IAAMJ,CAAC,GAACI,CAAC,GAACW,CAAjB;AAAmB;;AAAA,WAAO,UAASX,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAeC,CAAf,EAAiB;AAAC,UAAG,CAACS,CAAC,CAACqP,MAAN,EAAa,OAAM,CAAC,CAAP;AAAS,UAAI7P,CAAC,GAAC,CAACH,CAAC,CAAC6Q,WAAF,IAAe7Q,CAAC,CAACgR,QAAF,CAAWsG,QAA3B,EAAqCzF,IAArC,GAA0C7R,CAAC,CAAC4R,OAAF,CAAUC,IAA1D;AAAA,UAA+DzR,CAAC,GAAC,CAACJ,CAAC,CAAC6Q,WAAF,IAAe7Q,CAAC,CAACgR,QAAF,CAAWsG,QAA3B,EAAqC3F,GAArC,GAAyC3R,CAAC,CAAC4R,OAAF,CAAUD,GAApH;AAAA,UAAwHtR,CAAC,GAACF,CAAC,GAACH,CAAC,CAAC0S,iBAAF,CAAoBC,KAAhJ;AAAA,UAAsJ7M,CAAC,GAAC1F,CAAC,GAACJ,CAAC,CAAC0S,iBAAF,CAAoBG,MAA9K;AAAA,UAAqLvM,CAAC,GAAC3F,CAAC,CAACqP,MAAF,CAAS6B,IAAhM;AAAA,UAAqMjI,CAAC,GAACjJ,CAAC,CAACqP,MAAF,CAAS2B,GAAhN;AAAA,UAAoNoD,CAAC,GAACzO,CAAC,GAAC3F,CAAC,CAAC+V,WAAF,GAAgB/D,KAAxO;AAAA,UAA8OqC,CAAC,GAACpL,CAAC,GAACjJ,CAAC,CAAC+V,WAAF,GAAgB7D,MAAlQ;;AAAyQ,cAAO5S,CAAP;AAAU,aAAI,KAAJ;AAAU,iBAAOqG,CAAC,IAAEnG,CAAH,IAAME,CAAC,IAAE0U,CAAT,IAAYnL,CAAC,IAAExJ,CAAf,IAAkB0F,CAAC,IAAEkP,CAA5B;;AAA8B,aAAI,WAAJ;AAAgB,iBAAO1O,CAAC,GAACnG,CAAC,GAACH,CAAC,CAAC0S,iBAAF,CAAoBC,KAApB,GAA0B,CAA9B,IAAiCtS,CAAC,GAACL,CAAC,CAAC0S,iBAAF,CAAoBC,KAApB,GAA0B,CAA5B,GAA8BoC,CAA/D,IAAkEnL,CAAC,GAACxJ,CAAC,GAACJ,CAAC,CAAC0S,iBAAF,CAAoBG,MAApB,GAA2B,CAAjG,IAAoG/M,CAAC,GAAC9F,CAAC,CAAC0S,iBAAF,CAAoBG,MAApB,GAA2B,CAA7B,GAA+BmC,CAA1I;;AAA4I,aAAI,SAAJ;AAAc,iBAAOpV,CAAC,CAACM,CAAC,CAACuN,KAAH,EAAS7D,CAAT,EAAWjJ,CAAC,CAAC+V,WAAF,GAAgB7D,MAA3B,CAAD,IAAqCjT,CAAC,CAACM,CAAC,CAACsN,KAAH,EAASlH,CAAT,EAAW3F,CAAC,CAAC+V,WAAF,GAAgB/D,KAA3B,CAA7C;;AAA+E,aAAI,OAAJ;AAAY,iBAAM,CAACvS,CAAC,IAAEwJ,CAAH,IAAMxJ,CAAC,IAAE4U,CAAT,IAAYlP,CAAC,IAAE8D,CAAH,IAAM9D,CAAC,IAAEkP,CAArB,IAAwB5U,CAAC,GAACwJ,CAAF,IAAK9D,CAAC,GAACkP,CAAhC,MAAqC7U,CAAC,IAAEmG,CAAH,IAAMnG,CAAC,IAAE4U,CAAT,IAAY1U,CAAC,IAAEiG,CAAH,IAAMjG,CAAC,IAAE0U,CAArB,IAAwB5U,CAAC,GAACmG,CAAF,IAAKjG,CAAC,GAAC0U,CAApE,CAAN;;AAA6E;AAAQ,iBAAM,CAAC,CAAP;AAA5Y;AAAsZ,KAA9sB;AAA+sB,GAA/vB,EAAt4F,EAAwoHnV,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,GAAe;AAACC,IAAAA,OAAO,EAAC,IAAT;AAAcoG,IAAAA,UAAU,EAAC;AAAC,iBAAU;AAAX,KAAzB;AAAwCpF,IAAAA,cAAc,EAAC,wBAASxR,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAIV,CAAJ;AAAA,UAAMC,CAAN;AAAA,UAAQC,CAAC,GAACP,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeqG,UAAf,CAA0B5W,CAAC,CAAC6F,OAAF,CAAU6I,KAApC,KAA4C,EAAtD;AAAA,UAAyDtO,CAAC,GAACO,CAAC,GAACA,CAAC,CAACiK,IAAH,GAAQ,IAApE;AAAA,UAAyEvK,CAAC,GAAC,CAACL,CAAC,CAACqU,WAAF,IAAerU,CAAC,CAAC2F,OAAlB,EAA2BmK,IAA3B,CAAgC,qBAAhC,EAAuD5O,OAAvD,EAA3E;;AAA4ItB,MAAAA,CAAC,EAAC,KAAIK,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACE,CAAC,CAACkB,MAAZ,EAAmBpB,CAAC,EAApB;AAAuB,YAAG,EAAEE,CAAC,CAACF,CAAD,CAAD,CAAK4F,OAAL,CAAahF,QAAb,IAAuBb,CAAC,IAAE,CAACG,CAAC,CAACF,CAAD,CAAD,CAAK8V,MAAL,CAAY9R,IAAZ,CAAiB9D,CAAC,CAACF,CAAD,CAAD,CAAK0F,OAAL,CAAa,CAAb,CAAjB,EAAiC3F,CAAC,CAACqU,WAAF,IAAerU,CAAC,CAAC2F,OAAlD,CAA7B,CAAH,EAA4F;AAAC,eAAIzF,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACG,CAAC,CAACgB,MAAZ,EAAmBnB,CAAC,EAApB;AAAuB,gBAAGG,CAAC,CAACH,CAAD,CAAD,KAAOC,CAAC,CAACF,CAAD,CAAD,CAAK0F,OAAL,CAAa,CAAb,CAAV,EAA0B;AAACxF,cAAAA,CAAC,CAACF,CAAD,CAAD,CAAKyW,WAAL,GAAmB7D,MAAnB,GAA0B,CAA1B;AAA4B,uBAASjT,CAAT;AAAW;AAAzF;;AAAyFO,UAAAA,CAAC,CAACF,CAAD,CAAD,CAAKe,OAAL,GAAa,WAASb,CAAC,CAACF,CAAD,CAAD,CAAK0F,OAAL,CAAavE,GAAb,CAAiB,SAAjB,CAAtB,EAAkDjB,CAAC,CAACF,CAAD,CAAD,CAAKe,OAAL,KAAe,gBAAcZ,CAAd,IAAiBD,CAAC,CAACF,CAAD,CAAD,CAAK8W,SAAL,CAAe9S,IAAf,CAAoB9D,CAAC,CAACF,CAAD,CAArB,EAAyBU,CAAzB,CAAjB,EAA6CR,CAAC,CAACF,CAAD,CAAD,CAAK+P,MAAL,GAAY7P,CAAC,CAACF,CAAD,CAAD,CAAK0F,OAAL,CAAaqK,MAAb,EAAzD,EAA+E7P,CAAC,CAACF,CAAD,CAAD,CAAKyW,WAAL,CAAiB;AAAC/D,YAAAA,KAAK,EAACxS,CAAC,CAACF,CAAD,CAAD,CAAK0F,OAAL,CAAa,CAAb,EAAgB2N,WAAvB;AAAmCT,YAAAA,MAAM,EAAC1S,CAAC,CAACF,CAAD,CAAD,CAAK0F,OAAL,CAAa,CAAb,EAAgB6N;AAA1D,WAAjB,CAA9F,CAAlD;AAA2O;AAAxb;AAAyb,KAA5oB;AAA6oBpB,IAAAA,IAAI,EAAC,cAASpS,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAIV,CAAC,GAAC,CAAC,CAAP;AAAS,aAAOL,CAAC,CAACoD,IAAF,CAAO,CAACpD,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeqG,UAAf,CAA0B5W,CAAC,CAAC6F,OAAF,CAAU6I,KAApC,KAA4C,EAA7C,EAAiD1I,KAAjD,EAAP,EAAgE,YAAU;AAAC,aAAKH,OAAL,KAAe,CAAC,KAAKA,OAAL,CAAahF,QAAd,IAAwB,KAAKG,OAA7B,IAAsCpB,CAAC,CAAC0B,EAAF,CAAK+V,SAAL,CAAerX,CAAf,EAAiB,IAAjB,EAAsB,KAAK6F,OAAL,CAAasQ,SAAnC,EAA6CxV,CAA7C,CAAtC,KAAwFV,CAAC,GAAC,KAAKkX,KAAL,CAAWlT,IAAX,CAAgB,IAAhB,EAAqBtD,CAArB,KAAyBV,CAAnH,GAAsH,CAAC,KAAK4F,OAAL,CAAahF,QAAd,IAAwB,KAAKG,OAA7B,IAAsC,KAAK+U,MAAL,CAAY9R,IAAZ,CAAiB,KAAK0B,OAAL,CAAa,CAAb,CAAjB,EAAiC3F,CAAC,CAACqU,WAAF,IAAerU,CAAC,CAAC2F,OAAlD,CAAtC,KAAmG,KAAK8Q,KAAL,GAAW,CAAC,CAAZ,EAAc,KAAKD,MAAL,GAAY,CAAC,CAA3B,EAA6B,KAAKQ,WAAL,CAAiB/S,IAAjB,CAAsB,IAAtB,EAA2BtD,CAA3B,CAAhI,CAArI;AAAqS,OAAhX,GAAkXV,CAAzX;AAA2X,KAApiC;AAAqiCyR,IAAAA,SAAS,EAAC,mBAAS1R,CAAT,EAAWW,CAAX,EAAa;AAACX,MAAAA,CAAC,CAAC2F,OAAF,CAAU4R,YAAV,CAAuB,MAAvB,EAA+BvS,IAA/B,CAAoC,kBAApC,EAAuD,YAAU;AAAChF,QAAAA,CAAC,CAAC6F,OAAF,CAAU0I,gBAAV,IAA4B3O,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeiB,cAAf,CAA8BxR,CAA9B,EAAgCW,CAAhC,CAA5B;AAA+D,OAAjI;AAAmI,KAAhsC;AAAisCuO,IAAAA,IAAI,EAAC,cAASlP,CAAT,EAAWW,CAAX,EAAa;AAACX,MAAAA,CAAC,CAAC6F,OAAF,CAAU0I,gBAAV,IAA4B3O,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeiB,cAAf,CAA8BxR,CAA9B,EAAgCW,CAAhC,CAA5B,EAA+Df,CAAC,CAACoD,IAAF,CAAOpD,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeqG,UAAf,CAA0B5W,CAAC,CAAC6F,OAAF,CAAU6I,KAApC,KAA4C,EAAnD,EAAsD,YAAU;AAAC,YAAG,CAAC,KAAK7I,OAAL,CAAahF,QAAd,IAAwB,CAAC,KAAK2W,WAA9B,IAA2C,KAAKxW,OAAnD,EAA2D;AAAC,cAAIf,CAAJ;AAAA,cAAMC,CAAN;AAAA,cAAQC,CAAR;AAAA,cAAUC,CAAC,GAACR,CAAC,CAAC0B,EAAF,CAAK+V,SAAL,CAAerX,CAAf,EAAiB,IAAjB,EAAsB,KAAK6F,OAAL,CAAasQ,SAAnC,EAA6CxV,CAA7C,CAAZ;AAAA,cAA4DN,CAAC,GAAC,CAACD,CAAD,IAAI,KAAKoW,MAAT,GAAgB,OAAhB,GAAwBpW,CAAC,IAAE,CAAC,KAAKoW,MAAT,GAAgB,QAAhB,GAAyB,IAA/G;AAAoHnW,UAAAA,CAAC,KAAG,KAAKwF,OAAL,CAAaoQ,MAAb,KAAsB/V,CAAC,GAAC,KAAK2F,OAAL,CAAa6I,KAAf,EAAqB,CAACvO,CAAC,GAAC,KAAKwF,OAAL,CAAa1E,OAAb,CAAqB,qBAArB,EAA4CE,MAA5C,CAAmD,YAAU;AAAC,mBAAOvB,CAAC,CAAC,IAAD,CAAD,CAAQwX,SAAR,CAAkB,UAAlB,EAA8BvR,OAA9B,CAAsC6I,KAAtC,KAA8CxO,CAArD;AAAuD,WAArH,CAAH,EAA2HmB,MAA3H,KAAoI,CAACpB,CAAC,GAACL,CAAC,CAACO,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQiX,SAAR,CAAkB,UAAlB,CAAH,EAAkCI,WAAlC,GAA8C,aAAWnX,CAA7L,CAA3C,GAA4OJ,CAAC,IAAE,aAAWI,CAAd,KAAkBJ,CAAC,CAACuW,MAAF,GAAS,CAAC,CAAV,EAAYvW,CAAC,CAACwW,KAAF,GAAQ,CAAC,CAArB,EAAuBxW,CAAC,CAACiX,IAAF,CAAOjT,IAAP,CAAYhE,CAAZ,EAAcU,CAAd,CAAzC,CAA5O,EAAuS,KAAKN,CAAL,IAAQ,CAAC,CAAhT,EAAkT,KAAK,YAAUA,CAAV,GAAY,QAAZ,GAAqB,OAA1B,IAAmC,CAAC,CAAtV,EAAwV,KAAK,aAAWA,CAAX,GAAa,OAAb,GAAqB,MAA1B,EAAkC4D,IAAlC,CAAuC,IAAvC,EAA4CtD,CAA5C,CAAxV,EAAuYV,CAAC,IAAE,YAAUI,CAAb,KAAiBJ,CAAC,CAACwW,KAAF,GAAQ,CAAC,CAAT,EAAWxW,CAAC,CAACuW,MAAF,GAAS,CAAC,CAArB,EAAuBvW,CAAC,CAACgX,KAAF,CAAQhT,IAAR,CAAahE,CAAb,EAAeU,CAAf,CAAxC,CAA1Y,CAAD;AAAuc;AAAC,OAAzrB,CAA/D;AAA0vB,KAA98D;AAA+8D4R,IAAAA,QAAQ,EAAC,kBAASvS,CAAT,EAAWW,CAAX,EAAa;AAACX,MAAAA,CAAC,CAAC2F,OAAF,CAAU4R,YAAV,CAAuB,MAAvB,EAA+BpS,MAA/B,CAAsC,kBAAtC,GAA0DnF,CAAC,CAAC6F,OAAF,CAAU0I,gBAAV,IAA4B3O,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeiB,cAAf,CAA8BxR,CAA9B,EAAgCW,CAAhC,CAAtF;AAAyH;AAA/lE,GAAvpH;AAAwvLf,EAAAA,CAAC,CAAC0B,EAAF,CAAK8V,SAAL;AAC3vL;;;;;;;;;;;AASGxX,EAAAA,CAAC,CAACyG,MAAF,CAAS,cAAT,EAAwBzG,CAAC,CAAC0B,EAAF,CAAKoM,KAA7B,EAAmC;AAAClM,IAAAA,OAAO,EAAC,QAAT;AAAkBuF,IAAAA,iBAAiB,EAAC,QAApC;AAA6ClB,IAAAA,OAAO,EAAC;AAAC4R,MAAAA,UAAU,EAAC,CAAC,CAAb;AAAenF,MAAAA,OAAO,EAAC,CAAC,CAAxB;AAA0BoF,MAAAA,eAAe,EAAC,MAA1C;AAAiDC,MAAAA,aAAa,EAAC,OAA/D;AAAuEC,MAAAA,WAAW,EAAC,CAAC,CAApF;AAAsFC,MAAAA,QAAQ,EAAC,CAAC,CAAhG;AAAkG9J,MAAAA,WAAW,EAAC,CAAC,CAA/G;AAAiH+J,MAAAA,KAAK,EAAC,CAAC,CAAxH;AAA0H5J,MAAAA,IAAI,EAAC,CAAC,CAAhI;AAAkI6J,MAAAA,OAAO,EAAC,QAA1I;AAAmJ3J,MAAAA,MAAM,EAAC,CAAC,CAA3J;AAA6J4J,MAAAA,SAAS,EAAC,IAAvK;AAA4KC,MAAAA,QAAQ,EAAC,IAArL;AAA0LC,MAAAA,SAAS,EAAC,EAApM;AAAuMC,MAAAA,QAAQ,EAAC,EAAhN;AAAmN/S,MAAAA,MAAM,EAAC,EAA1N;AAA6NgT,MAAAA,MAAM,EAAC,IAApO;AAAyOjJ,MAAAA,KAAK,EAAC,IAA/O;AAAoPC,MAAAA,IAAI,EAAC;AAAzP,KAArD;AAAoTiJ,IAAAA,IAAI,EAAC,cAASzY,CAAT,EAAW;AAAC,aAAOyF,QAAQ,CAACzF,CAAD,EAAG,EAAH,CAAR,IAAgB,CAAvB;AAAyB,KAA9V;AAA+V0Y,IAAAA,SAAS,EAAC,mBAAS1Y,CAAT,EAAW;AAAC,aAAM,CAAC2D,KAAK,CAAC8B,QAAQ,CAACzF,CAAD,EAAG,EAAH,CAAT,CAAZ;AAA6B,KAAlZ;AAAmZ2Y,IAAAA,UAAU,EAAC,oBAASvY,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAG,aAAWf,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,UAAT,CAAd,EAAmC,OAAM,CAAC,CAAP;AAAS,UAAInB,CAAC,GAACU,CAAC,IAAE,WAASA,CAAZ,GAAc,YAAd,GAA2B,WAAjC;AAAA,UAA6CT,CAAC,GAAC,CAAC,CAAhD;AAAkD,aAAOF,CAAC,CAACC,CAAD,CAAD,GAAK,CAAL,KAASD,CAAC,CAACC,CAAD,CAAD,GAAK,CAAL,EAAOC,CAAC,GAACF,CAAC,CAACC,CAAD,CAAD,GAAK,CAAd,EAAgBD,CAAC,CAACC,CAAD,CAAD,GAAK,CAArB,EAAuBC,CAAhC,CAAP;AAA0C,KAApjB;AAAqjB0I,IAAAA,OAAO,EAAC,mBAAU;AAAC,UAAI5I,CAAJ;AAAA,UAAMW,CAAN;AAAA,UAAQV,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAC,GAAC,IAAd;AAAA,UAAmBC,CAAC,GAAC,KAAKyF,OAA1B;AAAkC,UAAG,KAAKF,OAAL,CAAa2E,QAAb,CAAsB,cAAtB,GAAsC1K,CAAC,CAAC2B,MAAF,CAAS,IAAT,EAAc;AAACiX,QAAAA,YAAY,EAAC,CAAC,CAACpY,CAAC,CAACwX,WAAlB;AAA8BA,QAAAA,WAAW,EAACxX,CAAC,CAACwX,WAA5C;AAAwDa,QAAAA,eAAe,EAAC,KAAK9S,OAA7E;AAAqF+S,QAAAA,6BAA6B,EAAC,EAAnH;AAAsHxE,QAAAA,OAAO,EAAC9T,CAAC,CAACgO,MAAF,IAAUhO,CAAC,CAAC0X,KAAZ,IAAmB1X,CAAC,CAACkS,OAArB,GAA6BlS,CAAC,CAACgO,MAAF,IAAU,qBAAvC,GAA6D;AAA3L,OAAd,CAAtC,EAAsP,KAAKzI,OAAL,CAAa,CAAb,EAAgBrF,QAAhB,CAAyBqJ,KAAzB,CAA+B,8CAA/B,MAAiF,KAAKhE,OAAL,CAAagT,IAAb,CAAkB/Y,CAAC,CAAC,0DAAD,CAAD,CAA8DwB,GAA9D,CAAkE;AAAC4P,QAAAA,QAAQ,EAAC,KAAKrL,OAAL,CAAavE,GAAb,CAAiB,UAAjB,CAAV;AAAuCuR,QAAAA,KAAK,EAAC,KAAKhN,OAAL,CAAajC,UAAb,EAA7C;AAAuEmP,QAAAA,MAAM,EAAC,KAAKlN,OAAL,CAAa5B,WAAb,EAA9E;AAAyG4N,QAAAA,GAAG,EAAC,KAAKhM,OAAL,CAAavE,GAAb,CAAiB,KAAjB,CAA7G;AAAqIyQ,QAAAA,IAAI,EAAC,KAAKlM,OAAL,CAAavE,GAAb,CAAiB,MAAjB;AAA1I,OAAlE,CAAlB,GAA0P,KAAKuE,OAAL,GAAa,KAAKA,OAAL,CAAaL,MAAb,GAAsBlC,IAAtB,CAA2B,cAA3B,EAA0C,KAAKuC,OAAL,CAAaiT,SAAb,CAAuB,UAAvB,CAA1C,CAAvQ,EAAqV,KAAKC,gBAAL,GAAsB,CAAC,CAA5W,EAA8W,KAAKlT,OAAL,CAAavE,GAAb,CAAiB;AAAC0X,QAAAA,UAAU,EAAC,KAAKL,eAAL,CAAqBrX,GAArB,CAAyB,YAAzB,CAAZ;AAAmD2X,QAAAA,SAAS,EAAC,KAAKN,eAAL,CAAqBrX,GAArB,CAAyB,WAAzB,CAA7D;AAAmG4X,QAAAA,WAAW,EAAC,KAAKP,eAAL,CAAqBrX,GAArB,CAAyB,aAAzB,CAA/G;AAAuJ6X,QAAAA,YAAY,EAAC,KAAKR,eAAL,CAAqBrX,GAArB,CAAyB,cAAzB;AAApK,OAAjB,CAA9W,EAA8kB,KAAKqX,eAAL,CAAqBrX,GAArB,CAAyB;AAAC0X,QAAAA,UAAU,EAAC,CAAZ;AAAcC,QAAAA,SAAS,EAAC,CAAxB;AAA0BC,QAAAA,WAAW,EAAC,CAAtC;AAAwCC,QAAAA,YAAY,EAAC;AAArD,OAAzB,CAA9kB,EAAgqB,KAAKC,mBAAL,GAAyB,KAAKT,eAAL,CAAqBrX,GAArB,CAAyB,QAAzB,CAAzrB,EAA4tB,KAAKqX,eAAL,CAAqBrX,GAArB,CAAyB,QAAzB,EAAkC,MAAlC,CAA5tB,EAAswB,KAAKsX,6BAAL,CAAmChT,IAAnC,CAAwC,KAAK+S,eAAL,CAAqBrX,GAArB,CAAyB;AAAC4P,QAAAA,QAAQ,EAAC,QAAV;AAAmBmI,QAAAA,IAAI,EAAC,CAAxB;AAA0BC,QAAAA,OAAO,EAAC;AAAlC,OAAzB,CAAxC,CAAtwB,EAAo3B,KAAKX,eAAL,CAAqBrX,GAArB,CAAyB;AAACiY,QAAAA,MAAM,EAAC,KAAKZ,eAAL,CAAqBrX,GAArB,CAAyB,QAAzB;AAAR,OAAzB,CAAp3B,EAA07B,KAAKkY,qBAAL,EAA3gC,CAAtP,EAA+xC,KAAKvB,OAAL,GAAa3X,CAAC,CAAC2X,OAAF,KAAYnY,CAAC,CAAC,sBAAD,EAAwB,KAAK+F,OAA7B,CAAD,CAAuCtE,MAAvC,GAA8C;AAACpB,QAAAA,CAAC,EAAC,iBAAH;AAAqBD,QAAAA,CAAC,EAAC,iBAAvB;AAAyCE,QAAAA,CAAC,EAAC,iBAA3C;AAA6DqZ,QAAAA,CAAC,EAAC,iBAA/D;AAAiFC,QAAAA,EAAE,EAAC,kBAApF;AAAuGC,QAAAA,EAAE,EAAC,kBAA1G;AAA6HC,QAAAA,EAAE,EAAC,kBAAhI;AAAmJC,QAAAA,EAAE,EAAC;AAAtJ,OAA9C,GAAwN,QAApO,CAA5yC,EAA0hD,KAAK5B,OAAL,CAAa/Q,WAAb,KAA2B6N,MAAxjD,EAA+jD,KAAI,UAAQ,KAAKkD,OAAb,KAAuB,KAAKA,OAAL,GAAa,qBAApC,GAA2D/X,CAAC,GAAC,KAAK+X,OAAL,CAAaxR,KAAb,CAAmB,GAAnB,CAA7D,EAAqF,KAAKwR,OAAL,GAAa,EAAlG,EAAqGpX,CAAC,GAAC,CAA3G,EAA6GA,CAAC,GAACX,CAAC,CAACqB,MAAjH,EAAwHV,CAAC,EAAzH;AAA4HV,QAAAA,CAAC,GAACL,CAAC,CAACga,IAAF,CAAO5Z,CAAC,CAACW,CAAD,CAAR,CAAF,EAAe,CAACT,CAAC,GAACN,CAAC,CAAC,sCAAoC,kBAAgBK,CAApD,IAAuD,UAAxD,CAAJ,EAAyEmB,GAAzE,CAA6E;AAACgE,UAAAA,MAAM,EAAChF,CAAC,CAACgF;AAAV,SAA7E,CAAf,EAA+G,SAAOnF,CAAP,IAAUC,CAAC,CAACoK,QAAF,CAAW,uCAAX,CAAzH,EAA6K,KAAKyN,OAAL,CAAa9X,CAAb,IAAgB,mBAAiBA,CAA9M,EAAgN,KAAK0F,OAAL,CAAakU,MAAb,CAAoB3Z,CAApB,CAAhN;AAA5H;AAAmW,WAAK4Z,WAAL,GAAiB,UAAS9Z,CAAT,EAAW;AAAC,YAAIW,CAAJ,EAAMV,CAAN,EAAQC,CAAR,EAAUC,CAAV;;AAAY,aAAIQ,CAAJ,IAASX,CAAC,GAACA,CAAC,IAAE,KAAK2F,OAAV,EAAkB,KAAKoS,OAAhC;AAAwC,eAAKA,OAAL,CAAapX,CAAb,EAAgBqG,WAAhB,KAA8B6N,MAA9B,KAAuC,KAAKkD,OAAL,CAAapX,CAAb,IAAgB,KAAKgF,OAAL,CAAaoU,QAAb,CAAsB,KAAKhC,OAAL,CAAapX,CAAb,CAAtB,EAAuCqZ,KAAvC,GAA+ChP,IAA/C,EAAvD,GAA8G,KAAK6N,gBAAL,IAAuB,KAAKJ,eAAL,CAAqB,CAArB,EAAwBnY,QAAxB,CAAiCqJ,KAAjC,CAAuC,mCAAvC,CAAvB,KAAqG1J,CAAC,GAACL,CAAC,CAAC,KAAKmY,OAAL,CAAapX,CAAb,CAAD,EAAiB,KAAKgF,OAAtB,CAAH,EAAkCxF,CAAC,GAAC,kBAAkBS,IAAlB,CAAuBD,CAAvB,IAA0BV,CAAC,CAAC8D,WAAF,EAA1B,GAA0C9D,CAAC,CAACyD,UAAF,EAA9E,EAA6FxD,CAAC,GAAC,CAAC,SAAD,EAAW,UAAUU,IAAV,CAAeD,CAAf,IAAkB,KAAlB,GAAwB,UAAUC,IAAV,CAAeD,CAAf,IAAkB,QAAlB,GAA2B,MAAMC,IAAN,CAAWD,CAAX,IAAc,OAAd,GAAsB,MAApF,EAA4FoJ,IAA5F,CAAiG,EAAjG,CAA/F,EAAoM/J,CAAC,CAACoB,GAAF,CAAMlB,CAAN,EAAQC,CAAR,CAApM,EAA+M,KAAKmZ,qBAAL,EAApT,CAA9G,EAAgc1Z,CAAC,CAAC,KAAKmY,OAAL,CAAapX,CAAb,CAAD,CAAD,CAAmBU,MAAnd;AAAxC;AAAkgB,OAA3iB,EAA4iB,KAAKyY,WAAL,CAAiB,KAAKnU,OAAtB,CAA5iB,EAA2kB,KAAKsU,QAAL,GAAcra,CAAC,CAAC,sBAAD,EAAwB,KAAK+F,OAA7B,CAAD,CAAuCb,gBAAvC,EAAzlB,EAAmpB,KAAKmV,QAAL,CAAcC,SAAd,CAAwB,YAAU;AAAC/Z,QAAAA,CAAC,CAACga,QAAF,KAAa,KAAKC,SAAL,KAAiBla,CAAC,GAAC,KAAKka,SAAL,CAAezQ,KAAf,CAAqB,qCAArB,CAAnB,GAAgFxJ,CAAC,CAAC0N,IAAF,GAAO3N,CAAC,IAAEA,CAAC,CAAC,CAAD,CAAJ,GAAQA,CAAC,CAAC,CAAD,CAAT,GAAa,IAAjH;AAAuH,OAA1J,CAAnpB,EAA+yBE,CAAC,CAACyX,QAAF,KAAa,KAAKoC,QAAL,CAAchP,IAAd,IAAqBrL,CAAC,CAAC,KAAK+F,OAAN,CAAD,CAAgB2E,QAAhB,CAAyB,uBAAzB,EAAkDF,UAAlD,CAA6D,YAAU;AAAChK,QAAAA,CAAC,CAACS,QAAF,KAAajB,CAAC,CAAC,IAAD,CAAD,CAAQqJ,WAAR,CAAoB,uBAApB,GAA6C9I,CAAC,CAAC8Z,QAAF,CAAWjP,IAAX,EAA1D;AAA6E,OAArJ,EAAuJT,UAAvJ,CAAkK,YAAU;AAACnK,QAAAA,CAAC,CAACS,QAAF,IAAYV,CAAC,CAACga,QAAd,KAAyBva,CAAC,CAAC,IAAD,CAAD,CAAQ0K,QAAR,CAAiB,uBAAjB,GAA0CnK,CAAC,CAAC8Z,QAAF,CAAWhP,IAAX,EAAnE;AAAsF,OAAnQ,CAAlC,CAA/yB,EAAulC,KAAKY,UAAL,EAAvlC;AAAymC,KAArnH;AAAsnH7C,IAAAA,QAAQ,EAAC,oBAAU;AAAC,WAAKiD,aAAL;;AAAqB,UAAIjM,CAAJ;AAAA,UAAMW,CAAC,GAAC,SAAFA,CAAE,CAASX,CAAT,EAAW;AAACJ,QAAAA,CAAC,CAACI,CAAD,CAAD,CAAKiJ,WAAL,CAAiB,0DAAjB,EAA6E7E,UAA7E,CAAwF,WAAxF,EAAqGA,UAArG,CAAgH,cAAhH,EAAgIe,MAAhI,CAAuI,YAAvI,EAAqJ2K,IAArJ,CAA0J,sBAA1J,EAAkL3J,MAAlL;AAA2L,OAA/M;;AAAgN,aAAO,KAAK0S,gBAAL,KAAwBlY,CAAC,CAAC,KAAKgF,OAAN,CAAD,EAAgB3F,CAAC,GAAC,KAAK2F,OAAvB,EAA+B,KAAK8S,eAAL,CAAqBrX,GAArB,CAAyB;AAAC4P,QAAAA,QAAQ,EAAChR,CAAC,CAACoB,GAAF,CAAM,UAAN,CAAV;AAA4BuR,QAAAA,KAAK,EAAC3S,CAAC,CAAC0D,UAAF,EAAlC;AAAiDmP,QAAAA,MAAM,EAAC7S,CAAC,CAAC+D,WAAF,EAAxD;AAAwE4N,QAAAA,GAAG,EAAC3R,CAAC,CAACoB,GAAF,CAAM,KAAN,CAA5E;AAAyFyQ,QAAAA,IAAI,EAAC7R,CAAC,CAACoB,GAAF,CAAM,MAAN;AAA9F,OAAzB,EAAuIiZ,WAAvI,CAAmJra,CAAnJ,CAA/B,EAAqLA,CAAC,CAACmG,MAAF,EAA7M,GAAyN,KAAKsS,eAAL,CAAqBrX,GAArB,CAAyB,QAAzB,EAAkC,KAAK8X,mBAAvC,CAAzN,EAAqRvY,CAAC,CAAC,KAAK8X,eAAN,CAAtR,EAA6S,IAApT;AAAyT,KAAxqI;AAAyqI/L,IAAAA,aAAa,EAAC,uBAAS1M,CAAT,EAAW;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAC,GAAC,CAAC,CAAX;;AAAa,WAAIS,CAAJ,IAAS,KAAKoX,OAAd;AAAsB,SAAC,CAAC9X,CAAC,GAACL,CAAC,CAAC,KAAKmY,OAAL,CAAapX,CAAb,CAAD,CAAD,CAAmB,CAAnB,CAAH,MAA4BX,CAAC,CAACqI,MAA9B,IAAsCzI,CAAC,CAACqT,QAAF,CAAWhT,CAAX,EAAaD,CAAC,CAACqI,MAAf,CAAvC,MAAiEnI,CAAC,GAAC,CAAC,CAApE;AAAtB;;AAA6F,aAAM,CAAC,KAAK2F,OAAL,CAAahF,QAAd,IAAwBX,CAA9B;AAAgC,KAA70I;AAA80I6M,IAAAA,WAAW,EAAC,qBAAS/M,CAAT,EAAW;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAC,GAAC,KAAK0F,OAAjB;AAAA,UAAyBzF,CAAC,GAAC,KAAKuF,OAAhC;AAAwC,aAAO,KAAKwU,QAAL,GAAc,CAAC,CAAf,EAAiB,KAAKG,YAAL,EAAjB,EAAqC3Z,CAAC,GAAC,KAAK0X,IAAL,CAAU,KAAKjK,MAAL,CAAYhN,GAAZ,CAAgB,MAAhB,CAAV,CAAvC,EAA0EnB,CAAC,GAAC,KAAKoY,IAAL,CAAU,KAAKjK,MAAL,CAAYhN,GAAZ,CAAgB,KAAhB,CAAV,CAA5E,EAA8GjB,CAAC,CAAC4N,WAAF,KAAgBpN,CAAC,IAAEf,CAAC,CAACO,CAAC,CAAC4N,WAAH,CAAD,CAAiBmF,UAAjB,MAA+B,CAAlC,EAAoCjT,CAAC,IAAEL,CAAC,CAACO,CAAC,CAAC4N,WAAH,CAAD,CAAiBoF,SAAjB,MAA8B,CAArF,CAA9G,EAAsM,KAAKnD,MAAL,GAAY,KAAK5B,MAAL,CAAY4B,MAAZ,EAAlN,EAAuO,KAAKgB,QAAL,GAAc;AAACa,QAAAA,IAAI,EAAClR,CAAN;AAAQgR,QAAAA,GAAG,EAAC1R;AAAZ,OAArP,EAAoQ,KAAKsa,IAAL,GAAU,KAAKrG,OAAL,GAAa;AAACvB,QAAAA,KAAK,EAAC,KAAKvE,MAAL,CAAYuE,KAAZ,EAAP;AAA2BE,QAAAA,MAAM,EAAC,KAAKzE,MAAL,CAAYyE,MAAZ;AAAlC,OAAb,GAAqE;AAACF,QAAAA,KAAK,EAACvS,CAAC,CAACuS,KAAF,EAAP;AAAiBE,QAAAA,MAAM,EAACzS,CAAC,CAACyS,MAAF;AAAxB,OAAnV,EAAuX,KAAK2H,YAAL,GAAkB,KAAKtG,OAAL,GAAa;AAACvB,QAAAA,KAAK,EAACvS,CAAC,CAACsD,UAAF,EAAP;AAAsBmP,QAAAA,MAAM,EAACzS,CAAC,CAAC2D,WAAF;AAA7B,OAAb,GAA2D;AAAC4O,QAAAA,KAAK,EAACvS,CAAC,CAACuS,KAAF,EAAP;AAAiBE,QAAAA,MAAM,EAACzS,CAAC,CAACyS,MAAF;AAAxB,OAApc,EAAwe,KAAK4H,QAAL,GAAc;AAAC9H,QAAAA,KAAK,EAACvS,CAAC,CAACsD,UAAF,KAAetD,CAAC,CAACuS,KAAF,EAAtB;AAAgCE,QAAAA,MAAM,EAACzS,CAAC,CAAC2D,WAAF,KAAgB3D,CAAC,CAACyS,MAAF;AAAvD,OAAtf,EAAyjB,KAAK9B,gBAAL,GAAsB;AAACc,QAAAA,IAAI,EAAClR,CAAN;AAAQgR,QAAAA,GAAG,EAAC1R;AAAZ,OAA/kB,EAA8lB,KAAKya,qBAAL,GAA2B;AAAC7I,QAAAA,IAAI,EAAC7R,CAAC,CAACwN,KAAR;AAAcmE,QAAAA,GAAG,EAAC3R,CAAC,CAACyN;AAApB,OAAznB,EAAopB,KAAKmK,WAAL,GAAiB,YAAU,OAAOzX,CAAC,CAACyX,WAAnB,GAA+BzX,CAAC,CAACyX,WAAjC,GAA6C,KAAK4C,YAAL,CAAkB7H,KAAlB,GAAwB,KAAK6H,YAAL,CAAkB3H,MAA1C,IAAkD,CAApwB,EAAswB3S,CAAC,GAACN,CAAC,CAAC,mBAAiB,KAAKiO,IAAvB,CAAD,CAA8BzM,GAA9B,CAAkC,QAAlC,CAAxwB,EAAozBxB,CAAC,CAAC,MAAD,CAAD,CAAUwB,GAAV,CAAc,QAAd,EAAuB,WAASlB,CAAT,GAAW,KAAK2N,IAAL,GAAU,SAArB,GAA+B3N,CAAtD,CAApzB,EAA62BE,CAAC,CAACkK,QAAF,CAAW,uBAAX,CAA72B,EAAi5B,KAAKqQ,UAAL,CAAgB,OAAhB,EAAwB3a,CAAxB,CAAj5B,EAA46B,CAAC,CAAp7B;AAAs7B,KAAp0K;AAAq0KmN,IAAAA,UAAU,EAAC,oBAASnN,CAAT,EAAW;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAC,GAAC,KAAKwa,qBAAf;AAAA,UAAqCva,CAAC,GAAC,KAAK0N,IAA5C;AAAA,UAAiDzN,CAAC,GAACJ,CAAC,CAACwN,KAAF,GAAQtN,CAAC,CAAC2R,IAAV,IAAgB,CAAnE;AAAA,UAAqExR,CAAC,GAACL,CAAC,CAACyN,KAAF,GAAQvN,CAAC,CAACyR,GAAV,IAAe,CAAtF;AAAA,UAAwF7L,CAAC,GAAC,KAAK8U,OAAL,CAAaza,CAAb,CAA1F;AAA0G,aAAO,KAAK0a,qBAAL,IAA6B,CAAC,CAAC/U,CAAF,KAAMnF,CAAC,GAACmF,CAAC,CAACjB,KAAF,CAAQ,IAAR,EAAa,CAAC7E,CAAD,EAAGI,CAAH,EAAKC,CAAL,CAAb,CAAF,EAAwB,KAAKya,wBAAL,CAA8B9a,CAAC,CAAC+a,QAAhC,CAAxB,EAAkE,CAAC,KAAKvC,YAAL,IAAmBxY,CAAC,CAAC+a,QAAtB,MAAkCpa,CAAC,GAAC,KAAKqa,YAAL,CAAkBra,CAAlB,EAAoBX,CAApB,CAApC,CAAlE,EAA8HW,CAAC,GAAC,KAAKsa,YAAL,CAAkBta,CAAlB,EAAoBX,CAApB,CAAhI,EAAuJ,KAAKkb,YAAL,CAAkBva,CAAlB,CAAvJ,EAA4K,KAAKga,UAAL,CAAgB,QAAhB,EAAyB3a,CAAzB,CAA5K,EAAwMC,CAAC,GAAC,KAAKkb,aAAL,EAA1M,EAA+N,CAAC,KAAKjH,OAAN,IAAe,KAAKwE,6BAAL,CAAmCrX,MAAlD,IAA0D,KAAKiY,qBAAL,EAAzR,EAAsT1Z,CAAC,CAACwL,aAAF,CAAgBnL,CAAhB,MAAqB,KAAK4a,qBAAL,IAA6B,KAAKhS,QAAL,CAAc,QAAd,EAAuB7I,CAAvB,EAAyB,KAAKsB,EAAL,EAAzB,CAA7B,EAAiE,KAAK6Z,aAAL,EAAtF,CAAtT,EAAka,CAAC,CAAza,CAApC;AAAgd,KAAt5L;AAAu5L/N,IAAAA,UAAU,EAAC,oBAASpN,CAAT,EAAW;AAAC,WAAKma,QAAL,GAAc,CAAC,CAAf;AAAiB,UAAIxZ,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAZ;AAAA,UAAcC,CAAd;AAAA,UAAgByF,CAAhB;AAAA,UAAkBQ,CAAC,GAAC,KAAKT,OAAzB;AAAA,UAAiC+D,CAAC,GAAC,IAAnC;AAAwC,aAAO,KAAKsK,OAAL,KAAehU,CAAC,GAAC,CAACD,CAAC,GAAC,CAACU,CAAC,GAAC,KAAK+X,6BAAR,EAAuCrX,MAAvC,IAA+C,YAAYT,IAAZ,CAAiBD,CAAC,CAAC,CAAD,CAAD,CAAKL,QAAtB,CAAlD,KAAoF,KAAKiY,UAAL,CAAgB5X,CAAC,CAAC,CAAD,CAAjB,EAAqB,MAArB,CAApF,GAAiH,CAAjH,GAAmHiJ,CAAC,CAAC6Q,QAAF,CAAW5H,MAAhI,EAAuI1S,CAAC,GAACF,CAAC,GAAC,CAAD,GAAG2J,CAAC,CAAC6Q,QAAF,CAAW9H,KAAxJ,EAA8JvS,CAAC,GAAC;AAACuS,QAAAA,KAAK,EAAC/I,CAAC,CAACwE,MAAF,CAASuE,KAAT,KAAiBxS,CAAxB;AAA0B0S,QAAAA,MAAM,EAACjJ,CAAC,CAACwE,MAAF,CAASyE,MAAT,KAAkB3S;AAAnD,OAAhK,EAAsNG,CAAC,GAACgF,QAAQ,CAACuE,CAAC,CAACjE,OAAF,CAAUvE,GAAV,CAAc,MAAd,CAAD,EAAuB,EAAvB,CAAR,IAAoCwI,CAAC,CAACoH,QAAF,CAAWa,IAAX,GAAgBjI,CAAC,CAACmH,gBAAF,CAAmBc,IAAvE,KAA8E,IAAtS,EAA2S/L,CAAC,GAACT,QAAQ,CAACuE,CAAC,CAACjE,OAAF,CAAUvE,GAAV,CAAc,KAAd,CAAD,EAAsB,EAAtB,CAAR,IAAmCwI,CAAC,CAACoH,QAAF,CAAWW,GAAX,GAAe/H,CAAC,CAACmH,gBAAF,CAAmBY,GAArE,KAA2E,IAAxX,EAA6XrL,CAAC,CAACgM,OAAF,IAAW,KAAK3M,OAAL,CAAavE,GAAb,CAAiBxB,CAAC,CAAC2B,MAAF,CAASnB,CAAT,EAAW;AAACuR,QAAAA,GAAG,EAAC7L,CAAL;AAAO+L,QAAAA,IAAI,EAACxR;AAAZ,OAAX,CAAjB,CAAxY,EAAqbuJ,CAAC,CAACwE,MAAF,CAASyE,MAAT,CAAgBjJ,CAAC,CAAC2Q,IAAF,CAAO1H,MAAvB,CAArb,EAAodjJ,CAAC,CAACwE,MAAF,CAASuE,KAAT,CAAe/I,CAAC,CAAC2Q,IAAF,CAAO5H,KAAtB,CAApd,EAAif,KAAKuB,OAAL,IAAc,CAAC5N,CAAC,CAACgM,OAAjB,IAA0B,KAAKgH,qBAAL,EAA1hB,GAAwjB1Z,CAAC,CAAC,MAAD,CAAD,CAAUwB,GAAV,CAAc,QAAd,EAAuB,MAAvB,CAAxjB,EAAulB,KAAKuE,OAAL,CAAasD,WAAb,CAAyB,uBAAzB,CAAvlB,EAAyoB,KAAK0R,UAAL,CAAgB,MAAhB,EAAuB3a,CAAvB,CAAzoB,EAAmqB,KAAKkU,OAAL,IAAc,KAAK9F,MAAL,CAAYjI,MAAZ,EAAjrB,EAAssB,CAAC,CAA9sB;AAAgtB,KAAvrN;AAAwrN0U,IAAAA,qBAAqB,EAAC,iCAAU;AAAC,WAAKO,YAAL,GAAkB;AAACzJ,QAAAA,GAAG,EAAC,KAAKX,QAAL,CAAcW,GAAnB;AAAuBE,QAAAA,IAAI,EAAC,KAAKb,QAAL,CAAca;AAA1C,OAAlB,EAAkE,KAAKwJ,QAAL,GAAc;AAAC1I,QAAAA,KAAK,EAAC,KAAK4H,IAAL,CAAU5H,KAAjB;AAAuBE,QAAAA,MAAM,EAAC,KAAK0H,IAAL,CAAU1H;AAAxC,OAAhF;AAAgI,KAAz1N;AAA01NsI,IAAAA,aAAa,EAAC,yBAAU;AAAC,UAAIvb,CAAC,GAAC,EAAN;AAAS,aAAO,KAAKoR,QAAL,CAAcW,GAAd,KAAoB,KAAKyJ,YAAL,CAAkBzJ,GAAtC,KAA4C/R,CAAC,CAAC+R,GAAF,GAAM,KAAKX,QAAL,CAAcW,GAAd,GAAkB,IAApE,GAA0E,KAAKX,QAAL,CAAca,IAAd,KAAqB,KAAKuJ,YAAL,CAAkBvJ,IAAvC,KAA8CjS,CAAC,CAACiS,IAAF,GAAO,KAAKb,QAAL,CAAca,IAAd,GAAmB,IAAxE,CAA1E,EAAwJ,KAAK0I,IAAL,CAAU5H,KAAV,KAAkB,KAAK0I,QAAL,CAAc1I,KAAhC,KAAwC/S,CAAC,CAAC+S,KAAF,GAAQ,KAAK4H,IAAL,CAAU5H,KAAV,GAAgB,IAAhE,CAAxJ,EAA8N,KAAK4H,IAAL,CAAU1H,MAAV,KAAmB,KAAKwI,QAAL,CAAcxI,MAAjC,KAA0CjT,CAAC,CAACiT,MAAF,GAAS,KAAK0H,IAAL,CAAU1H,MAAV,GAAiB,IAApE,CAA9N,EAAwS,KAAKzE,MAAL,CAAYhN,GAAZ,CAAgBxB,CAAhB,CAAxS,EAA2TA,CAAlU;AAAoU,KAAhsO;AAAisOkb,IAAAA,wBAAwB,EAAC,kCAASlb,CAAT,EAAW;AAAC,UAAII,CAAJ;AAAA,UAAMW,CAAN;AAAA,UAAQV,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAZ;AAAA,UAAcC,CAAC,GAAC,KAAKyF,OAArB;AAA6B1F,MAAAA,CAAC,GAAC;AAACgY,QAAAA,QAAQ,EAAC,KAAKG,SAAL,CAAelY,CAAC,CAAC+X,QAAjB,IAA2B/X,CAAC,CAAC+X,QAA7B,GAAsC,CAAhD;AAAkDF,QAAAA,QAAQ,EAAC,KAAKK,SAAL,CAAelY,CAAC,CAAC6X,QAAjB,IAA2B7X,CAAC,CAAC6X,QAA7B,GAAsCqD,QAAjG;AAA0GpD,QAAAA,SAAS,EAAC,KAAKI,SAAL,CAAelY,CAAC,CAAC8X,SAAjB,IAA4B9X,CAAC,CAAC8X,SAA9B,GAAwC,CAA5J;AAA8JF,QAAAA,SAAS,EAAC,KAAKM,SAAL,CAAelY,CAAC,CAAC4X,SAAjB,IAA4B5X,CAAC,CAAC4X,SAA9B,GAAwCsD;AAAhN,OAAF,EAA4N,CAAC,KAAK9C,YAAL,IAAmB5Y,CAApB,MAAyBI,CAAC,GAACG,CAAC,CAAC+X,SAAF,GAAY,KAAKN,WAAnB,EAA+B3X,CAAC,GAACE,CAAC,CAACgY,QAAF,GAAW,KAAKP,WAAjD,EAA6DjX,CAAC,GAACR,CAAC,CAAC6X,SAAF,GAAY,KAAKJ,WAAhF,EAA4F1X,CAAC,GAACC,CAAC,CAAC8X,QAAF,GAAW,KAAKL,WAA9G,EAA0H5X,CAAC,GAACG,CAAC,CAACgY,QAAJ,KAAehY,CAAC,CAACgY,QAAF,GAAWnY,CAA1B,CAA1H,EAAuJC,CAAC,GAACE,CAAC,CAAC+X,SAAJ,KAAgB/X,CAAC,CAAC+X,SAAF,GAAYjY,CAA5B,CAAvJ,EAAsLU,CAAC,GAACR,CAAC,CAAC8X,QAAJ,KAAe9X,CAAC,CAAC8X,QAAF,GAAWtX,CAA1B,CAAtL,EAAmNT,CAAC,GAACC,CAAC,CAAC6X,SAAJ,KAAgB7X,CAAC,CAAC6X,SAAF,GAAY9X,CAA5B,CAA5O,CAA5N,EAAwe,KAAKqb,YAAL,GAAkBpb,CAA1f;AAA4f,KAA/vP;AAAgwP+a,IAAAA,YAAY,EAAC,sBAAStb,CAAT,EAAW;AAAC,WAAKoQ,MAAL,GAAY,KAAK5B,MAAL,CAAY4B,MAAZ,EAAZ,EAAiC,KAAKsI,SAAL,CAAe1Y,CAAC,CAACiS,IAAjB,MAAyB,KAAKb,QAAL,CAAca,IAAd,GAAmBjS,CAAC,CAACiS,IAA9C,CAAjC,EAAqF,KAAKyG,SAAL,CAAe1Y,CAAC,CAAC+R,GAAjB,MAAwB,KAAKX,QAAL,CAAcW,GAAd,GAAkB/R,CAAC,CAAC+R,GAA5C,CAArF,EAAsI,KAAK2G,SAAL,CAAe1Y,CAAC,CAACiT,MAAjB,MAA2B,KAAK0H,IAAL,CAAU1H,MAAV,GAAiBjT,CAAC,CAACiT,MAA9C,CAAtI,EAA4L,KAAKyF,SAAL,CAAe1Y,CAAC,CAAC+S,KAAjB,MAA0B,KAAK4H,IAAL,CAAU5H,KAAV,GAAgB/S,CAAC,CAAC+S,KAA5C,CAA5L;AAA+O,KAAxgQ;AAAygQqI,IAAAA,YAAY,EAAC,sBAASpb,CAAT,EAAW;AAAC,UAAII,CAAC,GAAC,KAAKgR,QAAX;AAAA,UAAoBrQ,CAAC,GAAC,KAAK4Z,IAA3B;AAAA,UAAgCta,CAAC,GAAC,KAAK4N,IAAvC;AAA4C,aAAO,KAAKyK,SAAL,CAAe1Y,CAAC,CAACiT,MAAjB,IAAyBjT,CAAC,CAAC+S,KAAF,GAAQ/S,CAAC,CAACiT,MAAF,GAAS,KAAK+E,WAA/C,GAA2D,KAAKU,SAAL,CAAe1Y,CAAC,CAAC+S,KAAjB,MAA0B/S,CAAC,CAACiT,MAAF,GAASjT,CAAC,CAAC+S,KAAF,GAAQ,KAAKiF,WAAhD,CAA3D,EAAwH,SAAO3X,CAAP,KAAWL,CAAC,CAACiS,IAAF,GAAO7R,CAAC,CAAC6R,IAAF,IAAQlR,CAAC,CAACgS,KAAF,GAAQ/S,CAAC,CAAC+S,KAAlB,CAAP,EAAgC/S,CAAC,CAAC+R,GAAF,GAAM,IAAjD,CAAxH,EAA+K,SAAO1R,CAAP,KAAWL,CAAC,CAAC+R,GAAF,GAAM3R,CAAC,CAAC2R,GAAF,IAAOhR,CAAC,CAACkS,MAAF,GAASjT,CAAC,CAACiT,MAAlB,CAAN,EAAgCjT,CAAC,CAACiS,IAAF,GAAO7R,CAAC,CAAC6R,IAAF,IAAQlR,CAAC,CAACgS,KAAF,GAAQ/S,CAAC,CAAC+S,KAAlB,CAAlD,CAA/K,EAA2P/S,CAAlQ;AAAoQ,KAAl1Q;AAAm1Qqb,IAAAA,YAAY,EAAC,sBAASrb,CAAT,EAAW;AAAC,UAAII,CAAC,GAAC,KAAKub,YAAX;AAAA,UAAwB5a,CAAC,GAAC,KAAKkN,IAA/B;AAAA,UAAoC5N,CAAC,GAAC,KAAKqY,SAAL,CAAe1Y,CAAC,CAAC+S,KAAjB,KAAyB3S,CAAC,CAACiY,QAA3B,IAAqCjY,CAAC,CAACiY,QAAF,GAAWrY,CAAC,CAAC+S,KAAxF;AAAA,UAA8FzS,CAAC,GAAC,KAAKoY,SAAL,CAAe1Y,CAAC,CAACiT,MAAjB,KAA0B7S,CAAC,CAACgY,SAA5B,IAAuChY,CAAC,CAACgY,SAAF,GAAYpY,CAAC,CAACiT,MAArJ;AAAA,UAA4J1S,CAAC,GAAC,KAAKmY,SAAL,CAAe1Y,CAAC,CAAC+S,KAAjB,KAAyB3S,CAAC,CAACmY,QAA3B,IAAqCnY,CAAC,CAACmY,QAAF,GAAWvY,CAAC,CAAC+S,KAAhN;AAAA,UAAsNvS,CAAC,GAAC,KAAKkY,SAAL,CAAe1Y,CAAC,CAACiT,MAAjB,KAA0B7S,CAAC,CAACkY,SAA5B,IAAuClY,CAAC,CAACkY,SAAF,GAAYtY,CAAC,CAACiT,MAA7Q;AAAA,UAAoRxS,CAAC,GAAC,KAAK0Q,gBAAL,CAAsBc,IAAtB,GAA2B,KAAK2I,YAAL,CAAkB7H,KAAnU;AAAA,UAAyU7M,CAAC,GAAC,KAAKkL,QAAL,CAAcW,GAAd,GAAkB,KAAK4I,IAAL,CAAU1H,MAAvW;AAAA,UAA8WvM,CAAC,GAAC,UAAU1F,IAAV,CAAeD,CAAf,CAAhX;AAAA,UAAkYiJ,CAAC,GAAC,UAAUhJ,IAAV,CAAeD,CAAf,CAApY;AAAsZ,aAAOR,CAAC,KAAGP,CAAC,CAAC+S,KAAF,GAAQ3S,CAAC,CAACmY,QAAb,CAAD,EAAwB/X,CAAC,KAAGR,CAAC,CAACiT,MAAF,GAAS7S,CAAC,CAACkY,SAAd,CAAzB,EAAkDjY,CAAC,KAAGL,CAAC,CAAC+S,KAAF,GAAQ3S,CAAC,CAACiY,QAAb,CAAnD,EAA0E/X,CAAC,KAAGN,CAAC,CAACiT,MAAF,GAAS7S,CAAC,CAACgY,SAAd,CAA3E,EAAoG7X,CAAC,IAAEmG,CAAH,KAAO1G,CAAC,CAACiS,IAAF,GAAOxR,CAAC,GAACL,CAAC,CAACmY,QAAlB,CAApG,EAAgIlY,CAAC,IAAEqG,CAAH,KAAO1G,CAAC,CAACiS,IAAF,GAAOxR,CAAC,GAACL,CAAC,CAACiY,QAAlB,CAAhI,EAA4J7X,CAAC,IAAEwJ,CAAH,KAAOhK,CAAC,CAAC+R,GAAF,GAAM7L,CAAC,GAAC9F,CAAC,CAACkY,SAAjB,CAA5J,EAAwLhY,CAAC,IAAE0J,CAAH,KAAOhK,CAAC,CAAC+R,GAAF,GAAM7L,CAAC,GAAC9F,CAAC,CAACgY,SAAjB,CAAxL,EAAoNpY,CAAC,CAAC+S,KAAF,IAAS/S,CAAC,CAACiT,MAAX,IAAmBjT,CAAC,CAACiS,IAArB,IAA2B,CAACjS,CAAC,CAAC+R,GAA9B,GAAkC/R,CAAC,CAAC+S,KAAF,IAAS/S,CAAC,CAACiT,MAAX,IAAmBjT,CAAC,CAAC+R,GAArB,IAA0B,CAAC/R,CAAC,CAACiS,IAA7B,KAAoCjS,CAAC,CAACiS,IAAF,GAAO,IAA3C,CAAlC,GAAmFjS,CAAC,CAAC+R,GAAF,GAAM,IAA7S,EAAkT/R,CAAzT;AAA2T,KAA7jS;AAA8jS4b,IAAAA,+BAA+B,EAAC,yCAAS5b,CAAT,EAAW;AAAC,WAAI,IAAII,CAAC,GAAC,CAAN,EAAQW,CAAC,GAAC,EAAV,EAAaV,CAAC,GAAC,CAACL,CAAC,CAACwB,GAAF,CAAM,gBAAN,CAAD,EAAyBxB,CAAC,CAACwB,GAAF,CAAM,kBAAN,CAAzB,EAAmDxB,CAAC,CAACwB,GAAF,CAAM,mBAAN,CAAnD,EAA8ExB,CAAC,CAACwB,GAAF,CAAM,iBAAN,CAA9E,CAAf,EAAuHlB,CAAC,GAAC,CAACN,CAAC,CAACwB,GAAF,CAAM,YAAN,CAAD,EAAqBxB,CAAC,CAACwB,GAAF,CAAM,cAAN,CAArB,EAA2CxB,CAAC,CAACwB,GAAF,CAAM,eAAN,CAA3C,EAAkExB,CAAC,CAACwB,GAAF,CAAM,aAAN,CAAlE,CAA7H,EAAqNpB,CAAC,GAAC,CAAvN,EAAyNA,CAAC,EAA1N;AAA6NW,QAAAA,CAAC,CAACX,CAAD,CAAD,GAAKqF,QAAQ,CAACpF,CAAC,CAACD,CAAD,CAAF,EAAM,EAAN,CAAR,IAAmB,CAAxB,EAA0BW,CAAC,CAACX,CAAD,CAAD,IAAMqF,QAAQ,CAACnF,CAAC,CAACF,CAAD,CAAF,EAAM,EAAN,CAAR,IAAmB,CAAnD;AAA7N;;AAAkR,aAAM;AAAC6S,QAAAA,MAAM,EAAClS,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAd;AAAkBgS,QAAAA,KAAK,EAAChS,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD;AAA9B,OAAN;AAAyC,KAAr6S;AAAs6S2Y,IAAAA,qBAAqB,EAAC,iCAAU;AAAC,UAAG,KAAKZ,6BAAL,CAAmCrX,MAAtC,EAA6C,KAAI,IAAIzB,CAAJ,EAAMI,CAAC,GAAC,CAAR,EAAUW,CAAC,GAAC,KAAKyN,MAAL,IAAa,KAAKzI,OAAlC,EAA0C3F,CAAC,GAAC,KAAK0Y,6BAAL,CAAmCrX,MAA/E,EAAsFrB,CAAC,EAAvF;AAA0FJ,QAAAA,CAAC,GAAC,KAAK8Y,6BAAL,CAAmC1Y,CAAnC,CAAF,EAAwC,KAAKyb,eAAL,KAAuB,KAAKA,eAAL,GAAqB,KAAKD,+BAAL,CAAqC5b,CAArC,CAA5C,CAAxC,EAA6HA,CAAC,CAACwB,GAAF,CAAM;AAACyR,UAAAA,MAAM,EAAClS,CAAC,CAACkS,MAAF,KAAW,KAAK4I,eAAL,CAAqB5I,MAAhC,IAAwC,CAAhD;AAAkDF,UAAAA,KAAK,EAAChS,CAAC,CAACgS,KAAF,KAAU,KAAK8I,eAAL,CAAqB9I,KAA/B,IAAsC;AAA9F,SAAN,CAA7H;AAA1F;AAA+T,KAAnzT;AAAozT2H,IAAAA,YAAY,EAAC,wBAAU;AAAC,UAAIta,CAAC,GAAC,KAAK2F,OAAX;AAAA,UAAmBhF,CAAC,GAAC,KAAKkF,OAA1B;AAAkC,WAAK6V,aAAL,GAAmB1b,CAAC,CAACgQ,MAAF,EAAnB,EAA8B,KAAKkE,OAAL,IAAc,KAAK9F,MAAL,GAAY,KAAKA,MAAL,IAAaxO,CAAC,CAAC,sCAAD,CAA1B,EAAmE,KAAKwO,MAAL,CAAY9D,QAAZ,CAAqB,KAAK4J,OAA1B,EAAmC9S,GAAnC,CAAuC;AAACuR,QAAAA,KAAK,EAAC,KAAKhN,OAAL,CAAajC,UAAb,KAA0B,CAAjC;AAAmCmP,QAAAA,MAAM,EAAC,KAAKlN,OAAL,CAAa5B,WAAb,KAA2B,CAArE;AAAuEiN,QAAAA,QAAQ,EAAC,UAAhF;AAA2Fa,QAAAA,IAAI,EAAC,KAAK6J,aAAL,CAAmB7J,IAAnB,GAAwB,IAAxH;AAA6HF,QAAAA,GAAG,EAAC,KAAK+J,aAAL,CAAmB/J,GAAnB,GAAuB,IAAxJ;AAA6JvM,QAAAA,MAAM,EAAC,EAAEzE,CAAC,CAACyE;AAAxK,OAAvC,CAAnE,EAA2R,KAAKgJ,MAAL,CAAYR,QAAZ,CAAqB,MAArB,EAA6B9I,gBAA7B,EAAzS,IAA0V,KAAKsJ,MAAL,GAAY,KAAKzI,OAAzY;AAAiZ,KAA/vU;AAAgwUiV,IAAAA,OAAO,EAAC;AAAC5a,MAAAA,CAAC,EAAC,WAASJ,CAAT,EAAWI,EAAX,EAAa;AAAC,eAAM;AAAC2S,UAAAA,KAAK,EAAC,KAAK6H,YAAL,CAAkB7H,KAAlB,GAAwB3S;AAA/B,SAAN;AAAwC,OAAzD;AAA0DuZ,MAAAA,CAAC,EAAC,WAAS3Z,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIW,CAAC,GAAC,KAAK6Z,YAAX;AAAwB,eAAM;AAAC3I,UAAAA,IAAI,EAAC,KAAKd,gBAAL,CAAsBc,IAAtB,GAA2B7R,CAAjC;AAAmC2S,UAAAA,KAAK,EAAChS,CAAC,CAACgS,KAAF,GAAQ3S;AAAjD,SAAN;AAA0D,OAA5J;AAA6JC,MAAAA,CAAC,EAAC,WAASL,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,YAAIV,CAAC,GAAC,KAAKua,YAAX;AAAwB,eAAM;AAAC7I,UAAAA,GAAG,EAAC,KAAKZ,gBAAL,CAAsBY,GAAtB,GAA0BhR,CAA/B;AAAiCkS,UAAAA,MAAM,EAAC5S,CAAC,CAAC4S,MAAF,GAASlS;AAAjD,SAAN;AAA0D,OAAjQ;AAAkQT,MAAAA,CAAC,EAAC,WAASN,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,eAAM;AAACkS,UAAAA,MAAM,EAAC,KAAK2H,YAAL,CAAkB3H,MAAlB,GAAyBlS;AAAjC,SAAN;AAA0C,OAA9T;AAA+T6Y,MAAAA,EAAE,EAAC,YAASxZ,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,eAAOL,CAAC,CAAC2B,MAAF,CAAS,KAAKqZ,OAAL,CAAa1a,CAAb,CAAe2E,KAAf,CAAqB,IAArB,EAA0BR,SAA1B,CAAT,EAA8C,KAAKuW,OAAL,CAAa5a,CAAb,CAAe6E,KAAf,CAAqB,IAArB,EAA0B,CAAC7E,CAAD,EAAGW,CAAH,EAAKV,CAAL,CAA1B,CAA9C,CAAP;AAAyF,OAA3a;AAA4awZ,MAAAA,EAAE,EAAC,YAASzZ,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,eAAOL,CAAC,CAAC2B,MAAF,CAAS,KAAKqZ,OAAL,CAAa1a,CAAb,CAAe2E,KAAf,CAAqB,IAArB,EAA0BR,SAA1B,CAAT,EAA8C,KAAKuW,OAAL,CAAarB,CAAb,CAAe1U,KAAf,CAAqB,IAArB,EAA0B,CAAC7E,CAAD,EAAGW,CAAH,EAAKV,CAAL,CAA1B,CAA9C,CAAP;AAAyF,OAAxhB;AAAyhByZ,MAAAA,EAAE,EAAC,YAAS1Z,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,eAAOL,CAAC,CAAC2B,MAAF,CAAS,KAAKqZ,OAAL,CAAa3a,CAAb,CAAe4E,KAAf,CAAqB,IAArB,EAA0BR,SAA1B,CAAT,EAA8C,KAAKuW,OAAL,CAAa5a,CAAb,CAAe6E,KAAf,CAAqB,IAArB,EAA0B,CAAC7E,CAAD,EAAGW,CAAH,EAAKV,CAAL,CAA1B,CAA9C,CAAP;AAAyF,OAAroB;AAAsoB0Z,MAAAA,EAAE,EAAC,YAAS3Z,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,eAAOL,CAAC,CAAC2B,MAAF,CAAS,KAAKqZ,OAAL,CAAa3a,CAAb,CAAe4E,KAAf,CAAqB,IAArB,EAA0BR,SAA1B,CAAT,EAA8C,KAAKuW,OAAL,CAAarB,CAAb,CAAe1U,KAAf,CAAqB,IAArB,EAA0B,CAAC7E,CAAD,EAAGW,CAAH,EAAKV,CAAL,CAA1B,CAA9C,CAAP;AAAyF;AAAlvB,KAAxwU;AAA4/V0a,IAAAA,UAAU,EAAC,oBAAS3a,CAAT,EAAWW,CAAX,EAAa;AAACf,MAAAA,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYtB,IAAZ,CAAiB,IAAjB,EAAsBjE,CAAtB,EAAwB,CAACW,CAAD,EAAG,KAAKW,EAAL,EAAH,CAAxB,GAAuC,aAAWtB,CAAX,IAAc,KAAK6I,QAAL,CAAc7I,CAAd,EAAgBW,CAAhB,EAAkB,KAAKW,EAAL,EAAlB,CAArD;AAAkF,KAAvmW;AAAwmWmE,IAAAA,OAAO,EAAC,EAAhnW;AAAmnWnE,IAAAA,EAAE,EAAC,cAAU;AAAC,aAAM;AAACmX,QAAAA,eAAe,EAAC,KAAKA,eAAtB;AAAsC9S,QAAAA,OAAO,EAAC,KAAKA,OAAnD;AAA2DyI,QAAAA,MAAM,EAAC,KAAKA,MAAvE;AAA8E4C,QAAAA,QAAQ,EAAC,KAAKA,QAA5F;AAAqGuJ,QAAAA,IAAI,EAAC,KAAKA,IAA/G;AAAoHC,QAAAA,YAAY,EAAC,KAAKA,YAAtI;AAAmJzJ,QAAAA,gBAAgB,EAAC,KAAKA;AAAzK,OAAN;AAAiM;AAAl0W,GAAnC,GAAw2WnR,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,SAA5B,EAAsC;AAACkL,IAAAA,IAAI,EAAC,cAASpP,CAAT,EAAW;AAAC,UAAIW,CAAC,GAACf,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAAN;AAAA,UAAoC3Y,CAAC,GAACU,CAAC,CAACkF,OAAxC;AAAA,UAAgD3F,CAAC,GAACS,CAAC,CAAC+X,6BAApD;AAAA,UAAkFvY,CAAC,GAACD,CAAC,CAACmB,MAAF,IAAU,YAAYT,IAAZ,CAAiBV,CAAC,CAAC,CAAD,CAAD,CAAKI,QAAtB,CAA9F;AAAA,UAA8HF,CAAC,GAACD,CAAC,IAAEQ,CAAC,CAAC4X,UAAF,CAAarY,CAAC,CAAC,CAAD,CAAd,EAAkB,MAAlB,CAAH,GAA6B,CAA7B,GAA+BS,CAAC,CAAC8Z,QAAF,CAAW5H,MAA1K;AAAA,UAAiLxS,CAAC,GAACF,CAAC,GAAC,CAAD,GAAGQ,CAAC,CAAC8Z,QAAF,CAAW9H,KAAlM;AAAA,UAAwM7M,CAAC,GAAC;AAAC6M,QAAAA,KAAK,EAAChS,CAAC,CAAC4Z,IAAF,CAAO5H,KAAP,GAAatS,CAApB;AAAsBwS,QAAAA,MAAM,EAAClS,CAAC,CAAC4Z,IAAF,CAAO1H,MAAP,GAAczS;AAA3C,OAA1M;AAAA,UAAwPkG,CAAC,GAACjB,QAAQ,CAAC1E,CAAC,CAACgF,OAAF,CAAUvE,GAAV,CAAc,MAAd,CAAD,EAAuB,EAAvB,CAAR,IAAoCT,CAAC,CAACqQ,QAAF,CAAWa,IAAX,GAAgBlR,CAAC,CAACoQ,gBAAF,CAAmBc,IAAvE,KAA8E,IAAxU;AAAA,UAA6UjI,CAAC,GAACvE,QAAQ,CAAC1E,CAAC,CAACgF,OAAF,CAAUvE,GAAV,CAAc,KAAd,CAAD,EAAsB,EAAtB,CAAR,IAAmCT,CAAC,CAACqQ,QAAF,CAAWW,GAAX,GAAehR,CAAC,CAACoQ,gBAAF,CAAmBY,GAArE,KAA2E,IAA1Z;AAA+ZhR,MAAAA,CAAC,CAACgF,OAAF,CAAU2M,OAAV,CAAkB1S,CAAC,CAAC2B,MAAF,CAASuE,CAAT,EAAW8D,CAAC,IAAEtD,CAAH,GAAK;AAACqL,QAAAA,GAAG,EAAC/H,CAAL;AAAOiI,QAAAA,IAAI,EAACvL;AAAZ,OAAL,GAAoB,EAA/B,CAAlB,EAAqD;AAAC6E,QAAAA,QAAQ,EAAClL,CAAC,CAACyX,eAAZ;AAA4BlM,QAAAA,MAAM,EAACvL,CAAC,CAAC0X,aAArC;AAAmDgE,QAAAA,IAAI,EAAC,gBAAU;AAAC,cAAI1b,CAAC,GAAC;AAAC0S,YAAAA,KAAK,EAACtN,QAAQ,CAAC1E,CAAC,CAACgF,OAAF,CAAUvE,GAAV,CAAc,OAAd,CAAD,EAAwB,EAAxB,CAAf;AAA2CyR,YAAAA,MAAM,EAACxN,QAAQ,CAAC1E,CAAC,CAACgF,OAAF,CAAUvE,GAAV,CAAc,QAAd,CAAD,EAAyB,EAAzB,CAA1D;AAAuFuQ,YAAAA,GAAG,EAACtM,QAAQ,CAAC1E,CAAC,CAACgF,OAAF,CAAUvE,GAAV,CAAc,KAAd,CAAD,EAAsB,EAAtB,CAAnG;AAA6HyQ,YAAAA,IAAI,EAACxM,QAAQ,CAAC1E,CAAC,CAACgF,OAAF,CAAUvE,GAAV,CAAc,MAAd,CAAD,EAAuB,EAAvB;AAA1I,WAAN;AAA4KlB,UAAAA,CAAC,IAAEA,CAAC,CAACmB,MAAL,IAAazB,CAAC,CAACM,CAAC,CAAC,CAAD,CAAF,CAAD,CAAQkB,GAAR,CAAY;AAACuR,YAAAA,KAAK,EAAC1S,CAAC,CAAC0S,KAAT;AAAeE,YAAAA,MAAM,EAAC5S,CAAC,CAAC4S;AAAxB,WAAZ,CAAb,EAA0DlS,CAAC,CAACua,YAAF,CAAejb,CAAf,CAA1D,EAA4EU,CAAC,CAACga,UAAF,CAAa,QAAb,EAAsB3a,CAAtB,CAA5E;AAAqG;AAApV,OAArD;AAA4Y;AAA7zB,GAAtC,CAAx2W,EAA8sYJ,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,aAA5B,EAA0C;AAACiL,IAAAA,KAAK,EAAC,iBAAU;AAAC,UAAInP,CAAJ;AAAA,UAAMW,CAAN;AAAA,UAAQV,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAZ;AAAA,UAAcC,CAAd;AAAA,UAAgBC,CAAhB;AAAA,UAAkByF,CAAC,GAAClG,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAApB;AAAA,UAAkDtS,CAAC,GAACR,CAAC,CAACD,OAAtD;AAAA,UAA8D+D,CAAC,GAAC9D,CAAC,CAACH,OAAlE;AAAA,UAA0EoP,CAAC,GAACzO,CAAC,CAACyH,WAA9E;AAAA,UAA0FiH,CAAC,GAACD,CAAC,YAAYnV,CAAb,GAAemV,CAAC,CAACtN,GAAF,CAAM,CAAN,CAAf,GAAwB,SAAS7G,IAAT,CAAcmU,CAAd,IAAiBnL,CAAC,CAACtE,MAAF,GAAWmC,GAAX,CAAe,CAAf,CAAjB,GAAmCsN,CAAvJ;AAAyJC,MAAAA,CAAC,KAAGlP,CAAC,CAAC8V,gBAAF,GAAmBhc,CAAC,CAACoV,CAAD,CAApB,EAAwB,WAAWpU,IAAX,CAAgBmU,CAAhB,KAAoBA,CAAC,KAAGjS,QAAxB,IAAkCgD,CAAC,CAAC+V,eAAF,GAAkB;AAAChK,QAAAA,IAAI,EAAC,CAAN;AAAQF,QAAAA,GAAG,EAAC;AAAZ,OAAlB,EAAiC7L,CAAC,CAACgW,iBAAF,GAAoB;AAACjK,QAAAA,IAAI,EAAC,CAAN;AAAQF,QAAAA,GAAG,EAAC;AAAZ,OAArD,EAAoE7L,CAAC,CAACiW,UAAF,GAAa;AAACpW,QAAAA,OAAO,EAAC/F,CAAC,CAACkD,QAAD,CAAV;AAAqB+O,QAAAA,IAAI,EAAC,CAA1B;AAA4BF,QAAAA,GAAG,EAAC,CAAhC;AAAkCgB,QAAAA,KAAK,EAAC/S,CAAC,CAACkD,QAAD,CAAD,CAAY6P,KAAZ,EAAxC;AAA4DE,QAAAA,MAAM,EAACjT,CAAC,CAACkD,QAAD,CAAD,CAAY+P,MAAZ,MAAsB/P,QAAQ,CAAC2Q,IAAT,CAAcjT,UAAd,CAAyB+S;AAAlH,OAAnH,KAAqPvT,CAAC,GAACJ,CAAC,CAACoV,CAAD,CAAH,EAAOrU,CAAC,GAAC,EAAT,EAAYf,CAAC,CAAC,CAAC,KAAD,EAAO,OAAP,EAAe,MAAf,EAAsB,QAAtB,CAAD,CAAD,CAAmCoD,IAAnC,CAAwC,UAASpD,CAAT,EAAWK,CAAX,EAAa;AAACU,QAAAA,CAAC,CAACf,CAAD,CAAD,GAAKkG,CAAC,CAACuS,IAAF,CAAOrY,CAAC,CAACoB,GAAF,CAAM,YAAUnB,CAAhB,CAAP,CAAL;AAAgC,OAAtF,CAAZ,EAAoG6F,CAAC,CAAC+V,eAAF,GAAkB7b,CAAC,CAACgQ,MAAF,EAAtH,EAAiIlK,CAAC,CAACgW,iBAAF,GAAoB9b,CAAC,CAACgR,QAAF,EAArJ,EAAkKlL,CAAC,CAACkW,aAAF,GAAgB;AAACnJ,QAAAA,MAAM,EAAC7S,CAAC,CAAC8D,WAAF,KAAgBnD,CAAC,CAAC,CAAD,CAAzB;AAA6BgS,QAAAA,KAAK,EAAC3S,CAAC,CAAC6D,UAAF,KAAelD,CAAC,CAAC,CAAD;AAAnD,OAAlL,EAA0OV,CAAC,GAAC6F,CAAC,CAAC+V,eAA9O,EAA8P3b,CAAC,GAAC4F,CAAC,CAACkW,aAAF,CAAgBnJ,MAAhR,EAAuR1S,CAAC,GAAC2F,CAAC,CAACkW,aAAF,CAAgBrJ,KAAzS,EAA+SvS,CAAC,GAAC0F,CAAC,CAACyS,UAAF,CAAavD,CAAb,EAAe,MAAf,IAAuBA,CAAC,CAAC3B,WAAzB,GAAqClT,CAAtV,EAAwVE,CAAC,GAACyF,CAAC,CAACyS,UAAF,CAAavD,CAAb,IAAgBA,CAAC,CAACzB,YAAlB,GAA+BrT,CAAzX,EAA2X4F,CAAC,CAACiW,UAAF,GAAa;AAACpW,QAAAA,OAAO,EAACqP,CAAT;AAAWnD,QAAAA,IAAI,EAAC5R,CAAC,CAAC4R,IAAlB;AAAuBF,QAAAA,GAAG,EAAC1R,CAAC,CAAC0R,GAA7B;AAAiCgB,QAAAA,KAAK,EAACvS,CAAvC;AAAyCyS,QAAAA,MAAM,EAACxS;AAAhD,OAA7nB,CAA3B,CAAD;AAA8sB,KAAz3B;AAA03B+X,IAAAA,MAAM,EAAC,gBAASpY,CAAT,EAAW;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAC,GAACR,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAAd;AAAA,UAA4CvY,CAAC,GAACD,CAAC,CAACyF,OAAhD;AAAA,UAAwDC,CAAC,GAAC1F,CAAC,CAACyb,eAA5D;AAAA,UAA4EvV,CAAC,GAAClG,CAAC,CAAC4Q,QAAhF;AAAA,UAAyFpH,CAAC,GAACxJ,CAAC,CAACoY,YAAF,IAAgBxY,CAAC,CAAC+a,QAA7G;AAAA,UAAsHhG,CAAC,GAAC;AAACpD,QAAAA,GAAG,EAAC,CAAL;AAAOE,QAAAA,IAAI,EAAC;AAAZ,OAAxH;AAAA,UAAuImD,CAAC,GAAC5U,CAAC,CAACwb,gBAA3I;AAAA,UAA4J3G,CAAC,GAAC,CAAC,CAA/J;AAAiKD,MAAAA,CAAC,CAAC,CAAD,CAAD,KAAOlS,QAAP,IAAiB,SAASlC,IAAT,CAAcoU,CAAC,CAAC5T,GAAF,CAAM,UAAN,CAAd,CAAjB,KAAoD2T,CAAC,GAACjP,CAAtD,GAAyDQ,CAAC,CAACuL,IAAF,IAAQzR,CAAC,CAAC8T,OAAF,GAAUpO,CAAC,CAAC+L,IAAZ,GAAiB,CAAzB,MAA8BzR,CAAC,CAACma,IAAF,CAAO5H,KAAP,GAAavS,CAAC,CAACma,IAAF,CAAO5H,KAAP,IAAcvS,CAAC,CAAC8T,OAAF,GAAU9T,CAAC,CAAC4Q,QAAF,CAAWa,IAAX,GAAgB/L,CAAC,CAAC+L,IAA5B,GAAiCzR,CAAC,CAAC4Q,QAAF,CAAWa,IAAX,GAAgBkD,CAAC,CAAClD,IAAjE,CAAb,EAAoFjI,CAAC,KAAGxJ,CAAC,CAACma,IAAF,CAAO1H,MAAP,GAAczS,CAAC,CAACma,IAAF,CAAO5H,KAAP,GAAavS,CAAC,CAACwX,WAA7B,EAAyC3C,CAAC,GAAC,CAAC,CAA/C,CAArF,EAAuI7U,CAAC,CAAC4Q,QAAF,CAAWa,IAAX,GAAgBxR,CAAC,CAAC+N,MAAF,GAAStI,CAAC,CAAC+L,IAAX,GAAgB,CAArM,CAAzD,EAAiQvL,CAAC,CAACqL,GAAF,IAAOvR,CAAC,CAAC8T,OAAF,GAAUpO,CAAC,CAAC6L,GAAZ,GAAgB,CAAvB,MAA4BvR,CAAC,CAACma,IAAF,CAAO1H,MAAP,GAAczS,CAAC,CAACma,IAAF,CAAO1H,MAAP,IAAezS,CAAC,CAAC8T,OAAF,GAAU9T,CAAC,CAAC4Q,QAAF,CAAWW,GAAX,GAAe7L,CAAC,CAAC6L,GAA3B,GAA+BvR,CAAC,CAAC4Q,QAAF,CAAWW,GAAzD,CAAd,EAA4E/H,CAAC,KAAGxJ,CAAC,CAACma,IAAF,CAAO5H,KAAP,GAAavS,CAAC,CAACma,IAAF,CAAO1H,MAAP,GAAczS,CAAC,CAACwX,WAA7B,EAAyC3C,CAAC,GAAC,CAAC,CAA/C,CAA7E,EAA+H7U,CAAC,CAAC4Q,QAAF,CAAWW,GAAX,GAAevR,CAAC,CAAC8T,OAAF,GAAUpO,CAAC,CAAC6L,GAAZ,GAAgB,CAA1L,CAAjQ,EAA8bzR,CAAC,GAACE,CAAC,CAACwb,gBAAF,CAAmBnU,GAAnB,CAAuB,CAAvB,MAA4BrH,CAAC,CAACuF,OAAF,CAAUL,MAAV,GAAmBmC,GAAnB,CAAuB,CAAvB,CAA5d,EAAsftH,CAAC,GAAC,oBAAoBS,IAApB,CAAyBR,CAAC,CAACwb,gBAAF,CAAmBxa,GAAnB,CAAuB,UAAvB,CAAzB,CAAxf,EAAqjBlB,CAAC,IAAEC,CAAH,IAAMC,CAAC,CAAC4P,MAAF,CAAS6B,IAAT,GAAczR,CAAC,CAAC2b,UAAF,CAAalK,IAAb,GAAkBzR,CAAC,CAAC4Q,QAAF,CAAWa,IAA3C,EAAgDzR,CAAC,CAAC4P,MAAF,CAAS2B,GAAT,GAAavR,CAAC,CAAC2b,UAAF,CAAapK,GAAb,GAAiBvR,CAAC,CAAC4Q,QAAF,CAAWW,GAA/F,KAAqGvR,CAAC,CAAC4P,MAAF,CAAS6B,IAAT,GAAczR,CAAC,CAACuF,OAAF,CAAUqK,MAAV,GAAmB6B,IAAjC,EAAsCzR,CAAC,CAAC4P,MAAF,CAAS2B,GAAT,GAAavR,CAAC,CAACuF,OAAF,CAAUqK,MAAV,GAAmB2B,GAA3K,CAArjB,EAAquBhR,CAAC,GAAC0M,IAAI,CAACE,GAAL,CAASnN,CAAC,CAACqa,QAAF,CAAW9H,KAAX,IAAkBvS,CAAC,CAAC8T,OAAF,GAAU9T,CAAC,CAAC4P,MAAF,CAAS6B,IAAT,GAAckD,CAAC,CAAClD,IAA1B,GAA+BzR,CAAC,CAAC4P,MAAF,CAAS6B,IAAT,GAAc/L,CAAC,CAAC+L,IAAjE,CAAT,CAAvuB,EAAwzB5R,CAAC,GAACoN,IAAI,CAACE,GAAL,CAASnN,CAAC,CAACqa,QAAF,CAAW5H,MAAX,IAAmBzS,CAAC,CAAC8T,OAAF,GAAU9T,CAAC,CAAC4P,MAAF,CAAS2B,GAAT,GAAaoD,CAAC,CAACpD,GAAzB,GAA6BvR,CAAC,CAAC4P,MAAF,CAAS2B,GAAT,GAAa7L,CAAC,CAAC6L,GAA/D,CAAT,CAA1zB,EAAw4BhR,CAAC,GAACP,CAAC,CAACma,IAAF,CAAO5H,KAAT,IAAgBvS,CAAC,CAAC2b,UAAF,CAAapJ,KAA7B,KAAqCvS,CAAC,CAACma,IAAF,CAAO5H,KAAP,GAAavS,CAAC,CAAC2b,UAAF,CAAapJ,KAAb,GAAmBhS,CAAhC,EAAkCiJ,CAAC,KAAGxJ,CAAC,CAACma,IAAF,CAAO1H,MAAP,GAAczS,CAAC,CAACma,IAAF,CAAO5H,KAAP,GAAavS,CAAC,CAACwX,WAA7B,EAAyC3C,CAAC,GAAC,CAAC,CAA/C,CAAxE,CAAx4B,EAAmgChV,CAAC,GAACG,CAAC,CAACma,IAAF,CAAO1H,MAAT,IAAiBzS,CAAC,CAAC2b,UAAF,CAAalJ,MAA9B,KAAuCzS,CAAC,CAACma,IAAF,CAAO1H,MAAP,GAAczS,CAAC,CAAC2b,UAAF,CAAalJ,MAAb,GAAoB5S,CAAlC,EAAoC2J,CAAC,KAAGxJ,CAAC,CAACma,IAAF,CAAO5H,KAAP,GAAavS,CAAC,CAACma,IAAF,CAAO1H,MAAP,GAAczS,CAAC,CAACwX,WAA7B,EAAyC3C,CAAC,GAAC,CAAC,CAA/C,CAA5E,CAAngC,EAAkoCA,CAAC,KAAG7U,CAAC,CAAC4Q,QAAF,CAAWa,IAAX,GAAgBzR,CAAC,CAACgb,YAAF,CAAevJ,IAA/B,EAAoCzR,CAAC,CAAC4Q,QAAF,CAAWW,GAAX,GAAevR,CAAC,CAACgb,YAAF,CAAezJ,GAAlE,EAAsEvR,CAAC,CAACma,IAAF,CAAO5H,KAAP,GAAavS,CAAC,CAACib,QAAF,CAAW1I,KAA9F,EAAoGvS,CAAC,CAACma,IAAF,CAAO1H,MAAP,GAAczS,CAAC,CAACib,QAAF,CAAWxI,MAAhI,CAAnoC;AAA2wC,KAAzzE;AAA0zEzD,IAAAA,IAAI,EAAC,gBAAU;AAAC,UAAIpP,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAAN;AAAA,UAAoCjY,CAAC,GAACX,CAAC,CAAC6F,OAAxC;AAAA,UAAgD5F,CAAC,GAACD,CAAC,CAAC6b,eAApD;AAAA,UAAoE3b,CAAC,GAACF,CAAC,CAAC8b,iBAAxE;AAAA,UAA0F3b,CAAC,GAACH,CAAC,CAAC4b,gBAA9F;AAAA,UAA+Gxb,CAAC,GAACR,CAAC,CAACI,CAAC,CAACoO,MAAH,CAAlH;AAAA,UAA6H/N,CAAC,GAACD,CAAC,CAAC4P,MAAF,EAA/H;AAAA,UAA0IlK,CAAC,GAAC1F,CAAC,CAACsD,UAAF,KAAe1D,CAAC,CAACya,QAAF,CAAW9H,KAAtK;AAAA,UAA4KrM,CAAC,GAAClG,CAAC,CAAC2D,WAAF,KAAgB/D,CAAC,CAACya,QAAF,CAAW5H,MAAzM;AAAgN7S,MAAAA,CAAC,CAACkU,OAAF,IAAW,CAACvT,CAAC,CAAC2R,OAAd,IAAuB,WAAW1R,IAAX,CAAgBT,CAAC,CAACiB,GAAF,CAAM,UAAN,CAAhB,CAAvB,IAA2DxB,CAAC,CAAC,IAAD,CAAD,CAAQwB,GAAR,CAAY;AAACyQ,QAAAA,IAAI,EAACxR,CAAC,CAACwR,IAAF,GAAO3R,CAAC,CAAC2R,IAAT,GAAc5R,CAAC,CAAC4R,IAAtB;AAA2Bc,QAAAA,KAAK,EAAC7M,CAAjC;AAAmC+M,QAAAA,MAAM,EAACvM;AAA1C,OAAZ,CAA3D,EAAqHtG,CAAC,CAACkU,OAAF,IAAW,CAACvT,CAAC,CAAC2R,OAAd,IAAuB,SAAS1R,IAAT,CAAcT,CAAC,CAACiB,GAAF,CAAM,UAAN,CAAd,CAAvB,IAAyDxB,CAAC,CAAC,IAAD,CAAD,CAAQwB,GAAR,CAAY;AAACyQ,QAAAA,IAAI,EAACxR,CAAC,CAACwR,IAAF,GAAO3R,CAAC,CAAC2R,IAAT,GAAc5R,CAAC,CAAC4R,IAAtB;AAA2Bc,QAAAA,KAAK,EAAC7M,CAAjC;AAAmC+M,QAAAA,MAAM,EAACvM;AAA1C,OAAZ,CAA9K;AAAwO;AAAlwF,GAA1C,CAA9sY,EAA6/d1G,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,YAA5B,EAAyC;AAACiL,IAAAA,KAAK,EAAC,iBAAU;AAAC,UAAInP,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,EAA8B/S,OAApC;AAAA,UAA4ClF,CAAC,GAAC,SAAFA,CAAE,CAASX,CAAT,EAAW;AAACJ,QAAAA,CAAC,CAACI,CAAD,CAAD,CAAKgD,IAAL,CAAU,YAAU;AAAC,cAAIhD,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAP;AAAcI,UAAAA,CAAC,CAACoD,IAAF,CAAO,yBAAP,EAAiC;AAACuP,YAAAA,KAAK,EAACtN,QAAQ,CAACrF,CAAC,CAAC2S,KAAF,EAAD,EAAW,EAAX,CAAf;AAA8BE,YAAAA,MAAM,EAACxN,QAAQ,CAACrF,CAAC,CAAC6S,MAAF,EAAD,EAAY,EAAZ,CAA7C;AAA6DhB,YAAAA,IAAI,EAACxM,QAAQ,CAACrF,CAAC,CAACoB,GAAF,CAAM,MAAN,CAAD,EAAe,EAAf,CAA1E;AAA6FuQ,YAAAA,GAAG,EAACtM,QAAQ,CAACrF,CAAC,CAACoB,GAAF,CAAM,KAAN,CAAD,EAAc,EAAd;AAAzG,WAAjC;AAA8J,SAAjM;AAAmM,OAA7P;;AAA8P,0BAAiBpB,CAAC,CAACyX,UAAnB,KAA+BzX,CAAC,CAACyX,UAAF,CAAajX,UAA5C,GAAuDG,CAAC,CAACX,CAAC,CAACyX,UAAH,CAAxD,GAAuEzX,CAAC,CAACyX,UAAF,CAAapW,MAAb,IAAqBrB,CAAC,CAACyX,UAAF,GAAazX,CAAC,CAACyX,UAAF,CAAa,CAAb,CAAb,EAA6B9W,CAAC,CAACX,CAAC,CAACyX,UAAH,CAAnD,IAAmE7X,CAAC,CAACoD,IAAF,CAAOhD,CAAC,CAACyX,UAAT,EAAoB,UAAS7X,CAAT,EAAW;AAACe,QAAAA,CAAC,CAACf,CAAD,CAAD;AAAK,OAArC,CAA1I;AAAiL,KAAjc;AAAkcwY,IAAAA,MAAM,EAAC,gBAASpY,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAIV,CAAC,GAACL,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAAN;AAAA,UAAoC1Y,CAAC,GAACD,CAAC,CAAC4F,OAAxC;AAAA,UAAgD1F,CAAC,GAACF,CAAC,CAACua,YAApD;AAAA,UAAiEpa,CAAC,GAACH,CAAC,CAAC8Q,gBAArE;AAAA,UAAsF1Q,CAAC,GAAC;AAACwS,QAAAA,MAAM,EAAC5S,CAAC,CAACsa,IAAF,CAAO1H,MAAP,GAAc1S,CAAC,CAAC0S,MAAhB,IAAwB,CAAhC;AAAkCF,QAAAA,KAAK,EAAC1S,CAAC,CAACsa,IAAF,CAAO5H,KAAP,GAAaxS,CAAC,CAACwS,KAAf,IAAsB,CAA9D;AAAgEhB,QAAAA,GAAG,EAAC1R,CAAC,CAAC+Q,QAAF,CAAWW,GAAX,GAAevR,CAAC,CAACuR,GAAjB,IAAsB,CAA1F;AAA4FE,QAAAA,IAAI,EAAC5R,CAAC,CAAC+Q,QAAF,CAAWa,IAAX,GAAgBzR,CAAC,CAACyR,IAAlB,IAAwB;AAAzH,OAAxF;AAAA,UAAoN/L,CAAC,GAAC,SAAFA,CAAE,CAAS9F,CAAT,EAAWC,CAAX,EAAa;AAACL,QAAAA,CAAC,CAACI,CAAD,CAAD,CAAKgD,IAAL,CAAU,YAAU;AAAC,cAAIhD,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAP;AAAA,cAAcM,CAAC,GAACN,CAAC,CAAC,IAAD,CAAD,CAAQwD,IAAR,CAAa,yBAAb,CAAhB;AAAA,cAAwDjD,CAAC,GAAC,EAA1D;AAAA,cAA6DC,CAAC,GAACH,CAAC,IAAEA,CAAC,CAACoB,MAAL,GAAYpB,CAAZ,GAAcD,CAAC,CAACiB,OAAF,CAAUN,CAAC,CAAC8X,eAAF,CAAkB,CAAlB,CAAV,EAAgCpX,MAAhC,GAAuC,CAAC,OAAD,EAAS,QAAT,CAAvC,GAA0D,CAAC,OAAD,EAAS,QAAT,EAAkB,KAAlB,EAAwB,MAAxB,CAAvI;AAAuKzB,UAAAA,CAAC,CAACoD,IAAF,CAAO5C,CAAP,EAAS,UAASR,CAAT,EAAWI,CAAX,EAAa;AAAC,gBAAIW,CAAC,GAAC,CAACT,CAAC,CAACF,CAAD,CAAD,IAAM,CAAP,KAAWK,CAAC,CAACL,CAAD,CAAD,IAAM,CAAjB,CAAN;AAA0BW,YAAAA,CAAC,IAAEA,CAAC,IAAE,CAAN,KAAUR,CAAC,CAACH,CAAD,CAAD,GAAKW,CAAC,IAAE,IAAlB;AAAwB,WAAzE,GAA2EX,CAAC,CAACoB,GAAF,CAAMjB,CAAN,CAA3E;AAAoF,SAAhR;AAAkR,OAAtf;;AAAuf,0BAAiBD,CAAC,CAACuX,UAAnB,KAA+BvX,CAAC,CAACuX,UAAF,CAAa7R,QAA5C,GAAqDE,CAAC,CAAC5F,CAAC,CAACuX,UAAH,CAAtD,GAAqE7X,CAAC,CAACoD,IAAF,CAAO9C,CAAC,CAACuX,UAAT,EAAoB,UAAS7X,CAAT,EAAWI,CAAX,EAAa;AAAC8F,QAAAA,CAAC,CAAClG,CAAD,EAAGI,CAAH,CAAD;AAAO,OAAzC,CAArE;AAAgH,KAA9jC;AAA+jCoP,IAAAA,IAAI,EAAC,gBAAU;AAACxP,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQwE,UAAR,CAAmB,sBAAnB;AAA2C;AAA1nC,GAAzC,CAA7/d,EAAmqgBxE,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,OAA5B,EAAoC;AAACiL,IAAAA,KAAK,EAAC,iBAAU;AAAC,UAAInP,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAAN;AAAA,UAAoCjY,CAAC,GAACX,CAAC,CAAC6F,OAAxC;AAAA,UAAgD5F,CAAC,GAACD,CAAC,CAACua,IAApD;AAAyDva,MAAAA,CAAC,CAAC8X,KAAF,GAAQ9X,CAAC,CAACyY,eAAF,CAAkBjG,KAAlB,EAAR,EAAkCxS,CAAC,CAAC8X,KAAF,CAAQ1W,GAAR,CAAY;AAACkN,QAAAA,OAAO,EAAC,GAAT;AAAa8K,QAAAA,OAAO,EAAC,OAArB;AAA6BpI,QAAAA,QAAQ,EAAC,UAAtC;AAAiD6B,QAAAA,MAAM,EAAC5S,CAAC,CAAC4S,MAA1D;AAAiEF,QAAAA,KAAK,EAAC1S,CAAC,CAAC0S,KAAzE;AAA+E0G,QAAAA,MAAM,EAAC,CAAtF;AAAwFxH,QAAAA,IAAI,EAAC,CAA7F;AAA+FF,QAAAA,GAAG,EAAC;AAAnG,OAAZ,EAAmHrH,QAAnH,CAA4H,oBAA5H,EAAkJA,QAAlJ,CAA2J,YAAU,OAAO3J,CAAC,CAACmX,KAAnB,GAAyBnX,CAAC,CAACmX,KAA3B,GAAiC,EAA5L,CAAlC,EAAkO9X,CAAC,CAAC8X,KAAF,CAAQlK,QAAR,CAAiB5N,CAAC,CAACoO,MAAnB,CAAlO;AAA6P,KAAxU;AAAyUgK,IAAAA,MAAM,EAAC,kBAAU;AAAC,UAAIpY,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAAN;AAAoC5Y,MAAAA,CAAC,CAAC8X,KAAF,IAAS9X,CAAC,CAAC8X,KAAF,CAAQ1W,GAAR,CAAY;AAAC4P,QAAAA,QAAQ,EAAC,UAAV;AAAqB6B,QAAAA,MAAM,EAAC7S,CAAC,CAACua,IAAF,CAAO1H,MAAnC;AAA0CF,QAAAA,KAAK,EAAC3S,CAAC,CAACua,IAAF,CAAO5H;AAAvD,OAAZ,CAAT;AAAoF,KAAnd;AAAodvD,IAAAA,IAAI,EAAC,gBAAU;AAAC,UAAIpP,CAAC,GAACJ,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAAN;AAAoC5Y,MAAAA,CAAC,CAAC8X,KAAF,IAAS9X,CAAC,CAACoO,MAAX,IAAmBpO,CAAC,CAACoO,MAAF,CAAS3G,GAAT,CAAa,CAAb,EAAgBwU,WAAhB,CAA4Bjc,CAAC,CAAC8X,KAAF,CAAQrQ,GAAR,CAAY,CAAZ,CAA5B,CAAnB;AAA+D;AAAvkB,GAApC,CAAnqgB,EAAixhB7H,CAAC,CAAC0B,EAAF,CAAKiE,MAAL,CAAYrB,GAAZ,CAAgB,WAAhB,EAA4B,MAA5B,EAAmC;AAACkU,IAAAA,MAAM,EAAC,kBAAU;AAAC,UAAIpY,CAAJ;AAAA,UAAMW,CAAC,GAACf,CAAC,CAAC,IAAD,CAAD,CAAQgZ,SAAR,CAAkB,UAAlB,CAAR;AAAA,UAAsC3Y,CAAC,GAACU,CAAC,CAACkF,OAA1C;AAAA,UAAkD3F,CAAC,GAACS,CAAC,CAAC4Z,IAAtD;AAAA,UAA2Dpa,CAAC,GAACQ,CAAC,CAAC6Z,YAA/D;AAAA,UAA4Epa,CAAC,GAACO,CAAC,CAACoQ,gBAAhF;AAAA,UAAiG1Q,CAAC,GAACM,CAAC,CAACkN,IAArG;AAAA,UAA0G/H,CAAC,GAAC,YAAU,OAAO7F,CAAC,CAACiO,IAAnB,GAAwB,CAACjO,CAAC,CAACiO,IAAH,EAAQjO,CAAC,CAACiO,IAAV,CAAxB,GAAwCjO,CAAC,CAACiO,IAAtJ;AAAA,UAA2J5H,CAAC,GAACR,CAAC,CAAC,CAAD,CAAD,IAAM,CAAnK;AAAA,UAAqK8D,CAAC,GAAC9D,CAAC,CAAC,CAAD,CAAD,IAAM,CAA7K;AAAA,UAA+KiP,CAAC,GAAC1H,IAAI,CAACqG,KAAL,CAAW,CAACxT,CAAC,CAACyS,KAAF,GAAQxS,CAAC,CAACwS,KAAX,IAAkBrM,CAA7B,IAAgCA,CAAjN;AAAA,UAAmN0O,CAAC,GAAC3H,IAAI,CAACqG,KAAL,CAAW,CAACxT,CAAC,CAAC2S,MAAF,GAAS1S,CAAC,CAAC0S,MAAZ,IAAoBjJ,CAA/B,IAAkCA,CAAvP;AAAA,UAAyPqL,CAAC,GAAC9U,CAAC,CAACwS,KAAF,GAAQoC,CAAnQ;AAAA,UAAqQG,CAAC,GAAC/U,CAAC,CAAC0S,MAAF,GAASmC,CAAhR;AAAA,UAAkRG,CAAC,GAAClV,CAAC,CAACgY,QAAF,IAAYhY,CAAC,CAACgY,QAAF,GAAWhD,CAA3S;AAAA,UAA6SG,CAAC,GAACnV,CAAC,CAAC+X,SAAF,IAAa/X,CAAC,CAAC+X,SAAF,GAAY9C,CAAxU;AAAA,UAA0UG,CAAC,GAACpV,CAAC,CAACkY,QAAF,IAAYlY,CAAC,CAACkY,QAAF,GAAWlD,CAAnW;AAAA,UAAqWK,CAAC,GAACrV,CAAC,CAACiY,SAAF,IAAajY,CAAC,CAACiY,SAAF,GAAYhD,CAAhY;AAAkYjV,MAAAA,CAAC,CAACiO,IAAF,GAAOpI,CAAP,EAASuP,CAAC,KAAGJ,CAAC,IAAE3O,CAAN,CAAV,EAAmBgP,CAAC,KAAGJ,CAAC,IAAEtL,CAAN,CAApB,EAA6BuL,CAAC,KAAGF,CAAC,IAAE3O,CAAN,CAA9B,EAAuC8O,CAAC,KAAGF,CAAC,IAAEtL,CAAN,CAAxC,EAAiD,aAAahJ,IAAb,CAAkBP,CAAlB,KAAsBM,CAAC,CAAC4Z,IAAF,CAAO5H,KAAP,GAAasC,CAAb,EAAetU,CAAC,CAAC4Z,IAAF,CAAO1H,MAAP,GAAcqC,CAAnD,IAAsD,SAAStU,IAAT,CAAcP,CAAd,KAAkBM,CAAC,CAAC4Z,IAAF,CAAO5H,KAAP,GAAasC,CAAb,EAAetU,CAAC,CAAC4Z,IAAF,CAAO1H,MAAP,GAAcqC,CAA7B,EAA+BvU,CAAC,CAACqQ,QAAF,CAAWW,GAAX,GAAevR,CAAC,CAACuR,GAAF,GAAMqD,CAAtE,IAAyE,SAASpU,IAAT,CAAcP,CAAd,KAAkBM,CAAC,CAAC4Z,IAAF,CAAO5H,KAAP,GAAasC,CAAb,EAAetU,CAAC,CAAC4Z,IAAF,CAAO1H,MAAP,GAAcqC,CAA7B,EAA+BvU,CAAC,CAACqQ,QAAF,CAAWa,IAAX,GAAgBzR,CAAC,CAACyR,IAAF,GAAOkD,CAAxE,KAA4E,CAACG,CAAC,GAACtL,CAAF,IAAK,CAAL,IAAQqL,CAAC,GAAC3O,CAAF,IAAK,CAAd,MAAmBtG,CAAC,GAACW,CAAC,CAAC6a,+BAAF,CAAkC,IAAlC,CAArB,GAA8DtG,CAAC,GAACtL,CAAF,GAAI,CAAJ,IAAOjJ,CAAC,CAAC4Z,IAAF,CAAO1H,MAAP,GAAcqC,CAAd,EAAgBvU,CAAC,CAACqQ,QAAF,CAAWW,GAAX,GAAevR,CAAC,CAACuR,GAAF,GAAMqD,CAA5C,KAAgDE,CAAC,GAACtL,CAAC,GAAC5J,CAAC,CAAC6S,MAAN,EAAalS,CAAC,CAAC4Z,IAAF,CAAO1H,MAAP,GAAcqC,CAA3B,EAA6BvU,CAAC,CAACqQ,QAAF,CAAWW,GAAX,GAAevR,CAAC,CAACuR,GAAF,GAAMxR,CAAC,CAAC0S,MAAR,GAAeqC,CAA3G,CAA9D,EAA4KD,CAAC,GAAC3O,CAAF,GAAI,CAAJ,IAAO3F,CAAC,CAAC4Z,IAAF,CAAO5H,KAAP,GAAasC,CAAb,EAAetU,CAAC,CAACqQ,QAAF,CAAWa,IAAX,GAAgBzR,CAAC,CAACyR,IAAF,GAAOkD,CAA7C,KAAiDE,CAAC,GAAC3O,CAAC,GAACtG,CAAC,CAAC2S,KAAN,EAAYhS,CAAC,CAAC4Z,IAAF,CAAO5H,KAAP,GAAasC,CAAzB,EAA2BtU,CAAC,CAACqQ,QAAF,CAAWa,IAAX,GAAgBzR,CAAC,CAACyR,IAAF,GAAO1R,CAAC,CAACwS,KAAT,GAAesC,CAA3G,CAAxP,CAAhL;AAAuhB;AAA56B,GAAnC,CAAjxhB;AAAmujBrV,EAAAA,CAAC,CAAC0B,EAAF,CAAKsX,SAAL,EAAehZ,CAAC,CAACyG,MAAF,CAAS,aAAT,EAAuBzG,CAAC,CAAC0B,EAAF,CAAKoM,KAA5B,EAAkC;AAAClM,IAAAA,OAAO,EAAC,QAAT;AAAkBuF,IAAAA,iBAAiB,EAAC,MAApC;AAA2CmV,IAAAA,KAAK,EAAC,CAAC,CAAlD;AAAoDrW,IAAAA,OAAO,EAAC;AAAC+H,MAAAA,QAAQ,EAAC,QAAV;AAAmBC,MAAAA,IAAI,EAAC,CAAC,CAAzB;AAA2BsO,MAAAA,WAAW,EAAC,CAAC,CAAxC;AAA0CpO,MAAAA,WAAW,EAAC,CAAC,CAAvD;AAAyDC,MAAAA,MAAM,EAAC,MAAhE;AAAuEC,MAAAA,QAAQ,EAAC,CAAC,CAAjF;AAAmFmO,MAAAA,WAAW,EAAC,CAAC,CAAhG;AAAkGC,MAAAA,oBAAoB,EAAC,CAAC,CAAxH;AAA0HC,MAAAA,eAAe,EAAC,CAAC,CAA3I;AAA6IpO,MAAAA,IAAI,EAAC,CAAC,CAAnJ;AAAqJC,MAAAA,MAAM,EAAC,CAAC,CAA7J;AAA+JC,MAAAA,MAAM,EAAC,UAAtK;AAAiL0G,MAAAA,KAAK,EAAC,KAAvL;AAA6LxG,MAAAA,OAAO,EAAC,CAAC,CAAtM;AAAwM2F,MAAAA,WAAW,EAAC,CAAC,CAArN;AAAuNzF,MAAAA,MAAM,EAAC,CAAC,CAA/N;AAAiOG,MAAAA,MAAM,EAAC,CAAC,CAAzO;AAA2OC,MAAAA,iBAAiB,EAAC,EAA7P;AAAgQC,MAAAA,WAAW,EAAC,EAA5Q;AAA+QH,MAAAA,KAAK,EAAC,SAArR;AAA+RyH,MAAAA,SAAS,EAAC,WAAzS;AAAqT/Q,MAAAA,MAAM,EAAC,GAA5T;AAAgUgR,MAAAA,QAAQ,EAAC,IAAzU;AAA8UmG,MAAAA,UAAU,EAAC,IAAzV;AAA8VC,MAAAA,MAAM,EAAC,IAArW;AAA0WnG,MAAAA,UAAU,EAAC,IAArX;AAA0XC,MAAAA,GAAG,EAAC,IAA9X;AAAmYC,MAAAA,IAAI,EAAC,IAAxY;AAA6YkG,MAAAA,OAAO,EAAC,IAArZ;AAA0ZtW,MAAAA,MAAM,EAAC,IAAja;AAAsayP,MAAAA,IAAI,EAAC,IAA3a;AAAgbzG,MAAAA,KAAK,EAAC,IAAtb;AAA2bC,MAAAA,IAAI,EAAC,IAAhc;AAAqcsN,MAAAA,MAAM,EAAC;AAA5c,KAA5D;AAA8gBC,IAAAA,WAAW,EAAC,qBAAS/c,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,aAAOf,CAAC,IAAEI,CAAH,IAAMJ,CAAC,GAACI,CAAC,GAACW,CAAjB;AAAmB,KAA7jB;AAA8jBic,IAAAA,WAAW,EAAC,qBAAShd,CAAT,EAAW;AAAC,aAAM,aAAagB,IAAb,CAAkBhB,CAAC,CAACwB,GAAF,CAAM,OAAN,CAAlB,KAAmC,oBAAoBR,IAApB,CAAyBhB,CAAC,CAACwB,GAAF,CAAM,SAAN,CAAzB,CAAzC;AAAoF,KAA1qB;AAA2qBwH,IAAAA,OAAO,EAAC,mBAAU;AAAC,UAAIhJ,CAAC,GAAC,KAAKiG,OAAX;AAAmB,WAAKuO,cAAL,GAAoB,EAApB,EAAuB,KAAKzO,OAAL,CAAa2E,QAAb,CAAsB,aAAtB,CAAvB,EAA4D,KAAKuS,OAAL,EAA5D,EAA2E,KAAKC,QAAL,GAAc,CAAC,CAAC,KAAKhI,KAAL,CAAWzT,MAAb,KAAsB,QAAMzB,CAAC,CAACiO,IAAR,IAAc,KAAK+O,WAAL,CAAiB,KAAK9H,KAAL,CAAW,CAAX,EAAclB,IAA/B,CAApC,CAAzF,EAAmK,KAAK5D,MAAL,GAAY,KAAKrK,OAAL,CAAaqK,MAAb,EAA/K,EAAqM,KAAKnE,UAAL,EAArM,EAAuN,KAAKyD,mBAAL,EAAvN,EAAkP,KAAK4M,KAAL,GAAW,CAAC,CAA9P;AAAgQ,KAAj9B;AAAk9B7S,IAAAA,UAAU,EAAC,oBAASzJ,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAK6G,MAAL,CAAYjH,CAAZ,EAAcI,CAAd,GAAiB,aAAWJ,CAAX,IAAc,KAAK0P,mBAAL,EAA/B;AAA0D,KAAriC;AAAsiCA,IAAAA,mBAAmB,EAAC,+BAAU;AAAC,WAAK3J,OAAL,CAAamK,IAAb,CAAkB,qBAAlB,EAAyC7G,WAAzC,CAAqD,oBAArD,GAA2ErJ,CAAC,CAACoD,IAAF,CAAO,KAAK8R,KAAZ,EAAkB,YAAU;AAAC,SAAC,KAAKiI,QAAL,CAAclX,OAAd,CAAsBsI,MAAtB,GAA6B,KAAKyF,IAAL,CAAU9D,IAAV,CAAe,KAAKiN,QAAL,CAAclX,OAAd,CAAsBsI,MAArC,CAA7B,GAA0E,KAAKyF,IAAhF,EAAsFtJ,QAAtF,CAA+F,oBAA/F;AAAqH,OAAlJ,CAA3E;AAA+N,KAApyC;AAAqyCtB,IAAAA,QAAQ,EAAC,oBAAU;AAAC,WAAKrD,OAAL,CAAasD,WAAb,CAAyB,kCAAzB,EAA6D6G,IAA7D,CAAkE,qBAAlE,EAAyF7G,WAAzF,CAAqG,oBAArG,GAA2H,KAAKgD,aAAL,EAA3H;;AAAgJ,WAAI,IAAIrM,CAAC,GAAC,KAAKkV,KAAL,CAAWzT,MAAX,GAAkB,CAA5B,EAA8BzB,CAAC,IAAE,CAAjC,EAAmCA,CAAC,EAApC;AAAuC,aAAKkV,KAAL,CAAWlV,CAAX,EAAcgU,IAAd,CAAmBxP,UAAnB,CAA8B,KAAK8C,UAAL,GAAgB,OAA9C;AAAvC;;AAA8F,aAAO,IAAP;AAAY,KAAnjD;AAAojDwF,IAAAA,aAAa,EAAC,uBAAS1M,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAIV,CAAC,GAAC,IAAN;AAAA,UAAWC,CAAC,GAAC,CAAC,CAAd;AAAA,UAAgBC,CAAC,GAAC,IAAlB;AAAuB,aAAM,CAAC,KAAK6c,SAAN,IAAkB,CAAC,KAAKnX,OAAL,CAAahF,QAAd,IAAwB,aAAW,KAAKgF,OAAL,CAAa+E,IAAhD,KAAuD,KAAKqS,aAAL,CAAmBjd,CAAnB,GAAsBJ,CAAC,CAACI,CAAC,CAACqI,MAAH,CAAD,CAAYpH,OAAZ,GAAsB+B,IAAtB,CAA2B,YAAU;AAAC,YAAGpD,CAAC,CAACwD,IAAF,CAAO,IAAP,EAAYjD,CAAC,CAAC+G,UAAF,GAAa,OAAzB,MAAoC/G,CAAvC,EAAyC,OAAOF,CAAC,GAACL,CAAC,CAAC,IAAD,CAAH,EAAU,CAAC,CAAlB;AAAoB,OAAnG,CAAtB,EAA2HA,CAAC,CAACwD,IAAF,CAAOpD,CAAC,CAACqI,MAAT,EAAgBlI,CAAC,CAAC+G,UAAF,GAAa,OAA7B,MAAwC/G,CAAxC,KAA4CF,CAAC,GAACL,CAAC,CAACI,CAAC,CAACqI,MAAH,CAA/C,CAA3H,EAAsL,CAAC,CAACpI,CAAF,IAAM,EAAE,KAAK4F,OAAL,CAAasI,MAAb,IAAqB,CAACxN,CAAtB,KAA0Bf,CAAC,CAAC,KAAKiG,OAAL,CAAasI,MAAd,EAAqBlO,CAArB,CAAD,CAAyB6P,IAAzB,CAA8B,GAA9B,EAAmC5O,OAAnC,GAA6C8B,IAA7C,CAAkD,YAAU;AAAC,iBAAOhD,CAAC,CAACqI,MAAT,KAAkBnI,CAAC,GAAC,CAAC,CAArB;AAAwB,OAArF,GAAuF,CAACA,CAAlH,CAAF,MAA0H,KAAKmU,WAAL,GAAiBpU,CAAjB,EAAmB,KAAKid,wBAAL,EAAnB,EAAmD,CAAC,CAA9K,CAAnP,CAAxB;AAA+b,KAAtiE;AAAuiEnQ,IAAAA,WAAW,EAAC,qBAAS/M,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,UAAIC,CAAJ;AAAA,UAAMC,CAAN;AAAA,UAAQC,CAAC,GAAC,KAAKyF,OAAf;AAAuB,UAAG,KAAKsX,gBAAL,GAAsB,IAAtB,EAA2B,KAAK5O,gBAAL,EAA3B,EAAmD,KAAKH,MAAL,GAAY,KAAKiC,aAAL,CAAmBrQ,CAAnB,CAA/D,EAAqF,KAAKsQ,uBAAL,EAArF,EAAoH,KAAKG,aAAL,EAApH,EAAyI,KAAK9N,YAAL,GAAkB,KAAKyL,MAAL,CAAYzL,YAAZ,EAA3J,EAAsL,KAAKqN,MAAL,GAAY,KAAKqE,WAAL,CAAiBrE,MAAjB,EAAlM,EAA4N,KAAKA,MAAL,GAAY;AAAC2B,QAAAA,GAAG,EAAC,KAAK3B,MAAL,CAAY2B,GAAZ,GAAgB,KAAKC,OAAL,CAAaD,GAAlC;AAAsCE,QAAAA,IAAI,EAAC,KAAK7B,MAAL,CAAY6B,IAAZ,GAAiB,KAAKD,OAAL,CAAaC;AAAzE,OAAxO,EAAuTjS,CAAC,CAAC2B,MAAF,CAAS,KAAKyO,MAAd,EAAqB;AAACiC,QAAAA,KAAK,EAAC;AAACJ,UAAAA,IAAI,EAAC7R,CAAC,CAACwN,KAAF,GAAQ,KAAKwC,MAAL,CAAY6B,IAA1B;AAA+BF,UAAAA,GAAG,EAAC3R,CAAC,CAACyN,KAAF,GAAQ,KAAKuC,MAAL,CAAY2B;AAAvD,SAAP;AAAmErM,QAAAA,MAAM,EAAC,KAAKwM,gBAAL,EAA1E;AAAkGC,QAAAA,QAAQ,EAAC,KAAKC,kBAAL;AAA3G,OAArB,CAAvT,EAAmd,KAAK5D,MAAL,CAAYhN,GAAZ,CAAgB,UAAhB,EAA2B,UAA3B,CAAnd,EAA0f,KAAKsP,WAAL,GAAiB,KAAKtC,MAAL,CAAYhN,GAAZ,CAAgB,UAAhB,CAA3gB,EAAuiB,KAAK2P,gBAAL,GAAsB,KAAKE,iBAAL,CAAuBjR,CAAvB,CAA7jB,EAAulB,KAAKkR,aAAL,GAAmBlR,CAAC,CAACwN,KAA5mB,EAAknB,KAAK2D,aAAL,GAAmBnR,CAAC,CAACyN,KAAvoB,EAA6oBrN,CAAC,CAAC6N,QAAF,IAAY,KAAKmD,uBAAL,CAA6BhR,CAAC,CAAC6N,QAA/B,CAAzpB,EAAksB,KAAKmP,WAAL,GAAiB;AAACC,QAAAA,IAAI,EAAC,KAAKhJ,WAAL,CAAiBgJ,IAAjB,GAAwB,CAAxB,CAAN;AAAiC/X,QAAAA,MAAM,EAAC,KAAK+O,WAAL,CAAiB/O,MAAjB,GAA0B,CAA1B;AAAxC,OAAntB,EAAyxB,KAAK8I,MAAL,CAAY,CAAZ,MAAiB,KAAKiG,WAAL,CAAiB,CAAjB,CAAjB,IAAsC,KAAKA,WAAL,CAAiBpJ,IAAjB,EAA/zB,EAAu1B,KAAKqS,kBAAL,EAAv1B,EAAi3Bld,CAAC,CAAC2N,WAAF,IAAe,KAAKsD,eAAL,EAAh4B,EAAu5BjR,CAAC,CAAC4N,MAAF,IAAU,WAAS5N,CAAC,CAAC4N,MAArB,KAA8B7N,CAAC,GAAC,KAAK2C,QAAL,CAAcgN,IAAd,CAAmB,MAAnB,CAAF,EAA6B,KAAKyN,YAAL,GAAkBpd,CAAC,CAACiB,GAAF,CAAM,QAAN,CAA/C,EAA+DjB,CAAC,CAACiB,GAAF,CAAM,QAAN,EAAehB,CAAC,CAAC4N,MAAjB,CAA/D,EAAwF,KAAKwP,gBAAL,GAAsB5d,CAAC,CAAC,uBAAqBQ,CAAC,CAAC4N,MAAvB,GAA8B,wBAA/B,CAAD,CAA0DJ,QAA1D,CAAmEzN,CAAnE,CAA5I,CAAv5B,EAA0mCC,CAAC,CAACkO,OAAF,KAAY,KAAKF,MAAL,CAAYhN,GAAZ,CAAgB,SAAhB,MAA6B,KAAKqc,cAAL,GAAoB,KAAKrP,MAAL,CAAYhN,GAAZ,CAAgB,SAAhB,CAAjD,GAA6E,KAAKgN,MAAL,CAAYhN,GAAZ,CAAgB,SAAhB,EAA0BhB,CAAC,CAACkO,OAA5B,CAAzF,CAA1mC,EAAyuClO,CAAC,CAACgF,MAAF,KAAW,KAAKgJ,MAAL,CAAYhN,GAAZ,CAAgB,QAAhB,MAA4B,KAAKsc,aAAL,GAAmB,KAAKtP,MAAL,CAAYhN,GAAZ,CAAgB,QAAhB,CAA/C,GAA0E,KAAKgN,MAAL,CAAYhN,GAAZ,CAAgB,QAAhB,EAAyBhB,CAAC,CAACgF,MAA3B,CAArF,CAAzuC,EAAk2C,KAAKzC,YAAL,CAAkB,CAAlB,MAAuB,KAAKG,QAAL,CAAc,CAAd,CAAvB,IAAyC,WAAS,KAAKH,YAAL,CAAkB,CAAlB,EAAqBqQ,OAAvE,KAAiF,KAAK2B,cAAL,GAAoB,KAAKhS,YAAL,CAAkBqN,MAAlB,EAArG,CAAl2C,EAAm+C,KAAKnH,QAAL,CAAc,OAAd,EAAsB7I,CAAtB,EAAwB,KAAKmS,OAAL,EAAxB,CAAn+C,EAA2gD,KAAKwL,0BAAL,IAAiC,KAAKrN,uBAAL,EAA5iD,EAA2kD,CAACrQ,CAA/kD,EAAilD,KAAIC,CAAC,GAAC,KAAK0d,UAAL,CAAgBvc,MAAhB,GAAuB,CAA7B,EAA+BnB,CAAC,IAAE,CAAlC,EAAoCA,CAAC,EAArC;AAAwC,aAAK0d,UAAL,CAAgB1d,CAAhB,EAAmB2I,QAAnB,CAA4B,UAA5B,EAAuC7I,CAAvC,EAAyC,KAAKmS,OAAL,CAAa,IAAb,CAAzC;AAAxC;AAAqG,aAAOvS,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,KAAiB3Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeC,OAAf,GAAuB,IAAxC,GAA8C5Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,IAAgB,CAACnQ,CAAC,CAACmR,aAAnB,IAAkC3R,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeiB,cAAf,CAA8B,IAA9B,EAAmCxR,CAAnC,CAAhF,EAAsH,KAAK6d,QAAL,GAAc,CAAC,CAArI,EAAuI,KAAKzP,MAAL,CAAY9D,QAAZ,CAAqB,oBAArB,CAAvI,EAAkL,KAAK6C,UAAL,CAAgBnN,CAAhB,CAAlL,EAAqM,CAAC,CAA7M;AAA+M,KAA/9H;AAAg+HmN,IAAAA,UAAU,EAAC,oBAASnN,CAAT,EAAW;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAC,GAAC,KAAKyF,OAAnB;AAAA,UAA2BxF,CAAC,GAAC,CAAC,CAA9B;;AAAgC,WAAI,KAAK2Q,QAAL,GAAc,KAAKC,iBAAL,CAAuBjR,CAAvB,CAAd,EAAwC,KAAK6Q,WAAL,GAAiB,KAAKqB,kBAAL,CAAwB,UAAxB,CAAzD,EAA6F,KAAK4L,eAAL,KAAuB,KAAKA,eAAL,GAAqB,KAAKjN,WAAjD,CAA7F,EAA2J,KAAKhL,OAAL,CAAa8I,MAAb,KAAsB,KAAKhM,YAAL,CAAkB,CAAlB,MAAuB,KAAKG,QAAL,CAAc,CAAd,CAAvB,IAAyC,WAAS,KAAKH,YAAL,CAAkB,CAAlB,EAAqBqQ,OAAvE,IAAgF,KAAK2B,cAAL,CAAoBhD,GAApB,GAAwB,KAAKhP,YAAL,CAAkB,CAAlB,EAAqB6Q,YAA7C,GAA0DxT,CAAC,CAACyN,KAA5D,GAAkErN,CAAC,CAACwO,iBAApE,GAAsF,KAAKjM,YAAL,CAAkB,CAAlB,EAAqBwQ,SAArB,GAA+B9S,CAAC,GAAC,KAAKsC,YAAL,CAAkB,CAAlB,EAAqBwQ,SAArB,GAA+B/S,CAAC,CAACyO,WAAxJ,GAAoK7O,CAAC,CAACyN,KAAF,GAAQ,KAAKkH,cAAL,CAAoBhD,GAA5B,GAAgCvR,CAAC,CAACwO,iBAAlC,KAAsD,KAAKjM,YAAL,CAAkB,CAAlB,EAAqBwQ,SAArB,GAA+B9S,CAAC,GAAC,KAAKsC,YAAL,CAAkB,CAAlB,EAAqBwQ,SAArB,GAA+B/S,CAAC,CAACyO,WAAxH,CAApK,EAAyS,KAAK8F,cAAL,CAAoB9C,IAApB,GAAyB,KAAKlP,YAAL,CAAkB,CAAlB,EAAqB2Q,WAA9C,GAA0DtT,CAAC,CAACwN,KAA5D,GAAkEpN,CAAC,CAACwO,iBAApE,GAAsF,KAAKjM,YAAL,CAAkB,CAAlB,EAAqBuQ,UAArB,GAAgC7S,CAAC,GAAC,KAAKsC,YAAL,CAAkB,CAAlB,EAAqBuQ,UAArB,GAAgC9S,CAAC,CAACyO,WAA1J,GAAsK7O,CAAC,CAACwN,KAAF,GAAQ,KAAKmH,cAAL,CAAoB9C,IAA5B,GAAiCzR,CAAC,CAACwO,iBAAnC,KAAuD,KAAKjM,YAAL,CAAkB,CAAlB,EAAqBuQ,UAArB,GAAgC7S,CAAC,GAAC,KAAKsC,YAAL,CAAkB,CAAlB,EAAqBuQ,UAArB,GAAgC9S,CAAC,CAACyO,WAA3H,CAA/hB,KAAyqB7O,CAAC,CAACyN,KAAF,GAAQ,KAAK3K,QAAL,CAAcqQ,SAAd,EAAR,GAAkC/S,CAAC,CAACwO,iBAApC,GAAsDvO,CAAC,GAAC,KAAKyC,QAAL,CAAcqQ,SAAd,CAAwB,KAAKrQ,QAAL,CAAcqQ,SAAd,KAA0B/S,CAAC,CAACyO,WAApD,CAAxD,GAAyH,KAAKrG,MAAL,CAAYqK,MAAZ,MAAsB7S,CAAC,CAACyN,KAAF,GAAQ,KAAK3K,QAAL,CAAcqQ,SAAd,EAA9B,IAAyD/S,CAAC,CAACwO,iBAA3D,KAA+EvO,CAAC,GAAC,KAAKyC,QAAL,CAAcqQ,SAAd,CAAwB,KAAKrQ,QAAL,CAAcqQ,SAAd,KAA0B/S,CAAC,CAACyO,WAApD,CAAjF,CAAzH,EAA4Q7O,CAAC,CAACwN,KAAF,GAAQ,KAAK1K,QAAL,CAAcoQ,UAAd,EAAR,GAAmC9S,CAAC,CAACwO,iBAArC,GAAuDvO,CAAC,GAAC,KAAKyC,QAAL,CAAcoQ,UAAd,CAAyB,KAAKpQ,QAAL,CAAcoQ,UAAd,KAA2B9S,CAAC,CAACyO,WAAtD,CAAzD,GAA4H,KAAKrG,MAAL,CAAYmK,KAAZ,MAAqB3S,CAAC,CAACwN,KAAF,GAAQ,KAAK1K,QAAL,CAAcoQ,UAAd,EAA7B,IAAyD9S,CAAC,CAACwO,iBAA3D,KAA+EvO,CAAC,GAAC,KAAKyC,QAAL,CAAcoQ,UAAd,CAAyB,KAAKpQ,QAAL,CAAcoQ,UAAd,KAA2B9S,CAAC,CAACyO,WAAtD,CAAjF,CAAjjC,GAAusC,CAAC,CAAD,KAAKxO,CAAL,IAAQT,CAAC,CAAC0B,EAAF,CAAKiP,SAAb,IAAwB,CAACnQ,CAAC,CAACmR,aAA3B,IAA0C3R,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAeiB,cAAf,CAA8B,IAA9B,EAAmCxR,CAAnC,CAAvwC,CAA3J,EAAy8C,KAAK6Q,WAAL,GAAiB,KAAKqB,kBAAL,CAAwB,UAAxB,CAA19C,EAA8/C,KAAKrM,OAAL,CAAagI,IAAb,IAAmB,QAAM,KAAKhI,OAAL,CAAagI,IAAtC,KAA6C,KAAKO,MAAL,CAAY,CAAZ,EAAe7F,KAAf,CAAqBsJ,IAArB,GAA0B,KAAKb,QAAL,CAAca,IAAd,GAAmB,IAA1F,CAA9/C,EAA8lD,KAAKhM,OAAL,CAAagI,IAAb,IAAmB,QAAM,KAAKhI,OAAL,CAAagI,IAAtC,KAA6C,KAAKO,MAAL,CAAY,CAAZ,EAAe7F,KAAf,CAAqBoJ,GAArB,GAAyB,KAAKX,QAAL,CAAcW,GAAd,GAAkB,IAAxF,CAA9lD,EAA4rDhR,CAAC,GAAC,KAAKmU,KAAL,CAAWzT,MAAX,GAAkB,CAAptD,EAAstDV,CAAC,IAAE,CAAztD,EAA2tDA,CAAC,EAA5tD;AAA+tD,YAAGT,CAAC,GAAC,CAACD,CAAC,GAAC,KAAK6U,KAAL,CAAWnU,CAAX,CAAH,EAAkBiT,IAAlB,CAAuB,CAAvB,CAAF,EAA4B,CAACzT,CAAC,GAAC,KAAK4d,sBAAL,CAA4B9d,CAA5B,CAAH,KAAoCA,CAAC,CAAC8c,QAAF,KAAa,KAAKI,gBAAtD,IAAwE,EAAEjd,CAAC,KAAG,KAAKmU,WAAL,CAAiB,CAAjB,CAAJ,IAAyB,KAAKJ,WAAL,CAAiB,MAAI9T,CAAJ,GAAM,MAAN,GAAa,MAA9B,IAAwC,CAAxC,MAA6CD,CAAtE,IAAyEN,CAAC,CAACqT,QAAF,CAAW,KAAKgB,WAAL,CAAiB,CAAjB,CAAX,EAA+B/T,CAA/B,CAAzE,IAA4G,mBAAiB,KAAK2F,OAAL,CAAa+E,IAA9B,IAAoChL,CAAC,CAACqT,QAAF,CAAW,KAAKtN,OAAL,CAAa,CAAb,CAAX,EAA2BzF,CAA3B,CAAlJ,CAAvG,EAAwR;AAAC,cAAG,KAAK8d,SAAL,GAAe,MAAI7d,CAAJ,GAAM,MAAN,GAAa,IAA5B,EAAiC,cAAY,KAAK0F,OAAL,CAAasQ,SAAzB,IAAoC,CAAC,KAAK8H,oBAAL,CAA0Bhe,CAA1B,CAAzE,EAAsG;AAAM,eAAKie,UAAL,CAAgBle,CAAhB,EAAkBC,CAAlB,GAAqB,KAAK4I,QAAL,CAAc,QAAd,EAAuB7I,CAAvB,EAAyB,KAAKmS,OAAL,EAAzB,CAArB;AAA8D;AAAM;AAAxqE;;AAAwqE,aAAO,KAAKgM,kBAAL,CAAwBne,CAAxB,GAA2BJ,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,IAAgB3Q,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAerB,IAAf,CAAoB,IAApB,EAAyBlP,CAAzB,CAA3C,EAAuE,KAAK6I,QAAL,CAAc,MAAd,EAAqB7I,CAArB,EAAuB,KAAKmS,OAAL,EAAvB,CAAvE,EAA8G,KAAK2L,eAAL,GAAqB,KAAKjN,WAAxI,EAAoJ,CAAC,CAA5J;AAA8J,KAA71M;AAA81MzD,IAAAA,UAAU,EAAC,oBAASpN,CAAT,EAAWW,CAAX,EAAa;AAAC,UAAGX,CAAH,EAAK;AAAC,YAAGJ,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,IAAgB,CAAC,KAAK1K,OAAL,CAAa0L,aAA9B,IAA6C3R,CAAC,CAAC0B,EAAF,CAAKiP,SAAL,CAAe6B,IAAf,CAAoB,IAApB,EAAyBpS,CAAzB,CAA7C,EAAyE,KAAK6F,OAAL,CAAa2I,MAAzF,EAAgG;AAAC,cAAIvO,CAAC,GAAC,IAAN;AAAA,cAAWC,CAAC,GAAC,KAAK+T,WAAL,CAAiBjE,MAAjB,EAAb;AAAA,cAAuC7P,CAAC,GAAC,KAAK0F,OAAL,CAAagI,IAAtD;AAAA,cAA2DzN,CAAC,GAAC,EAA7D;AAAgED,UAAAA,CAAC,IAAE,QAAMA,CAAT,KAAaC,CAAC,CAACyR,IAAF,GAAO3R,CAAC,CAAC2R,IAAF,GAAO,KAAK7B,MAAL,CAAY1K,MAAZ,CAAmBuM,IAA1B,GAA+B,KAAKD,OAAL,CAAaC,IAA5C,IAAkD,KAAKlB,YAAL,CAAkB,CAAlB,MAAuB,KAAK7N,QAAL,CAAc,CAAd,EAAiB2Q,IAAxC,GAA6C,CAA7C,GAA+C,KAAK9C,YAAL,CAAkB,CAAlB,EAAqBuC,UAAtH,CAApB,GAAuJ/S,CAAC,IAAE,QAAMA,CAAT,KAAaC,CAAC,CAACuR,GAAF,GAAMzR,CAAC,CAACyR,GAAF,GAAM,KAAK3B,MAAL,CAAY1K,MAAZ,CAAmBqM,GAAzB,GAA6B,KAAKC,OAAL,CAAaD,GAA1C,IAA+C,KAAKhB,YAAL,CAAkB,CAAlB,MAAuB,KAAK7N,QAAL,CAAc,CAAd,EAAiB2Q,IAAxC,GAA6C,CAA7C,GAA+C,KAAK9C,YAAL,CAAkB,CAAlB,EAAqBwC,SAAnH,CAAnB,CAAvJ,EAAyS,KAAK6J,SAAL,GAAe,CAAC,CAAzT,EAA2Tpd,CAAC,CAAC,KAAKwO,MAAN,CAAD,CAAekE,OAAf,CAAuBlS,CAAvB,EAAyBiF,QAAQ,CAAC,KAAKQ,OAAL,CAAa2I,MAAd,EAAqB,EAArB,CAAR,IAAkC,GAA3D,EAA+D,YAAU;AAACvO,YAAAA,CAAC,CAACqR,MAAF,CAAStR,CAAT;AAAY,WAAtF,CAA3T;AAAmZ,SAApjB,MAAyjB,KAAKsR,MAAL,CAAYtR,CAAZ,EAAcW,CAAd;;AAAiB,eAAM,CAAC,CAAP;AAAS;AAAC,KAAj9N;AAAk9NgL,IAAAA,MAAM,EAAC,kBAAU;AAAC,UAAG,KAAKkS,QAAR,EAAiB;AAAC,aAAKvR,QAAL,CAAc;AAACjE,UAAAA,MAAM,EAAC;AAAR,SAAd,GAA6B,eAAa,KAAKxC,OAAL,CAAauI,MAA1B,GAAiC,KAAKiG,WAAL,CAAiBjT,GAAjB,CAAqB,KAAK4S,UAA1B,EAAsC/K,WAAtC,CAAkD,oBAAlD,CAAjC,GAAyG,KAAKoL,WAAL,CAAiBrJ,IAAjB,EAAtI;;AAA8J,aAAI,IAAIhL,CAAC,GAAC,KAAK4d,UAAL,CAAgBvc,MAAhB,GAAuB,CAAjC,EAAmCrB,CAAC,IAAE,CAAtC,EAAwCA,CAAC,EAAzC;AAA4C,eAAK4d,UAAL,CAAgB5d,CAAhB,EAAmB6I,QAAnB,CAA4B,YAA5B,EAAyC,IAAzC,EAA8C,KAAKsJ,OAAL,CAAa,IAAb,CAA9C,GAAkE,KAAKyL,UAAL,CAAgB5d,CAAhB,EAAmBoU,cAAnB,CAAkCmC,IAAlC,KAAyC,KAAKqH,UAAL,CAAgB5d,CAAhB,EAAmB6I,QAAnB,CAA4B,KAA5B,EAAkC,IAAlC,EAAuC,KAAKsJ,OAAL,CAAa,IAAb,CAAvC,GAA2D,KAAKyL,UAAL,CAAgB5d,CAAhB,EAAmBoU,cAAnB,CAAkCmC,IAAlC,GAAuC,CAA3I,CAAlE;AAA5C;AAA4P;;AAAA,aAAO,KAAKtC,WAAL,KAAmB,KAAKA,WAAL,CAAiB,CAAjB,EAAoBzT,UAApB,IAAgC,KAAKyT,WAAL,CAAiB,CAAjB,EAAoBzT,UAApB,CAA+Byb,WAA/B,CAA2C,KAAKhI,WAAL,CAAiB,CAAjB,CAA3C,CAAhC,EAAgG,eAAa,KAAKpO,OAAL,CAAauI,MAA1B,IAAkC,KAAKA,MAAvC,IAA+C,KAAKA,MAAL,CAAY,CAAZ,EAAe5N,UAA9D,IAA0E,KAAK4N,MAAL,CAAYjI,MAAZ,EAA1K,EAA+LvG,CAAC,CAAC2B,MAAF,CAAS,IAAT,EAAc;AAAC6M,QAAAA,MAAM,EAAC,IAAR;AAAayP,QAAAA,QAAQ,EAAC,CAAC,CAAvB;AAAyBb,QAAAA,SAAS,EAAC,CAAC,CAApC;AAAsCoB,QAAAA,YAAY,EAAC;AAAnD,OAAd,CAA/L,EAAuQ,KAAKhB,WAAL,CAAiBC,IAAjB,GAAsBzd,CAAC,CAAC,KAAKwd,WAAL,CAAiBC,IAAlB,CAAD,CAAyBgB,KAAzB,CAA+B,KAAKhK,WAApC,CAAtB,GAAuEzU,CAAC,CAAC,KAAKwd,WAAL,CAAiB9X,MAAlB,CAAD,CAA2BgZ,OAA3B,CAAmC,KAAKjK,WAAxC,CAAjW,GAAuZ,IAA9Z;AAAma,KAAnzP;AAAozPkK,IAAAA,SAAS,EAAC,mBAASve,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,KAAK6d,iBAAL,CAAuBxe,CAAC,IAAEA,CAAC,CAACye,SAA5B,CAAN;AAAA,UAA6Cxe,CAAC,GAAC,EAA/C;;AAAkD,aAAOD,CAAC,GAACA,CAAC,IAAE,EAAL,EAAQJ,CAAC,CAACe,CAAD,CAAD,CAAKqC,IAAL,CAAU,YAAU;AAAC,YAAIrC,CAAC,GAAC,CAACf,CAAC,CAACI,CAAC,CAAC4T,IAAF,IAAQ,IAAT,CAAD,CAAgBpQ,IAAhB,CAAqBxD,CAAC,CAAC0e,SAAF,IAAa,IAAlC,KAAyC,EAA1C,EAA8C/U,KAA9C,CAAoD3J,CAAC,CAAC2e,UAAF,IAAc,gBAAlE,CAAN;AAA0Fhe,QAAAA,CAAC,IAAEV,CAAC,CAACyF,IAAF,CAAO,CAAC1F,CAAC,CAAC4e,GAAF,IAAOje,CAAC,CAAC,CAAD,CAAD,GAAK,IAAb,IAAmB,GAAnB,IAAwBX,CAAC,CAAC4e,GAAF,IAAO5e,CAAC,CAAC2e,UAAT,GAAoBhe,CAAC,CAAC,CAAD,CAArB,GAAyBA,CAAC,CAAC,CAAD,CAAlD,CAAP,CAAH;AAAkE,OAAjL,CAAR,EAA2L,CAACV,CAAC,CAACoB,MAAH,IAAWrB,CAAC,CAAC4e,GAAb,IAAkB3e,CAAC,CAACyF,IAAF,CAAO1F,CAAC,CAAC4e,GAAF,GAAM,GAAb,CAA7M,EAA+N3e,CAAC,CAAC8J,IAAF,CAAO,GAAP,CAAtO;AAAkP,KAA9mQ;AAA+mQ8U,IAAAA,OAAO,EAAC,iBAAS7e,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,KAAK6d,iBAAL,CAAuBxe,CAAC,IAAEA,CAAC,CAACye,SAA5B,CAAN;AAAA,UAA6Cxe,CAAC,GAAC,EAA/C;;AAAkD,aAAOD,CAAC,GAACA,CAAC,IAAE,EAAL,EAAQW,CAAC,CAACqC,IAAF,CAAO,YAAU;AAAC/C,QAAAA,CAAC,CAACyF,IAAF,CAAO9F,CAAC,CAACI,CAAC,CAAC4T,IAAF,IAAQ,IAAT,CAAD,CAAgBpQ,IAAhB,CAAqBxD,CAAC,CAAC0e,SAAF,IAAa,IAAlC,KAAyC,EAAhD;AAAoD,OAAtE,CAAR,EAAgFze,CAAvF;AAAyF,KAA9wQ;AAA+wQkU,IAAAA,eAAe,EAAC,yBAASvU,CAAT,EAAW;AAAC,UAAII,CAAC,GAAC,KAAK6Q,WAAL,CAAiBgB,IAAvB;AAAA,UAA4BlR,CAAC,GAACX,CAAC,GAAC,KAAK0S,iBAAL,CAAuBC,KAAvD;AAAA,UAA6D1S,CAAC,GAAC,KAAK4Q,WAAL,CAAiBc,GAAhF;AAAA,UAAoFzR,CAAC,GAACD,CAAC,GAAC,KAAKyS,iBAAL,CAAuBG,MAA/G;AAAA,UAAsH1S,CAAC,GAACP,CAAC,CAACiS,IAA1H;AAAA,UAA+HzR,CAAC,GAACD,CAAC,GAACP,CAAC,CAAC+S,KAArI;AAAA,UAA2ItS,CAAC,GAACT,CAAC,CAAC+R,GAA/I;AAAA,UAAmJ7L,CAAC,GAACzF,CAAC,GAACT,CAAC,CAACiT,MAAzJ;AAAA,UAAgKvM,CAAC,GAAC,KAAK0J,MAAL,CAAYiC,KAAZ,CAAkBN,GAApL;AAAA,UAAwL/H,CAAC,GAAC,KAAKoG,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA5M;AAAA,UAAiNkD,CAAC,GAAC,QAAM,KAAKlP,OAAL,CAAagI,IAAnB,IAAyB5N,CAAC,GAACqG,CAAF,GAAIjG,CAAJ,IAAOJ,CAAC,GAACqG,CAAF,GAAIR,CAAvP;AAAA,UAAyPkP,CAAC,GAAC,QAAM,KAAKnP,OAAL,CAAagI,IAAnB,IAAyB7N,CAAC,GAAC4J,CAAF,GAAIzJ,CAAJ,IAAOH,CAAC,GAAC4J,CAAF,GAAIxJ,CAA/R;AAAA,UAAiS6U,CAAC,GAACF,CAAC,IAAEC,CAAtS;AAAwS,aAAM,cAAY,KAAKnP,OAAL,CAAasQ,SAAzB,IAAoC,KAAKtQ,OAAL,CAAaiZ,yBAAjD,IAA4E,cAAY,KAAKjZ,OAAL,CAAasQ,SAAzB,IAAoC,KAAKzD,iBAAL,CAAuB,KAAKoK,QAAL,GAAc,OAAd,GAAsB,QAA7C,IAAuDld,CAAC,CAAC,KAAKkd,QAAL,GAAc,OAAd,GAAsB,QAAvB,CAAxK,GAAyM7H,CAAzM,GAA2M9U,CAAC,GAACH,CAAC,GAAC,KAAK0S,iBAAL,CAAuBC,KAAvB,GAA6B,CAAjC,IAAoChS,CAAC,GAAC,KAAK+R,iBAAL,CAAuBC,KAAvB,GAA6B,CAA/B,GAAiCvS,CAArE,IAAwEC,CAAC,GAACJ,CAAC,GAAC,KAAKyS,iBAAL,CAAuBG,MAAvB,GAA8B,CAA1G,IAA6G3S,CAAC,GAAC,KAAKwS,iBAAL,CAAuBG,MAAvB,GAA8B,CAAhC,GAAkC/M,CAAhW;AAAkW,KAAr7R;AAAs7RiY,IAAAA,sBAAsB,EAAC,gCAASne,CAAT,EAAW;AAAC,UAAII,CAAC,GAAC,QAAM,KAAK6F,OAAL,CAAagI,IAAnB,IAAyB,KAAK8O,WAAL,CAAiB,KAAK9L,WAAL,CAAiBc,GAAjB,GAAqB,KAAK3B,MAAL,CAAYiC,KAAZ,CAAkBN,GAAxD,EAA4D/R,CAAC,CAAC+R,GAA9D,EAAkE/R,CAAC,CAACiT,MAApE,CAA/B;AAAA,UAA2GlS,CAAC,GAAC,QAAM,KAAKkF,OAAL,CAAagI,IAAnB,IAAyB,KAAK8O,WAAL,CAAiB,KAAK9L,WAAL,CAAiBgB,IAAjB,GAAsB,KAAK7B,MAAL,CAAYiC,KAAZ,CAAkBJ,IAAzD,EAA8DjS,CAAC,CAACiS,IAAhE,EAAqEjS,CAAC,CAAC+S,KAAvE,CAAtI;AAAA,UAAoN1S,CAAC,GAACD,CAAC,IAAEW,CAAzN;AAAA,UAA2NT,CAAC,GAAC,KAAK6e,yBAAL,EAA7N;AAAA,UAA8P5e,CAAC,GAAC,KAAK6e,2BAAL,EAAhQ;;AAAmS,aAAM,CAAC,CAAC/e,CAAF,KAAM,KAAK6c,QAAL,GAAc3c,CAAC,IAAE,YAAUA,CAAb,IAAgB,WAASD,CAAzB,GAA2B,CAA3B,GAA6B,CAA3C,GAA6CA,CAAC,KAAG,WAASA,CAAT,GAAW,CAAX,GAAa,CAAhB,CAApD,CAAN;AAA8E,KAA10S;AAA20S+d,IAAAA,oBAAoB,EAAC,8BAASre,CAAT,EAAW;AAAC,UAAII,CAAC,GAAC,KAAK2c,WAAL,CAAiB,KAAK9L,WAAL,CAAiBc,GAAjB,GAAqB,KAAK3B,MAAL,CAAYiC,KAAZ,CAAkBN,GAAxD,EAA4D/R,CAAC,CAAC+R,GAAF,GAAM/R,CAAC,CAACiT,MAAF,GAAS,CAA3E,EAA6EjT,CAAC,CAACiT,MAA/E,CAAN;AAAA,UAA6FlS,CAAC,GAAC,KAAKgc,WAAL,CAAiB,KAAK9L,WAAL,CAAiBgB,IAAjB,GAAsB,KAAK7B,MAAL,CAAYiC,KAAZ,CAAkBJ,IAAzD,EAA8DjS,CAAC,CAACiS,IAAF,GAAOjS,CAAC,CAAC+S,KAAF,GAAQ,CAA7E,EAA+E/S,CAAC,CAAC+S,KAAjF,CAA/F;AAAA,UAAuL1S,CAAC,GAAC,KAAK8e,yBAAL,EAAzL;AAAA,UAA0N7e,CAAC,GAAC,KAAK8e,2BAAL,EAA5N;;AAA+P,aAAO,KAAKlC,QAAL,IAAe5c,CAAf,GAAiB,YAAUA,CAAV,IAAaS,CAAb,IAAgB,WAAST,CAAT,IAAY,CAACS,CAA9C,GAAgDV,CAAC,KAAG,WAASA,CAAT,IAAYD,CAAZ,IAAe,SAAOC,CAAP,IAAU,CAACD,CAA7B,CAAxD;AAAwF,KAAnsT;AAAosT+e,IAAAA,yBAAyB,EAAC,qCAAU;AAAC,UAAInf,CAAC,GAAC,KAAKiR,WAAL,CAAiBc,GAAjB,GAAqB,KAAKmM,eAAL,CAAqBnM,GAAhD;AAAoD,aAAO,MAAI/R,CAAJ,KAAQA,CAAC,GAAC,CAAF,GAAI,MAAJ,GAAW,IAAnB,CAAP;AAAgC,KAA7zT;AAA8zTof,IAAAA,2BAA2B,EAAC,uCAAU;AAAC,UAAIpf,CAAC,GAAC,KAAKiR,WAAL,CAAiBgB,IAAjB,GAAsB,KAAKiM,eAAL,CAAqBjM,IAAjD;AAAsD,aAAO,MAAIjS,CAAJ,KAAQA,CAAC,GAAC,CAAF,GAAI,OAAJ,GAAY,MAApB,CAAP;AAAmC,KAA97T;AAA+7Tid,IAAAA,OAAO,EAAC,iBAASjd,CAAT,EAAW;AAAC,aAAO,KAAKqd,aAAL,CAAmBrd,CAAnB,GAAsB,KAAK0P,mBAAL,EAAtB,EAAiD,KAAKf,gBAAL,EAAjD,EAAyE,IAAhF;AAAqF,KAAxiU;AAAyiU0Q,IAAAA,YAAY,EAAC,wBAAU;AAAC,UAAIrf,CAAC,GAAC,KAAKiG,OAAX;AAAmB,aAAOjG,CAAC,CAACuc,WAAF,CAAcnV,WAAd,KAA4B6N,MAA5B,GAAmC,CAACjV,CAAC,CAACuc,WAAH,CAAnC,GAAmDvc,CAAC,CAACuc,WAA5D;AAAwE,KAA5pU;AAA6pUqC,IAAAA,iBAAiB,EAAC,2BAASxe,CAAT,EAAW;AAAC,eAASW,CAAT,GAAY;AAACN,QAAAA,CAAC,CAACqF,IAAF,CAAO,IAAP;AAAa;;AAAA,UAAIzF,CAAJ;AAAA,UAAMC,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAC,GAAC,EAAd;AAAA,UAAiByF,CAAC,GAAC,EAAnB;AAAA,UAAsBQ,CAAC,GAAC,KAAK2Y,YAAL,EAAxB;;AAA4C,UAAG3Y,CAAC,IAAEtG,CAAN,EAAQ,KAAIC,CAAC,GAACqG,CAAC,CAACjF,MAAF,GAAS,CAAf,EAAiBpB,CAAC,IAAE,CAApB,EAAsBA,CAAC,EAAvB;AAA0B,aAAIC,CAAC,GAAC,CAACC,CAAC,GAACP,CAAC,CAAC0G,CAAC,CAACrG,CAAD,CAAF,EAAM,KAAK6C,QAAL,CAAc,CAAd,CAAN,CAAJ,EAA6BzB,MAA7B,GAAoC,CAA1C,EAA4CnB,CAAC,IAAE,CAA/C,EAAiDA,CAAC,EAAlD;AAAqD,WAACE,CAAC,GAACR,CAAC,CAACwD,IAAF,CAAOjD,CAAC,CAACD,CAAD,CAAR,EAAY,KAAKiH,cAAjB,CAAH,KAAsC/G,CAAC,KAAG,IAA1C,IAAgD,CAACA,CAAC,CAACyF,OAAF,CAAUhF,QAA3D,IAAqEiF,CAAC,CAACJ,IAAF,CAAO,CAAC9F,CAAC,CAACgH,UAAF,CAAaxG,CAAC,CAACyF,OAAF,CAAUiP,KAAvB,IAA8B1U,CAAC,CAACyF,OAAF,CAAUiP,KAAV,CAAgB7Q,IAAhB,CAAqB7D,CAAC,CAACuF,OAAvB,CAA9B,GAA8D/F,CAAC,CAACQ,CAAC,CAACyF,OAAF,CAAUiP,KAAX,EAAiB1U,CAAC,CAACuF,OAAnB,CAAD,CAA6BsE,GAA7B,CAAiC,qBAAjC,EAAwDA,GAAxD,CAA4D,0BAA5D,CAA/D,EAAuJ7J,CAAvJ,CAAP,CAArE;AAArD;AAA1B;;AAAsT,WAAI0F,CAAC,CAACJ,IAAF,CAAO,CAAC9F,CAAC,CAACgH,UAAF,CAAa,KAAKf,OAAL,CAAaiP,KAA1B,IAAiC,KAAKjP,OAAL,CAAaiP,KAAb,CAAmB7Q,IAAnB,CAAwB,KAAK0B,OAA7B,EAAqC,IAArC,EAA0C;AAACE,QAAAA,OAAO,EAAC,KAAKA,OAAd;AAAsB+N,QAAAA,IAAI,EAAC,KAAKS;AAAhC,OAA1C,CAAjC,GAAyHzU,CAAC,CAAC,KAAKiG,OAAL,CAAaiP,KAAd,EAAoB,KAAKnP,OAAzB,CAAD,CAAmCsE,GAAnC,CAAuC,qBAAvC,EAA8DA,GAA9D,CAAkE,0BAAlE,CAA1H,EAAwN,IAAxN,CAAP,GAAsOhK,CAAC,GAAC6F,CAAC,CAACzE,MAAF,GAAS,CAArP,EAAuPpB,CAAC,IAAE,CAA1P,EAA4PA,CAAC,EAA7P;AAAgQ6F,QAAAA,CAAC,CAAC7F,CAAD,CAAD,CAAK,CAAL,EAAQ+C,IAAR,CAAarC,CAAb;AAAhQ;;AAAgR,aAAOf,CAAC,CAACS,CAAD,CAAR;AAAY,KAA31V;AAA41V6c,IAAAA,wBAAwB,EAAC,oCAAU;AAAC,UAAIld,CAAC,GAAC,KAAKqU,WAAL,CAAiBvE,IAAjB,CAAsB,WAAS,KAAK5I,UAAd,GAAyB,QAA/C,CAAN;AAA+D,WAAK4N,KAAL,GAAWlV,CAAC,CAACsf,IAAF,CAAO,KAAKpK,KAAZ,EAAkB,UAASlV,CAAT,EAAW;AAAC,aAAI,IAAIe,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACX,CAAC,CAACqB,MAAhB,EAAuBV,CAAC,EAAxB;AAA2B,cAAGX,CAAC,CAACW,CAAD,CAAD,KAAOf,CAAC,CAACgU,IAAF,CAAO,CAAP,CAAV,EAAoB,OAAM,CAAC,CAAP;AAA/C;;AAAwD,eAAM,CAAC,CAAP;AAAS,OAA/F,CAAX;AAA4G,KAA3iW;AAA4iWqJ,IAAAA,aAAa,EAAC,uBAASjd,CAAT,EAAW;AAAC,WAAK8U,KAAL,GAAW,EAAX,EAAc,KAAK8I,UAAL,GAAgB,CAAC,IAAD,CAA9B;;AAAqC,UAAIjd,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAZ;AAAA,UAAcC,CAAd;AAAA,UAAgByF,CAAhB;AAAA,UAAkBQ,CAAlB;AAAA,UAAoBsD,CAAC,GAAC,KAAKkL,KAA3B;AAAA,UAAiCC,CAAC,GAAC,CAAC,CAACnV,CAAC,CAACgH,UAAF,CAAa,KAAKf,OAAL,CAAaiP,KAA1B,IAAiC,KAAKjP,OAAL,CAAaiP,KAAb,CAAmB7Q,IAAnB,CAAwB,KAAK0B,OAAL,CAAa,CAAb,CAAxB,EAAwC3F,CAAxC,EAA0C;AAAC4T,QAAAA,IAAI,EAAC,KAAKS;AAAX,OAA1C,CAAjC,GAAoGzU,CAAC,CAAC,KAAKiG,OAAL,CAAaiP,KAAd,EAAoB,KAAKnP,OAAzB,CAAtG,EAAwI,IAAxI,CAAD,CAAnC;AAAA,UAAmLqP,CAAC,GAAC,KAAKiK,YAAL,EAArL;;AAAyM,UAAGjK,CAAC,IAAE,KAAKkH,KAAX,EAAiB,KAAIvb,CAAC,GAACqU,CAAC,CAAC3T,MAAF,GAAS,CAAf,EAAiBV,CAAC,IAAE,CAApB,EAAsBA,CAAC,EAAvB;AAA0B,aAAIV,CAAC,GAAC,CAACC,CAAC,GAACN,CAAC,CAACoV,CAAC,CAACrU,CAAD,CAAF,EAAM,KAAKmC,QAAL,CAAc,CAAd,CAAN,CAAJ,EAA6BzB,MAA7B,GAAoC,CAA1C,EAA4CpB,CAAC,IAAE,CAA/C,EAAiDA,CAAC,EAAlD;AAAqD,WAACE,CAAC,GAACP,CAAC,CAACwD,IAAF,CAAOlD,CAAC,CAACD,CAAD,CAAR,EAAY,KAAKkH,cAAjB,CAAH,KAAsChH,CAAC,KAAG,IAA1C,IAAgD,CAACA,CAAC,CAAC0F,OAAF,CAAUhF,QAA3D,KAAsEkU,CAAC,CAACrP,IAAF,CAAO,CAAC9F,CAAC,CAACgH,UAAF,CAAazG,CAAC,CAAC0F,OAAF,CAAUiP,KAAvB,IAA8B3U,CAAC,CAAC0F,OAAF,CAAUiP,KAAV,CAAgB7Q,IAAhB,CAAqB9D,CAAC,CAACwF,OAAF,CAAU,CAAV,CAArB,EAAkC3F,CAAlC,EAAoC;AAAC4T,YAAAA,IAAI,EAAC,KAAKS;AAAX,WAApC,CAA9B,GAA2FzU,CAAC,CAACO,CAAC,CAAC0F,OAAF,CAAUiP,KAAX,EAAiB3U,CAAC,CAACwF,OAAnB,CAA7F,EAAyHxF,CAAzH,CAAP,GAAoI,KAAKyd,UAAL,CAAgBlY,IAAhB,CAAqBvF,CAArB,CAA1M;AAArD;AAA1B;;AAAkT,WAAIQ,CAAC,GAACoU,CAAC,CAAC1T,MAAF,GAAS,CAAf,EAAiBV,CAAC,IAAE,CAApB,EAAsBA,CAAC,EAAvB;AAA0B,aAAIP,CAAC,GAAC2U,CAAC,CAACpU,CAAD,CAAD,CAAK,CAAL,CAAF,EAAUV,CAAC,GAAC,CAAZ,EAAcqG,CAAC,GAAC,CAACjG,CAAC,GAAC0U,CAAC,CAACpU,CAAD,CAAD,CAAK,CAAL,CAAH,EAAYU,MAAhC,EAAuCpB,CAAC,GAACqG,CAAzC,EAA2CrG,CAAC,EAA5C;AAA+C,WAAC6F,CAAC,GAAClG,CAAC,CAACS,CAAC,CAACJ,CAAD,CAAF,CAAJ,EAAYmD,IAAZ,CAAiB,KAAK8D,UAAL,GAAgB,OAAjC,EAAyC9G,CAAzC,GAA4CwJ,CAAC,CAAClE,IAAF,CAAO;AAACkO,YAAAA,IAAI,EAAC9N,CAAN;AAAQiX,YAAAA,QAAQ,EAAC3c,CAAjB;AAAmBuS,YAAAA,KAAK,EAAC,CAAzB;AAA2BE,YAAAA,MAAM,EAAC,CAAlC;AAAoChB,YAAAA,IAAI,EAAC,CAAzC;AAA2CF,YAAAA,GAAG,EAAC;AAA/C,WAAP,CAA5C;AAA/C;AAA1B;AAA+K,KAAtyX;AAAuyXpD,IAAAA,gBAAgB,EAAC,0BAASvO,CAAT,EAAW;AAAC,UAAIW,CAAJ,EAAMV,CAAN,EAAQC,CAAR,EAAUC,CAAV;;AAAY,WAAI,KAAKwQ,YAAL,IAAmB,KAAKvC,MAAxB,KAAiC,KAAK4B,MAAL,CAAY1K,MAAZ,GAAmB,KAAKwM,gBAAL,EAApD,GAA6EnR,CAAC,GAAC,KAAKmU,KAAL,CAAWzT,MAAX,GAAkB,CAArG,EAAuGV,CAAC,IAAE,CAA1G,EAA4GA,CAAC,EAA7G;AAAgH,SAACV,CAAC,GAAC,KAAK6U,KAAL,CAAWnU,CAAX,CAAH,EAAkBoc,QAAlB,KAA6B,KAAKI,gBAAlC,IAAoD,KAAKA,gBAAzD,IAA2Eld,CAAC,CAAC2T,IAAF,CAAO,CAAP,MAAY,KAAKS,WAAL,CAAiB,CAAjB,CAAvF,KAA6GnU,CAAC,GAAC,KAAK2F,OAAL,CAAasZ,gBAAb,GAA8Bvf,CAAC,CAAC,KAAKiG,OAAL,CAAasZ,gBAAd,EAA+Blf,CAAC,CAAC2T,IAAjC,CAA/B,GAAsE3T,CAAC,CAAC2T,IAA1E,EAA+E5T,CAAC,KAAGC,CAAC,CAAC0S,KAAF,GAAQzS,CAAC,CAACwD,UAAF,EAAR,EAAuBzD,CAAC,CAAC4S,MAAF,GAAS3S,CAAC,CAAC6D,WAAF,EAAnC,CAAhF,EAAoI5D,CAAC,GAACD,CAAC,CAAC8P,MAAF,EAAtI,EAAiJ/P,CAAC,CAAC4R,IAAF,GAAO1R,CAAC,CAAC0R,IAA1J,EAA+J5R,CAAC,CAAC0R,GAAF,GAAMxR,CAAC,CAACwR,GAApR;AAAhH;;AAAyY,UAAG,KAAK9L,OAAL,CAAauZ,MAAb,IAAqB,KAAKvZ,OAAL,CAAauZ,MAAb,CAAoBC,iBAA5C,EAA8D,KAAKxZ,OAAL,CAAauZ,MAAb,CAAoBC,iBAApB,CAAsCpb,IAAtC,CAA2C,IAA3C,EAA9D,KAAoH,KAAItD,CAAC,GAAC,KAAKid,UAAL,CAAgBvc,MAAhB,GAAuB,CAA7B,EAA+BV,CAAC,IAAE,CAAlC,EAAoCA,CAAC,EAArC;AAAwCR,QAAAA,CAAC,GAAC,KAAKyd,UAAL,CAAgBjd,CAAhB,EAAmBgF,OAAnB,CAA2BqK,MAA3B,EAAF,EAAsC,KAAK4N,UAAL,CAAgBjd,CAAhB,EAAmByT,cAAnB,CAAkCvC,IAAlC,GAAuC1R,CAAC,CAAC0R,IAA/E,EAAoF,KAAK+L,UAAL,CAAgBjd,CAAhB,EAAmByT,cAAnB,CAAkCzC,GAAlC,GAAsCxR,CAAC,CAACwR,GAA5H,EAAgI,KAAKiM,UAAL,CAAgBjd,CAAhB,EAAmByT,cAAnB,CAAkCzB,KAAlC,GAAwC,KAAKiL,UAAL,CAAgBjd,CAAhB,EAAmBgF,OAAnB,CAA2BjC,UAA3B,EAAxK,EAAgN,KAAKka,UAAL,CAAgBjd,CAAhB,EAAmByT,cAAnB,CAAkCvB,MAAlC,GAAyC,KAAK+K,UAAL,CAAgBjd,CAAhB,EAAmBgF,OAAnB,CAA2B5B,WAA3B,EAAzP;AAAxC;AAA0U,aAAO,IAAP;AAAY,KAAnqZ;AAAoqZuZ,IAAAA,kBAAkB,EAAC,4BAAStd,CAAT,EAAW;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAC,GAAC,CAACD,CAAC,GAACA,CAAC,IAAE,IAAN,EAAY6F,OAApB;AAA4B5F,MAAAA,CAAC,CAACgU,WAAF,IAAehU,CAAC,CAACgU,WAAF,CAAcjN,WAAd,KAA4B6N,MAA3C,KAAoDlU,CAAC,GAACV,CAAC,CAACgU,WAAJ,EAAgBhU,CAAC,CAACgU,WAAF,GAAc;AAACtO,QAAAA,OAAO,EAAC,mBAAU;AAAC,cAAI1F,CAAC,GAACD,CAAC,CAACqU,WAAF,CAAc,CAAd,EAAiB/T,QAAjB,CAA0BC,WAA1B,EAAN;AAAA,cAA8CL,CAAC,GAACN,CAAC,CAAC,MAAIK,CAAJ,GAAM,GAAP,EAAWD,CAAC,CAAC8C,QAAF,CAAW,CAAX,CAAX,CAAD,CAA2BwH,QAA3B,CAAoC3J,CAAC,IAAEX,CAAC,CAACqU,WAAF,CAAc,CAAd,EAAiB+F,SAAjB,GAA2B,0BAAlE,EAA8FnR,WAA9F,CAA0G,oBAA1G,CAAhD;AAAgL,iBAAM,SAAOhJ,CAAP,GAASD,CAAC,CAACqU,WAAF,CAAc0F,QAAd,GAAyB/W,IAAzB,CAA8B,YAAU;AAACpD,YAAAA,CAAC,CAAC,iBAAD,EAAmBI,CAAC,CAAC8C,QAAF,CAAW,CAAX,CAAnB,CAAD,CAAmCU,IAAnC,CAAwC,SAAxC,EAAkD5D,CAAC,CAAC,IAAD,CAAD,CAAQ4D,IAAR,CAAa,SAAb,KAAyB,CAA3E,EAA8EoK,QAA9E,CAAuF1N,CAAvF;AAA0F,WAAnI,CAAT,GAA8I,UAAQD,CAAR,IAAWC,CAAC,CAACsD,IAAF,CAAO,KAAP,EAAaxD,CAAC,CAACqU,WAAF,CAAc7Q,IAAd,CAAmB,KAAnB,CAAb,CAAzJ,EAAiM7C,CAAC,IAAET,CAAC,CAACkB,GAAF,CAAM,YAAN,EAAmB,QAAnB,CAApM,EAAiOlB,CAAvO;AAAyO,SAA7a;AAA8awc,QAAAA,MAAM,EAAC,gBAAS9c,CAAT,EAAWM,CAAX,EAAa;AAACS,UAAAA,CAAC,IAAE,CAACV,CAAC,CAACoc,oBAAN,KAA6Bnc,CAAC,CAAC2S,MAAF,MAAY3S,CAAC,CAAC2S,MAAF,CAAS7S,CAAC,CAACqU,WAAF,CAAcvQ,WAAd,KAA4BuB,QAAQ,CAACrF,CAAC,CAACqU,WAAF,CAAcjT,GAAd,CAAkB,YAAlB,KAAiC,CAAlC,EAAoC,EAApC,CAApC,GAA4EiE,QAAQ,CAACrF,CAAC,CAACqU,WAAF,CAAcjT,GAAd,CAAkB,eAAlB,KAAoC,CAArC,EAAuC,EAAvC,CAA7F,CAAZ,EAAqJlB,CAAC,CAACyS,KAAF,MAAWzS,CAAC,CAACyS,KAAF,CAAQ3S,CAAC,CAACqU,WAAF,CAAcxQ,UAAd,KAA2BwB,QAAQ,CAACrF,CAAC,CAACqU,WAAF,CAAcjT,GAAd,CAAkB,aAAlB,KAAkC,CAAnC,EAAqC,EAArC,CAAnC,GAA4EiE,QAAQ,CAACrF,CAAC,CAACqU,WAAF,CAAcjT,GAAd,CAAkB,cAAlB,KAAmC,CAApC,EAAsC,EAAtC,CAA5F,CAA7L;AAAqU;AAAxwB,OAAlF,GAA61BpB,CAAC,CAACiU,WAAF,GAAcrU,CAAC,CAACK,CAAC,CAACgU,WAAF,CAActO,OAAd,CAAsB1B,IAAtB,CAA2BjE,CAAC,CAAC2F,OAA7B,EAAqC3F,CAAC,CAACqU,WAAvC,CAAD,CAA52B,EAAk6BrU,CAAC,CAACqU,WAAF,CAAcgK,KAAd,CAAoBre,CAAC,CAACiU,WAAtB,CAAl6B,EAAq8BhU,CAAC,CAACgU,WAAF,CAAcyI,MAAd,CAAqB1c,CAArB,EAAuBA,CAAC,CAACiU,WAAzB,CAAr8B;AAA2+B,KAA1sb;AAA2sbkK,IAAAA,kBAAkB,EAAC,4BAASne,CAAT,EAAW;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAR;AAAA,UAAUC,CAAV;AAAA,UAAYC,CAAZ;AAAA,UAAcC,CAAd;AAAA,UAAgByF,CAAhB;AAAA,UAAkBQ,CAAlB;AAAA,UAAoBsD,CAApB;AAAA,UAAsBmL,CAAtB;AAAA,UAAwBC,CAAC,GAAC,IAA1B;AAAA,UAA+BC,CAAC,GAAC,IAAjC;;AAAsC,WAAItU,CAAC,GAAC,KAAKid,UAAL,CAAgBvc,MAAhB,GAAuB,CAA7B,EAA+BV,CAAC,IAAE,CAAlC,EAAoCA,CAAC,EAArC;AAAwC,YAAG,CAACf,CAAC,CAACqT,QAAF,CAAW,KAAKoB,WAAL,CAAiB,CAAjB,CAAX,EAA+B,KAAKuJ,UAAL,CAAgBjd,CAAhB,EAAmBgF,OAAnB,CAA2B,CAA3B,CAA/B,CAAJ,EAAkE,IAAG,KAAKwO,eAAL,CAAqB,KAAKyJ,UAAL,CAAgBjd,CAAhB,EAAmByT,cAAxC,CAAH,EAA2D;AAAC,cAAGY,CAAC,IAAEpV,CAAC,CAACqT,QAAF,CAAW,KAAK2K,UAAL,CAAgBjd,CAAhB,EAAmBgF,OAAnB,CAA2B,CAA3B,CAAX,EAAyCqP,CAAC,CAACrP,OAAF,CAAU,CAAV,CAAzC,CAAN,EAA6D;AAASqP,UAAAA,CAAC,GAAC,KAAK4I,UAAL,CAAgBjd,CAAhB,CAAF,EAAqBsU,CAAC,GAACtU,CAAvB;AAAyB,SAA3J,MAAgK,KAAKid,UAAL,CAAgBjd,CAAhB,EAAmByT,cAAnB,CAAkCmC,IAAlC,KAAyC,KAAKqH,UAAL,CAAgBjd,CAAhB,EAAmBkI,QAAnB,CAA4B,KAA5B,EAAkC7I,CAAlC,EAAoC,KAAKmS,OAAL,CAAa,IAAb,CAApC,GAAwD,KAAKyL,UAAL,CAAgBjd,CAAhB,EAAmByT,cAAnB,CAAkCmC,IAAlC,GAAuC,CAAxI;AAA1Q;;AACti/B,UAAGvB,CAAH,EAAK,IAAG,MAAI,KAAK4I,UAAL,CAAgBvc,MAAvB,EAA8B,KAAKuc,UAAL,CAAgB3I,CAAhB,EAAmBb,cAAnB,CAAkCmC,IAAlC,KAAyC,KAAKqH,UAAL,CAAgB3I,CAAhB,EAAmBpM,QAAnB,CAA4B,MAA5B,EAAmC7I,CAAnC,EAAqC,KAAKmS,OAAL,CAAa,IAAb,CAArC,GAAyD,KAAKyL,UAAL,CAAgB3I,CAAhB,EAAmBb,cAAnB,CAAkCmC,IAAlC,GAAuC,CAAzI,EAA9B,KAA8K;AAAC,aAAIrW,CAAC,GAAC,GAAF,EAAMC,CAAC,GAAC,IAAR,EAAaC,CAAC,GAAC,CAACwJ,CAAC,GAACoL,CAAC,CAAC8H,QAAF,IAAY,KAAKF,WAAL,CAAiB,KAAKvI,WAAtB,CAAf,IAAmD,MAAnD,GAA0D,KAAzE,EAA+EhU,CAAC,GAACuJ,CAAC,GAAC,OAAD,GAAS,QAA3F,EAAoGmL,CAAC,GAACnL,CAAC,GAAC,SAAD,GAAW,SAAlH,EAA4H3J,CAAC,GAAC,KAAK6U,KAAL,CAAWzT,MAAX,GAAkB,CAApJ,EAAsJpB,CAAC,IAAE,CAAzJ,EAA2JA,CAAC,EAA5J;AAA+JL,UAAAA,CAAC,CAACqT,QAAF,CAAW,KAAK2K,UAAL,CAAgB3I,CAAhB,EAAmBtP,OAAnB,CAA2B,CAA3B,CAAX,EAAyC,KAAKmP,KAAL,CAAW7U,CAAX,EAAc2T,IAAd,CAAmB,CAAnB,CAAzC,KAAiE,KAAKkB,KAAL,CAAW7U,CAAX,EAAc2T,IAAd,CAAmB,CAAnB,MAAwB,KAAKS,WAAL,CAAiB,CAAjB,CAAzF,KAA+GvO,CAAC,GAAC,KAAKgP,KAAL,CAAW7U,CAAX,EAAc2T,IAAd,CAAmB5D,MAAnB,GAA4B5P,CAA5B,CAAF,EAAiCkG,CAAC,GAAC,CAAC,CAApC,EAAsCtG,CAAC,CAAC+U,CAAD,CAAD,GAAKjP,CAAL,GAAO,KAAKgP,KAAL,CAAW7U,CAAX,EAAcI,CAAd,IAAiB,CAAxB,KAA4BiG,CAAC,GAAC,CAAC,CAA/B,CAAtC,EAAwE+G,IAAI,CAACE,GAAL,CAASvN,CAAC,CAAC+U,CAAD,CAAD,GAAKjP,CAAd,IAAiB5F,CAAjB,KAAqBA,CAAC,GAACmN,IAAI,CAACE,GAAL,CAASvN,CAAC,CAAC+U,CAAD,CAAD,GAAKjP,CAAd,CAAF,EAAmB3F,CAAC,GAAC,KAAK2U,KAAL,CAAW7U,CAAX,CAArB,EAAmC,KAAK+d,SAAL,GAAe1X,CAAC,GAAC,IAAD,GAAM,MAA9E,CAAvL;AAA/J;;AAA6a,YAAG,CAACnG,CAAD,IAAI,CAAC,KAAK0F,OAAL,CAAauW,WAArB,EAAiC;AAAO,YAAG,KAAKe,gBAAL,KAAwB,KAAKS,UAAL,CAAgB3I,CAAhB,CAA3B,EAA8C,OAAO,MAAK,KAAKkI,gBAAL,CAAsB/I,cAAtB,CAAqCmC,IAArC,KAA4C,KAAKqH,UAAL,CAAgB3I,CAAhB,EAAmBpM,QAAnB,CAA4B,MAA5B,EAAmC7I,CAAnC,EAAqC,KAAKmS,OAAL,EAArC,GAAqD,KAAKgL,gBAAL,CAAsB/I,cAAtB,CAAqCmC,IAArC,GAA0C,CAA3I,CAAL,CAAP;AAA2JpW,QAAAA,CAAC,GAAC,KAAK+d,UAAL,CAAgBle,CAAhB,EAAkBG,CAAlB,EAAoB,IAApB,EAAyB,CAAC,CAA1B,CAAD,GAA8B,KAAK+d,UAAL,CAAgBle,CAAhB,EAAkB,IAAlB,EAAuB,KAAK4d,UAAL,CAAgB3I,CAAhB,EAAmBtP,OAA1C,EAAkD,CAAC,CAAnD,CAA/B,EAAqF,KAAKkD,QAAL,CAAc,QAAd,EAAuB7I,CAAvB,EAAyB,KAAKmS,OAAL,EAAzB,CAArF,EAA8H,KAAKyL,UAAL,CAAgB3I,CAAhB,EAAmBpM,QAAnB,CAA4B,QAA5B,EAAqC7I,CAArC,EAAuC,KAAKmS,OAAL,CAAa,IAAb,CAAvC,CAA9H,EAAyL,KAAKgL,gBAAL,GAAsB,KAAKS,UAAL,CAAgB3I,CAAhB,CAA/M,EAAkO,KAAKpP,OAAL,CAAaoO,WAAb,CAAyByI,MAAzB,CAAgC,KAAKS,gBAArC,EAAsD,KAAKlJ,WAA3D,CAAlO,EAA0S,KAAK2J,UAAL,CAAgB3I,CAAhB,EAAmBpM,QAAnB,CAA4B,MAA5B,EAAmC7I,CAAnC,EAAqC,KAAKmS,OAAL,CAAa,IAAb,CAArC,CAA1S,EAAmW,KAAKyL,UAAL,CAAgB3I,CAAhB,EAAmBb,cAAnB,CAAkCmC,IAAlC,GAAuC,CAA1Y;AAA4Y;AAAC,KADujhB;AACtjhBlG,IAAAA,aAAa,EAAC,uBAASrQ,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,KAAKkF,OAAX;AAAA,UAAmB5F,CAAC,GAACL,CAAC,CAACgH,UAAF,CAAajG,CAAC,CAACyN,MAAf,IAAuBxO,CAAC,CAACe,CAAC,CAACyN,MAAF,CAASvJ,KAAT,CAAe,KAAKc,OAAL,CAAa,CAAb,CAAf,EAA+B,CAAC3F,CAAD,EAAG,KAAKqU,WAAR,CAA/B,CAAD,CAAxB,GAA+E,YAAU1T,CAAC,CAACyN,MAAZ,GAAmB,KAAKiG,WAAL,CAAiB7B,KAAjB,EAAnB,GAA4C,KAAK6B,WAArJ;AAAiK,aAAOpU,CAAC,CAACgB,OAAF,CAAU,MAAV,EAAkBI,MAAlB,IAA0BzB,CAAC,CAAC,aAAWe,CAAC,CAACiN,QAAb,GAAsBjN,CAAC,CAACiN,QAAxB,GAAiC,KAAKyG,WAAL,CAAiB,CAAjB,EAAoB7T,UAAtD,CAAD,CAAmE,CAAnE,EAAsE8e,WAAtE,CAAkFrf,CAAC,CAAC,CAAD,CAAnF,CAA1B,EAAkHA,CAAC,CAAC,CAAD,CAAD,KAAO,KAAKoU,WAAL,CAAiB,CAAjB,CAAP,KAA6B,KAAKL,UAAL,GAAgB;AAACrB,QAAAA,KAAK,EAAC,KAAK0B,WAAL,CAAiB,CAAjB,EAAoB9L,KAApB,CAA0BoK,KAAjC;AAAuCE,QAAAA,MAAM,EAAC,KAAKwB,WAAL,CAAiB,CAAjB,EAAoB9L,KAApB,CAA0BsK,MAAxE;AAA+E7B,QAAAA,QAAQ,EAAC,KAAKqD,WAAL,CAAiBjT,GAAjB,CAAqB,UAArB,CAAxF;AAAyHuQ,QAAAA,GAAG,EAAC,KAAK0C,WAAL,CAAiBjT,GAAjB,CAAqB,KAArB,CAA7H;AAAyJyQ,QAAAA,IAAI,EAAC,KAAKwC,WAAL,CAAiBjT,GAAjB,CAAqB,MAArB;AAA9J,OAA7C,CAAlH,EAA4VnB,CAAC,CAAC,CAAD,CAAD,CAAKsI,KAAL,CAAWoK,KAAX,IAAkB,CAAChS,CAAC,CAAC2b,eAArB,IAAsCrc,CAAC,CAAC0S,KAAF,CAAQ,KAAK0B,WAAL,CAAiB1B,KAAjB,EAAR,CAAlY,EAAoa1S,CAAC,CAAC,CAAD,CAAD,CAAKsI,KAAL,CAAWsK,MAAX,IAAmB,CAAClS,CAAC,CAAC2b,eAAtB,IAAuCrc,CAAC,CAAC4S,MAAF,CAAS,KAAKwB,WAAL,CAAiBxB,MAAjB,EAAT,CAA3c,EAA+e5S,CAAtf;AAAwf,KADm4f;AACl4fmR,IAAAA,uBAAuB,EAAC,iCAASpR,CAAT,EAAW;AAAC,kBAAU,OAAOA,CAAjB,KAAqBA,CAAC,GAACA,CAAC,CAACuG,KAAF,CAAQ,GAAR,CAAvB,GAAqC3G,CAAC,CAAC6S,OAAF,CAAUzS,CAAV,MAAeA,CAAC,GAAC;AAAC6R,QAAAA,IAAI,EAAC,CAAC7R,CAAC,CAAC,CAAD,CAAR;AAAY2R,QAAAA,GAAG,EAAC,CAAC3R,CAAC,CAAC,CAAD,CAAF,IAAO;AAAvB,OAAjB,CAArC,EAAiF,UAASA,CAAT,KAAa,KAAKgQ,MAAL,CAAYiC,KAAZ,CAAkBJ,IAAlB,GAAuB7R,CAAC,CAAC6R,IAAF,GAAO,KAAKD,OAAL,CAAaC,IAAxD,CAAjF,EAA+I,WAAU7R,CAAV,KAAc,KAAKgQ,MAAL,CAAYiC,KAAZ,CAAkBJ,IAAlB,GAAuB,KAAKa,iBAAL,CAAuBC,KAAvB,GAA6B3S,CAAC,CAAC4S,KAA/B,GAAqC,KAAKhB,OAAL,CAAaC,IAAvF,CAA/I,EAA4O,SAAQ7R,CAAR,KAAY,KAAKgQ,MAAL,CAAYiC,KAAZ,CAAkBN,GAAlB,GAAsB3R,CAAC,CAAC2R,GAAF,GAAM,KAAKC,OAAL,CAAaD,GAArD,CAA5O,EAAsS,YAAW3R,CAAX,KAAe,KAAKgQ,MAAL,CAAYiC,KAAZ,CAAkBN,GAAlB,GAAsB,KAAKe,iBAAL,CAAuBG,MAAvB,GAA8B7S,CAAC,CAAC8S,MAAhC,GAAuC,KAAKlB,OAAL,CAAaD,GAAzF,CAAtS;AAAoY,KAD09e;AACz9eG,IAAAA,gBAAgB,EAAC,4BAAU;AAAC,WAAKnB,YAAL,GAAkB,KAAKvC,MAAL,CAAYuC,YAAZ,EAAlB;AAA6C,UAAI3Q,CAAC,GAAC,KAAK2Q,YAAL,CAAkBX,MAAlB,EAAN;AAAiC,aAAM,eAAa,KAAKU,WAAlB,IAA+B,KAAK/N,YAAL,CAAkB,CAAlB,MAAuB,KAAKG,QAAL,CAAc,CAAd,CAAtD,IAAwElD,CAAC,CAACqT,QAAF,CAAW,KAAKtQ,YAAL,CAAkB,CAAlB,CAAX,EAAgC,KAAKgO,YAAL,CAAkB,CAAlB,CAAhC,CAAxE,KAAgI3Q,CAAC,CAAC6R,IAAF,IAAQ,KAAKlP,YAAL,CAAkBuQ,UAAlB,EAAR,EAAuClT,CAAC,CAAC2R,GAAF,IAAO,KAAKhP,YAAL,CAAkBwQ,SAAlB,EAA9K,GAA6M,CAAC,KAAKxC,YAAL,CAAkB,CAAlB,MAAuB,KAAK7N,QAAL,CAAc,CAAd,EAAiB2Q,IAAxC,IAA8C,KAAK9C,YAAL,CAAkB,CAAlB,EAAqBqC,OAArB,IAA8B,WAAS,KAAKrC,YAAL,CAAkB,CAAlB,EAAqBqC,OAArB,CAA6BzS,WAA7B,EAAvC,IAAmFX,CAAC,CAAC0B,EAAF,CAAKiD,EAAvI,MAA6IvE,CAAC,GAAC;AAAC2R,QAAAA,GAAG,EAAC,CAAL;AAAOE,QAAAA,IAAI,EAAC;AAAZ,OAA/I,CAA7M,EAA4W;AAACF,QAAAA,GAAG,EAAC3R,CAAC,CAAC2R,GAAF,IAAOtM,QAAQ,CAAC,KAAKsL,YAAL,CAAkBvP,GAAlB,CAAsB,gBAAtB,CAAD,EAAyC,EAAzC,CAAR,IAAsD,CAA7D,CAAL;AAAqEyQ,QAAAA,IAAI,EAAC7R,CAAC,CAAC6R,IAAF,IAAQxM,QAAQ,CAAC,KAAKsL,YAAL,CAAkBvP,GAAlB,CAAsB,iBAAtB,CAAD,EAA0C,EAA1C,CAAR,IAAuD,CAA/D;AAA1E,OAAlX;AAA+f,KADg3d;AAC/2d4Q,IAAAA,kBAAkB,EAAC,8BAAU;AAAC,UAAG,eAAa,KAAKtB,WAArB,EAAiC;AAAC,YAAI9Q,CAAC,GAAC,KAAKyU,WAAL,CAAiBrD,QAAjB,EAAN;AAAkC,eAAM;AAACW,UAAAA,GAAG,EAAC/R,CAAC,CAAC+R,GAAF,IAAOtM,QAAQ,CAAC,KAAK+I,MAAL,CAAYhN,GAAZ,CAAgB,KAAhB,CAAD,EAAwB,EAAxB,CAAR,IAAqC,CAA5C,IAA+C,KAAKuB,YAAL,CAAkBwQ,SAAlB,EAApD;AAAkFtB,UAAAA,IAAI,EAACjS,CAAC,CAACiS,IAAF,IAAQxM,QAAQ,CAAC,KAAK+I,MAAL,CAAYhN,GAAZ,CAAgB,MAAhB,CAAD,EAAyB,EAAzB,CAAR,IAAsC,CAA9C,IAAiD,KAAKuB,YAAL,CAAkBuQ,UAAlB;AAAxI,SAAN;AAA8K;;AAAA,aAAM;AAACvB,QAAAA,GAAG,EAAC,CAAL;AAAOE,QAAAA,IAAI,EAAC;AAAZ,OAAN;AAAqB,KAD0kd;AACzkdpB,IAAAA,aAAa,EAAC,yBAAU;AAAC,WAAKmB,OAAL,GAAa;AAACC,QAAAA,IAAI,EAACxM,QAAQ,CAAC,KAAKgP,WAAL,CAAiBjT,GAAjB,CAAqB,YAArB,CAAD,EAAoC,EAApC,CAAR,IAAiD,CAAvD;AAAyDuQ,QAAAA,GAAG,EAACtM,QAAQ,CAAC,KAAKgP,WAAL,CAAiBjT,GAAjB,CAAqB,WAArB,CAAD,EAAmC,EAAnC,CAAR,IAAgD;AAA7G,OAAb;AAA6H,KADm7c;AACl7ckP,IAAAA,uBAAuB,EAAC,mCAAU;AAAC,WAAKoC,iBAAL,GAAuB;AAACC,QAAAA,KAAK,EAAC,KAAKvE,MAAL,CAAY1K,UAAZ,EAAP;AAAgCmP,QAAAA,MAAM,EAAC,KAAKzE,MAAL,CAAYrK,WAAZ;AAAvC,OAAvB;AAAyF,KADszc;AACrzcsN,IAAAA,eAAe,EAAC,2BAAU;AAAC,UAAIrR,CAAJ;AAAA,UAAMW,CAAN;AAAA,UAAQV,CAAR;AAAA,UAAUC,CAAC,GAAC,KAAK2F,OAAjB;AAAyB,mBAAW3F,CAAC,CAAC6N,WAAb,KAA2B7N,CAAC,CAAC6N,WAAF,GAAc,KAAKK,MAAL,CAAY,CAAZ,EAAe5N,UAAxD,GAAoE,eAAaN,CAAC,CAAC6N,WAAf,IAA4B,aAAW7N,CAAC,CAAC6N,WAAzC,KAAuD,KAAKA,WAAL,GAAiB,CAAC,IAAE,KAAKiC,MAAL,CAAY+B,QAAZ,CAAqBF,IAAvB,GAA4B,KAAK7B,MAAL,CAAY1K,MAAZ,CAAmBuM,IAAhD,EAAqD,IAAE,KAAK7B,MAAL,CAAY+B,QAAZ,CAAqBJ,GAAvB,GAA2B,KAAK3B,MAAL,CAAY1K,MAAZ,CAAmBqM,GAAnG,EAAuG,eAAazR,CAAC,CAAC6N,WAAf,GAA2B,KAAKjL,QAAL,CAAc6P,KAAd,EAA3B,GAAiD,KAAKnK,MAAL,CAAYmK,KAAZ,KAAoB,KAAKD,iBAAL,CAAuBC,KAA3C,GAAiD,KAAKf,OAAL,CAAaC,IAAtN,EAA2N,CAAC,eAAa3R,CAAC,CAAC6N,WAAf,GAA2B,KAAKjL,QAAL,CAAc6P,KAAd,EAA3B,GAAiD,KAAKnK,MAAL,CAAYqK,MAAZ,MAAsB,KAAK/P,QAAL,CAAc,CAAd,EAAiB2Q,IAAjB,CAAsBjT,UAAtB,CAAiC+S,YAAzG,IAAuH,KAAKb,iBAAL,CAAuBG,MAA9I,GAAqJ,KAAKjB,OAAL,CAAaD,GAA7X,CAAxE,CAApE,EAA+gB,6BAA6B/Q,IAA7B,CAAkCV,CAAC,CAAC6N,WAApC,MAAmD/N,CAAC,GAACJ,CAAC,CAACM,CAAC,CAAC6N,WAAH,CAAD,CAAiB,CAAjB,CAAF,EAAsBpN,CAAC,GAACf,CAAC,CAACM,CAAC,CAAC6N,WAAH,CAAD,CAAiBiC,MAAjB,EAAxB,EAAkD/P,CAAC,GAAC,aAAWL,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,UAAT,CAA/D,EAAoF,KAAK2M,WAAL,GAAiB,CAACpN,CAAC,CAACkR,IAAF,IAAQxM,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,iBAAT,CAAD,EAA6B,EAA7B,CAAR,IAA0C,CAAlD,KAAsDiE,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,aAAT,CAAD,EAAyB,EAAzB,CAAR,IAAsC,CAA5F,IAA+F,KAAKwQ,OAAL,CAAaC,IAA7G,EAAkHlR,CAAC,CAACgR,GAAF,IAAOtM,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,gBAAT,CAAD,EAA4B,EAA5B,CAAR,IAAyC,CAAhD,KAAoDiE,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,YAAT,CAAD,EAAwB,EAAxB,CAAR,IAAqC,CAAzF,IAA4F,KAAKwQ,OAAL,CAAaD,GAA3N,EAA+NhR,CAAC,CAACkR,IAAF,IAAQ5R,CAAC,GAACoN,IAAI,CAACC,GAAL,CAAStN,CAAC,CAACqT,WAAX,EAAuBrT,CAAC,CAACsT,WAAzB,CAAD,GAAuCtT,CAAC,CAACsT,WAAlD,KAAgEjO,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,iBAAT,CAAD,EAA6B,EAA7B,CAAR,IAA0C,CAA1G,KAA8GiE,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,cAAT,CAAD,EAA0B,EAA1B,CAAR,IAAuC,CAArJ,IAAwJ,KAAKsR,iBAAL,CAAuBC,KAA/K,GAAqL,KAAKf,OAAL,CAAaC,IAAja,EAAsalR,CAAC,CAACgR,GAAF,IAAO1R,CAAC,GAACoN,IAAI,CAACC,GAAL,CAAStN,CAAC,CAACuT,YAAX,EAAwBvT,CAAC,CAACwT,YAA1B,CAAD,GAAyCxT,CAAC,CAACwT,YAAnD,KAAkEnO,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,gBAAT,CAAD,EAA4B,EAA5B,CAAR,IAAyC,CAA3G,KAA+GiE,QAAQ,CAACzF,CAAC,CAACI,CAAD,CAAD,CAAKoB,GAAL,CAAS,eAAT,CAAD,EAA2B,EAA3B,CAAR,IAAwC,CAAvJ,IAA0J,KAAKsR,iBAAL,CAAuBG,MAAjL,GAAwL,KAAKjB,OAAL,CAAaD,GAA3mB,CAAxJ,CAA/gB;AAAwxC,KADy+Z;AACx+ZO,IAAAA,kBAAkB,EAAC,4BAASlS,CAAT,EAAWW,CAAX,EAAa;AAACA,MAAAA,CAAC,KAAGA,CAAC,GAAC,KAAKqQ,QAAV,CAAD;AAAqB,UAAI/Q,CAAC,GAAC,eAAaD,CAAb,GAAe,CAAf,GAAiB,CAAC,CAAxB;AAAA,UAA0BE,CAAC,GAAC,eAAa,KAAKwQ,WAAlB,IAA+B,KAAK/N,YAAL,CAAkB,CAAlB,MAAuB,KAAKG,QAAL,CAAc,CAAd,CAAvB,IAAyClD,CAAC,CAACqT,QAAF,CAAW,KAAKtQ,YAAL,CAAkB,CAAlB,CAAX,EAAgC,KAAKgO,YAAL,CAAkB,CAAlB,CAAhC,CAAxE,GAA8H,KAAKhO,YAAnI,GAAgJ,KAAKgO,YAAjL;AAAA,UAA8LxQ,CAAC,GAAC,eAAeS,IAAf,CAAoBV,CAAC,CAAC,CAAD,CAAD,CAAK8S,OAAzB,CAAhM;AAAkO,aAAM;AAACrB,QAAAA,GAAG,EAAChR,CAAC,CAACgR,GAAF,GAAM,KAAK3B,MAAL,CAAY+B,QAAZ,CAAqBJ,GAArB,GAAyB1R,CAA/B,GAAiC,KAAK+P,MAAL,CAAY1K,MAAZ,CAAmBqM,GAAnB,GAAuB1R,CAAxD,GAA0D,CAAC,YAAU,KAAKyQ,WAAf,GAA2B,CAAC,KAAK/N,YAAL,CAAkBwQ,SAAlB,EAA5B,GAA0DhT,CAAC,GAAC,CAAD,GAAGD,CAAC,CAACiT,SAAF,EAA/D,IAA8ElT,CAA7I;AAA+I4R,QAAAA,IAAI,EAAClR,CAAC,CAACkR,IAAF,GAAO,KAAK7B,MAAL,CAAY+B,QAAZ,CAAqBF,IAArB,GAA0B5R,CAAjC,GAAmC,KAAK+P,MAAL,CAAY1K,MAAZ,CAAmBuM,IAAnB,GAAwB5R,CAA3D,GAA6D,CAAC,YAAU,KAAKyQ,WAAf,GAA2B,CAAC,KAAK/N,YAAL,CAAkBuQ,UAAlB,EAA5B,GAA2D/S,CAAC,GAAC,CAAD,GAAGD,CAAC,CAACgT,UAAF,EAAhE,IAAgFjT;AAAjS,OAAN;AAA0S,KADs6Y;AACr6YgR,IAAAA,iBAAiB,EAAC,2BAASjR,CAAT,EAAW;AAAC,UAAIW,CAAJ;AAAA,UAAMV,CAAN;AAAA,UAAQC,CAAC,GAAC,KAAK2F,OAAf;AAAA,UAAuB1F,CAAC,GAACH,CAAC,CAACwN,KAA3B;AAAA,UAAiCpN,CAAC,GAACJ,CAAC,CAACyN,KAArC;AAAA,UAA2CpN,CAAC,GAAC,eAAa,KAAKqQ,WAAlB,IAA+B,KAAK/N,YAAL,CAAkB,CAAlB,MAAuB,KAAKG,QAAL,CAAc,CAAd,CAAvB,IAAyClD,CAAC,CAACqT,QAAF,CAAW,KAAKtQ,YAAL,CAAkB,CAAlB,CAAX,EAAgC,KAAKgO,YAAL,CAAkB,CAAlB,CAAhC,CAAxE,GAA8H,KAAKhO,YAAnI,GAAgJ,KAAKgO,YAAlM;AAAA,UAA+M7K,CAAC,GAAC,eAAelF,IAAf,CAAoBP,CAAC,CAAC,CAAD,CAAD,CAAK2S,OAAzB,CAAjN;AAAmP,aAAM,eAAa,KAAKtC,WAAlB,IAA+B,KAAK/N,YAAL,CAAkB,CAAlB,MAAuB,KAAKG,QAAL,CAAc,CAAd,CAAvB,IAAyC,KAAKH,YAAL,CAAkB,CAAlB,MAAuB,KAAKgO,YAAL,CAAkB,CAAlB,CAA/F,KAAsH,KAAKX,MAAL,CAAY+B,QAAZ,GAAqB,KAAKC,kBAAL,EAA3I,GAAsK,KAAKjB,gBAAL,KAAwB,KAAKhD,WAAL,KAAmB/N,CAAC,CAACwN,KAAF,GAAQ,KAAKwC,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA1B,GAA+B,KAAK9D,WAAL,CAAiB,CAAjB,CAA/B,KAAqD5N,CAAC,GAAC,KAAK4N,WAAL,CAAiB,CAAjB,IAAoB,KAAKiC,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA7F,GAAmG7R,CAAC,CAACyN,KAAF,GAAQ,KAAKuC,MAAL,CAAYiC,KAAZ,CAAkBN,GAA1B,GAA8B,KAAK5D,WAAL,CAAiB,CAAjB,CAA9B,KAAoD3N,CAAC,GAAC,KAAK2N,WAAL,CAAiB,CAAjB,IAAoB,KAAKiC,MAAL,CAAYiC,KAAZ,CAAkBN,GAA5F,CAAnG,EAAoM3R,CAAC,CAACwN,KAAF,GAAQ,KAAKwC,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA1B,GAA+B,KAAK9D,WAAL,CAAiB,CAAjB,CAA/B,KAAqD5N,CAAC,GAAC,KAAK4N,WAAL,CAAiB,CAAjB,IAAoB,KAAKiC,MAAL,CAAYiC,KAAZ,CAAkBJ,IAA7F,CAApM,EAAuS7R,CAAC,CAACyN,KAAF,GAAQ,KAAKuC,MAAL,CAAYiC,KAAZ,CAAkBN,GAA1B,GAA8B,KAAK5D,WAAL,CAAiB,CAAjB,CAA9B,KAAoD3N,CAAC,GAAC,KAAK2N,WAAL,CAAiB,CAAjB,IAAoB,KAAKiC,MAAL,CAAYiC,KAAZ,CAAkBN,GAA5F,CAA1T,GAA4ZzR,CAAC,CAACgO,IAAF,KAASvN,CAAC,GAAC,KAAKwQ,aAAL,GAAmB9D,IAAI,CAACqG,KAAL,CAAW,CAACtT,CAAC,GAAC,KAAK+Q,aAAR,IAAuBjR,CAAC,CAACgO,IAAF,CAAO,CAAP,CAAlC,IAA6ChO,CAAC,CAACgO,IAAF,CAAO,CAAP,CAAlE,EAA4E9N,CAAC,GAAC,KAAK2N,WAAL,GAAiBpN,CAAC,GAAC,KAAKqP,MAAL,CAAYiC,KAAZ,CAAkBN,GAApB,IAAyB,KAAK5D,WAAL,CAAiB,CAAjB,CAAzB,IAA8CpN,CAAC,GAAC,KAAKqP,MAAL,CAAYiC,KAAZ,CAAkBN,GAApB,IAAyB,KAAK5D,WAAL,CAAiB,CAAjB,CAAvE,GAA2FpN,CAA3F,GAA6FA,CAAC,GAAC,KAAKqP,MAAL,CAAYiC,KAAZ,CAAkBN,GAApB,IAAyB,KAAK5D,WAAL,CAAiB,CAAjB,CAAzB,GAA6CpN,CAAC,GAACT,CAAC,CAACgO,IAAF,CAAO,CAAP,CAA/C,GAAyDvN,CAAC,GAACT,CAAC,CAACgO,IAAF,CAAO,CAAP,CAAzK,GAAmLvN,CAAjQ,EAAmQV,CAAC,GAAC,KAAKiR,aAAL,GAAmB7D,IAAI,CAACqG,KAAL,CAAW,CAACvT,CAAC,GAAC,KAAK+Q,aAAR,IAAuBhR,CAAC,CAACgO,IAAF,CAAO,CAAP,CAAlC,IAA6ChO,CAAC,CAACgO,IAAF,CAAO,CAAP,CAArU,EAA+U/N,CAAC,GAAC,KAAK4N,WAAL,GAAiB9N,CAAC,GAAC,KAAK+P,MAAL,CAAYiC,KAAZ,CAAkBJ,IAApB,IAA0B,KAAK9D,WAAL,CAAiB,CAAjB,CAA1B,IAA+C9N,CAAC,GAAC,KAAK+P,MAAL,CAAYiC,KAAZ,CAAkBJ,IAApB,IAA0B,KAAK9D,WAAL,CAAiB,CAAjB,CAAzE,GAA6F9N,CAA7F,GAA+FA,CAAC,GAAC,KAAK+P,MAAL,CAAYiC,KAAZ,CAAkBJ,IAApB,IAA0B,KAAK9D,WAAL,CAAiB,CAAjB,CAA1B,GAA8C9N,CAAC,GAACC,CAAC,CAACgO,IAAF,CAAO,CAAP,CAAhD,GAA0DjO,CAAC,GAACC,CAAC,CAACgO,IAAF,CAAO,CAAP,CAA5K,GAAsLjO,CAAhhB,CAApb,CAAtK,EAA8mC;AAAC0R,QAAAA,GAAG,EAACvR,CAAC,GAAC,KAAK4P,MAAL,CAAYiC,KAAZ,CAAkBN,GAApB,GAAwB,KAAK3B,MAAL,CAAY+B,QAAZ,CAAqBJ,GAA7C,GAAiD,KAAK3B,MAAL,CAAY1K,MAAZ,CAAmBqM,GAApE,IAAyE,YAAU,KAAKjB,WAAf,GAA2B,CAAC,KAAK/N,YAAL,CAAkBwQ,SAAlB,EAA5B,GAA0DrN,CAAC,GAAC,CAAD,GAAGzF,CAAC,CAAC8S,SAAF,EAAvI,CAAL;AAA2JtB,QAAAA,IAAI,EAAC1R,CAAC,GAAC,KAAK6P,MAAL,CAAYiC,KAAZ,CAAkBJ,IAApB,GAAyB,KAAK7B,MAAL,CAAY+B,QAAZ,CAAqBF,IAA9C,GAAmD,KAAK7B,MAAL,CAAY1K,MAAZ,CAAmBuM,IAAtE,IAA4E,YAAU,KAAKnB,WAAf,GAA2B,CAAC,KAAK/N,YAAL,CAAkBuQ,UAAlB,EAA5B,GAA2DpN,CAAC,GAAC,CAAD,GAAGzF,CAAC,CAAC6S,UAAF,EAA3I;AAAhK,OAApnC;AAAg7C,KADouV;AACnuVgL,IAAAA,UAAU,EAAC,oBAASte,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAACU,MAAAA,CAAC,GAACA,CAAC,CAAC,CAAD,CAAD,CAAK2e,WAAL,CAAiB,KAAKrL,WAAL,CAAiB,CAAjB,CAAjB,CAAD,GAAuCjU,CAAC,CAAC4T,IAAF,CAAO,CAAP,EAAUpT,UAAV,CAAqB+e,YAArB,CAAkC,KAAKtL,WAAL,CAAiB,CAAjB,CAAlC,EAAsD,WAAS,KAAK+J,SAAd,GAAwBhe,CAAC,CAAC4T,IAAF,CAAO,CAAP,CAAxB,GAAkC5T,CAAC,CAAC4T,IAAF,CAAO,CAAP,EAAU4L,WAAlG,CAAxC,EAAuJ,KAAKC,OAAL,GAAa,KAAKA,OAAL,GAAa,EAAE,KAAKA,OAApB,GAA4B,CAAhM;AAAkM,UAAIvf,CAAC,GAAC,KAAKuf,OAAX;;AAAmB,WAAKvV,MAAL,CAAY,YAAU;AAAChK,QAAAA,CAAC,KAAG,KAAKuf,OAAT,IAAkB,KAAKlR,gBAAL,CAAsB,CAACtO,CAAvB,CAAlB;AAA4C,OAAnE;AAAqE,KAD46U;AAC36UqR,IAAAA,MAAM,EAAC,gBAAS1R,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,CAAWf,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,eAAO,UAASV,CAAT,EAAW;AAACU,UAAAA,CAAC,CAACkI,QAAF,CAAWjJ,CAAX,EAAaK,CAAb,EAAeD,CAAC,CAACmS,OAAF,CAAUnS,CAAV,CAAf;AAA6B,SAAhD;AAAiD;;AAAA,WAAKgd,SAAL,GAAe,CAAC,CAAhB;AAAkB,UAAI/c,CAAJ;AAAA,UAAMC,CAAC,GAAC,EAAR;;AAAW,UAAG,CAAC,KAAKke,YAAN,IAAoB,KAAK/J,WAAL,CAAiB/O,MAAjB,GAA0BjE,MAA9C,IAAsD,KAAK4S,WAAL,CAAiByL,MAAjB,CAAwB,KAAKrL,WAA7B,CAAtD,EAAgG,KAAK+J,YAAL,GAAkB,IAAlH,EAAuH,KAAKhQ,MAAL,CAAY,CAAZ,MAAiB,KAAKiG,WAAL,CAAiB,CAAjB,CAA3I,EAA+J;AAAC,aAAIpU,CAAJ,IAAS,KAAK+T,UAAd;AAAyB,qBAAS,KAAKA,UAAL,CAAgB/T,CAAhB,CAAT,IAA6B,aAAW,KAAK+T,UAAL,CAAgB/T,CAAhB,CAAxC,KAA6D,KAAK+T,UAAL,CAAgB/T,CAAhB,IAAmB,EAAhF;AAAzB;;AAA6G,aAAKoU,WAAL,CAAiBjT,GAAjB,CAAqB,KAAK4S,UAA1B,EAAsC/K,WAAtC,CAAkD,oBAAlD;AAAwE,OAArV,MAA0V,KAAKoL,WAAL,CAAiBrJ,IAAjB;;AAAwB,WAAI,KAAKsJ,WAAL,IAAkB,CAACtU,CAAnB,IAAsBE,CAAC,CAACwF,IAAF,CAAO,UAAS9F,CAAT,EAAW;AAAC,aAAKiJ,QAAL,CAAc,SAAd,EAAwBjJ,CAAxB,EAA0B,KAAKuS,OAAL,CAAa,KAAKmC,WAAlB,CAA1B;AAA0D,OAA7E,CAAtB,EAAqG,CAAC,KAAKA,WAAN,IAAmB,KAAK8I,WAAL,CAAiBC,IAAjB,KAAwB,KAAKhJ,WAAL,CAAiBgJ,IAAjB,GAAwBpT,GAAxB,CAA4B,qBAA5B,EAAmD,CAAnD,CAA3C,IAAkG,KAAKmT,WAAL,CAAiB9X,MAAjB,KAA0B,KAAK+O,WAAL,CAAiB/O,MAAjB,GAA0B,CAA1B,CAA5H,IAA0JtF,CAA1J,IAA6JE,CAAC,CAACwF,IAAF,CAAO,UAAS9F,CAAT,EAAW;AAAC,aAAKiJ,QAAL,CAAc,QAAd,EAAuBjJ,CAAvB,EAAyB,KAAKuS,OAAL,EAAzB;AAAyC,OAA5D,CAAlQ,EAAgU,SAAO,KAAKgL,gBAAZ,KAA+Bnd,CAAC,KAAGE,CAAC,CAACwF,IAAF,CAAO,UAAS9F,CAAT,EAAW;AAAC,aAAKiJ,QAAL,CAAc,QAAd,EAAuBjJ,CAAvB,EAAyB,KAAKuS,OAAL,EAAzB;AAAyC,OAA5D,GAA8DjS,CAAC,CAACwF,IAAF,CAAO,UAAS9F,CAAT,EAAW;AAAC,eAAO,UAASI,CAAT,EAAW;AAACJ,UAAAA,CAAC,CAACiJ,QAAF,CAAW,SAAX,EAAqB7I,CAArB,EAAuB,KAAKmS,OAAL,CAAa,IAAb,CAAvB;AAA2C,SAA9D;AAA+D,OAA3E,CAA4ElO,IAA5E,CAAiF,IAAjF,EAAsF,KAAKkZ,gBAA3F,CAAP,CAA9D,EAAmLjd,CAAC,CAACwF,IAAF,CAAO,UAAS9F,CAAT,EAAW;AAAC,eAAO,UAASI,CAAT,EAAW;AAACJ,UAAAA,CAAC,CAACiJ,QAAF,CAAW,QAAX,EAAoB7I,CAApB,EAAsB,KAAKmS,OAAL,CAAa,IAAb,CAAtB;AAA0C,SAA7D;AAA8D,OAA1E,CAA2ElO,IAA3E,CAAgF,IAAhF,EAAqF,KAAKkZ,gBAA1F,CAAP,CAAtL,CAAhC,CAAhU,EAA4oBld,CAAC,GAAC,KAAK2d,UAAL,CAAgBvc,MAAhB,GAAuB,CAAzqB,EAA2qBpB,CAAC,IAAE,CAA9qB,EAAgrBA,CAAC,EAAjrB;AAAorBD,QAAAA,CAAC,IAAEE,CAAC,CAACwF,IAAF,CAAO/E,CAAC,CAAC,YAAD,EAAc,IAAd,EAAmB,KAAKid,UAAL,CAAgB3d,CAAhB,CAAnB,CAAR,CAAH,EAAmD,KAAK2d,UAAL,CAAgB3d,CAAhB,EAAmBmU,cAAnB,CAAkCmC,IAAlC,KAAyCrW,CAAC,CAACwF,IAAF,CAAO/E,CAAC,CAAC,KAAD,EAAO,IAAP,EAAY,KAAKid,UAAL,CAAgB3d,CAAhB,CAAZ,CAAR,GAAyC,KAAK2d,UAAL,CAAgB3d,CAAhB,EAAmBmU,cAAnB,CAAkCmC,IAAlC,GAAuC,CAAzH,CAAnD;AAAprB;;AAAm2B,UAAG,KAAKgH,YAAL,KAAoB,KAAKza,QAAL,CAAcgN,IAAd,CAAmB,MAAnB,EAA2B1O,GAA3B,CAA+B,QAA/B,EAAwC,KAAKmc,YAA7C,GAA2D,KAAKC,gBAAL,CAAsBrX,MAAtB,EAA/E,GAA+G,KAAKsX,cAAL,IAAqB,KAAKrP,MAAL,CAAYhN,GAAZ,CAAgB,SAAhB,EAA0B,KAAKqc,cAA/B,CAApI,EAAmL,KAAKC,aAAL,IAAoB,KAAKtP,MAAL,CAAYhN,GAAZ,CAAgB,QAAhB,EAAyB,WAAS,KAAKsc,aAAd,GAA4B,EAA5B,GAA+B,KAAKA,aAA7D,CAAvM,EAAmR,KAAKG,QAAL,GAAc,CAAC,CAAlS,EAAoS7d,CAAC,IAAE,KAAK6I,QAAL,CAAc,YAAd,EAA2BjJ,CAA3B,EAA6B,KAAKuS,OAAL,EAA7B,CAAvS,EAAoV,KAAK8B,WAAL,CAAiB,CAAjB,EAAoBzT,UAApB,CAA+Byb,WAA/B,CAA2C,KAAKhI,WAAL,CAAiB,CAAjB,CAA3C,CAApV,EAAoZ,KAAKN,mBAAL,KAA2B,KAAKvF,MAAL,CAAY,CAAZ,MAAiB,KAAKiG,WAAL,CAAiB,CAAjB,CAAjB,IAAsC,KAAKjG,MAAL,CAAYjI,MAAZ,EAAtC,EAA2D,KAAKiI,MAAL,GAAY,IAAlG,CAApZ,EAA4f,CAACpO,CAAhgB,EAAkgB;AAAC,aAAIC,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACC,CAAC,CAACmB,MAAZ,EAAmBpB,CAAC,EAApB;AAAuBC,UAAAA,CAAC,CAACD,CAAD,CAAD,CAAKgE,IAAL,CAAU,IAAV,EAAerE,CAAf;AAAvB;;AAAyC,aAAKiJ,QAAL,CAAc,MAAd,EAAqBjJ,CAArB,EAAuB,KAAKuS,OAAL,EAAvB;AAAuC;;AAAA,aAAO,KAAKmC,WAAL,GAAiB,CAAC,CAAlB,EAAoB,CAAC,KAAKX,mBAAjC;AAAqD,KADy9Q;AACx9Q9K,IAAAA,QAAQ,EAAC,oBAAU;AAAC,OAAC,CAAD,KAAKjJ,CAAC,CAAC4G,MAAF,CAAShB,SAAT,CAAmBqD,QAAnB,CAA4BhE,KAA5B,CAAkC,IAAlC,EAAuCR,SAAvC,CAAL,IAAwD,KAAKsH,MAAL,EAAxD;AAAsE,KAD83Q;AAC73QwG,IAAAA,OAAO,EAAC,iBAASnS,CAAT,EAAW;AAAC,UAAIW,CAAC,GAACX,CAAC,IAAE,IAAT;AAAc,aAAM;AAACoO,QAAAA,MAAM,EAACzN,CAAC,CAACyN,MAAV;AAAiB6F,QAAAA,WAAW,EAACtT,CAAC,CAACsT,WAAF,IAAerU,CAAC,CAAC,EAAD,CAA7C;AAAkDoR,QAAAA,QAAQ,EAACrQ,CAAC,CAACqQ,QAA7D;AAAsED,QAAAA,gBAAgB,EAACpQ,CAAC,CAACoQ,gBAAzF;AAA0Gf,QAAAA,MAAM,EAACrP,CAAC,CAACkQ,WAAnH;AAA+H+C,QAAAA,IAAI,EAACjT,CAAC,CAAC0T,WAAtI;AAAkJsL,QAAAA,MAAM,EAAC3f,CAAC,GAACA,CAAC,CAAC2F,OAAH,GAAW;AAArK,OAAN;AAAiL;AAD0qQ,GAAlC,CAAf;AAEtujB;;;;;;;;;;AASI,CAzEH,CAAD;AA0EA;;;;;;AAMA,YAAU;AAAC;;AAAa,WAAS/F,CAAT,GAAY,CAAE;;AAAA,WAASI,CAAT,CAAWJ,CAAX,EAAaI,CAAb,EAAe;AAAC,SAAI,IAAIW,CAAC,GAACf,CAAC,CAACyB,MAAZ,EAAmBV,CAAC,EAApB;AAAwB,UAAGf,CAAC,CAACe,CAAD,CAAD,CAAKif,QAAL,KAAgB5f,CAAnB,EAAqB,OAAOW,CAAP;AAA7C;;AAAsD,WAAM,CAAC,CAAP;AAAS;;AAAA,WAASA,CAAT,CAAWf,CAAX,EAAa;AAAC,WAAO,YAAU;AAAC,aAAO,KAAKA,CAAL,EAAQiF,KAAR,CAAc,IAAd,EAAmBR,SAAnB,CAAP;AAAqC,KAAvD;AAAwD;;AAAA,MAAIpE,CAAC,GAACL,CAAC,CAAC4F,SAAR;AAAA,MAAkBtF,CAAC,GAAC,IAApB;AAAA,MAAyBC,CAAC,GAACD,CAAC,CAAC2f,YAA7B;AAA0C5f,EAAAA,CAAC,CAAC6f,YAAF,GAAe,UAASlgB,CAAT,EAAW;AAAC,QAAII,CAAJ;AAAA,QAAMW,CAAN;AAAA,QAAQV,CAAC,GAAC,KAAK8f,UAAL,EAAV;;AAA4B,QAAGngB,CAAC,YAAYogB,MAAhB,EAAuB,KAAIrf,CAAJ,IAASX,CAAC,GAAC,EAAF,EAAKC,CAAd;AAAgBA,MAAAA,CAAC,CAACoH,cAAF,CAAiB1G,CAAjB,KAAqBf,CAAC,CAACgB,IAAF,CAAOD,CAAP,CAArB,KAAiCX,CAAC,CAACW,CAAD,CAAD,GAAKV,CAAC,CAACU,CAAD,CAAvC;AAAhB,KAAvB,MAAwFX,CAAC,GAACC,CAAC,CAACL,CAAD,CAAD,KAAOK,CAAC,CAACL,CAAD,CAAD,GAAK,EAAZ,CAAF;AAAkB,WAAOI,CAAP;AAAS,GAA1K,EAA2KC,CAAC,CAACggB,gBAAF,GAAmB,UAASrgB,CAAT,EAAW;AAAC,QAAII,CAAJ;AAAA,QAAMW,CAAC,GAAC,EAAR;;AAAW,SAAIX,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACJ,CAAC,CAACyB,MAAZ,EAAmBrB,CAAC,IAAE,CAAtB;AAAwBW,MAAAA,CAAC,CAAC+E,IAAF,CAAO9F,CAAC,CAACI,CAAD,CAAD,CAAK4f,QAAZ;AAAxB;;AAA8C,WAAOjf,CAAP;AAAS,GAA5Q,EAA6QV,CAAC,CAACigB,oBAAF,GAAuB,UAAStgB,CAAT,EAAW;AAAC,QAAII,CAAJ;AAAA,QAAMW,CAAC,GAAC,KAAKmf,YAAL,CAAkBlgB,CAAlB,CAAR;AAA6B,WAAOe,CAAC,YAAYoF,KAAb,KAAqB,CAAC/F,CAAC,GAAC,EAAH,EAAOJ,CAAP,IAAUe,CAA/B,GAAkCX,CAAC,IAAEW,CAA5C;AAA8C,GAA3X,EAA4XV,CAAC,CAACkgB,WAAF,GAAc,UAASvgB,CAAT,EAAWe,CAAX,EAAa;AAAC,QAAIV,CAAJ;AAAA,QAAMC,CAAC,GAAC,KAAKggB,oBAAL,CAA0BtgB,CAA1B,CAAR;AAAA,QAAqCO,CAAC,GAAC,oBAAiBQ,CAAjB,CAAvC;;AAA0D,SAAIV,CAAJ,IAASC,CAAT;AAAWA,MAAAA,CAAC,CAACmH,cAAF,CAAiBpH,CAAjB,KAAqB,CAAC,CAAD,KAAKD,CAAC,CAACE,CAAC,CAACD,CAAD,CAAF,EAAMU,CAAN,CAA3B,IAAqCT,CAAC,CAACD,CAAD,CAAD,CAAKyF,IAAL,CAAUvF,CAAC,GAACQ,CAAD,GAAG;AAACif,QAAAA,QAAQ,EAACjf,CAAV;AAAYyf,QAAAA,IAAI,EAAC,CAAC;AAAlB,OAAd,CAArC;AAAX;;AAAoF,WAAO,IAAP;AAAY,GAAljB,EAAmjBngB,CAAC,CAACogB,EAAF,GAAK1f,CAAC,CAAC,aAAD,CAAzjB,EAAykBV,CAAC,CAACqgB,eAAF,GAAkB,UAAS1gB,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAO,KAAKmgB,WAAL,CAAiBvgB,CAAjB,EAAmB;AAACggB,MAAAA,QAAQ,EAAC5f,CAAV;AAAYogB,MAAAA,IAAI,EAAC,CAAC;AAAlB,KAAnB,CAAP;AAAgD,GAAzpB,EAA0pBngB,CAAC,CAACmgB,IAAF,GAAOzf,CAAC,CAAC,iBAAD,CAAlqB,EAAsrBV,CAAC,CAACsgB,WAAF,GAAc,UAAS3gB,CAAT,EAAW;AAAC,WAAO,KAAKkgB,YAAL,CAAkBlgB,CAAlB,GAAqB,IAA5B;AAAiC,GAAjvB,EAAkvBK,CAAC,CAACugB,YAAF,GAAe,UAAS5gB,CAAT,EAAW;AAAC,SAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,CAAC,CAACyB,MAAhB,EAAuBrB,CAAC,IAAE,CAA1B;AAA4B,WAAKugB,WAAL,CAAiB3gB,CAAC,CAACI,CAAD,CAAlB;AAA5B;;AAAmD,WAAO,IAAP;AAAY,GAA50B,EAA60BC,CAAC,CAACwgB,cAAF,GAAiB,UAAS7gB,CAAT,EAAWe,CAAX,EAAa;AAAC,QAAIV,CAAJ;AAAA,QAAMC,CAAN;AAAA,QAAQC,CAAC,GAAC,KAAK+f,oBAAL,CAA0BtgB,CAA1B,CAAV;;AAAuC,SAAIM,CAAJ,IAASC,CAAT;AAAWA,MAAAA,CAAC,CAACkH,cAAF,CAAiBnH,CAAjB,KAAqB,CAAC,CAAD,MAAMD,CAAC,GAACD,CAAC,CAACG,CAAC,CAACD,CAAD,CAAF,EAAMS,CAAN,CAAT,CAArB,IAAyCR,CAAC,CAACD,CAAD,CAAD,CAAK4W,MAAL,CAAY7W,CAAZ,EAAc,CAAd,CAAzC;AAAX;;AAAqE,WAAO,IAAP;AAAY,GAAp+B,EAAq+BA,CAAC,CAACygB,GAAF,GAAM/f,CAAC,CAAC,gBAAD,CAA5+B,EAA+/BV,CAAC,CAAC0gB,YAAF,GAAe,UAAS/gB,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAO,KAAK4gB,mBAAL,CAAyB,CAAC,CAA1B,EAA4BhhB,CAA5B,EAA8BI,CAA9B,CAAP;AAAwC,GAApkC,EAAqkCC,CAAC,CAAC4gB,eAAF,GAAkB,UAASjhB,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAO,KAAK4gB,mBAAL,CAAyB,CAAC,CAA1B,EAA4BhhB,CAA5B,EAA8BI,CAA9B,CAAP;AAAwC,GAA7oC,EAA8oCC,CAAC,CAAC2gB,mBAAF,GAAsB,UAAShhB,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,QAAIV,CAAJ;AAAA,QAAMC,CAAN;AAAA,QAAQC,CAAC,GAACP,CAAC,GAAC,KAAK6gB,cAAN,GAAqB,KAAKN,WAArC;AAAA,QAAiD/f,CAAC,GAACR,CAAC,GAAC,KAAKihB,eAAN,GAAsB,KAAKF,YAA/E;AAA4F,QAAG,oBAAiB3gB,CAAjB,KAAoBA,CAAC,YAAYggB,MAApC,EAA2C,KAAI/f,CAAC,GAACU,CAAC,CAACU,MAAR,EAAepB,CAAC,EAAhB;AAAoBE,MAAAA,CAAC,CAAC8D,IAAF,CAAO,IAAP,EAAYjE,CAAZ,EAAcW,CAAC,CAACV,CAAD,CAAf;AAApB,KAA3C,MAAwF,KAAIA,CAAJ,IAASD,CAAT;AAAWA,MAAAA,CAAC,CAACqH,cAAF,CAAiBpH,CAAjB,MAAsBC,CAAC,GAACF,CAAC,CAACC,CAAD,CAAzB,MAAgC,cAAY,OAAOC,CAAnB,GAAqBC,CAAC,CAAC8D,IAAF,CAAO,IAAP,EAAYhE,CAAZ,EAAcC,CAAd,CAArB,GAAsCE,CAAC,CAAC6D,IAAF,CAAO,IAAP,EAAYhE,CAAZ,EAAcC,CAAd,CAAtE;AAAX;AAAmG,WAAO,IAAP;AAAY,GAAv9C,EAAw9CD,CAAC,CAAC6gB,WAAF,GAAc,UAASlhB,CAAT,EAAW;AAAC,QAAII,CAAJ;AAAA,QAAMW,CAAC,WAAQf,CAAR,CAAP;AAAA,QAAiBK,CAAC,GAAC,KAAK8f,UAAL,EAAnB;;AAAqC,QAAG,aAAWpf,CAAd,EAAgB,OAAOV,CAAC,CAACL,CAAD,CAAR,CAAhB,KAAiC,IAAGA,CAAC,YAAYogB,MAAhB,EAAuB,KAAIhgB,CAAJ,IAASC,CAAT;AAAWA,MAAAA,CAAC,CAACoH,cAAF,CAAiBrH,CAAjB,KAAqBJ,CAAC,CAACgB,IAAF,CAAOZ,CAAP,CAArB,IAAgC,OAAOC,CAAC,CAACD,CAAD,CAAxC;AAAX,KAAvB,MAAmF,OAAO,KAAK+gB,OAAZ;AAAoB,WAAO,IAAP;AAAY,GAA3qD,EAA4qD9gB,CAAC,CAAC+gB,kBAAF,GAAqBrgB,CAAC,CAAC,aAAD,CAAlsD,EAAktDV,CAAC,CAACghB,SAAF,GAAY,UAASrhB,CAAT,EAAWI,CAAX,EAAa;AAAC,QAAIW,CAAJ;AAAA,QAAMV,CAAN;AAAA,QAAQC,CAAR;AAAA,QAAUC,CAAC,GAAC,KAAK+f,oBAAL,CAA0BtgB,CAA1B,CAAZ;;AAAyC,SAAIM,CAAJ,IAASC,CAAT;AAAW,UAAGA,CAAC,CAACkH,cAAF,CAAiBnH,CAAjB,CAAH,EAAuB,KAAID,CAAC,GAACE,CAAC,CAACD,CAAD,CAAD,CAAKmB,MAAX,EAAkBpB,CAAC,EAAnB;AAAuB,SAAC,CAAD,KAAK,CAACU,CAAC,GAACR,CAAC,CAACD,CAAD,CAAD,CAAKD,CAAL,CAAH,EAAYmgB,IAAjB,IAAuB,KAAKK,cAAL,CAAoB7gB,CAApB,EAAsBe,CAAC,CAACif,QAAxB,CAAvB,EAAyDjf,CAAC,CAACif,QAAF,CAAW/a,KAAX,CAAiB,IAAjB,EAAsB7E,CAAC,IAAE,EAAzB,MAA+B,KAAKkhB,mBAAL,EAA/B,IAA2D,KAAKT,cAAL,CAAoB7gB,CAApB,EAAsBe,CAAC,CAACif,QAAxB,CAApH;AAAvB;AAAlC;;AAA+M,WAAO,IAAP;AAAY,GAAh/D,EAAi/D3f,CAAC,CAAC6K,OAAF,GAAUnK,CAAC,CAAC,WAAD,CAA5/D,EAA0gEV,CAAC,CAACkhB,IAAF,GAAO,UAASvhB,CAAT,EAAW;AAAC,QAAII,CAAC,GAAC+F,KAAK,CAACP,SAAN,CAAgBQ,KAAhB,CAAsB/B,IAAtB,CAA2BI,SAA3B,EAAqC,CAArC,CAAN;AAA8C,WAAO,KAAK4c,SAAL,CAAerhB,CAAf,EAAiBI,CAAjB,CAAP;AAA2B,GAAtmE,EAAumEC,CAAC,CAACmhB,kBAAF,GAAqB,UAASxhB,CAAT,EAAW;AAAC,WAAO,KAAKyhB,gBAAL,GAAsBzhB,CAAtB,EAAwB,IAA/B;AAAoC,GAA5qE,EAA6qEK,CAAC,CAACihB,mBAAF,GAAsB,YAAU;AAAC,WAAM,CAAC,KAAK7Z,cAAL,CAAoB,kBAApB,CAAD,IAA0C,KAAKga,gBAArD;AAAsE,GAApxE,EAAqxEphB,CAAC,CAAC8f,UAAF,GAAa,YAAU;AAAC,WAAO,KAAKgB,OAAL,KAAe,KAAKA,OAAL,GAAa,EAA5B,CAAP;AAAuC,GAAp1E,EAAq1EnhB,CAAC,CAAC0hB,UAAF,GAAa,YAAU;AAAC,WAAOphB,CAAC,CAAC2f,YAAF,GAAe1f,CAAf,EAAiBP,CAAxB;AAA0B,GAAv4E,EAAw4E,cAAY,OAAOC,MAAnB,IAA2BA,MAAM,CAACC,GAAlC,GAAsCD,MAAM,CAAC,YAAU;AAAC,WAAOD,CAAP;AAAS,GAArB,CAA5C,GAAmE,oBAAiB2hB,MAAjB,yCAAiBA,MAAjB,MAAyBA,MAAM,CAACC,OAAhC,GAAwCD,MAAM,CAACC,OAAP,GAAe5hB,CAAvD,GAAyDM,CAAC,CAAC2f,YAAF,GAAejgB,CAAnhF;AAAqhF,CAA1vF,CAA2vFqE,IAA3vF,CAAgwF,IAAhwF,CAhFA;AAiFA;;;;;;;AAOA,UAASrE,CAAT,EAAW;AAAC;;AAAa,WAASI,CAAT,CAAWA,CAAX,EAAa;AAAC,QAAIW,CAAC,GAACf,CAAC,CAAC6hB,KAAR;AAAc,WAAO9gB,CAAC,CAAC0H,MAAF,GAAS1H,CAAC,CAAC0H,MAAF,IAAU1H,CAAC,CAAC+gB,UAAZ,IAAwB1hB,CAAjC,EAAmCW,CAA1C;AAA4C;;AAAA,MAAIA,CAAC,GAACmC,QAAQ,CAAC6e,eAAf;AAAA,MAA+B1hB,CAAC,GAAC,aAAU,CAAE,CAA7C;;AAA8CU,EAAAA,CAAC,CAACihB,gBAAF,GAAmB3hB,CAAC,GAAC,WAASL,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAACf,IAAAA,CAAC,CAACgiB,gBAAF,CAAmB5hB,CAAnB,EAAqBW,CAArB,EAAuB,CAAC,CAAxB;AAA2B,GAAhE,GAAiEA,CAAC,CAACkhB,WAAF,KAAgB5hB,CAAC,GAAC,WAASL,CAAT,EAAWe,CAAX,EAAaV,EAAb,EAAe;AAACL,IAAAA,CAAC,CAACe,CAAC,GAACV,EAAH,CAAD,GAAOA,EAAC,CAAC6hB,WAAF,GAAc,YAAU;AAAC,UAAInhB,CAAC,GAACX,CAAC,CAACJ,CAAD,CAAP;;AAAWK,MAAAA,EAAC,CAAC6hB,WAAF,CAAc7d,IAAd,CAAmBhE,EAAnB,EAAqBU,CAArB;AAAwB,KAA5D,GAA6D,YAAU;AAAC,UAAIA,CAAC,GAACX,CAAC,CAACJ,CAAD,CAAP;;AAAWK,MAAAA,EAAC,CAACgE,IAAF,CAAOrE,CAAP,EAASe,CAAT;AAAY,KAAtG,EAAuGf,CAAC,CAACiiB,WAAF,CAAc,OAAKlhB,CAAnB,EAAqBf,CAAC,CAACe,CAAC,GAACV,EAAH,CAAtB,CAAvG;AAAoI,GAAtK,CAAjE;;AAAyO,MAAIC,CAAC,GAAC,aAAU,CAAE,CAAlB;;AAAmBS,EAAAA,CAAC,CAACohB,mBAAF,GAAsB7hB,CAAC,GAAC,WAASN,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAACf,IAAAA,CAAC,CAACmiB,mBAAF,CAAsB/hB,CAAtB,EAAwBW,CAAxB,EAA0B,CAAC,CAA3B;AAA8B,GAAtE,GAAuEA,CAAC,CAACqhB,WAAF,KAAgB9hB,CAAC,GAAC,WAASN,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAACf,IAAAA,CAAC,CAACoiB,WAAF,CAAc,OAAKhiB,CAAnB,EAAqBJ,CAAC,CAACI,CAAC,GAACW,CAAH,CAAtB;;AAA6B,QAAG;AAAC,aAAOf,CAAC,CAACI,CAAC,GAACW,CAAH,CAAR;AAAc,KAAlB,CAAkB,OAAMV,CAAN,EAAQ;AAACL,MAAAA,CAAC,CAACI,CAAC,GAACW,CAAH,CAAD,GAAOqD,SAAP;AAAiB;AAAC,GAA5G,CAAvE;AAAqL,MAAI7D,CAAC,GAAC;AAAC6E,IAAAA,IAAI,EAAC/E,CAAN;AAAQkF,IAAAA,MAAM,EAACjF;AAAf,GAAN;AAAwB,gBAAY,OAAOL,MAAnB,IAA2BA,MAAM,CAACC,GAAlC,GAAsCD,MAAM,CAACM,CAAD,CAA5C,GAAgD,oBAAiBqhB,OAAjB,yCAAiBA,OAAjB,KAAyBD,MAAM,CAACC,OAAP,GAAerhB,CAAxC,GAA0CP,CAAC,CAACqiB,OAAF,GAAU9hB,CAApG;AAAsG,CAA9rB,CAA+rBqI,MAA/rB,CAxFA;AAyFA;;;;;AAKA,UAAS5I,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,gBAAY,OAAOH,MAAnB,IAA2BA,MAAM,CAACC,GAAlC,GAAsCD,MAAM,CAAC,CAAC,2BAAD,EAA6B,iBAA7B,CAAD,EAAiD,UAASc,CAAT,EAAWV,CAAX,EAAa;AAAC,WAAOD,CAAC,CAACJ,CAAD,EAAGe,CAAH,EAAKV,CAAL,CAAR;AAAgB,GAA/E,CAA5C,GAA6H,oBAAiBuhB,OAAjB,yCAAiBA,OAAjB,KAAyBD,MAAM,CAACC,OAAP,GAAexhB,CAAC,CAACJ,CAAD,EAAGsiB,OAAO,CAAC,sBAAD,CAAV,EAAmCA,OAAO,CAAC,SAAD,CAA1C,CAAzC,GAAgGtiB,CAAC,CAACuiB,UAAF,GAAaniB,CAAC,CAACJ,CAAD,EAAGA,CAAC,CAACigB,YAAL,EAAkBjgB,CAAC,CAACqiB,OAApB,CAA3O;AAAwQ,CAAnS,CAAoSzZ,MAApS,EAA2S,UAAS5I,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,GAAY,CAAE;;AAAA,WAASC,CAAT,GAAY,CAAE;;AAAAA,EAAAA,CAAC,CAACsF,SAAF,GAAY,IAAIxF,CAAJ,EAAZ,EAAkBE,CAAC,CAACsF,SAAF,CAAY4c,cAAZ,GAA2B,UAASxiB,CAAT,EAAW;AAAC,SAAKyiB,eAAL,CAAqBziB,CAArB,EAAuB,CAAC,CAAxB;AAA2B,GAApF,EAAqFM,CAAC,CAACsF,SAAF,CAAY8c,gBAAZ,GAA6B,UAAS1iB,CAAT,EAAW;AAAC,SAAKyiB,eAAL,CAAqBziB,CAArB,EAAuB,CAAC,CAAxB;AAA2B,GAAzJ,EAA0JM,CAAC,CAACsF,SAAF,CAAY6c,eAAZ,GAA4B,UAASriB,CAAT,EAAWC,CAAX,EAAa;AAAC,QAAIC,CAAC,GAAC,CAACD,CAAC,GAACA,CAAC,KAAG+D,SAAJ,IAAe,CAAC,CAAC/D,CAApB,IAAuB,MAAvB,GAA8B,QAApC;AAA6CL,IAAAA,CAAC,CAAC6E,SAAF,CAAY8d,cAAZ,GAA2B5hB,CAAC,CAACT,CAAD,CAAD,CAAKF,CAAL,EAAO,aAAP,EAAqB,IAArB,CAA3B,GAAsDJ,CAAC,CAAC6E,SAAF,CAAY+d,gBAAZ,GAA6B7hB,CAAC,CAACT,CAAD,CAAD,CAAKF,CAAL,EAAO,eAAP,EAAuB,IAAvB,CAA7B,IAA2DW,CAAC,CAACT,CAAD,CAAD,CAAKF,CAAL,EAAO,WAAP,EAAmB,IAAnB,GAAyBW,CAAC,CAACT,CAAD,CAAD,CAAKF,CAAL,EAAO,YAAP,EAAoB,IAApB,CAApF,CAAtD;AAAqK,GAAtZ,EAAuZE,CAAC,CAACsF,SAAF,CAAYsc,WAAZ,GAAwB,UAASliB,CAAT,EAAW;AAAC,QAAII,CAAC,GAAC,OAAKJ,CAAC,CAACgL,IAAb;AAAkB,SAAK5K,CAAL,KAAS,KAAKA,CAAL,EAAQJ,CAAR,CAAT;AAAoB,GAAje,EAAkeM,CAAC,CAACsF,SAAF,CAAYid,QAAZ,GAAqB,UAAS7iB,CAAT,EAAW;AAAC,SAAI,IAAII,CAAC,GAAC,CAAN,EAAQW,CAAC,GAACf,CAAC,CAACyB,MAAhB,EAAuBrB,CAAC,GAACW,CAAzB,EAA2BX,CAAC,EAA5B,EAA+B;AAAC,UAAIC,CAAC,GAACL,CAAC,CAACI,CAAD,CAAP;AAAW,UAAGC,CAAC,CAACyiB,UAAF,IAAc,KAAKC,iBAAtB,EAAwC,OAAO1iB,CAAP;AAAS;AAAC,GAAhmB,EAAimBC,CAAC,CAACsF,SAAF,CAAYod,WAAZ,GAAwB,UAAShjB,CAAT,EAAW;AAAC,QAAII,CAAC,GAACJ,CAAC,CAACsN,MAAR;AAAelN,IAAAA,CAAC,IAAE,MAAIA,CAAP,IAAU,MAAIA,CAAd,IAAiB,KAAK6iB,YAAL,CAAkBjjB,CAAlB,EAAoBA,CAApB,CAAjB;AAAwC,GAA5rB,EAA6rBM,CAAC,CAACsF,SAAF,CAAYsd,YAAZ,GAAyB,UAASljB,CAAT,EAAW;AAAC,SAAKijB,YAAL,CAAkBjjB,CAAlB,EAAoBA,CAAC,CAACmjB,cAAF,CAAiB,CAAjB,CAApB;AAAyC,GAA3wB,EAA4wB7iB,CAAC,CAACsF,SAAF,CAAYwd,eAAZ,GAA4B9iB,CAAC,CAACsF,SAAF,CAAYyd,aAAZ,GAA0B,UAASrjB,CAAT,EAAW;AAAC,SAAKijB,YAAL,CAAkBjjB,CAAlB,EAAoBA,CAApB;AAAuB,GAAr2B,EAAs2BM,CAAC,CAACsF,SAAF,CAAYqd,YAAZ,GAAyB,UAASjjB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKkjB,aAAL,KAAqB,KAAKA,aAAL,GAAmB,CAAC,CAApB,EAAsB,KAAKP,iBAAL,GAAuB3iB,CAAC,CAACmjB,SAAF,KAAcnf,SAAd,GAAwBhE,CAAC,CAACmjB,SAA1B,GAAoCnjB,CAAC,CAAC0iB,UAAnF,EAA8F,KAAKU,WAAL,CAAiBxjB,CAAjB,EAAmBI,CAAnB,CAAnH;AAA0I,GAAvhC,EAAwhCE,CAAC,CAACsF,SAAF,CAAY4d,WAAZ,GAAwB,UAASxjB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKqjB,oBAAL,CAA0BzjB,CAA1B,GAA6B,KAAKqhB,SAAL,CAAe,aAAf,EAA6B,CAACrhB,CAAD,EAAGI,CAAH,CAA7B,CAA7B;AAAiE,GAA/nC;AAAgoC,MAAIG,CAAC,GAAC;AAACmjB,IAAAA,SAAS,EAAC,CAAC,WAAD,EAAa,SAAb,CAAX;AAAmCC,IAAAA,UAAU,EAAC,CAAC,WAAD,EAAa,UAAb,EAAwB,aAAxB,CAA9C;AAAqFC,IAAAA,WAAW,EAAC,CAAC,aAAD,EAAe,WAAf,EAA2B,eAA3B,CAAjG;AAA6IC,IAAAA,aAAa,EAAC,CAAC,eAAD,EAAiB,aAAjB,EAA+B,iBAA/B;AAA3J,GAAN;AAAoN,SAAOvjB,CAAC,CAACsF,SAAF,CAAY6d,oBAAZ,GAAiC,UAASrjB,CAAT,EAAW;AAAC,QAAGA,CAAH,EAAK;AAAC,WAAI,IAAIC,CAAC,GAACE,CAAC,CAACH,CAAC,CAAC4K,IAAH,CAAP,EAAgB1K,CAAC,GAACF,CAAC,CAACiF,cAAF,GAAiBrF,CAAjB,GAAmBkD,QAArC,EAA8C1C,CAAC,GAAC,CAAhD,EAAkDC,CAAC,GAACJ,CAAC,CAACoB,MAA1D,EAAiEjB,CAAC,GAACC,CAAnE,EAAqED,CAAC,EAAtE,EAAyE;AAAC,YAAI0F,CAAC,GAAC7F,CAAC,CAACG,CAAD,CAAP;AAAWO,QAAAA,CAAC,CAACqE,IAAF,CAAO9E,CAAP,EAAS4F,CAAT,EAAW,IAAX;AAAiB;;AAAA,WAAK4d,mBAAL,GAAyB;AAACC,QAAAA,MAAM,EAAC1jB,CAAR;AAAU2jB,QAAAA,IAAI,EAAC1jB;AAAf,OAAzB;AAA2C;AAAC,GAArM,EAAsMA,CAAC,CAACsF,SAAF,CAAYqe,sBAAZ,GAAmC,YAAU;AAAC,QAAIjkB,CAAC,GAAC,KAAK8jB,mBAAX;;AAA+B,QAAG9jB,CAAC,IAAEA,CAAC,CAAC+jB,MAAR,EAAe;AAAC,WAAI,IAAI3jB,CAAC,GAAC,CAAN,EAAQC,CAAC,GAACL,CAAC,CAAC+jB,MAAF,CAAStiB,MAAvB,EAA8BrB,CAAC,GAACC,CAAhC,EAAkCD,CAAC,EAAnC,EAAsC;AAAC,YAAIE,CAAC,GAACN,CAAC,CAAC+jB,MAAF,CAAS3jB,CAAT,CAAN;AAAkBW,QAAAA,CAAC,CAACwE,MAAF,CAASvF,CAAC,CAACgkB,IAAX,EAAgB1jB,CAAhB,EAAkB,IAAlB;AAAwB;;AAAA,aAAO,KAAKwjB,mBAAZ;AAAgC;AAAC,GAArZ,EAAsZxjB,CAAC,CAACsF,SAAF,CAAYse,WAAZ,GAAwB,UAASlkB,CAAT,EAAW;AAAC,SAAKmkB,YAAL,CAAkBnkB,CAAlB,EAAoBA,CAApB;AAAuB,GAAjd,EAAkdM,CAAC,CAACsF,SAAF,CAAYwe,eAAZ,GAA4B9jB,CAAC,CAACsF,SAAF,CAAYye,aAAZ,GAA0B,UAASrkB,CAAT,EAAW;AAACA,IAAAA,CAAC,CAACujB,SAAF,IAAa,KAAKR,iBAAlB,IAAqC,KAAKoB,YAAL,CAAkBnkB,CAAlB,EAAoBA,CAApB,CAArC;AAA4D,GAAhlB,EAAilBM,CAAC,CAACsF,SAAF,CAAY0e,WAAZ,GAAwB,UAAStkB,CAAT,EAAW;AAAC,QAAII,CAAC,GAAC,KAAKyiB,QAAL,CAAc7iB,CAAC,CAACmjB,cAAhB,CAAN;AAAsC/iB,IAAAA,CAAC,IAAE,KAAK+jB,YAAL,CAAkBnkB,CAAlB,EAAoBI,CAApB,CAAH;AAA0B,GAArrB,EAAsrBE,CAAC,CAACsF,SAAF,CAAYue,YAAZ,GAAyB,UAASnkB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKmkB,WAAL,CAAiBvkB,CAAjB,EAAmBI,CAAnB;AAAsB,GAAnvB,EAAovBE,CAAC,CAACsF,SAAF,CAAY2e,WAAZ,GAAwB,UAASvkB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKihB,SAAL,CAAe,aAAf,EAA6B,CAACrhB,CAAD,EAAGI,CAAH,CAA7B;AAAoC,GAA9zB,EAA+zBE,CAAC,CAACsF,SAAF,CAAY4e,SAAZ,GAAsB,UAASxkB,CAAT,EAAW;AAAC,SAAKykB,UAAL,CAAgBzkB,CAAhB,EAAkBA,CAAlB;AAAqB,GAAt3B,EAAu3BM,CAAC,CAACsF,SAAF,CAAY8e,aAAZ,GAA0BpkB,CAAC,CAACsF,SAAF,CAAY+e,WAAZ,GAAwB,UAAS3kB,CAAT,EAAW;AAACA,IAAAA,CAAC,CAACujB,SAAF,IAAa,KAAKR,iBAAlB,IAAqC,KAAK0B,UAAL,CAAgBzkB,CAAhB,EAAkBA,CAAlB,CAArC;AAA0D,GAA/+B,EAAg/BM,CAAC,CAACsF,SAAF,CAAYgf,UAAZ,GAAuB,UAAS5kB,CAAT,EAAW;AAAC,QAAII,CAAC,GAAC,KAAKyiB,QAAL,CAAc7iB,CAAC,CAACmjB,cAAhB,CAAN;AAAsC/iB,IAAAA,CAAC,IAAE,KAAKqkB,UAAL,CAAgBzkB,CAAhB,EAAkBI,CAAlB,CAAH;AAAwB,GAAjlC,EAAklCE,CAAC,CAACsF,SAAF,CAAY6e,UAAZ,GAAuB,UAASzkB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKykB,YAAL,IAAoB,KAAKC,SAAL,CAAe9kB,CAAf,EAAiBI,CAAjB,CAApB;AAAwC,GAA/pC,EAAgqCE,CAAC,CAACsF,SAAF,CAAYkf,SAAZ,GAAsB,UAAS9kB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKihB,SAAL,CAAe,WAAf,EAA2B,CAACrhB,CAAD,EAAGI,CAAH,CAA3B;AAAkC,GAAtuC,EAAuuCE,CAAC,CAACsF,SAAF,CAAYif,YAAZ,GAAyB,YAAU;AAAC,SAAKvB,aAAL,GAAmB,CAAC,CAApB,EAAsB,OAAO,KAAKP,iBAAlC,EAAoD,KAAKkB,sBAAL,EAApD,EAAkF,KAAKc,WAAL,EAAlF;AAAqG,GAAh3C,EAAi3CzkB,CAAC,CAACsF,SAAF,CAAYmf,WAAZ,GAAwB1kB,CAAz4C,EAA24CC,CAAC,CAACsF,SAAF,CAAYof,iBAAZ,GAA8B1kB,CAAC,CAACsF,SAAF,CAAYqf,eAAZ,GAA4B,UAASjlB,CAAT,EAAW;AAACA,IAAAA,CAAC,CAACujB,SAAF,IAAa,KAAKR,iBAAlB,IAAqC,KAAKmC,cAAL,CAAoBllB,CAApB,EAAsBA,CAAtB,CAArC;AAA8D,GAA/gD,EAAghDM,CAAC,CAACsF,SAAF,CAAYuf,aAAZ,GAA0B,UAASnlB,CAAT,EAAW;AAAC,QAAII,CAAC,GAAC,KAAKyiB,QAAL,CAAc7iB,CAAC,CAACmjB,cAAhB,CAAN;AAAsC/iB,IAAAA,CAAC,IAAE,KAAK8kB,cAAL,CAAoBllB,CAApB,EAAsBI,CAAtB,CAAH;AAA4B,GAAxnD,EAAynDE,CAAC,CAACsF,SAAF,CAAYsf,cAAZ,GAA2B,UAASllB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKykB,YAAL,IAAoB,KAAKO,aAAL,CAAmBplB,CAAnB,EAAqBI,CAArB,CAApB;AAA4C,GAA9sD,EAA+sDE,CAAC,CAACsF,SAAF,CAAYwf,aAAZ,GAA0B,UAASplB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKihB,SAAL,CAAe,eAAf,EAA+B,CAACrhB,CAAD,EAAGI,CAAH,CAA/B;AAAsC,GAA7xD,EAA8xDE,CAAC,CAAC+kB,eAAF,GAAkB,UAASrlB,CAAT,EAAW;AAAC,WAAM;AAACslB,MAAAA,CAAC,EAACtlB,CAAC,CAAC4N,KAAF,KAAUxJ,SAAV,GAAoBpE,CAAC,CAAC4N,KAAtB,GAA4B5N,CAAC,CAACulB,OAAjC;AAAyC7P,MAAAA,CAAC,EAAC1V,CAAC,CAAC6N,KAAF,KAAUzJ,SAAV,GAAoBpE,CAAC,CAAC6N,KAAtB,GAA4B7N,CAAC,CAACwlB;AAAzE,KAAN;AAAwF,GAAp5D,EAAq5DllB,CAA55D;AAA85D,CAAtlH,CA9FA;AA+FA;;;;;AAKA,UAASN,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,gBAAY,OAAOH,MAAnB,IAA2BA,MAAM,CAACC,GAAlC,GAAsCD,MAAM,CAAC,CAAC,iBAAD,EAAmB,uBAAnB,CAAD,EAA6C,UAASc,CAAT,EAAWV,CAAX,EAAa;AAAC,WAAOD,CAAC,CAACJ,CAAD,EAAGe,CAAH,EAAKV,CAAL,CAAR;AAAgB,GAA3E,CAA5C,GAAyH,oBAAiBuhB,OAAjB,yCAAiBA,OAAjB,KAAyBD,MAAM,CAACC,OAAP,GAAexhB,CAAC,CAACJ,CAAD,EAAGsiB,OAAO,CAAC,SAAD,CAAV,EAAsBA,OAAO,CAAC,YAAD,CAA7B,CAAzC,GAAsFtiB,CAAC,CAACylB,UAAF,GAAarlB,CAAC,CAACJ,CAAD,EAAGA,CAAC,CAACqiB,OAAL,EAAariB,CAAC,CAACuiB,UAAf,CAA7N;AAAwP,CAAnR,CAAoR3Z,MAApR,EAA2R,UAAS5I,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,GAAY,CAAE;;AAAA,WAASC,CAAT,CAAWN,CAAX,EAAa;AAACA,IAAAA,CAAC,CAACqF,cAAF,GAAiBrF,CAAC,CAACqF,cAAF,EAAjB,GAAoCrF,CAAC,CAAC0lB,WAAF,GAAc,CAAC,CAAnD;AAAqD;;AAAA,WAASnlB,CAAT,GAAY,CAAE;;AAAA,WAASC,CAAT,GAAY;AAAC,WAAM,CAAC,CAAP;AAAS;;AAAAD,EAAAA,CAAC,CAACqF,SAAF,GAAY,IAAI7E,CAAJ,EAAZ,EAAkBR,CAAC,CAACqF,SAAF,CAAY+f,WAAZ,GAAwB,YAAU;AAAC,SAAKC,YAAL,CAAkB,CAAC,CAAnB;AAAsB,GAA3E,EAA4ErlB,CAAC,CAACqF,SAAF,CAAYigB,aAAZ,GAA0B,YAAU;AAAC,SAAKD,YAAL,CAAkB,CAAC,CAAnB;AAAsB,GAAvI;AAAwI,MAAInlB,CAAC,GAACT,CAAC,CAAC6E,SAAR;;AAAkBtE,EAAAA,CAAC,CAACqF,SAAF,CAAYggB,YAAZ,GAAyB,UAAS5lB,CAAT,EAAW;AAAC,QAAIe,CAAJ;AAAMf,IAAAA,CAAC,GAACA,CAAC,KAAGoE,SAAJ,IAAe,CAAC,CAACpE,CAAnB,EAAqBe,CAAC,GAACN,CAAC,CAACkiB,cAAF,GAAiB,UAASviB,CAAT,EAAW;AAACA,MAAAA,CAAC,CAACuI,KAAF,CAAQmd,WAAR,GAAoB9lB,CAAC,GAAC,MAAD,GAAQ,EAA7B;AAAgC,KAA7D,GAA8DS,CAAC,CAACmiB,gBAAF,GAAmB,UAASxiB,CAAT,EAAW;AAACA,MAAAA,CAAC,CAACuI,KAAF,CAAQod,aAAR,GAAsB/lB,CAAC,GAAC,MAAD,GAAQ,EAA/B;AAAkC,KAAjE,GAAkE,YAAU;AAACA,MAAAA,CAAC,IAAEkG,CAAC,CAAC1F,CAAD,CAAJ;AAAQ,KAA1K;;AAA2K,SAAI,IAAIH,CAAC,GAACL,CAAC,GAAC,MAAD,GAAQ,QAAf,EAAwBM,CAAC,GAAC,CAA1B,EAA4BC,CAAC,GAAC,KAAK4X,OAAL,CAAa1W,MAA/C,EAAsDnB,CAAC,GAACC,CAAxD,EAA0DD,CAAC,EAA3D,EAA8D;AAAC,UAAIE,CAAC,GAAC,KAAK2X,OAAL,CAAa7X,CAAb,CAAN;AAAsB,WAAKmiB,eAAL,CAAqBjiB,CAArB,EAAuBR,CAAvB,GAA0Be,CAAC,CAACP,CAAD,CAA3B,EAA+BJ,CAAC,CAACC,CAAD,CAAD,CAAKG,CAAL,EAAO,OAAP,EAAe,IAAf,CAA/B;AAAoD;AAAC,GAAhW;;AAAiW,MAAI0F,CAAC,GAAC,iBAAgBhD,QAAQ,CAAC6e,eAAzB,GAAyC,UAAS/hB,CAAT,EAAW;AAAC,aAAOA,CAAC,CAACU,QAAT,KAAoBV,CAAC,CAACgmB,WAAF,GAAcxlB,CAAlC;;AAAqC,SAAI,IAAIJ,CAAC,GAACJ,CAAC,CAACimB,gBAAF,CAAmB,KAAnB,CAAN,EAAgCllB,CAAC,GAAC,CAAlC,EAAoCV,CAAC,GAACD,CAAC,CAACqB,MAA5C,EAAmDV,CAAC,GAACV,CAArD,EAAuDU,CAAC,EAAxD,EAA2D;AAACX,MAAAA,CAAC,CAACW,CAAD,CAAD,CAAKilB,WAAL,GAAiBxlB,CAAjB;AAAmB;AAAC,GAA1K,GAA2KH,CAAjL;AAAmLE,EAAAA,CAAC,CAACqF,SAAF,CAAY4d,WAAZ,GAAwB,UAASziB,CAAT,EAAWV,CAAX,EAAa;AAAC,QAAG,WAASU,CAAC,CAAC0H,MAAF,CAAS/H,QAAlB,IAA4B,WAASK,CAAC,CAAC0H,MAAF,CAASuC,IAAjD,EAAsD,OAAO,KAAKsY,aAAL,GAAmB,CAAC,CAApB,EAAsB,KAAK,OAAO,KAAKP,iBAA9C;;AAAgE,SAAKmD,gBAAL,CAAsBnlB,CAAtB,EAAwBV,CAAxB;;AAA2B,QAAIC,CAAC,GAAC4C,QAAQ,CAACqN,aAAf;AAA6BjQ,IAAAA,CAAC,IAAEA,CAAC,CAACkQ,IAAL,IAAWlQ,CAAC,CAACkQ,IAAF,EAAX,EAAoB,KAAKiT,oBAAL,CAA0B1iB,CAA1B,CAApB,EAAiD,KAAKolB,iBAAL,GAAuB5lB,CAAC,CAAC6lB,iBAAF,EAAxE,EAA8FhmB,CAAC,CAACgF,IAAF,CAAOpF,CAAP,EAAS,QAAT,EAAkB,IAAlB,CAA9F,EAAsH,KAAKqhB,SAAL,CAAe,aAAf,EAA6B,CAACtgB,CAAD,EAAGV,CAAH,CAA7B,CAAtH;AAA0J,GAA9W,EAA+WE,CAAC,CAACqF,SAAF,CAAYsgB,gBAAZ,GAA6B,UAASlmB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKimB,gBAAL,GAAsBtlB,CAAC,CAACskB,eAAF,CAAkBjlB,CAAlB,CAAtB;AAA2C,QAAIC,CAAC,GAAC,gBAAcL,CAAC,CAACgL,IAAtB;AAAA,QAA2BzK,CAAC,GAACP,CAAC,CAACyI,MAAF,CAAS/H,QAAtC;AAA+CL,IAAAA,CAAC,IAAE,YAAUE,CAAb,IAAgBD,CAAC,CAACN,CAAD,CAAjB;AAAqB,GAAzgB,EAA0gBO,CAAC,CAACqF,SAAF,CAAY2e,WAAZ,GAAwB,UAASvkB,CAAT,EAAWI,CAAX,EAAa;AAAC,QAAIW,CAAC,GAAC,KAAKulB,gBAAL,CAAsBtmB,CAAtB,EAAwBI,CAAxB,CAAN;;AAAiC,SAAKihB,SAAL,CAAe,aAAf,EAA6B,CAACrhB,CAAD,EAAGI,CAAH,EAAKW,CAAL,CAA7B,GAAsC,KAAKwlB,SAAL,CAAevmB,CAAf,EAAiBI,CAAjB,EAAmBW,CAAnB,CAAtC;AAA4D,GAA7oB,EAA8oBR,CAAC,CAACqF,SAAF,CAAY0gB,gBAAZ,GAA6B,UAAStmB,CAAT,EAAWI,CAAX,EAAa;AAAC,QAAIC,CAAC,GAACU,CAAC,CAACskB,eAAF,CAAkBjlB,CAAlB,CAAN;AAAA,QAA2BE,CAAC,GAAC;AAACglB,MAAAA,CAAC,EAACjlB,CAAC,CAACilB,CAAF,GAAI,KAAKe,gBAAL,CAAsBf,CAA7B;AAA+B5P,MAAAA,CAAC,EAACrV,CAAC,CAACqV,CAAF,GAAI,KAAK2Q,gBAAL,CAAsB3Q;AAA3D,KAA7B;AAA2F,WAAM,CAAC,KAAK8Q,UAAN,IAAkB,KAAKC,cAAL,CAAoBnmB,CAApB,CAAlB,IAA0C,KAAKomB,UAAL,CAAgB1mB,CAAhB,EAAkBI,CAAlB,CAA1C,EAA+DE,CAArE;AAAuE,GAA31B,EAA41BC,CAAC,CAACqF,SAAF,CAAY6gB,cAAZ,GAA2B,UAASzmB,CAAT,EAAW;AAAC,WAAOyN,IAAI,CAACE,GAAL,CAAS3N,CAAC,CAACslB,CAAX,IAAc,CAAd,IAAiB7X,IAAI,CAACE,GAAL,CAAS3N,CAAC,CAAC0V,CAAX,IAAc,CAAtC;AAAwC,GAA36B,EAA46BnV,CAAC,CAACqF,SAAF,CAAYkf,SAAZ,GAAsB,UAAS9kB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKihB,SAAL,CAAe,WAAf,EAA2B,CAACrhB,CAAD,EAAGI,CAAH,CAA3B,GAAkC,KAAKumB,cAAL,CAAoB3mB,CAApB,EAAsBI,CAAtB,CAAlC;AAA2D,GAA3gC,EAA4gCG,CAAC,CAACqF,SAAF,CAAY+gB,cAAZ,GAA2B,UAAS3mB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKomB,UAAL,GAAgB,KAAKI,QAAL,CAAc5mB,CAAd,EAAgBI,CAAhB,CAAhB,GAAmC,KAAKymB,YAAL,CAAkB7mB,CAAlB,EAAoBI,CAApB,CAAnC;AAA0D,GAA/mC,EAAgnCW,CAAC,CAAC6E,SAAF,CAAYmf,WAAZ,GAAwB,YAAU;AAAC3kB,IAAAA,CAAC,CAACmF,MAAF,CAASvF,CAAT,EAAW,QAAX,EAAoB,IAApB;AAA0B,GAA7qC,EAA8qCO,CAAC,CAACqF,SAAF,CAAY8gB,UAAZ,GAAuB,UAAS1mB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKomB,UAAL,GAAgB,CAAC,CAAjB,EAAmB,KAAKM,cAAL,GAAoBvmB,CAAC,CAAC8kB,eAAF,CAAkBjlB,CAAlB,CAAvC,EAA4D,KAAK2mB,kBAAL,GAAwB,CAAC,CAArF,EAAuF,KAAKjV,SAAL,CAAe9R,CAAf,EAAiBI,CAAjB,CAAvF;AAA2G,GAA9zC,EAA+zCG,CAAC,CAACqF,SAAF,CAAYkM,SAAZ,GAAsB,UAAS9R,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKihB,SAAL,CAAe,WAAf,EAA2B,CAACrhB,CAAD,EAAGI,CAAH,CAA3B;AAAkC,GAAr4C,EAAs4CG,CAAC,CAACqF,SAAF,CAAY2gB,SAAZ,GAAsB,UAASvmB,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,SAAKylB,UAAL,IAAiB,KAAKQ,QAAL,CAAchnB,CAAd,EAAgBI,CAAhB,EAAkBW,CAAlB,CAAjB;AAAsC,GAAl9C,EAAm9CR,CAAC,CAACqF,SAAF,CAAYohB,QAAZ,GAAqB,UAAShnB,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAACT,IAAAA,CAAC,CAACN,CAAD,CAAD,EAAK,KAAKqhB,SAAL,CAAe,UAAf,EAA0B,CAACrhB,CAAD,EAAGI,CAAH,EAAKW,CAAL,CAA1B,CAAL;AAAwC,GAAhiD,EAAiiDR,CAAC,CAACqF,SAAF,CAAYghB,QAAZ,GAAqB,UAAS5mB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKomB,UAAL,GAAgB,CAAC,CAAjB;AAAmB,QAAIzlB,CAAC,GAAC,IAAN;AAAWiE,IAAAA,UAAU,CAAC,YAAU;AAAC,aAAOjE,CAAC,CAACgmB,kBAAT;AAA4B,KAAxC,CAAV,EAAoD,KAAKE,OAAL,CAAajnB,CAAb,EAAeI,CAAf,CAApD;AAAsE,GAAxqD,EAAyqDG,CAAC,CAACqF,SAAF,CAAYqhB,OAAZ,GAAoB,UAASjnB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKihB,SAAL,CAAe,SAAf,EAAyB,CAACrhB,CAAD,EAAGI,CAAH,CAAzB;AAAgC,GAA3uD,EAA4uDG,CAAC,CAACqF,SAAF,CAAYmf,WAAZ,GAAwB,YAAU;AAAC3kB,IAAAA,CAAC,CAACmF,MAAF,CAASvF,CAAT,EAAW,QAAX,EAAoB,IAApB,GAA0B,OAAO,KAAKmmB,iBAAtC;AAAwD,GAAv0D,EAAw0D5lB,CAAC,CAACqF,SAAF,CAAYshB,OAAZ,GAAoB,UAASlnB,CAAT,EAAW;AAAC,SAAK+mB,kBAAL,IAAyBzmB,CAAC,CAACN,CAAD,CAA1B;AAA8B,GAAt4D,EAAu4DO,CAAC,CAACqF,SAAF,CAAYihB,YAAZ,GAAyB,UAAS7mB,CAAT,EAAWI,CAAX,EAAa;AAAC,QAAG,CAAC,KAAK+mB,iBAAN,IAAyB,aAAWnnB,CAAC,CAACgL,IAAzC,EAA8C;AAAC,UAAIjK,CAAC,GAACf,CAAC,CAACyI,MAAF,CAAS/H,QAAf;;AAAwB,UAAG,WAASK,CAAT,IAAY,cAAYA,CAAxB,IAA2Bf,CAAC,CAACyI,MAAF,CAAS1D,KAAT,EAA3B,EAA4C,KAAKqiB,WAAL,CAAiBpnB,CAAjB,EAAmBI,CAAnB,CAA5C,EAAkE,aAAWJ,CAAC,CAACgL,IAAlF,EAAuF;AAAC,aAAKmc,iBAAL,GAAuB,CAAC,CAAxB;AAA0B,YAAI9mB,CAAC,GAAC,IAAN;AAAW2E,QAAAA,UAAU,CAAC,YAAU;AAAC,iBAAO3E,CAAC,CAAC8mB,iBAAT;AAA2B,SAAvC,EAAwC,GAAxC,CAAV;AAAuD;AAAC;AAAC,GAA3qE,EAA4qE5mB,CAAC,CAACqF,SAAF,CAAYwhB,WAAZ,GAAwB,UAASpnB,CAAT,EAAWI,CAAX,EAAa;AAAC,SAAKihB,SAAL,CAAe,aAAf,EAA6B,CAACrhB,CAAD,EAAGI,CAAH,CAA7B;AAAoC,GAAtvE,EAAuvEG,CAAC,CAACqF,SAAF,CAAYyhB,QAAZ,GAAqB,YAAU;AAAC,QAAIrnB,CAAC,GAACO,CAAC,CAAC6lB,iBAAF,EAAN;AAAA,QAA4BhmB,CAAC,GAAC,KAAK+lB,iBAAL,CAAuBb,CAAvB,GAAyBtlB,CAAC,CAACslB,CAAzD;AAAA,QAA2DvkB,CAAC,GAAC,KAAKolB,iBAAL,CAAuBzQ,CAAvB,GAAyB1V,CAAC,CAAC0V,CAAxF;AAA0F,KAACjI,IAAI,CAACE,GAAL,CAASvN,CAAT,IAAY,CAAZ,IAAeqN,IAAI,CAACE,GAAL,CAAS5M,CAAT,IAAY,CAA5B,KAAgC,KAAK8jB,YAAL,EAAhC;AAAoD,GAAr6E,EAAs6EtkB,CAAC,CAAC8kB,eAAF,GAAkB,UAASrlB,CAAT,EAAW;AAAC,WAAM;AAACslB,MAAAA,CAAC,EAACtlB,CAAC,CAAC4N,KAAF,KAAUxJ,SAAV,GAAoBpE,CAAC,CAAC4N,KAAtB,GAA4B5N,CAAC,CAACulB,OAAjC;AAAyC7P,MAAAA,CAAC,EAAC1V,CAAC,CAAC6N,KAAF,KAAUzJ,SAAV,GAAoBpE,CAAC,CAAC6N,KAAtB,GAA4B7N,CAAC,CAACwlB;AAAzE,KAAN;AAAwF,GAA5hF;AAA6hF,MAAI9e,CAAC,GAAC1G,CAAC,CAACsnB,WAAF,KAAgBljB,SAAtB;AAAgC,SAAO7D,CAAC,CAAC6lB,iBAAF,GAAoB,YAAU;AAAC,WAAM;AAACd,MAAAA,CAAC,EAAC5e,CAAC,GAAC1G,CAAC,CAACunB,WAAH,GAAerkB,QAAQ,CAAC2Q,IAAT,CAAcP,UAAjC;AAA4CoC,MAAAA,CAAC,EAAChP,CAAC,GAAC1G,CAAC,CAACsnB,WAAH,GAAepkB,QAAQ,CAAC2Q,IAAT,CAAcN;AAA5E,KAAN;AAA6F,GAA5H,EAA6HhT,CAAC,CAAC8kB,eAAF,GAAkBtkB,CAAC,CAACskB,eAAjJ,EAAiK9kB,CAAxK;AAA0K,CAAl0H,CApGA,EAoGo0H,UAASP,CAAT,EAAW;AAAC,MAAII,CAAJ;AAAM,iBAAa,OAAOwI,MAApB,GAA2BxI,CAAC,GAACwI,MAA7B,GAAoC,eAAa,OAAO4e,IAApB,KAA2BpnB,CAAC,GAAConB,IAA7B,CAApC,EAAuEpnB,CAAC,CAACqnB,uBAAF,GAA0BznB,CAAC,EAAlG;AAAqG,CAAvH,CAAwH,YAAU;AAAC,SAAO,SAASA,CAAT,CAAWI,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAAC,aAASC,CAAT,CAAWE,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAG,CAACM,CAAC,CAACP,CAAD,CAAL,EAAS;AAAC,YAAG,CAACJ,CAAC,CAACI,CAAD,CAAL,EAAS;AAAC,cAAI0F,CAAC,GAAC,cAAY,OAAOoc,OAAnB,IAA4BA,OAAlC;AAA0C,cAAG,CAAC7hB,CAAD,IAAIyF,CAAP,EAAS,OAAOA,CAAC,CAAC1F,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,cAAGD,CAAH,EAAK,OAAOA,CAAC,CAACC,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,cAAIkG,CAAC,GAAC,IAAIghB,KAAJ,CAAU,yBAAuBlnB,CAAvB,GAAyB,GAAnC,CAAN;AAA8C,gBAAMkG,CAAC,CAACihB,IAAF,GAAO,kBAAP,EAA0BjhB,CAAhC;AAAkC;;AAAA,YAAIsD,CAAC,GAACjJ,CAAC,CAACP,CAAD,CAAD,GAAK;AAACohB,UAAAA,OAAO,EAAC;AAAT,SAAX;AAAwBxhB,QAAAA,CAAC,CAACI,CAAD,CAAD,CAAK,CAAL,EAAQ6D,IAAR,CAAa2F,CAAC,CAAC4X,OAAf,EAAuB,UAAS5hB,CAAT,EAAW;AAAC,cAAIe,CAAC,GAACX,CAAC,CAACI,CAAD,CAAD,CAAK,CAAL,EAAQR,CAAR,CAAN;AAAiB,iBAAOM,CAAC,CAACS,CAAC,IAAEf,CAAJ,CAAR;AAAe,SAAnE,EAAoEgK,CAApE,EAAsEA,CAAC,CAAC4X,OAAxE,EAAgF5hB,CAAhF,EAAkFI,CAAlF,EAAoFW,CAApF,EAAsFV,CAAtF;AAAyF;;AAAA,aAAOU,CAAC,CAACP,CAAD,CAAD,CAAKohB,OAAZ;AAAoB;;AAAA,SAAI,IAAIrhB,CAAC,GAAC,cAAY,OAAO+hB,OAAnB,IAA4BA,OAAlC,EAA0C9hB,CAAC,GAAC,CAAhD,EAAkDA,CAAC,GAACH,CAAC,CAACoB,MAAtD,EAA6DjB,CAAC,EAA9D;AAAiEF,MAAAA,CAAC,CAACD,CAAC,CAACG,CAAD,CAAF,CAAD;AAAjE;;AAAyE,WAAOF,CAAP;AAAS,GAAnb,CAAob;AAAC,OAAE,CAAC,UAASN,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,CAAWf,CAAX,EAAaI,CAAb,EAAe;AAAC,aAAI,IAAIW,CAAR,IAAaX,CAAb;AAAeJ,UAAAA,CAAC,CAAC4nB,YAAF,CAAe7mB,CAAf,EAAiBX,CAAC,CAACW,CAAD,CAAlB;AAAf;AAAsC;;AAAA,eAASV,CAAT,CAAWL,CAAX,EAAaI,CAAb,EAAe;AAACJ,QAAAA,CAAC,CAAC6nB,MAAF,GAAS,YAAU;AAAC,eAAKC,OAAL,GAAa,KAAKD,MAAL,GAAY,IAAzB,EAA8BznB,CAAC,CAAC,IAAD,EAAMJ,CAAN,CAA/B;AAAwC,SAA5D,EAA6DA,CAAC,CAAC8nB,OAAF,GAAU,YAAU;AAAC,eAAKA,OAAL,GAAa,KAAKD,MAAL,GAAY,IAAzB,EAA8BznB,CAAC,CAAC,IAAIsnB,KAAJ,CAAU,oBAAkB,KAAKK,GAAjC,CAAD,EAAuC/nB,CAAvC,CAA/B;AAAyE,SAA3J;AAA4J;;AAAA,eAASM,CAAT,CAAWN,CAAX,EAAaI,CAAb,EAAe;AAACJ,QAAAA,CAAC,CAACgoB,kBAAF,GAAqB,YAAU;AAAC,wBAAY,KAAKC,UAAjB,IAA6B,YAAU,KAAKA,UAA5C,KAAyD,KAAKD,kBAAL,GAAwB,IAAxB,EAA6B5nB,CAAC,CAAC,IAAD,EAAMJ,CAAN,CAAvF;AAAiG,SAAjI;AAAkI;;AAAAI,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAaG,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC0C,QAAQ,CAACglB,IAAT,IAAehlB,QAAQ,CAACilB,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAArB;AAAA,YAA8D1nB,CAAC,GAACyC,QAAQ,CAACiC,aAAT,CAAuB,QAAvB,CAAhE;AAAiG,sBAAY,OAAO/E,CAAnB,KAAuBG,CAAC,GAACH,CAAF,EAAIA,CAAC,GAAC,EAA7B,GAAiCA,CAAC,GAACA,CAAC,IAAE,EAAtC,EAAyCG,CAAC,GAACA,CAAC,IAAE,YAAU,CAAE,CAA1D,EAA2DE,CAAC,CAACuK,IAAF,GAAO5K,CAAC,CAAC4K,IAAF,IAAQ,iBAA1E,EAA4FvK,CAAC,CAAC2nB,OAAF,GAAUhoB,CAAC,CAACgoB,OAAF,IAAW,MAAjH,EAAwH3nB,CAAC,CAAC4nB,KAAF,GAAQ,EAAE,WAAUjoB,CAAV,IAAa,CAACA,CAAC,CAACioB,KAAlB,CAAhI,EAAyJ5nB,CAAC,CAACsnB,GAAF,GAAM/nB,CAA/J,EAAiKI,CAAC,CAACkoB,KAAF,IAASvnB,CAAC,CAACN,CAAD,EAAGL,CAAC,CAACkoB,KAAL,CAA3K,EAAuLloB,CAAC,CAACmoB,IAAF,KAAS9nB,CAAC,CAAC8nB,IAAF,GAAO,KAAGnoB,CAAC,CAACmoB,IAArB,CAAvL,EAAkN,CAAC,YAAW9nB,CAAX,GAAaJ,CAAb,GAAeC,CAAhB,EAAmBG,CAAnB,EAAqBF,CAArB,CAAlN,EAA0OE,CAAC,CAAConB,MAAF,IAAUxnB,CAAC,CAACI,CAAD,EAAGF,CAAH,CAArP,EAA2PC,CAAC,CAACkf,WAAF,CAAcjf,CAAd,CAA3P;AAA4Q,OAAvY;AAAwY,KAA3wB,EAA4wB,EAA5wB,CAAH;AAAmxB,OAAE,CAAC,UAAST,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,eAASW,CAAT,CAAWf,CAAX,EAAa;AAAC,aAAI,IAAII,CAAC,GAAC,IAAIggB,MAAJ,CAAW,+CAA6CpgB,CAAC,CAACwoB,OAAF,CAAU,GAAV,EAAc,KAAd,CAA7C,GAAkE,mBAA7E,CAAN,EAAwGznB,CAAC,GAACmC,QAAQ,CAACilB,oBAAT,CAA8B,QAA9B,CAA1G,EAAkJ9nB,CAAC,GAAC,CAAC,CAArJ,EAAuJC,CAAC,GAAC,CAAzJ,EAA2JC,CAAC,GAACQ,CAAC,CAACU,MAAnK,EAA0KnB,CAAC,GAACC,CAA5K,EAA8KD,CAAC,EAA/K;AAAkL,cAAGS,CAAC,CAACT,CAAD,CAAD,CAAKynB,GAAL,IAAU3nB,CAAC,CAACY,IAAF,CAAOD,CAAC,CAACT,CAAD,CAAD,CAAKynB,GAAZ,CAAb,EAA8B;AAAC1nB,YAAAA,CAAC,GAAC,CAAC,CAAH;AAAK;AAAM;AAA5N;;AAA4N,eAAOA,CAAP;AAAS;;AAAAD,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV;AAAY,KAA3R,EAA4R,EAA5R,CAArxB;AAAqjC,OAAE,CAAC,UAASf,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,eAASW,CAAT,CAAWX,CAAX,EAAa;AAAC,YAAIW,CAAC,GAACf,CAAC,CAAC,CAAD,CAAP;AAAA,YAAWM,CAAC,GAAC,wCAAsCF,CAAtC,GAAwC,SAArD;AAAA,YAA+DG,CAAC,GAAC,0fAAjE;AAA4jBqI,QAAAA,MAAM,CAAC6f,OAAP,KAAiB7f,MAAM,CAAC6f,OAAP,CAAeC,IAAf,GAAoB9f,MAAM,CAAC6f,OAAP,CAAeC,IAAf,CAAoBnoB,CAApB,CAApB,GAA2CqI,MAAM,CAAC6f,OAAP,CAAeE,GAAf,IAAoB/f,MAAM,CAAC6f,OAAP,CAAeE,GAAf,CAAmBpoB,CAAnB,CAAhF;;AAAuG,YAAG;AAAC2C,UAAAA,QAAQ,CAAC0lB,KAAT,CAAe,0DAAf,GAA2E,CAAC,CAAD,KAAKhgB,MAAM,CAACigB,yBAAZ,IAAuC3lB,QAAQ,CAAC0lB,KAAT,CAAe,kBAAgBtoB,CAAhB,GAAkB,aAAjC,GAAgDD,CAAC,CAAC,gBAAD,CAAD,EAAvF,IAA8GU,CAAC,CAACT,CAAD,EAAGD,CAAC,CAAC,YAAD,CAAJ,CAA1L;AAA8M,SAAlN,CAAkN,OAAMG,CAAN,EAAQ;AAACO,UAAAA,CAAC,CAACT,CAAD,EAAGD,CAAC,CAAC,YAAD,CAAJ,CAAD;AAAqB;AAAC;;AAAA,eAASA,CAAT,CAAWL,CAAX,EAAa;AAAC,eAAO,YAAU;AAAC,cAAII,CAAC,GAAC,2CAAyCJ,CAA/C;AAAiD4I,UAAAA,MAAM,CAAC6f,OAAP,IAAgB7f,MAAM,CAAC6f,OAAP,CAAeE,GAA/B,IAAoC/f,MAAM,CAAC6f,OAAP,CAAeE,GAAf,CAAmBvoB,CAAnB,CAApC;AAA0D,SAA7H;AAA8H;;AAAAA,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV;AAAY,KAAtlC,EAAulC;AAAC,SAAE;AAAH,KAAvlC,CAAvjC;AAAqpE,OAAE,CAAC,UAASf,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,eAASW,CAAT,GAAY;AAAC,YAAIf,CAAC,GAAC,2SAAN;AAAkT4I,QAAAA,MAAM,CAACkgB,aAAP,GAAqB,YAAU;AAAC,gBAAM,IAAIpB,KAAJ,CAAU1nB,CAAV,CAAN;AAAmB,SAAnD,EAAoD4I,MAAM,CAACmgB,mBAAP,GAA2B,YAAU;AAAC,gBAAM,IAAIrB,KAAJ,CAAU1nB,CAAV,CAAN;AAAmB,SAA7G,EAA8G4I,MAAM,CAACogB,qBAAP,GAA6B,YAAU;AAAC,gBAAM,IAAItB,KAAJ,CAAU1nB,CAAV,CAAN;AAAmB,SAAzK;AAA0K;;AAAAI,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV;AAAY,KAAjhB,EAAkhB,EAAlhB,CAAvpE;AAA6qF,OAAE,CAAC,UAASf,CAAT,EAAW;AAAC;;AAAa,eAASI,CAAT,CAAWA,CAAX,EAAa;AAAC,YAAIW,CAAC,GAACf,CAAC,CAAC,CAAD,CAAP;AAAA,YAAWK,CAAC,GAACL,CAAC,CAAC,CAAD,CAAd;AAAA,YAAkBM,CAAC,GAACN,CAAC,CAAC,CAAD,CAArB;AAAyBe,QAAAA,CAAC,CAACX,CAAD,CAAD,GAAKC,CAAC,CAACD,CAAD,CAAN,GAAUE,CAAC,EAAX;AAAc;;AAAAF,MAAAA,CAAC,CAAC,eAAD,CAAD;AAAmB,KAAlG,EAAmG;AAAC,SAAE,CAAH;AAAK,SAAE,CAAP;AAAS,SAAE;AAAX,KAAnG;AAA/qF,GAApb,EAAstG,EAAttG,EAAytG,CAAC,CAAD,CAAztG,EAA8tG,CAA9tG,CAAP;AAAwuG,CAA32G,CApGp0H,EAoGirO,UAASJ,CAAT,EAAW;AAAC,MAAG,oBAAiB4hB,OAAjB,yCAAiBA,OAAjB,MAA0B,eAAa,OAAOD,MAAjD,EAAwDA,MAAM,CAACC,OAAP,GAAe5hB,CAAC,EAAhB,CAAxD,KAAgF,IAAG,cAAY,OAAOC,MAAnB,IAA2BA,MAAM,CAACC,GAArC,EAAyCD,MAAM,CAAC,EAAD,EAAID,CAAJ,CAAN,CAAzC,KAA0D;AAAC,KAAC,eAAa,OAAO4I,MAApB,GAA2BA,MAA3B,GAAkC,eAAa,OAAOqgB,MAApB,GAA2BA,MAA3B,GAAkC,eAAa,OAAOzB,IAApB,GAAyBA,IAAzB,GAA8B,IAAnG,EAAyG0B,aAAzG,GAAuHlpB,CAAC,EAAxH;AAA2H;AAAC,CAAnR,CAAoR,YAAU;AAAC,MAAIA,CAAJ;AAAM,SAAO,SAASI,CAAT,CAAWJ,CAAX,EAAae,CAAb,EAAeV,CAAf,EAAiB;AAAC,aAASC,CAAT,CAAWE,CAAX,EAAaC,CAAb,EAAe;AAAC,UAAG,CAACM,CAAC,CAACP,CAAD,CAAL,EAAS;AAAC,YAAG,CAACR,CAAC,CAACQ,CAAD,CAAL,EAAS;AAAC,cAAI0F,CAAC,GAAC,cAAY,OAAOoc,OAAnB,IAA4BA,OAAlC;AAA0C,cAAG,CAAC7hB,CAAD,IAAIyF,CAAP,EAAS,OAAOA,CAAC,CAAC1F,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,cAAGD,CAAH,EAAK,OAAOA,CAAC,CAACC,CAAD,EAAG,CAAC,CAAJ,CAAR;AAAe,cAAIkG,CAAC,GAAC,IAAIghB,KAAJ,CAAU,yBAAuBlnB,CAAvB,GAAyB,GAAnC,CAAN;AAA8C,gBAAMkG,CAAC,CAACihB,IAAF,GAAO,kBAAP,EAA0BjhB,CAAhC;AAAkC;;AAAA,YAAIsD,CAAC,GAACjJ,CAAC,CAACP,CAAD,CAAD,GAAK;AAACohB,UAAAA,OAAO,EAAC;AAAT,SAAX;AAAwB5hB,QAAAA,CAAC,CAACQ,CAAD,CAAD,CAAK,CAAL,EAAQ6D,IAAR,CAAa2F,CAAC,CAAC4X,OAAf,EAAuB,UAASxhB,CAAT,EAAW;AAAC,cAAIW,CAAC,GAACf,CAAC,CAACQ,CAAD,CAAD,CAAK,CAAL,EAAQJ,CAAR,CAAN;AAAiB,iBAAOE,CAAC,CAACS,CAAC,IAAEX,CAAJ,CAAR;AAAe,SAAnE,EAAoE4J,CAApE,EAAsEA,CAAC,CAAC4X,OAAxE,EAAgFxhB,CAAhF,EAAkFJ,CAAlF,EAAoFe,CAApF,EAAsFV,CAAtF;AAAyF;;AAAA,aAAOU,CAAC,CAACP,CAAD,CAAD,CAAKohB,OAAZ;AAAoB;;AAAA,SAAI,IAAIrhB,CAAC,GAAC,cAAY,OAAO+hB,OAAnB,IAA4BA,OAAlC,EAA0C9hB,CAAC,GAAC,CAAhD,EAAkDA,CAAC,GAACH,CAAC,CAACoB,MAAtD,EAA6DjB,CAAC,EAA9D;AAAiEF,MAAAA,CAAC,CAACD,CAAC,CAACG,CAAD,CAAF,CAAD;AAAjE;;AAAyE,WAAOF,CAAP;AAAS,GAAnb,CAAob;AAAC,OAAE,CAAC,UAASN,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,OAAC,UAASV,CAAT,EAAW;AAAC,iBAASC,CAAT,GAAY;AAAC,iBAAM,EAAE,eAAa,OAAOsI,MAApB,IAA4B,CAACA,MAAM,CAACugB,OAApC,IAA6C,eAAavgB,MAAM,CAACugB,OAAP,CAAene,IAA3E,KAAkF,eAAa,OAAO9H,QAApB,IAA8BA,QAAQ,CAAC6e,eAAvC,IAAwD7e,QAAQ,CAAC6e,eAAT,CAAyBpZ,KAAjF,IAAwFzF,QAAQ,CAAC6e,eAAT,CAAyBpZ,KAAzB,CAA+BygB,gBAAzM,IAA2N,eAAa,OAAOxgB,MAApB,IAA4BA,MAAM,CAAC6f,OAAnC,KAA6C7f,MAAM,CAAC6f,OAAP,CAAeY,OAAf,IAAwBzgB,MAAM,CAAC6f,OAAP,CAAea,SAAf,IAA0B1gB,MAAM,CAAC6f,OAAP,CAAec,KAA9G,CAA3N,IAAiV,eAAa,OAAO1kB,SAApB,IAA+BA,SAAS,CAACC,SAAzC,IAAoDD,SAAS,CAACC,SAAV,CAAoBnE,WAApB,GAAkCoJ,KAAlC,CAAwC,gBAAxC,CAApD,IAA+GtE,QAAQ,CAAC2a,MAAM,CAACoJ,EAAR,EAAW,EAAX,CAAR,IAAwB,EAAxd,IAA4d,eAAa,OAAO3kB,SAApB,IAA+BA,SAAS,CAACC,SAAzC,IAAoDD,SAAS,CAACC,SAAV,CAAoBnE,WAApB,GAAkCoJ,KAAlC,CAAwC,oBAAxC,CAAthB;AAAolB;;AAAA,iBAASxJ,CAAT,CAAWP,CAAX,EAAa;AAAC,cAAII,CAAC,GAAC,KAAKqpB,SAAX;;AAAqB,cAAGzpB,CAAC,CAAC,CAAD,CAAD,GAAK,CAACI,CAAC,GAAC,IAAD,GAAM,EAAR,IAAY,KAAKiH,SAAjB,IAA4BjH,CAAC,GAAC,KAAD,GAAO,GAApC,IAAyCJ,CAAC,CAAC,CAAD,CAA1C,IAA+CI,CAAC,GAAC,KAAD,GAAO,GAAvD,IAA4D,GAA5D,GAAgEW,CAAC,CAAC2oB,QAAF,CAAW,KAAKC,IAAhB,CAArE,EAA2FvpB,CAA9F,EAAgG;AAAC,gBAAIC,CAAC,GAAC,YAAU,KAAKupB,KAArB;AAA2B5pB,YAAAA,CAAC,CAACkX,MAAF,CAAS,CAAT,EAAW,CAAX,EAAa7W,CAAb,EAAe,gBAAf;AAAiC,gBAAIC,CAAC,GAAC,CAAN;AAAA,gBAAQC,CAAC,GAAC,CAAV;AAAYP,YAAAA,CAAC,CAAC,CAAD,CAAD,CAAKwoB,OAAL,CAAa,aAAb,EAA2B,UAASxoB,CAAT,EAAW;AAAC,uBAAOA,CAAP,IAAW,SAAOA,CAAP,KAAWO,CAAC,GAAC,EAAED,CAAf,CAAX;AAA8B,aAArE,GAAuEN,CAAC,CAACkX,MAAF,CAAS3W,CAAT,EAAW,CAAX,EAAaF,CAAb,CAAvE;AAAuF;AAAC;;AAAA,iBAASG,CAAT,GAAY;AAAC,iBAAM,oBAAiBioB,OAAjB,yCAAiBA,OAAjB,MAA0BA,OAAO,CAACE,GAAlC,IAAuCkB,QAAQ,CAACjkB,SAAT,CAAmBX,KAAnB,CAAyBZ,IAAzB,CAA8BokB,OAAO,CAACE,GAAtC,EAA0CF,OAA1C,EAAkDhkB,SAAlD,CAA7C;AAA0G;;AAAA,iBAAShE,CAAT,CAAWT,CAAX,EAAa;AAAC,cAAG;AAAC,oBAAMA,CAAN,GAAQe,CAAC,CAAC+oB,OAAF,CAAUC,UAAV,CAAqB,OAArB,CAAR,GAAsChpB,CAAC,CAAC+oB,OAAF,CAAUE,KAAV,GAAgBhqB,CAAtD;AAAwD,WAA5D,CAA4D,OAAMI,CAAN,EAAQ,CAAE;AAAC;;AAAA,iBAAS8F,CAAT,GAAY;AAAC,cAAIlG,CAAJ;;AAAM,cAAG;AAACA,YAAAA,CAAC,GAACe,CAAC,CAAC+oB,OAAF,CAAUE,KAAZ;AAAkB,WAAtB,CAAsB,OAAM5pB,CAAN,EAAQ,CAAE;;AAAA,iBAAM,CAACJ,CAAD,IAAI,KAAK,CAAL,KAASK,CAAb,IAAgB,SAAQA,CAAxB,KAA4BL,CAAC,GAACK,CAAC,CAAC4pB,GAAF,CAAMC,KAApC,GAA2ClqB,CAAjD;AAAmD;;AAAA,iBAAS0G,CAAT,GAAY;AAAC,cAAG;AAAC,mBAAOkC,MAAM,CAACuhB,YAAd;AAA2B,WAA/B,CAA+B,OAAMnqB,CAAN,EAAQ,CAAE;AAAC;;AAAA,SAACe,CAAC,GAACX,CAAC,CAACwhB,OAAF,GAAU5hB,CAAC,CAAC,CAAD,CAAd,EAAmB2oB,GAAnB,GAAuBnoB,CAAvB,EAAyBO,CAAC,CAACqpB,UAAF,GAAa7pB,CAAtC,EAAwCQ,CAAC,CAACspB,IAAF,GAAO5pB,CAA/C,EAAiDM,CAAC,CAACupB,IAAF,GAAOpkB,CAAxD,EAA0DnF,CAAC,CAAC0oB,SAAF,GAAYnpB,CAAtE,EAAwES,CAAC,CAAC+oB,OAAF,GAAU,eAAa,OAAOS,MAApB,IAA4B,eAAa,OAAOA,MAAM,CAACT,OAAvD,GAA+DS,MAAM,CAACT,OAAP,CAAeU,KAA9E,GAAoF9jB,CAAC,EAAvK,EAA0K3F,CAAC,CAAC0pB,MAAF,GAAS,CAAC,eAAD,EAAiB,aAAjB,EAA+B,WAA/B,EAA2C,YAA3C,EAAwD,YAAxD,EAAqE,SAArE,CAAnL,EAAmQ1pB,CAAC,CAAC2pB,UAAF,CAAaC,CAAb,GAAe,UAAS3qB,CAAT,EAAW;AAAC,cAAG;AAAC,mBAAO4qB,IAAI,CAACC,SAAL,CAAe7qB,CAAf,CAAP;AAAyB,WAA7B,CAA6B,OAAMI,CAAN,EAAQ;AAAC,mBAAM,iCAA+BA,CAAC,CAAC0qB,OAAvC;AAA+C;AAAC,SAApX,EAAqX/pB,CAAC,CAAC4I,MAAF,CAASzD,CAAC,EAAV,CAArX;AAAmY,OAA9nD,EAAgoD7B,IAAhoD,CAAqoD,IAAroD,EAA0oDrE,CAAC,CAAC,EAAD,CAA3oD;AAAipD,KAAlqD,EAAmqD;AAAC,UAAG,EAAJ;AAAO,SAAE;AAAT,KAAnqD,CAAH;AAAmrD,OAAE,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,eAASV,CAAT,CAAWL,CAAX,EAAa;AAAC,YAAII,CAAJ;AAAA,YAAMC,CAAC,GAAC,CAAR;;AAAU,aAAID,CAAJ,IAASJ,CAAT;AAAWK,UAAAA,CAAC,GAAC,CAACA,CAAC,IAAE,CAAJ,IAAOA,CAAP,GAASL,CAAC,CAAC+qB,UAAF,CAAa3qB,CAAb,CAAX,EAA2BC,CAAC,IAAE,CAA9B;AAAX;;AAA2C,eAAOU,CAAC,CAAC0pB,MAAF,CAAShd,IAAI,CAACE,GAAL,CAAStN,CAAT,IAAYU,CAAC,CAAC0pB,MAAF,CAAShpB,MAA9B,CAAP;AAA6C;;AAAA,eAASnB,CAAT,CAAWN,CAAX,EAAa;AAAC,iBAASI,CAAT,GAAY;AAAC,cAAGA,CAAC,CAAC4qB,OAAL,EAAa;AAAC,gBAAIhrB,CAAC,GAACI,CAAN;AAAA,gBAAQC,CAAC,GAAC,CAAC,IAAI4qB,IAAJ,EAAX;AAAA,gBAAoB3qB,CAAC,GAACD,CAAC,IAAEqG,CAAC,IAAErG,CAAL,CAAvB;AAA+BL,YAAAA,CAAC,CAAC2pB,IAAF,GAAOrpB,CAAP,EAASN,CAAC,CAACyd,IAAF,GAAO/W,CAAhB,EAAkB1G,CAAC,CAACkrB,IAAF,GAAO7qB,CAAzB,EAA2BqG,CAAC,GAACrG,CAA7B;;AAA+B,iBAAI,IAAIE,CAAC,GAAC,IAAI4F,KAAJ,CAAU1B,SAAS,CAAChD,MAApB,CAAN,EAAkCjB,CAAC,GAAC,CAAxC,EAA0CA,CAAC,GAACD,CAAC,CAACkB,MAA9C,EAAqDjB,CAAC,EAAtD;AAAyDD,cAAAA,CAAC,CAACC,CAAD,CAAD,GAAKiE,SAAS,CAACjE,CAAD,CAAd;AAAzD;;AAA2ED,YAAAA,CAAC,CAAC,CAAD,CAAD,GAAKQ,CAAC,CAACoqB,MAAF,CAAS5qB,CAAC,CAAC,CAAD,CAAV,CAAL,EAAoB,YAAU,OAAOA,CAAC,CAAC,CAAD,CAAlB,IAAuBA,CAAC,CAAC6qB,OAAF,CAAU,IAAV,CAA3C;AAA2D,gBAAI3qB,CAAC,GAAC,CAAN;AAAQF,YAAAA,CAAC,CAAC,CAAD,CAAD,GAAKA,CAAC,CAAC,CAAD,CAAD,CAAKioB,OAAL,CAAa,eAAb,EAA6B,UAASpoB,CAAT,EAAWC,CAAX,EAAa;AAAC,kBAAG,SAAOD,CAAV,EAAY,OAAOA,CAAP;AAASK,cAAAA,CAAC;AAAG,kBAAIH,CAAC,GAACS,CAAC,CAAC2pB,UAAF,CAAarqB,CAAb,CAAN;;AAAsB,kBAAG,cAAY,OAAOC,CAAtB,EAAwB;AAAC,oBAAIE,CAAC,GAACD,CAAC,CAACE,CAAD,CAAP;AAAWL,gBAAAA,CAAC,GAACE,CAAC,CAAC+D,IAAF,CAAOrE,CAAP,EAASQ,CAAT,CAAF,EAAcD,CAAC,CAAC2W,MAAF,CAASzW,CAAT,EAAW,CAAX,CAAd,EAA4BA,CAAC,EAA7B;AAAgC;;AAAA,qBAAOL,CAAP;AAAS,aAAvK,CAAL,EAA8KW,CAAC,CAACqpB,UAAF,CAAa/lB,IAAb,CAAkBrE,CAAlB,EAAoBO,CAApB,CAA9K,EAAqM,CAACH,CAAC,CAACuoB,GAAF,IAAO5nB,CAAC,CAAC4nB,GAAT,IAAcF,OAAO,CAACE,GAAR,CAAYvjB,IAAZ,CAAiBqjB,OAAjB,CAAf,EAA0CxjB,KAA1C,CAAgDjF,CAAhD,EAAkDO,CAAlD,CAArM;AAA0P;AAAC;;AAAA,eAAOH,CAAC,CAACiH,SAAF,GAAYrH,CAAZ,EAAcI,CAAC,CAAC4qB,OAAF,GAAUjqB,CAAC,CAACiqB,OAAF,CAAUhrB,CAAV,CAAxB,EAAqCI,CAAC,CAACqpB,SAAF,GAAY1oB,CAAC,CAAC0oB,SAAF,EAAjD,EAA+DrpB,CAAC,CAACwpB,KAAF,GAAQvpB,CAAC,CAACL,CAAD,CAAxE,EAA4E,cAAY,OAAOe,CAAC,CAACsqB,IAArB,IAA2BtqB,CAAC,CAACsqB,IAAF,CAAOjrB,CAAP,CAAvG,EAAiHA,CAAxH;AAA0H;;AAAA,eAASG,CAAT,CAAWP,CAAX,EAAa;AAACe,QAAAA,CAAC,CAACspB,IAAF,CAAOrqB,CAAP,GAAUe,CAAC,CAACuqB,KAAF,GAAQ,EAAlB,EAAqBvqB,CAAC,CAACwqB,KAAF,GAAQ,EAA7B;;AAAgC,aAAI,IAAInrB,CAAC,GAAC,CAAC,YAAU,OAAOJ,CAAjB,GAAmBA,CAAnB,GAAqB,EAAtB,EAA0B2G,KAA1B,CAAgC,QAAhC,CAAN,EAAgDtG,CAAC,GAACD,CAAC,CAACqB,MAApD,EAA2DnB,CAAC,GAAC,CAAjE,EAAmEA,CAAC,GAACD,CAArE,EAAuEC,CAAC,EAAxE;AAA2EF,UAAAA,CAAC,CAACE,CAAD,CAAD,KAAO,QAAM,CAACN,CAAC,GAACI,CAAC,CAACE,CAAD,CAAD,CAAKkoB,OAAL,CAAa,KAAb,EAAmB,KAAnB,CAAH,EAA8B,CAA9B,CAAN,GAAuCznB,CAAC,CAACwqB,KAAF,CAAQzlB,IAAR,CAAa,IAAIsa,MAAJ,CAAW,MAAIpgB,CAAC,CAACwrB,MAAF,CAAS,CAAT,CAAJ,GAAgB,GAA3B,CAAb,CAAvC,GAAqFzqB,CAAC,CAACuqB,KAAF,CAAQxlB,IAAR,CAAa,IAAIsa,MAAJ,CAAW,MAAIpgB,CAAJ,GAAM,GAAjB,CAAb,CAA5F;AAA3E;AAA4M;;AAAA,eAASQ,CAAT,GAAY;AAACO,QAAAA,CAAC,CAAC4I,MAAF,CAAS,EAAT;AAAa;;AAAA,eAASlJ,CAAT,CAAWT,CAAX,EAAa;AAAC,YAAII,CAAJ,EAAMC,CAAN;;AAAQ,aAAID,CAAC,GAAC,CAAF,EAAIC,CAAC,GAACU,CAAC,CAACwqB,KAAF,CAAQ9pB,MAAlB,EAAyBrB,CAAC,GAACC,CAA3B,EAA6BD,CAAC,EAA9B;AAAiC,cAAGW,CAAC,CAACwqB,KAAF,CAAQnrB,CAAR,EAAWY,IAAX,CAAgBhB,CAAhB,CAAH,EAAsB,OAAM,CAAC,CAAP;AAAvD;;AAAgE,aAAII,CAAC,GAAC,CAAF,EAAIC,CAAC,GAACU,CAAC,CAACuqB,KAAF,CAAQ7pB,MAAlB,EAAyBrB,CAAC,GAACC,CAA3B,EAA6BD,CAAC,EAA9B;AAAiC,cAAGW,CAAC,CAACuqB,KAAF,CAAQlrB,CAAR,EAAWY,IAAX,CAAgBhB,CAAhB,CAAH,EAAsB,OAAM,CAAC,CAAP;AAAvD;;AAAgE,eAAM,CAAC,CAAP;AAAS;;AAAA,eAASkG,CAAT,CAAWlG,CAAX,EAAa;AAAC,eAAOA,CAAC,YAAY0nB,KAAb,GAAmB1nB,CAAC,CAACqP,KAAF,IAASrP,CAAC,CAAC8qB,OAA9B,GAAsC9qB,CAA7C;AAA+C;;AAAA,UAAI0G,CAAJ;AAAM,OAAC3F,CAAC,GAACX,CAAC,CAACwhB,OAAF,GAAUthB,CAAC,CAAC0pB,KAAF,GAAQ1pB,CAAC,CAAC,SAAD,CAAD,GAAaA,CAAlC,EAAqC6qB,MAArC,GAA4CjlB,CAA5C,EAA8CnF,CAAC,CAAC6I,OAAF,GAAUpJ,CAAxD,EAA0DO,CAAC,CAAC4I,MAAF,GAASpJ,CAAnE,EAAqEQ,CAAC,CAACiqB,OAAF,GAAUvqB,CAA/E,EAAiFM,CAAC,CAAC2oB,QAAF,GAAW1pB,CAAC,CAAC,CAAD,CAA7F,EAAiGe,CAAC,CAACuqB,KAAF,GAAQ,EAAzG,EAA4GvqB,CAAC,CAACwqB,KAAF,GAAQ,EAApH,EAAuHxqB,CAAC,CAAC2pB,UAAF,GAAa,EAApI;AAAuI,KAAx2C,EAAy2C;AAAC,SAAE;AAAH,KAAz2C,CAArrD;AAAqiG,OAAE,CAAC,UAAStqB,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,OAAC,UAASC,CAAT,EAAWC,CAAX,EAAa;AAAC,SAAC,UAASH,CAAT,EAAWE,CAAX,EAAa;AAAC,8BAAiBD,CAAjB,KAAoB,KAAK,CAAL,KAASU,CAA7B,GAA+BA,CAAC,CAAC6gB,OAAF,GAAUthB,CAAC,EAA1C,GAA6C,cAAY,OAAON,CAAnB,IAAsBA,CAAC,CAACE,GAAxB,GAA4BF,CAAC,CAACM,CAAD,CAA7B,GAAiCF,CAAC,CAACqrB,UAAF,GAAanrB,CAAC,EAA5F;AAA+F,SAA7G,CAA8G,IAA9G,EAAmH,YAAU;AAAC;;AAAa,mBAASN,CAAT,CAAWA,CAAX,EAAa;AAAC,gBAAII,CAAC,WAAQJ,CAAR,CAAL;;AAAe,mBAAO,SAAOA,CAAP,KAAW,aAAWI,CAAX,IAAc,eAAaA,CAAtC,CAAP;AAAgD;;AAAA,mBAASW,CAAT,CAAWf,CAAX,EAAa;AAAC,mBAAM,cAAY,OAAOA,CAAzB;AAA2B;;AAAA,mBAASK,CAAT,CAAWL,CAAX,EAAa;AAAC0rB,YAAAA,CAAC,GAAC1rB,CAAF;AAAI;;AAAA,mBAASQ,CAAT,CAAWR,CAAX,EAAa;AAAC2rB,YAAAA,CAAC,GAAC3rB,CAAF;AAAI;;AAAA,mBAASS,CAAT,GAAY;AAAC,mBAAO,YAAU;AAAC,qBAAOH,CAAC,CAACsrB,QAAF,CAAWxW,CAAX,CAAP;AAAqB,aAAvC;AAAwC;;AAAA,mBAASlP,CAAT,GAAY;AAAC,mBAAO,KAAK,CAAL,KAAS2lB,CAAT,GAAW,YAAU;AAACA,cAAAA,CAAC,CAACzW,CAAD,CAAD;AAAK,aAA3B,GAA4BD,CAAC,EAApC;AAAuC;;AAAA,mBAASzO,CAAT,GAAY;AAAC,gBAAI1G,CAAC,GAAC,CAAN;AAAA,gBAAQI,CAAC,GAAC,IAAI0rB,CAAJ,CAAM1W,CAAN,CAAV;AAAA,gBAAmBrU,CAAC,GAACmC,QAAQ,CAAC6oB,cAAT,CAAwB,EAAxB,CAArB;AAAiD,mBAAO3rB,CAAC,CAAC4rB,OAAF,CAAUjrB,CAAV,EAAY;AAACkrB,cAAAA,aAAa,EAAC,CAAC;AAAhB,aAAZ,GAAgC,YAAU;AAAClrB,cAAAA,CAAC,CAACyC,IAAF,GAAOxD,CAAC,GAAC,EAAEA,CAAF,GAAI,CAAb;AAAe,aAAjE;AAAkE;;AAAA,mBAASgK,CAAT,GAAY;AAAC,gBAAIhK,CAAC,GAAC,IAAIksB,cAAJ,EAAN;AAAyB,mBAAOlsB,CAAC,CAACmsB,KAAF,CAAQC,SAAR,GAAkBhX,CAAlB,EAAoB,YAAU;AAAC,qBAAOpV,CAAC,CAACqsB,KAAF,CAAQC,WAAR,CAAoB,CAApB,CAAP;AAA8B,aAApE;AAAqE;;AAAA,mBAASnX,CAAT,GAAY;AAAC,gBAAInV,CAAC,GAACgF,UAAN;AAAiB,mBAAO,YAAU;AAAC,qBAAOhF,CAAC,CAACoV,CAAD,EAAG,CAAH,CAAR;AAAc,aAAhC;AAAiC;;AAAA,mBAASA,CAAT,GAAY;AAAC,iBAAI,IAAIpV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACusB,CAAd,EAAgBvsB,CAAC,IAAE,CAAnB,EAAqB;AAAC,eAAC,GAAEwsB,EAAE,CAACxsB,CAAD,CAAL,EAAUwsB,EAAE,CAACxsB,CAAC,GAAC,CAAH,CAAZ,GAAmBwsB,EAAE,CAACxsB,CAAD,CAAF,GAAM,KAAK,CAA9B,EAAgCwsB,EAAE,CAACxsB,CAAC,GAAC,CAAH,CAAF,GAAQ,KAAK,CAA7C;AAA+C;;AAAAusB,YAAAA,CAAC,GAAC,CAAF;AAAI;;AAAA,mBAASlX,CAAT,GAAY;AAAC,gBAAG;AAAC,kBAAIrV,CAAC,GAACI,CAAC,CAAC,OAAD,CAAP;AAAiB,qBAAOyrB,CAAC,GAAC7rB,CAAC,CAACysB,SAAF,IAAazsB,CAAC,CAAC0sB,YAAjB,EAA8BxmB,CAAC,EAAtC;AAAyC,aAA9D,CAA8D,OAAM7F,CAAN,EAAQ;AAAC,qBAAO8U,CAAC,EAAR;AAAW;AAAC;;AAAA,mBAASG,CAAT,CAAWtV,CAAX,EAAaI,CAAb,EAAe;AAAC,gBAAIW,CAAC,GAAC0D,SAAN;AAAA,gBAAgBpE,CAAC,GAAC,IAAlB;AAAA,gBAAuBC,CAAC,GAAC,IAAI,KAAK8G,WAAT,CAAqBoO,CAArB,CAAzB;AAAiD,iBAAK,CAAL,KAASlV,CAAC,CAACqsB,EAAD,CAAV,IAAgBhC,CAAC,CAACrqB,CAAD,CAAjB;AAAqB,gBAAIC,CAAC,GAACF,CAAC,CAACusB,MAAR;AAAe,mBAAOrsB,CAAC,GAAC,YAAU;AAAC,kBAAIP,CAAC,GAACe,CAAC,CAACR,CAAC,GAAC,CAAH,CAAP;AAAaorB,cAAAA,CAAC,CAAC,YAAU;AAAC,uBAAOkB,CAAC,CAACtsB,CAAD,EAAGD,CAAH,EAAKN,CAAL,EAAOK,CAAC,CAACysB,OAAT,CAAR;AAA0B,eAAtC,CAAD;AAAyC,aAAjE,EAAD,GAAqEC,CAAC,CAAC1sB,CAAD,EAAGC,CAAH,EAAKN,CAAL,EAAOI,CAAP,CAAvE,EAAiFE,CAAxF;AAA0F;;AAAA,mBAASiV,CAAT,CAAWvV,CAAX,EAAa;AAAC,gBAAII,CAAC,GAAC,IAAN;AAAW,gBAAGJ,CAAC,IAAE,oBAAiBA,CAAjB,CAAH,IAAuBA,CAAC,CAACoH,WAAF,KAAgBhH,CAA1C,EAA4C,OAAOJ,CAAP;AAAS,gBAAIe,CAAC,GAAC,IAAIX,CAAJ,CAAMoV,CAAN,CAAN;AAAe,mBAAOwX,CAAC,CAACjsB,CAAD,EAAGf,CAAH,CAAD,EAAOe,CAAd;AAAgB;;AAAA,mBAASyU,CAAT,GAAY,CAAE;;AAAA,mBAASC,CAAT,GAAY;AAAC,mBAAO,IAAIwX,SAAJ,CAAc,0CAAd,CAAP;AAAiE;;AAAA,mBAASvX,CAAT,GAAY;AAAC,mBAAO,IAAIuX,SAAJ,CAAc,sDAAd,CAAP;AAA6E;;AAAA,mBAAStX,CAAT,CAAW3V,CAAX,EAAa;AAAC,gBAAG;AAAC,qBAAOA,CAAC,CAACktB,IAAT;AAAc,aAAlB,CAAkB,OAAM9sB,CAAN,EAAQ;AAAC,qBAAO+sB,EAAE,CAACrlB,KAAH,GAAS1H,CAAT,EAAW+sB,EAAlB;AAAqB;AAAC;;AAAA,mBAASC,CAAT,CAAWptB,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiBV,CAAjB,EAAmB;AAAC,gBAAG;AAACL,cAAAA,CAAC,CAACqE,IAAF,CAAOjE,CAAP,EAASW,CAAT,EAAWV,CAAX;AAAc,aAAlB,CAAkB,OAAMC,CAAN,EAAQ;AAAC,qBAAOA,CAAP;AAAS;AAAC;;AAAA,mBAASqZ,CAAT,CAAW3Z,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC4qB,YAAAA,CAAC,CAAC,UAAS3rB,CAAT,EAAW;AAAC,kBAAIK,CAAC,GAAC,CAAC,CAAP;AAAA,kBAASC,CAAC,GAAC8sB,CAAC,CAACrsB,CAAD,EAAGX,CAAH,EAAK,UAASW,CAAT,EAAW;AAACV,gBAAAA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAH,EAAKD,CAAC,KAAGW,CAAJ,GAAMisB,CAAC,CAAChtB,CAAD,EAAGe,CAAH,CAAP,GAAassB,CAAC,CAACrtB,CAAD,EAAGe,CAAH,CAAtB,CAAD;AAA8B,eAA/C,EAAgD,UAASX,CAAT,EAAW;AAACC,gBAAAA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAH,EAAKitB,CAAC,CAACttB,CAAD,EAAGI,CAAH,CAAT,CAAD;AAAiB,eAA7E,EAA8E,cAAYJ,CAAC,CAACutB,MAAF,IAAU,kBAAtB,CAA9E,CAAZ;AAAqI,eAACltB,CAAD,IAAIC,CAAJ,KAAQD,CAAC,GAAC,CAAC,CAAH,EAAKitB,CAAC,CAACttB,CAAD,EAAGM,CAAH,CAAd;AAAqB,aAAvK,EAAwKN,CAAxK,CAAD;AAA4K;;AAAA,mBAASslB,CAAT,CAAWtlB,CAAX,EAAaI,CAAb,EAAe;AAACA,YAAAA,CAAC,CAACwsB,MAAF,KAAWY,EAAX,GAAcH,CAAC,CAACrtB,CAAD,EAAGI,CAAC,CAAC0sB,OAAL,CAAf,GAA6B1sB,CAAC,CAACwsB,MAAF,KAAWa,EAAX,GAAcH,CAAC,CAACttB,CAAD,EAAGI,CAAC,CAAC0sB,OAAL,CAAf,GAA6BC,CAAC,CAAC3sB,CAAD,EAAG,KAAK,CAAR,EAAU,UAASA,CAAT,EAAW;AAAC,qBAAO4sB,CAAC,CAAChtB,CAAD,EAAGI,CAAH,CAAR;AAAc,aAApC,EAAqC,UAASA,CAAT,EAAW;AAAC,qBAAOktB,CAAC,CAACttB,CAAD,EAAGI,CAAH,CAAR;AAAc,aAA/D,CAA3D;AAA4H;;AAAA,mBAASstB,CAAT,CAAW1tB,CAAX,EAAaI,CAAb,EAAeC,CAAf,EAAiB;AAACD,YAAAA,CAAC,CAACgH,WAAF,KAAgBpH,CAAC,CAACoH,WAAlB,IAA+B/G,CAAC,KAAGiV,CAAnC,IAAsClV,CAAC,CAACgH,WAAF,CAAcumB,OAAd,KAAwBpY,CAA9D,GAAgE+P,CAAC,CAACtlB,CAAD,EAAGI,CAAH,CAAjE,GAAuEC,CAAC,KAAG8sB,EAAJ,IAAQG,CAAC,CAACttB,CAAD,EAAGmtB,EAAE,CAACrlB,KAAN,CAAD,EAAcqlB,EAAE,CAACrlB,KAAH,GAAS,IAA/B,IAAqC,KAAK,CAAL,KAASzH,CAAT,GAAWgtB,CAAC,CAACrtB,CAAD,EAAGI,CAAH,CAAZ,GAAkBW,CAAC,CAACV,CAAD,CAAD,GAAKsZ,CAAC,CAAC3Z,CAAD,EAAGI,CAAH,EAAKC,CAAL,CAAN,GAAcgtB,CAAC,CAACrtB,CAAD,EAAGI,CAAH,CAA7I;AAAmJ;;AAAA,mBAAS4sB,CAAT,CAAW5sB,CAAX,EAAaW,CAAb,EAAe;AAACX,YAAAA,CAAC,KAAGW,CAAJ,GAAMusB,CAAC,CAACltB,CAAD,EAAGqV,CAAC,EAAJ,CAAP,GAAezV,CAAC,CAACe,CAAD,CAAD,GAAK2sB,CAAC,CAACttB,CAAD,EAAGW,CAAH,EAAK4U,CAAC,CAAC5U,CAAD,CAAN,CAAN,GAAiBssB,CAAC,CAACjtB,CAAD,EAAGW,CAAH,CAAjC;AAAuC;;AAAA,mBAAS6sB,CAAT,CAAW5tB,CAAX,EAAa;AAACA,YAAAA,CAAC,CAAC6tB,QAAF,IAAY7tB,CAAC,CAAC6tB,QAAF,CAAW7tB,CAAC,CAAC8sB,OAAb,CAAZ,EAAkCgB,CAAC,CAAC9tB,CAAD,CAAnC;AAAuC;;AAAA,mBAASqtB,CAAT,CAAWrtB,CAAX,EAAaI,CAAb,EAAe;AAACJ,YAAAA,CAAC,CAAC4sB,MAAF,KAAWmB,EAAX,KAAgB/tB,CAAC,CAAC8sB,OAAF,GAAU1sB,CAAV,EAAYJ,CAAC,CAAC4sB,MAAF,GAASY,EAArB,EAAwB,MAAIxtB,CAAC,CAACguB,YAAF,CAAevsB,MAAnB,IAA2BkqB,CAAC,CAACmC,CAAD,EAAG9tB,CAAH,CAApE;AAA2E;;AAAA,mBAASstB,CAAT,CAAWttB,CAAX,EAAaI,CAAb,EAAe;AAACJ,YAAAA,CAAC,CAAC4sB,MAAF,KAAWmB,EAAX,KAAgB/tB,CAAC,CAAC4sB,MAAF,GAASa,EAAT,EAAYztB,CAAC,CAAC8sB,OAAF,GAAU1sB,CAAtB,EAAwBurB,CAAC,CAACiC,CAAD,EAAG5tB,CAAH,CAAzC;AAAgD;;AAAA,mBAAS+sB,CAAT,CAAW/sB,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiBV,CAAjB,EAAmB;AAAC,gBAAIC,CAAC,GAACN,CAAC,CAACguB,YAAR;AAAA,gBAAqBztB,CAAC,GAACD,CAAC,CAACmB,MAAzB;AAAgCzB,YAAAA,CAAC,CAAC6tB,QAAF,GAAW,IAAX,EAAgBvtB,CAAC,CAACC,CAAD,CAAD,GAAKH,CAArB,EAAuBE,CAAC,CAACC,CAAC,GAACitB,EAAH,CAAD,GAAQzsB,CAA/B,EAAiCT,CAAC,CAACC,CAAC,GAACktB,EAAH,CAAD,GAAQptB,CAAzC,EAA2C,MAAIE,CAAJ,IAAOP,CAAC,CAAC4sB,MAAT,IAAiBjB,CAAC,CAACmC,CAAD,EAAG9tB,CAAH,CAA7D;AAAmE;;AAAA,mBAAS8tB,CAAT,CAAW9tB,CAAX,EAAa;AAAC,gBAAII,CAAC,GAACJ,CAAC,CAACguB,YAAR;AAAA,gBAAqBjtB,CAAC,GAACf,CAAC,CAAC4sB,MAAzB;;AAAgC,gBAAG,MAAIxsB,CAAC,CAACqB,MAAT,EAAgB;AAAC,mBAAI,IAAIpB,CAAC,GAAC,KAAK,CAAX,EAAaC,CAAC,GAAC,KAAK,CAApB,EAAsBC,CAAC,GAACP,CAAC,CAAC8sB,OAA1B,EAAkCtsB,CAAC,GAAC,CAAxC,EAA0CA,CAAC,GAACJ,CAAC,CAACqB,MAA9C,EAAqDjB,CAAC,IAAE,CAAxD;AAA0DH,gBAAAA,CAAC,GAACD,CAAC,CAACI,CAAD,CAAH,EAAOF,CAAC,GAACF,CAAC,CAACI,CAAC,GAACO,CAAH,CAAV,EAAgBV,CAAC,GAACwsB,CAAC,CAAC9rB,CAAD,EAAGV,CAAH,EAAKC,CAAL,EAAOC,CAAP,CAAF,GAAYD,CAAC,CAACC,CAAD,CAA9B;AAA1D;;AAA4FP,cAAAA,CAAC,CAACguB,YAAF,CAAevsB,MAAf,GAAsB,CAAtB;AAAwB;AAAC;;AAAA,mBAASwsB,CAAT,GAAY;AAAC,iBAAKnmB,KAAL,GAAW,IAAX;AAAgB;;AAAA,mBAASomB,CAAT,CAAWluB,CAAX,EAAaI,CAAb,EAAe;AAAC,gBAAG;AAAC,qBAAOJ,CAAC,CAACI,CAAD,CAAR;AAAY,aAAhB,CAAgB,OAAMW,CAAN,EAAQ;AAAC,qBAAOotB,EAAE,CAACrmB,KAAH,GAAS/G,CAAT,EAAWotB,EAAlB;AAAqB;AAAC;;AAAA,mBAAStB,CAAT,CAAW7sB,CAAX,EAAaI,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmB;AAAC,gBAAIC,CAAC,GAACQ,CAAC,CAACV,CAAD,CAAP;AAAA,gBAAWG,CAAC,GAAC,KAAK,CAAlB;AAAA,gBAAoBC,CAAC,GAAC,KAAK,CAA3B;AAAA,gBAA6ByF,CAAC,GAAC,KAAK,CAApC;AAAA,gBAAsCQ,CAAC,GAAC,KAAK,CAA7C;;AAA+C,gBAAGnG,CAAH,EAAK;AAAC,kBAAG,CAACC,CAAC,GAAC0tB,CAAC,CAAC7tB,CAAD,EAAGC,CAAH,CAAJ,MAAa6tB,EAAb,IAAiBznB,CAAC,GAAC,CAAC,CAAH,EAAKjG,CAAC,GAACD,CAAC,CAACsH,KAAT,EAAetH,CAAC,CAACsH,KAAF,GAAQ,IAAxC,IAA8C5B,CAAC,GAAC,CAAC,CAAjD,EAAmD9F,CAAC,KAAGI,CAA1D,EAA4D,OAAO,KAAK8sB,CAAC,CAACltB,CAAD,EAAGsV,CAAC,EAAJ,CAAb;AAAqB,aAAvF,MAA4FlV,CAAC,GAACF,CAAF,EAAI4F,CAAC,GAAC,CAAC,CAAP;;AAAS9F,YAAAA,CAAC,CAACwsB,MAAF,KAAWmB,EAAX,KAAgBxtB,CAAC,IAAE2F,CAAH,GAAK8mB,CAAC,CAAC5sB,CAAD,EAAGI,CAAH,CAAN,GAAYkG,CAAC,GAAC4mB,CAAC,CAACltB,CAAD,EAAGK,CAAH,CAAF,GAAQT,CAAC,KAAGwtB,EAAJ,GAAOH,CAAC,CAACjtB,CAAD,EAAGI,CAAH,CAAR,GAAcR,CAAC,KAAGytB,EAAJ,IAAQH,CAAC,CAACltB,CAAD,EAAGI,CAAH,CAA5D;AAAmE;;AAAA,mBAAS4tB,CAAT,CAAWpuB,CAAX,EAAaI,CAAb,EAAe;AAAC,gBAAG;AAACA,cAAAA,CAAC,CAAC,UAASA,CAAT,EAAW;AAAC4sB,gBAAAA,CAAC,CAAChtB,CAAD,EAAGI,CAAH,CAAD;AAAO,eAApB,EAAqB,UAASA,CAAT,EAAW;AAACktB,gBAAAA,CAAC,CAACttB,CAAD,EAAGI,CAAH,CAAD;AAAO,eAAxC,CAAD;AAA2C,aAA/C,CAA+C,OAAMW,CAAN,EAAQ;AAACusB,cAAAA,CAAC,CAACttB,CAAD,EAAGe,CAAH,CAAD;AAAO;AAAC;;AAAA,mBAASstB,CAAT,GAAY;AAAC,mBAAOC,EAAE,EAAT;AAAY;;AAAA,mBAAS3D,CAAT,CAAW3qB,CAAX,EAAa;AAACA,YAAAA,CAAC,CAAC2sB,EAAD,CAAD,GAAM2B,EAAE,EAAR,EAAWtuB,CAAC,CAAC4sB,MAAF,GAAS,KAAK,CAAzB,EAA2B5sB,CAAC,CAAC8sB,OAAF,GAAU,KAAK,CAA1C,EAA4C9sB,CAAC,CAACguB,YAAF,GAAe,EAA3D;AAA8D;;AAAA,mBAASO,CAAT,CAAWvuB,CAAX,EAAaI,CAAb,EAAe;AAAC,iBAAKouB,oBAAL,GAA0BxuB,CAA1B,EAA4B,KAAKyuB,OAAL,GAAa,IAAIzuB,CAAJ,CAAMwV,CAAN,CAAzC,EAAkD,KAAKiZ,OAAL,CAAa9B,EAAb,KAAkBhC,CAAC,CAAC,KAAK8D,OAAN,CAArE,EAAoFC,CAAC,CAACtuB,CAAD,CAAD,IAAM,KAAKqB,MAAL,GAAYrB,CAAC,CAACqB,MAAd,EAAqB,KAAKktB,UAAL,GAAgBvuB,CAAC,CAACqB,MAAvC,EAA8C,KAAKqrB,OAAL,GAAa,IAAI3mB,KAAJ,CAAU,KAAK1E,MAAf,CAA3D,EAAkF,MAAI,KAAKA,MAAT,GAAgB4rB,CAAC,CAAC,KAAKoB,OAAN,EAAc,KAAK3B,OAAnB,CAAjB,IAA8C,KAAKrrB,MAAL,GAAY,KAAKA,MAAL,IAAa,CAAzB,EAA2B,KAAKmtB,UAAL,CAAgBxuB,CAAhB,CAA3B,EAA8C,MAAI,KAAKuuB,UAAT,IAAqBtB,CAAC,CAAC,KAAKoB,OAAN,EAAc,KAAK3B,OAAnB,CAAlH,CAAxF,IAAwOQ,CAAC,CAAC,KAAKmB,OAAN,EAAcI,CAAC,EAAf,CAA7T;AAAgV;;AAAA,mBAASA,CAAT,GAAY;AAAC,mBAAO,IAAInH,KAAJ,CAAU,yCAAV,CAAP;AAA4D;;AAAA,mBAASoH,CAAT,CAAW9uB,CAAX,EAAa;AAAC,mBAAO,IAAIuuB,CAAJ,CAAM,IAAN,EAAWvuB,CAAX,EAAcyuB,OAArB;AAA6B;;AAAA,mBAASM,CAAT,CAAW/uB,CAAX,EAAa;AAAC,gBAAII,CAAC,GAAC,IAAN;AAAW,mBAAO,IAAIA,CAAJ,CAAMsuB,CAAC,CAAC1uB,CAAD,CAAD,GAAK,UAASe,CAAT,EAAWV,CAAX,EAAa;AAAC,mBAAI,IAAIC,CAAC,GAACN,CAAC,CAACyB,MAAR,EAAelB,CAAC,GAAC,CAArB,EAAuBA,CAAC,GAACD,CAAzB,EAA2BC,CAAC,EAA5B;AAA+BH,gBAAAA,CAAC,CAACutB,OAAF,CAAU3tB,CAAC,CAACO,CAAD,CAAX,EAAgB2sB,IAAhB,CAAqBnsB,CAArB,EAAuBV,CAAvB;AAA/B;AAAyD,aAA5E,GAA6E,UAASL,CAAT,EAAWI,CAAX,EAAa;AAAC,qBAAOA,CAAC,CAAC,IAAI6sB,SAAJ,CAAc,iCAAd,CAAD,CAAR;AAA2D,aAA5J,CAAP;AAAqK;;AAAA,mBAAS+B,CAAT,CAAWhvB,CAAX,EAAa;AAAC,gBAAII,CAAC,GAAC,IAAI,IAAJ,CAASoV,CAAT,CAAN;AAAkB,mBAAO8X,CAAC,CAACltB,CAAD,EAAGJ,CAAH,CAAD,EAAOI,CAAd;AAAgB;;AAAA,mBAAS6uB,CAAT,GAAY;AAAC,kBAAM,IAAIhC,SAAJ,CAAc,oFAAd,CAAN;AAA0G;;AAAA,mBAASiC,CAAT,GAAY;AAAC,kBAAM,IAAIjC,SAAJ,CAAc,uHAAd,CAAN;AAA6I;;AAAA,mBAASkC,CAAT,CAAWnvB,CAAX,EAAa;AAAC,iBAAK2sB,EAAL,IAAS0B,CAAC,EAAV,EAAa,KAAKvB,OAAL,GAAa,KAAKF,MAAL,GAAY,KAAK,CAA3C,EAA6C,KAAKoB,YAAL,GAAkB,EAA/D,EAAkExY,CAAC,KAAGxV,CAAJ,KAAQ,cAAY,OAAOA,CAAnB,IAAsBivB,CAAC,EAAvB,EAA0B,gBAAgBE,CAAhB,GAAkBf,CAAC,CAAC,IAAD,EAAMpuB,CAAN,CAAnB,GAA4BkvB,CAAC,EAA/D,CAAlE;AAAqI;;AAAA,mBAASE,CAAT,GAAY;AAAC,gBAAIpvB,CAAC,GAAC,KAAK,CAAX;AAAa,gBAAG,KAAK,CAAL,KAASO,CAAZ,EAAcP,CAAC,GAACO,CAAF,CAAd,KAAuB,IAAG,eAAa,OAAOinB,IAAvB,EAA4BxnB,CAAC,GAACwnB,IAAF,CAA5B,KAAwC,IAAG;AAACxnB,cAAAA,CAAC,GAAC6pB,QAAQ,CAAC,aAAD,CAAR,EAAF;AAA4B,aAAhC,CAAgC,OAAMzpB,CAAN,EAAQ;AAAC,oBAAM,IAAIsnB,KAAJ,CAAU,0EAAV,CAAN;AAA4F;AAAA,gBAAI3mB,CAAC,GAACf,CAAC,CAACqvB,OAAR;;AAAgB,gBAAGtuB,CAAH,EAAK;AAAC,kBAAIV,CAAC,GAAC,IAAN;;AAAW,kBAAG;AAACA,gBAAAA,CAAC,GAACivB,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAjB,CAA0BlrB,IAA1B,CAA+BtD,CAAC,CAAC4sB,OAAF,EAA/B,CAAF;AAA8C,eAAlD,CAAkD,OAAMvtB,CAAN,EAAQ,CAAE;;AAAA,kBAAG,uBAAqBC,CAArB,IAAwB,CAACU,CAAC,CAACyuB,IAA9B,EAAmC;AAAO;;AAAAxvB,YAAAA,CAAC,CAACqvB,OAAF,GAAUF,CAAV;AAAY;;AAAA,cAAIT,CAAC,GAACvoB,KAAK,CAAC0M,OAAN,GAAc1M,KAAK,CAAC0M,OAApB,GAA4B,UAAS7S,CAAT,EAAW;AAAC,mBAAM,qBAAmBsvB,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAjB,CAA0BlrB,IAA1B,CAA+BrE,CAA/B,CAAzB;AAA2D,WAAzG;AAAA,cAA0GusB,CAAC,GAAC,CAA5G;AAAA,cAA8GV,CAAC,GAAC,KAAK,CAArH;AAAA,cAAuHH,CAAC,GAAC,KAAK,CAA9H;AAAA,cAAgIC,CAAC,GAAC,WAAS3rB,CAAT,EAAWI,CAAX,EAAa;AAACosB,YAAAA,EAAE,CAACD,CAAD,CAAF,GAAMvsB,CAAN,EAAQwsB,EAAE,CAACD,CAAC,GAAC,CAAH,CAAF,GAAQnsB,CAAhB,EAAkB,OAAKmsB,CAAC,IAAE,CAAR,MAAab,CAAC,GAACA,CAAC,CAACtW,CAAD,CAAF,GAAMqa,EAAE,EAAtB,CAAlB;AAA4C,WAA5L;AAAA,cAA6LC,CAAC,GAAC,eAAa,OAAO9mB,MAApB,GAA2BA,MAA3B,GAAkC,KAAK,CAAtO;AAAA,cAAwO+mB,CAAC,GAACD,CAAC,IAAE,EAA7O;AAAA,cAAgP5D,CAAC,GAAC6D,CAAC,CAACC,gBAAF,IAAoBD,CAAC,CAACE,sBAAxQ;AAAA,cAA+RC,CAAC,GAAC,eAAa,OAAOtI,IAApB,IAA0B,KAAK,CAAL,KAASlnB,CAAnC,IAAsC,uBAAqB,GAAGivB,QAAH,CAAYlrB,IAAZ,CAAiB/D,CAAjB,CAA5V;AAAA,cAAgXyvB,EAAE,GAAC,eAAa,OAAOC,iBAApB,IAAuC,eAAa,OAAOC,aAA3D,IAA0E,eAAa,OAAO/D,cAAjd;AAAA,cAAgeM,EAAE,GAAC,IAAIrmB,KAAJ,CAAU,GAAV,CAAne;AAAA,cAAkfspB,EAAE,GAAC,KAAK,CAA1f;;AAA4fA,UAAAA,EAAE,GAACK,CAAC,GAACrvB,CAAC,EAAF,GAAKqrB,CAAC,GAACplB,CAAC,EAAF,GAAKqpB,EAAE,GAAC/lB,CAAC,EAAF,GAAK,KAAK,CAAL,KAAS0lB,CAAT,IAAY,cAAY,OAAOtvB,CAA/B,GAAiCiV,CAAC,EAAlC,GAAqCF,CAAC,EAA5D;AAA+D,cAAIwX,EAAE,GAAClf,IAAI,CAACyiB,MAAL,GAAcX,QAAd,CAAuB,EAAvB,EAA2BY,SAA3B,CAAqC,EAArC,CAAP;AAAA,cAAgDpC,EAAE,GAAC,KAAK,CAAxD;AAAA,cAA0DP,EAAE,GAAC,CAA7D;AAAA,cAA+DC,EAAE,GAAC,CAAlE;AAAA,cAAoEN,EAAE,GAAC,IAAIc,CAAJ,EAAvE;AAAA,cAA6EE,EAAE,GAAC,IAAIF,CAAJ,EAAhF;AAAA,cAAsFK,EAAE,GAAC,CAAzF;AAA2F,iBAAOC,CAAC,CAAC3oB,SAAF,CAAYgpB,UAAZ,GAAuB,UAAS5uB,CAAT,EAAW;AAAC,iBAAI,IAAII,CAAC,GAAC,CAAV,EAAY,KAAKwsB,MAAL,KAAcmB,EAAd,IAAkB3tB,CAAC,GAACJ,CAAC,CAACyB,MAAlC,EAAyCrB,CAAC,EAA1C;AAA6C,mBAAKgwB,UAAL,CAAgBpwB,CAAC,CAACI,CAAD,CAAjB,EAAqBA,CAArB;AAA7C;AAAqE,WAAxG,EAAyGmuB,CAAC,CAAC3oB,SAAF,CAAYwqB,UAAZ,GAAuB,UAASpwB,CAAT,EAAWI,CAAX,EAAa;AAAC,gBAAIW,CAAC,GAAC,KAAKytB,oBAAX;AAAA,gBAAgCnuB,CAAC,GAACU,CAAC,CAAC4sB,OAApC;;AAA4C,gBAAGttB,CAAC,KAAGkV,CAAP,EAAS;AAAC,kBAAIjV,CAAC,GAACqV,CAAC,CAAC3V,CAAD,CAAP;;AAAW,kBAAGM,CAAC,KAAGgV,CAAJ,IAAOtV,CAAC,CAAC4sB,MAAF,KAAWmB,EAArB,EAAwB,KAAKsC,UAAL,CAAgBrwB,CAAC,CAAC4sB,MAAlB,EAAyBxsB,CAAzB,EAA2BJ,CAAC,CAAC8sB,OAA7B,EAAxB,KAAmE,IAAG,cAAY,OAAOxsB,CAAtB,EAAwB,KAAKquB,UAAL,IAAkB,KAAK7B,OAAL,CAAa1sB,CAAb,IAAgBJ,CAAlC,CAAxB,KAAiE,IAAGe,CAAC,KAAGouB,CAAP,EAAS;AAAC,oBAAI5uB,CAAC,GAAC,IAAIQ,CAAJ,CAAMyU,CAAN,CAAN;AAAekY,gBAAAA,CAAC,CAACntB,CAAD,EAAGP,CAAH,EAAKM,CAAL,CAAD,EAAS,KAAKgwB,aAAL,CAAmB/vB,CAAnB,EAAqBH,CAArB,CAAT;AAAiC,eAA1D,MAA+D,KAAKkwB,aAAL,CAAmB,IAAIvvB,CAAJ,CAAM,UAASX,CAAT,EAAW;AAAC,uBAAOA,CAAC,CAACJ,CAAD,CAAR;AAAY,eAA9B,CAAnB,EAAmDI,CAAnD;AAAsD,aAA9Q,MAAmR,KAAKkwB,aAAL,CAAmBjwB,CAAC,CAACL,CAAD,CAApB,EAAwBI,CAAxB;AAA2B,WAAxe,EAAyemuB,CAAC,CAAC3oB,SAAF,CAAYyqB,UAAZ,GAAuB,UAASrwB,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,gBAAIV,CAAC,GAAC,KAAKouB,OAAX;AAAmBpuB,YAAAA,CAAC,CAACusB,MAAF,KAAWmB,EAAX,KAAgB,KAAKY,UAAL,IAAkB3uB,CAAC,KAAGytB,EAAJ,GAAOH,CAAC,CAACjtB,CAAD,EAAGU,CAAH,CAAR,GAAc,KAAK+rB,OAAL,CAAa1sB,CAAb,IAAgBW,CAAhE,GAAmE,MAAI,KAAK4tB,UAAT,IAAqBtB,CAAC,CAAChtB,CAAD,EAAG,KAAKysB,OAAR,CAAzF;AAA0G,WAA7oB,EAA8oByB,CAAC,CAAC3oB,SAAF,CAAY0qB,aAAZ,GAA0B,UAAStwB,CAAT,EAAWI,CAAX,EAAa;AAAC,gBAAIW,CAAC,GAAC,IAAN;AAAWgsB,YAAAA,CAAC,CAAC/sB,CAAD,EAAG,KAAK,CAAR,EAAU,UAASA,CAAT,EAAW;AAAC,qBAAOe,CAAC,CAACsvB,UAAF,CAAa7C,EAAb,EAAgBptB,CAAhB,EAAkBJ,CAAlB,CAAP;AAA4B,aAAlD,EAAmD,UAASA,CAAT,EAAW;AAAC,qBAAOe,CAAC,CAACsvB,UAAF,CAAa5C,EAAb,EAAgBrtB,CAAhB,EAAkBJ,CAAlB,CAAP;AAA4B,aAA3F,CAAD;AAA8F,WAA/xB,EAAgyBmvB,CAAC,CAACoB,GAAF,GAAMzB,CAAtyB,EAAwyBK,CAAC,CAACqB,IAAF,GAAOzB,CAA/yB,EAAizBI,CAAC,CAACxB,OAAF,GAAUpY,CAA3zB,EAA6zB4Z,CAAC,CAACsB,MAAF,GAASzB,CAAt0B,EAAw0BG,CAAC,CAACuB,aAAF,GAAgBrwB,CAAx1B,EAA01B8uB,CAAC,CAACwB,QAAF,GAAWnwB,CAAr2B,EAAu2B2uB,CAAC,CAACyB,KAAF,GAAQjF,CAA/2B,EAAi3BwD,CAAC,CAACvpB,SAAF,GAAY;AAACwB,YAAAA,WAAW,EAAC+nB,CAAb;AAAejC,YAAAA,IAAI,EAAC5X,CAApB;AAAsB,qBAAQ,gBAAStV,CAAT,EAAW;AAAC,qBAAO,KAAKktB,IAAL,CAAU,IAAV,EAAeltB,CAAf,CAAP;AAAyB;AAAnE,WAA73B,EAAk8BmvB,CAAC,CAAC0B,QAAF,GAAWzB,CAA78B,EAA+8BD,CAAC,CAACE,OAAF,GAAUF,CAAz9B,EAA29BA,CAAl+B;AAAo+B,SAAtjM,CAAD;AAAyjM,OAAxkM,EAA0kM9qB,IAA1kM,CAA+kM,IAA/kM,EAAolMjE,CAAC,CAAC,EAAD,CAArlM,EAA0lM,eAAa,OAAO6oB,MAApB,GAA2BA,MAA3B,GAAkC,eAAa,OAAOzB,IAApB,GAAyBA,IAAzB,GAA8B,eAAa,OAAO5e,MAApB,GAA2BA,MAA3B,GAAkC,EAA5rM;AAAgsM,KAAjtM,EAAktM;AAAC,UAAG;AAAJ,KAAltM,CAAviG;AAAkwS,OAAE,CAAC,UAAS5I,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,GAAY;AAAC,aAAKogB,OAAL,GAAa,KAAKA,OAAL,IAAc,EAA3B,EAA8B,KAAK2P,aAAL,GAAmB,KAAKA,aAAL,IAAoB,KAAK,CAA1E;AAA4E;;AAAA,eAASzwB,CAAT,CAAWL,CAAX,EAAa;AAAC,eAAM,cAAY,OAAOA,CAAzB;AAA2B;;AAAA,eAASM,CAAT,CAAWN,CAAX,EAAa;AAAC,eAAM,YAAU,OAAOA,CAAvB;AAAyB;;AAAA,eAASO,CAAT,CAAWP,CAAX,EAAa;AAAC,eAAM,oBAAiBA,CAAjB,KAAoB,SAAOA,CAAjC;AAAmC;;AAAA,eAASQ,CAAT,CAAWR,CAAX,EAAa;AAAC,eAAO,KAAK,CAAL,KAASA,CAAhB;AAAkB;;AAAAI,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV,EAAYA,CAAC,CAACkf,YAAF,GAAelf,CAA3B,EAA6BA,CAAC,CAAC6E,SAAF,CAAYub,OAAZ,GAAoB,KAAK,CAAtD,EAAwDpgB,CAAC,CAAC6E,SAAF,CAAYkrB,aAAZ,GAA0B,KAAK,CAAvF,EAAyF/vB,CAAC,CAACgwB,mBAAF,GAAsB,EAA/G,EAAkHhwB,CAAC,CAAC6E,SAAF,CAAYorB,eAAZ,GAA4B,UAAShxB,CAAT,EAAW;AAAC,YAAG,CAACM,CAAC,CAACN,CAAD,CAAF,IAAOA,CAAC,GAAC,CAAT,IAAY2D,KAAK,CAAC3D,CAAD,CAApB,EAAwB,MAAMitB,SAAS,CAAC,6BAAD,CAAf;AAA+C,eAAO,KAAK6D,aAAL,GAAmB9wB,CAAnB,EAAqB,IAA5B;AAAiC,OAAlQ,EAAmQe,CAAC,CAAC6E,SAAF,CAAY2b,IAAZ,GAAiB,UAASvhB,CAAT,EAAW;AAAC,YAAII,CAAJ,EAAMW,CAAN,EAAQT,CAAR,EAAUG,CAAV,EAAYyF,CAAZ,EAAcQ,CAAd;;AAAgB,YAAG,KAAKya,OAAL,KAAe,KAAKA,OAAL,GAAa,EAA5B,GAAgC,YAAUnhB,CAAV,KAAc,CAAC,KAAKmhB,OAAL,CAAarZ,KAAd,IAAqBvH,CAAC,CAAC,KAAK4gB,OAAL,CAAarZ,KAAd,CAAD,IAAuB,CAAC,KAAKqZ,OAAL,CAAarZ,KAAb,CAAmBrG,MAA9E,CAAnC,EAAyH;AAAC,cAAG,CAACrB,CAAC,GAACqE,SAAS,CAAC,CAAD,CAAZ,aAA2BijB,KAA9B,EAAoC,MAAMtnB,CAAN;AAAQ,cAAI4J,CAAC,GAAC,IAAI0d,KAAJ,CAAU,2CAAyCtnB,CAAzC,GAA2C,GAArD,CAAN;AAAgE,gBAAM4J,CAAC,CAACinB,OAAF,GAAU7wB,CAAV,EAAY4J,CAAlB;AAAoB;;AAAA,YAAGxJ,CAAC,CAACO,CAAC,GAAC,KAAKogB,OAAL,CAAanhB,CAAb,CAAH,CAAJ,EAAwB,OAAM,CAAC,CAAP;AAAS,YAAGK,CAAC,CAACU,CAAD,CAAJ,EAAQ,QAAO0D,SAAS,CAAChD,MAAjB;AAAyB,eAAK,CAAL;AAAOV,YAAAA,CAAC,CAACsD,IAAF,CAAO,IAAP;AAAa;;AAAM,eAAK,CAAL;AAAOtD,YAAAA,CAAC,CAACsD,IAAF,CAAO,IAAP,EAAYI,SAAS,CAAC,CAAD,CAArB;AAA0B;;AAAM,eAAK,CAAL;AAAO1D,YAAAA,CAAC,CAACsD,IAAF,CAAO,IAAP,EAAYI,SAAS,CAAC,CAAD,CAArB,EAAyBA,SAAS,CAAC,CAAD,CAAlC;AAAuC;;AAAM;AAAQhE,YAAAA,CAAC,GAAC0F,KAAK,CAACP,SAAN,CAAgBQ,KAAhB,CAAsB/B,IAAtB,CAA2BI,SAA3B,EAAqC,CAArC,CAAF,EAA0C1D,CAAC,CAACkE,KAAF,CAAQ,IAAR,EAAaxE,CAAb,CAA1C;AAAtJ,SAAR,MAA6N,IAAGF,CAAC,CAACQ,CAAD,CAAJ,EAAQ,KAAIN,CAAC,GAAC0F,KAAK,CAACP,SAAN,CAAgBQ,KAAhB,CAAsB/B,IAAtB,CAA2BI,SAA3B,EAAqC,CAArC,CAAF,EAA0CnE,CAAC,GAAC,CAACoG,CAAC,GAAC3F,CAAC,CAACqF,KAAF,EAAH,EAAc3E,MAA1D,EAAiEyE,CAAC,GAAC,CAAvE,EAAyEA,CAAC,GAAC5F,CAA3E,EAA6E4F,CAAC,EAA9E;AAAiFQ,UAAAA,CAAC,CAACR,CAAD,CAAD,CAAKjB,KAAL,CAAW,IAAX,EAAgBxE,CAAhB;AAAjF;AAAoG,eAAM,CAAC,CAAP;AAAS,OAA75B,EAA85BM,CAAC,CAAC6E,SAAF,CAAY2a,WAAZ,GAAwB,UAASvgB,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIE,CAAJ;AAAM,YAAG,CAACD,CAAC,CAACD,CAAD,CAAL,EAAS,MAAM6sB,SAAS,CAAC,6BAAD,CAAf;AAA+C,eAAO,KAAK9L,OAAL,KAAe,KAAKA,OAAL,GAAa,EAA5B,GAAgC,KAAKA,OAAL,CAAa+P,WAAb,IAA0B,KAAK3P,IAAL,CAAU,aAAV,EAAwBvhB,CAAxB,EAA0BK,CAAC,CAACD,CAAC,CAAC4f,QAAH,CAAD,GAAc5f,CAAC,CAAC4f,QAAhB,GAAyB5f,CAAnD,CAA1D,EAAgH,KAAK+gB,OAAL,CAAanhB,CAAb,IAAgBO,CAAC,CAAC,KAAK4gB,OAAL,CAAanhB,CAAb,CAAD,CAAD,GAAmB,KAAKmhB,OAAL,CAAanhB,CAAb,EAAgB8F,IAAhB,CAAqB1F,CAArB,CAAnB,GAA2C,KAAK+gB,OAAL,CAAanhB,CAAb,IAAgB,CAAC,KAAKmhB,OAAL,CAAanhB,CAAb,CAAD,EAAiBI,CAAjB,CAA3E,GAA+F,KAAK+gB,OAAL,CAAanhB,CAAb,IAAgBI,CAA/N,EAAiOG,CAAC,CAAC,KAAK4gB,OAAL,CAAanhB,CAAb,CAAD,CAAD,IAAoB,CAAC,KAAKmhB,OAAL,CAAanhB,CAAb,EAAgBmxB,MAArC,IAA8C,CAAC7wB,CAAC,GAACE,CAAC,CAAC,KAAKswB,aAAN,CAAD,GAAsB/vB,CAAC,CAACgwB,mBAAxB,GAA4C,KAAKD,aAApD,KAAoExwB,CAAC,GAAC,CAAtE,IAAyE,KAAK6gB,OAAL,CAAanhB,CAAb,EAAgByB,MAAhB,GAAuBnB,CAAhG,KAAoG,KAAK6gB,OAAL,CAAanhB,CAAb,EAAgBmxB,MAAhB,GAAuB,CAAC,CAAxB,EAA0B1I,OAAO,CAAC3gB,KAAR,CAAc,kIAAd,EAAiJ,KAAKqZ,OAAL,CAAanhB,CAAb,EAAgByB,MAAjK,CAA1B,EAAmM,cAAY,OAAOgnB,OAAO,CAAC2I,KAA3B,IAAkC3I,OAAO,CAAC2I,KAAR,EAAzU,CAA/Q,EAA0mB,IAAjnB;AAAsnB,OAAxnD,EAAynDrwB,CAAC,CAAC6E,SAAF,CAAY6a,EAAZ,GAAe1f,CAAC,CAAC6E,SAAF,CAAY2a,WAAppD,EAAgqDxf,CAAC,CAAC6E,SAAF,CAAY4a,IAAZ,GAAiB,UAASxgB,CAAT,EAAWI,CAAX,EAAa;AAAC,iBAASW,CAAT,GAAY;AAAC,eAAK8f,cAAL,CAAoB7gB,CAApB,EAAsBe,CAAtB,GAAyBT,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAH,EAAKF,CAAC,CAAC6E,KAAF,CAAQ,IAAR,EAAaR,SAAb,CAAR,CAA1B;AAA2D;;AAAA,YAAG,CAACpE,CAAC,CAACD,CAAD,CAAL,EAAS,MAAM6sB,SAAS,CAAC,6BAAD,CAAf;AAA+C,YAAI3sB,CAAC,GAAC,CAAC,CAAP;AAAS,eAAOS,CAAC,CAACif,QAAF,GAAW5f,CAAX,EAAa,KAAKqgB,EAAL,CAAQzgB,CAAR,EAAUe,CAAV,CAAb,EAA0B,IAAjC;AAAsC,OAA92D,EAA+2DA,CAAC,CAAC6E,SAAF,CAAYib,cAAZ,GAA2B,UAAS7gB,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIW,CAAJ,EAAMT,CAAN,EAAQE,CAAR,EAAUC,CAAV;AAAY,YAAG,CAACJ,CAAC,CAACD,CAAD,CAAL,EAAS,MAAM6sB,SAAS,CAAC,6BAAD,CAAf;AAA+C,YAAG,CAAC,KAAK9L,OAAN,IAAe,CAAC,KAAKA,OAAL,CAAanhB,CAAb,CAAnB,EAAmC,OAAO,IAAP;AAAY,YAAGQ,CAAC,GAAC,CAACO,CAAC,GAAC,KAAKogB,OAAL,CAAanhB,CAAb,CAAH,EAAoByB,MAAtB,EAA6BnB,CAAC,GAAC,CAAC,CAAhC,EAAkCS,CAAC,KAAGX,CAAJ,IAAOC,CAAC,CAACU,CAAC,CAACif,QAAH,CAAD,IAAejf,CAAC,CAACif,QAAF,KAAa5f,CAAxE,EAA0E,OAAO,KAAK+gB,OAAL,CAAanhB,CAAb,CAAP,EAAuB,KAAKmhB,OAAL,CAAaN,cAAb,IAA6B,KAAKU,IAAL,CAAU,gBAAV,EAA2BvhB,CAA3B,EAA6BI,CAA7B,CAApD,CAA1E,KAAmK,IAAGG,CAAC,CAACQ,CAAD,CAAJ,EAAQ;AAAC,eAAIN,CAAC,GAACD,CAAN,EAAQC,CAAC,KAAI,CAAb;AAAgB,gBAAGM,CAAC,CAACN,CAAD,CAAD,KAAOL,CAAP,IAAUW,CAAC,CAACN,CAAD,CAAD,CAAKuf,QAAL,IAAejf,CAAC,CAACN,CAAD,CAAD,CAAKuf,QAAL,KAAgB5f,CAA5C,EAA8C;AAACE,cAAAA,CAAC,GAACG,CAAF;AAAI;AAAM;AAAzE;;AAAyE,cAAGH,CAAC,GAAC,CAAL,EAAO,OAAO,IAAP;AAAY,gBAAIS,CAAC,CAACU,MAAN,IAAcV,CAAC,CAACU,MAAF,GAAS,CAAT,EAAW,OAAO,KAAK0f,OAAL,CAAanhB,CAAb,CAAhC,IAAiDe,CAAC,CAACmW,MAAF,CAAS5W,CAAT,EAAW,CAAX,CAAjD,EAA+D,KAAK6gB,OAAL,CAAaN,cAAb,IAA6B,KAAKU,IAAL,CAAU,gBAAV,EAA2BvhB,CAA3B,EAA6BI,CAA7B,CAA5F;AAA4H;AAAA,eAAO,IAAP;AAAY,OAA35E,EAA45EW,CAAC,CAAC6E,SAAF,CAAYwb,kBAAZ,GAA+B,UAASphB,CAAT,EAAW;AAAC,YAAII,CAAJ,EAAMW,CAAN;AAAQ,YAAG,CAAC,KAAKogB,OAAT,EAAiB,OAAO,IAAP;AAAY,YAAG,CAAC,KAAKA,OAAL,CAAaN,cAAjB,EAAgC,OAAO,MAAIpc,SAAS,CAAChD,MAAd,GAAqB,KAAK0f,OAAL,GAAa,EAAlC,GAAqC,KAAKA,OAAL,CAAanhB,CAAb,KAAiB,OAAO,KAAKmhB,OAAL,CAAanhB,CAAb,CAA7D,EAA6E,IAApF;;AAAyF,YAAG,MAAIyE,SAAS,CAAChD,MAAjB,EAAwB;AAAC,eAAIrB,CAAJ,IAAS,KAAK+gB,OAAd;AAAsB,iCAAmB/gB,CAAnB,IAAsB,KAAKghB,kBAAL,CAAwBhhB,CAAxB,CAAtB;AAAtB;;AAAuE,iBAAO,KAAKghB,kBAAL,CAAwB,gBAAxB,GAA0C,KAAKD,OAAL,GAAa,EAAvD,EAA0D,IAAjE;AAAsE;;AAAA,YAAG9gB,CAAC,CAACU,CAAC,GAAC,KAAKogB,OAAL,CAAanhB,CAAb,CAAH,CAAJ,EAAwB,KAAK6gB,cAAL,CAAoB7gB,CAApB,EAAsBe,CAAtB,EAAxB,KAAsD,IAAGA,CAAH,EAAK,OAAKA,CAAC,CAACU,MAAP;AAAe,eAAKof,cAAL,CAAoB7gB,CAApB,EAAsBe,CAAC,CAACA,CAAC,CAACU,MAAF,GAAS,CAAV,CAAvB;AAAf;AAAoD,eAAO,OAAO,KAAK0f,OAAL,CAAanhB,CAAb,CAAP,EAAuB,IAA9B;AAAmC,OAA75F,EAA85Fe,CAAC,CAAC6E,SAAF,CAAYyrB,SAAZ,GAAsB,UAASrxB,CAAT,EAAW;AAAC,eAAO,KAAKmhB,OAAL,IAAc,KAAKA,OAAL,CAAanhB,CAAb,CAAd,GAA8BK,CAAC,CAAC,KAAK8gB,OAAL,CAAanhB,CAAb,CAAD,CAAD,GAAmB,CAAC,KAAKmhB,OAAL,CAAanhB,CAAb,CAAD,CAAnB,GAAqC,KAAKmhB,OAAL,CAAanhB,CAAb,EAAgBoG,KAAhB,EAAnE,GAA2F,EAAlG;AAAqG,OAAriG,EAAsiGrF,CAAC,CAAC6E,SAAF,CAAY0rB,aAAZ,GAA0B,UAAStxB,CAAT,EAAW;AAAC,YAAG,KAAKmhB,OAAR,EAAgB;AAAC,cAAI/gB,CAAC,GAAC,KAAK+gB,OAAL,CAAanhB,CAAb,CAAN;AAAsB,cAAGK,CAAC,CAACD,CAAD,CAAJ,EAAQ,OAAO,CAAP;AAAS,cAAGA,CAAH,EAAK,OAAOA,CAAC,CAACqB,MAAT;AAAgB;;AAAA,eAAO,CAAP;AAAS,OAAlqG,EAAmqGV,CAAC,CAACuwB,aAAF,GAAgB,UAAStxB,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAOJ,CAAC,CAACsxB,aAAF,CAAgBlxB,CAAhB,CAAP;AAA0B,OAA3tG;AAA4tG,KAAr+G,EAAs+G,EAAt+G,CAApwS;AAA8uZ,OAAE,CAAC,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAC,GAACuuB,MAAM,CAAC1pB,SAAP,CAAiB6B,cAAvB;AAAA,UAAsCpH,CAAC,GAACivB,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAzD;;AAAkEnvB,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAaE,CAAb,EAAe;AAAC,YAAG,wBAAsBD,CAAC,CAACgE,IAAF,CAAOjE,CAAP,CAAzB,EAAmC,MAAM,IAAI6sB,SAAJ,CAAc,6BAAd,CAAN;AAAmD,YAAI1sB,CAAC,GAACP,CAAC,CAACyB,MAAR;AAAe,YAAGlB,CAAC,KAAG,CAACA,CAAR,EAAU,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,CAAd,EAAgBC,CAAC,EAAjB;AAAoBJ,UAAAA,CAAC,CAACiE,IAAF,CAAO/D,CAAP,EAASN,CAAC,CAACQ,CAAD,CAAV,EAAcA,CAAd,EAAgBR,CAAhB;AAApB,SAAV,MAAsD,KAAI,IAAIS,CAAR,IAAaT,CAAb;AAAee,UAAAA,CAAC,CAACsD,IAAF,CAAOrE,CAAP,EAASS,CAAT,KAAaL,CAAC,CAACiE,IAAF,CAAO/D,CAAP,EAASN,CAAC,CAACS,CAAD,CAAV,EAAcA,CAAd,EAAgBT,CAAhB,CAAb;AAAf;AAA+C,OAApO;AAAqO,KAAtT,EAAuT,EAAvT,CAAhvZ;AAA2ia,OAAE,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC,OAAC,UAASJ,CAAT,EAAW;AAAC,YAAIe,CAAJ;AAAMA,QAAAA,CAAC,GAAC,eAAa,OAAO6H,MAApB,GAA2BA,MAA3B,GAAkC,KAAK,CAAL,KAAS5I,CAAT,GAAWA,CAAX,GAAa,eAAa,OAAOwnB,IAApB,GAAyBA,IAAzB,GAA8B,EAA/E,EAAkFpnB,CAAC,CAACwhB,OAAF,GAAU7gB,CAA5F;AAA8F,OAAjH,EAAmHsD,IAAnH,CAAwH,IAAxH,EAA6H,eAAa,OAAO4kB,MAApB,GAA2BA,MAA3B,GAAkC,eAAa,OAAOzB,IAApB,GAAyBA,IAAzB,GAA8B,eAAa,OAAO5e,MAApB,GAA2BA,MAA3B,GAAkC,EAA/N;AAAmO,KAAlP,EAAmP,EAAnP,CAA7ia;AAAoya,OAAE,CAAC,UAAS5I,CAAT,EAAWI,CAAX,EAAa;AAAC,oBAAY,OAAOkvB,MAAM,CAACnnB,MAA1B,GAAiC/H,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAa;AAACJ,QAAAA,CAAC,CAACuxB,MAAF,GAASnxB,CAAT,EAAWJ,CAAC,CAAC4F,SAAF,GAAY0pB,MAAM,CAACnnB,MAAP,CAAc/H,CAAC,CAACwF,SAAhB,EAA0B;AAACwB,UAAAA,WAAW,EAAC;AAACoqB,YAAAA,KAAK,EAACxxB,CAAP;AAASyxB,YAAAA,UAAU,EAAC,CAAC,CAArB;AAAuBC,YAAAA,QAAQ,EAAC,CAAC,CAAjC;AAAmCC,YAAAA,YAAY,EAAC,CAAC;AAAjD;AAAb,SAA1B,CAAvB;AAAoH,OAA7K,GAA8KvxB,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAa;AAACJ,QAAAA,CAAC,CAACuxB,MAAF,GAASnxB,CAAT;;AAAW,YAAIW,CAAC,GAAC,SAAFA,CAAE,GAAU,CAAE,CAAlB;;AAAmBA,QAAAA,CAAC,CAAC6E,SAAF,GAAYxF,CAAC,CAACwF,SAAd,EAAwB5F,CAAC,CAAC4F,SAAF,GAAY,IAAI7E,CAAJ,EAApC,EAA0Cf,CAAC,CAAC4F,SAAF,CAAYwB,WAAZ,GAAwBpH,CAAlE;AAAoE,OAAxS;AAAyS,KAAxT,EAAyT,EAAzT,CAAtya;AAAmmb,OAAE,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAC,GAAC,GAAGwuB,QAAT;;AAAkBnvB,MAAAA,CAAC,CAACwhB,OAAF,GAAUzb,KAAK,CAAC0M,OAAN,IAAe,UAAS7S,CAAT,EAAW;AAAC,eAAM,oBAAkBe,CAAC,CAACsD,IAAF,CAAOrE,CAAP,CAAxB;AAAkC,OAAvE;AAAwE,KAAzG,EAA0G,EAA1G,CAArmb;AAAmtb,OAAE,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,CAAWf,CAAX,EAAa;AAAC,YAAG,EAAE,CAACA,CAAC,GAACiV,MAAM,CAACjV,CAAD,CAAT,EAAcyB,MAAd,GAAqB,GAAvB,CAAH,EAA+B;AAAC,cAAIrB,CAAC,GAAC,wHAAwHwE,IAAxH,CAA6H5E,CAA7H,CAAN;;AAAsI,cAAGI,CAAH,EAAK;AAAC,gBAAIW,CAAC,GAACiD,UAAU,CAAC5D,CAAC,CAAC,CAAD,CAAF,CAAhB;;AAAuB,oBAAO,CAACA,CAAC,CAAC,CAAD,CAAD,IAAM,IAAP,EAAaO,WAAb,EAAP;AAAmC,mBAAI,OAAJ;AAAY,mBAAI,MAAJ;AAAW,mBAAI,KAAJ;AAAU,mBAAI,IAAJ;AAAS,mBAAI,GAAJ;AAAQ,uBAAOI,CAAC,GAACiJ,CAAT;;AAAW,mBAAI,MAAJ;AAAW,mBAAI,KAAJ;AAAU,mBAAI,GAAJ;AAAQ,uBAAOjJ,CAAC,GAAC2F,CAAT;;AAAW,mBAAI,OAAJ;AAAY,mBAAI,MAAJ;AAAW,mBAAI,KAAJ;AAAU,mBAAI,IAAJ;AAAS,mBAAI,GAAJ;AAAQ,uBAAO3F,CAAC,GAACmF,CAAT;;AAAW,mBAAI,SAAJ;AAAc,mBAAI,QAAJ;AAAa,mBAAI,MAAJ;AAAW,mBAAI,KAAJ;AAAU,mBAAI,GAAJ;AAAQ,uBAAOnF,CAAC,GAACN,CAAT;;AAAW,mBAAI,SAAJ;AAAc,mBAAI,QAAJ;AAAa,mBAAI,MAAJ;AAAW,mBAAI,KAAJ;AAAU,mBAAI,GAAJ;AAAQ,uBAAOM,CAAC,GAACP,CAAT;;AAAW,mBAAI,cAAJ;AAAmB,mBAAI,aAAJ;AAAkB,mBAAI,OAAJ;AAAY,mBAAI,MAAJ;AAAW,mBAAI,IAAJ;AAAS,uBAAOO,CAAP;;AAAS;AAAQ;AAAja;AAAya;AAAC;AAAC;;AAAA,eAASV,CAAT,CAAWL,CAAX,EAAa;AAAC,eAAOA,CAAC,IAAE0G,CAAH,GAAK+G,IAAI,CAACqG,KAAL,CAAW9T,CAAC,GAAC0G,CAAb,IAAgB,GAArB,GAAyB1G,CAAC,IAAEkG,CAAH,GAAKuH,IAAI,CAACqG,KAAL,CAAW9T,CAAC,GAACkG,CAAb,IAAgB,GAArB,GAAyBlG,CAAC,IAAES,CAAH,GAAKgN,IAAI,CAACqG,KAAL,CAAW9T,CAAC,GAACS,CAAb,IAAgB,GAArB,GAAyBT,CAAC,IAAEQ,CAAH,GAAKiN,IAAI,CAACqG,KAAL,CAAW9T,CAAC,GAACQ,CAAb,IAAgB,GAArB,GAAyBR,CAAC,GAAC,IAA7G;AAAkH;;AAAA,eAASM,CAAT,CAAWN,CAAX,EAAa;AAAC,eAAOO,CAAC,CAACP,CAAD,EAAG0G,CAAH,EAAK,KAAL,CAAD,IAAcnG,CAAC,CAACP,CAAD,EAAGkG,CAAH,EAAK,MAAL,CAAf,IAA6B3F,CAAC,CAACP,CAAD,EAAGS,CAAH,EAAK,QAAL,CAA9B,IAA8CF,CAAC,CAACP,CAAD,EAAGQ,CAAH,EAAK,QAAL,CAA/C,IAA+DR,CAAC,GAAC,KAAxE;AAA8E;;AAAA,eAASO,CAAT,CAAWP,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,YAAG,EAAEf,CAAC,GAACI,CAAJ,CAAH,EAAU,OAAOJ,CAAC,GAAC,MAAII,CAAN,GAAQqN,IAAI,CAACmkB,KAAL,CAAW5xB,CAAC,GAACI,CAAb,IAAgB,GAAhB,GAAoBW,CAA5B,GAA8B0M,IAAI,CAACokB,IAAL,CAAU7xB,CAAC,GAACI,CAAZ,IAAe,GAAf,GAAmBW,CAAnB,GAAqB,GAA1D;AAA8D;;AAAA,UAAIP,CAAC,GAAC,GAAN;AAAA,UAAUC,CAAC,GAAC,KAAGD,CAAf;AAAA,UAAiB0F,CAAC,GAAC,KAAGzF,CAAtB;AAAA,UAAwBiG,CAAC,GAAC,KAAGR,CAA7B;AAAA,UAA+B8D,CAAC,GAAC,SAAOtD,CAAxC;;AAA0CtG,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAa;AAACA,QAAAA,CAAC,GAACA,CAAC,IAAE,EAAL;;AAAQ,YAAIG,CAAC,WAAQP,CAAR,CAAL;;AAAe,YAAG,aAAWO,CAAX,IAAcP,CAAC,CAACyB,MAAF,GAAS,CAA1B,EAA4B,OAAOV,CAAC,CAACf,CAAD,CAAR;AAAY,YAAG,aAAWO,CAAX,IAAc,CAAC,CAAD,KAAKoD,KAAK,CAAC3D,CAAD,CAA3B,EAA+B,OAAOI,CAAC,CAAC0xB,IAAF,GAAOxxB,CAAC,CAACN,CAAD,CAAR,GAAYK,CAAC,CAACL,CAAD,CAApB;AAAwB,cAAM,IAAI0nB,KAAJ,CAAU,0DAAwDkD,IAAI,CAACC,SAAL,CAAe7qB,CAAf,CAAlE,CAAN;AAA2F,OAAzO;AAA0O,KAArtC,EAAstC,EAAttC,CAArtb;AAA+6d,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,UAAIW,CAAC,GAACuuB,MAAM,CAAC1pB,SAAP,CAAiB6B,cAAvB;AAAA,UAAsCpH,CAAC,GAACivB,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAzD;AAAA,UAAkEjvB,CAAC,GAAC6F,KAAK,CAACP,SAAN,CAAgBQ,KAApF;AAAA,UAA0F7F,CAAC,GAACP,CAAC,CAAC,EAAD,CAA7F;AAAA,UAAkGQ,CAAC,GAAC8uB,MAAM,CAAC1pB,SAAP,CAAiBmsB,oBAArH;AAAA,UAA0ItxB,CAAC,GAAC,CAACD,CAAC,CAAC6D,IAAF,CAAO;AAACkrB,QAAAA,QAAQ,EAAC;AAAV,OAAP,EAAuB,UAAvB,CAA7I;AAAA,UAAgLrpB,CAAC,GAAC1F,CAAC,CAAC6D,IAAF,CAAO,YAAU,CAAE,CAAnB,EAAoB,WAApB,CAAlL;AAAA,UAAmNqC,CAAC,GAAC,CAAC,UAAD,EAAY,gBAAZ,EAA6B,SAA7B,EAAuC,gBAAvC,EAAwD,eAAxD,EAAwE,sBAAxE,EAA+F,aAA/F,CAArN;AAAA,UAAmUsD,CAAC,GAAC,SAAFA,CAAE,CAAShK,CAAT,EAAW;AAAC,YAAII,CAAC,GAACJ,CAAC,CAACoH,WAAR;AAAoB,eAAOhH,CAAC,IAAEA,CAAC,CAACwF,SAAF,KAAc5F,CAAxB;AAA0B,OAA/X;AAAA,UAAgYmV,CAAC,GAAC;AAAC6c,QAAAA,QAAQ,EAAC,CAAC,CAAX;AAAaC,QAAAA,SAAS,EAAC,CAAC,CAAxB;AAA0BC,QAAAA,MAAM,EAAC,CAAC,CAAlC;AAAoCC,QAAAA,aAAa,EAAC,CAAC,CAAnD;AAAqDC,QAAAA,OAAO,EAAC,CAAC,CAA9D;AAAgEC,QAAAA,YAAY,EAAC,CAAC,CAA9E;AAAgFC,QAAAA,WAAW,EAAC,CAAC,CAA7F;AAA+FC,QAAAA,YAAY,EAAC,CAAC,CAA7G;AAA+GC,QAAAA,WAAW,EAAC,CAAC,CAA5H;AAA8HC,QAAAA,YAAY,EAAC,CAAC,CAA5I;AAA8IC,QAAAA,YAAY,EAAC,CAAC,CAA5J;AAA8JC,QAAAA,OAAO,EAAC,CAAC,CAAvK;AAAyKC,QAAAA,WAAW,EAAC,CAAC,CAAtL;AAAwLC,QAAAA,UAAU,EAAC,CAAC,CAApM;AAAsMC,QAAAA,QAAQ,EAAC,CAAC,CAAhN;AAAkNC,QAAAA,QAAQ,EAAC,CAAC,CAA5N;AAA8NC,QAAAA,KAAK,EAAC,CAAC,CAArO;AAAuOC,QAAAA,gBAAgB,EAAC,CAAC,CAAzP;AAA2PC,QAAAA,kBAAkB,EAAC,CAAC,CAA/Q;AAAiRC,QAAAA,OAAO,EAAC,CAAC;AAA1R,OAAlY;AAAA,UAA+pB/d,CAAC,GAAC,YAAU;AAAC,YAAG,eAAa,OAAOxM,MAAvB,EAA8B,OAAM,CAAC,CAAP;;AAAS,aAAI,IAAI5I,CAAR,IAAa4I,MAAb;AAAoB,cAAG;AAAC,gBAAG,CAACuM,CAAC,CAAC,MAAInV,CAAL,CAAF,IAAWe,CAAC,CAACsD,IAAF,CAAOuE,MAAP,EAAc5I,CAAd,CAAX,IAA6B,SAAO4I,MAAM,CAAC5I,CAAD,CAA1C,IAA+C,oBAAiB4I,MAAM,CAAC5I,CAAD,CAAvB,CAAlD,EAA6E,IAAG;AAACgK,cAAAA,CAAC,CAACpB,MAAM,CAAC5I,CAAD,CAAP,CAAD;AAAa,aAAjB,CAAiB,OAAMI,CAAN,EAAQ;AAAC,qBAAM,CAAC,CAAP;AAAS;AAAC,WAArH,CAAqH,OAAMA,CAAN,EAAQ;AAAC,mBAAM,CAAC,CAAP;AAAS;AAA3J;;AAA2J,eAAM,CAAC,CAAP;AAAS,OAAtN,EAAjqB;AAAA,UAA03BiV,CAAC,GAAC,SAAFA,CAAE,CAASrV,CAAT,EAAW;AAAC,YAAG,eAAa,OAAO4I,MAApB,IAA4B,CAACwM,CAAhC,EAAkC,OAAOpL,CAAC,CAAChK,CAAD,CAAR;;AAAY,YAAG;AAAC,iBAAOgK,CAAC,CAAChK,CAAD,CAAR;AAAY,SAAhB,CAAgB,OAAMI,CAAN,EAAQ;AAAC,iBAAM,CAAC,CAAP;AAAS;AAAC,OAAz9B;AAAA,UAA09BkV,CAAC,GAAC,WAAStV,CAAT,EAAW;AAAC,YAAII,CAAC,GAAC,SAAOJ,CAAP,IAAU,oBAAiBA,CAAjB,CAAhB;AAAA,YAAmCM,CAAC,GAAC,wBAAsBD,CAAC,CAACgE,IAAF,CAAOrE,CAAP,CAA3D;AAAA,YAAqEQ,CAAC,GAACD,CAAC,CAACP,CAAD,CAAxE;AAAA,YAA4EgK,CAAC,GAAC5J,CAAC,IAAE,sBAAoBC,CAAC,CAACgE,IAAF,CAAOrE,CAAP,CAArG;AAAA,YAA+GmV,CAAC,GAAC,EAAjH;;AAAoH,YAAG,CAAC/U,CAAD,IAAI,CAACE,CAAL,IAAQ,CAACE,CAAZ,EAAc,MAAM,IAAIysB,SAAJ,CAAc,oCAAd,CAAN;AAA0D,YAAI7X,CAAC,GAAClP,CAAC,IAAE5F,CAAT;AAAW,YAAG0J,CAAC,IAAEhK,CAAC,CAACyB,MAAF,GAAS,CAAZ,IAAe,CAACV,CAAC,CAACsD,IAAF,CAAOrE,CAAP,EAAS,CAAT,CAAnB,EAA+B,KAAI,IAAIsV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACtV,CAAC,CAACyB,MAAhB,EAAuB,EAAE6T,CAAzB;AAA2BH,UAAAA,CAAC,CAACrP,IAAF,CAAOmP,MAAM,CAACK,CAAD,CAAb;AAA3B;AAA6C,YAAG9U,CAAC,IAAER,CAAC,CAACyB,MAAF,GAAS,CAAf,EAAiB,KAAI,IAAI8T,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACvV,CAAC,CAACyB,MAAhB,EAAuB,EAAE8T,CAAzB;AAA2BJ,UAAAA,CAAC,CAACrP,IAAF,CAAOmP,MAAM,CAACM,CAAD,CAAb;AAA3B,SAAjB,MAAmE,KAAI,IAAIC,CAAR,IAAaxV,CAAb;AAAeoV,UAAAA,CAAC,IAAE,gBAAcI,CAAjB,IAAoB,CAACzU,CAAC,CAACsD,IAAF,CAAOrE,CAAP,EAASwV,CAAT,CAArB,IAAkCL,CAAC,CAACrP,IAAF,CAAOmP,MAAM,CAACO,CAAD,CAAb,CAAlC;AAAf;AAAmE,YAAG/U,CAAH,EAAK,KAAI,IAAIgV,CAAC,GAACJ,CAAC,CAACrV,CAAD,CAAP,EAAW0V,CAAC,GAAC,CAAjB,EAAmBA,CAAC,GAAChP,CAAC,CAACjF,MAAvB,EAA8B,EAAEiU,CAAhC;AAAkCD,UAAAA,CAAC,IAAE,kBAAgB/O,CAAC,CAACgP,CAAD,CAApB,IAAyB,CAAC3U,CAAC,CAACsD,IAAF,CAAOrE,CAAP,EAAS0G,CAAC,CAACgP,CAAD,CAAV,CAA1B,IAA0CP,CAAC,CAACrP,IAAF,CAAOY,CAAC,CAACgP,CAAD,CAAR,CAA1C;AAAlC;AAAyF,eAAOP,CAAP;AAAS,OAAx+C;;AAAy+CG,MAAAA,CAAC,CAAC8d,IAAF,GAAO,YAAU;AAAC,YAAG9D,MAAM,CAAC+D,IAAV,EAAe;AAAC,cAAG,CAAC,YAAU;AAAC,mBAAO,MAAI,CAAC/D,MAAM,CAAC+D,IAAP,CAAY5uB,SAAZ,KAAwB,EAAzB,EAA6BhD,MAAxC;AAA+C,WAA1D,CAA2D,CAA3D,EAA6D,CAA7D,CAAJ,EAAoE;AAAC,gBAAIzB,CAAC,GAACsvB,MAAM,CAAC+D,IAAb;;AAAkB/D,YAAAA,MAAM,CAAC+D,IAAP,GAAY,UAASjzB,CAAT,EAAW;AAAC,qBAAOJ,CAAC,CAACO,CAAC,CAACH,CAAD,CAAD,GAAKE,CAAC,CAAC+D,IAAF,CAAOjE,CAAP,CAAL,GAAeA,CAAhB,CAAR;AAA2B,aAAnD;AAAoD;AAAC,SAA5J,MAAiKkvB,MAAM,CAAC+D,IAAP,GAAY/d,CAAZ;;AAAc,eAAOga,MAAM,CAAC+D,IAAP,IAAa/d,CAApB;AAAsB,OAAvN,EAAwNlV,CAAC,CAACwhB,OAAF,GAAUtM,CAAlO;AAAoO,KAAzuD,EAA0uD;AAAC,UAAG;AAAJ,KAA1uD,CAAl7d;AAAqqhB,QAAG,CAAC,UAAStV,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,UAAIW,CAAC,GAACuuB,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAvB;;AAAgCnvB,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAW;AAAC,YAAII,CAAC,GAACW,CAAC,CAACsD,IAAF,CAAOrE,CAAP,CAAN;AAAA,YAAgBK,CAAC,GAAC,yBAAuBD,CAAzC;AAA2C,eAAOC,CAAC,KAAGA,CAAC,GAAC,qBAAmBD,CAAnB,IAAsB,SAAOJ,CAA7B,IAAgC,oBAAiBA,CAAjB,CAAhC,IAAoD,YAAU,OAAOA,CAAC,CAACyB,MAAvE,IAA+EzB,CAAC,CAACyB,MAAF,IAAU,CAAzF,IAA4F,wBAAsBV,CAAC,CAACsD,IAAF,CAAOrE,CAAC,CAACszB,MAAT,CAAvH,CAAD,EAA0IjzB,CAAjJ;AAAmJ,OAApN;AAAqN,KAAjR,EAAkR,EAAlR,CAAxqhB;AAA87hB,QAAG,CAAC,UAASL,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,GAAY;AAAC,cAAM,IAAI2mB,KAAJ,CAAU,iCAAV,CAAN;AAAmD;;AAAA,eAASrnB,CAAT,GAAY;AAAC,cAAM,IAAIqnB,KAAJ,CAAU,mCAAV,CAAN;AAAqD;;AAAA,eAASpnB,CAAT,CAAWN,CAAX,EAAa;AAAC,YAAGgK,CAAC,KAAGhF,UAAP,EAAkB,OAAOA,UAAU,CAAChF,CAAD,EAAG,CAAH,CAAjB;AAAuB,YAAG,CAACgK,CAAC,KAAGjJ,CAAJ,IAAO,CAACiJ,CAAT,KAAahF,UAAhB,EAA2B,OAAOgF,CAAC,GAAChF,UAAF,EAAaA,UAAU,CAAChF,CAAD,EAAG,CAAH,CAA9B;;AAAoC,YAAG;AAAC,iBAAOgK,CAAC,CAAChK,CAAD,EAAG,CAAH,CAAR;AAAc,SAAlB,CAAkB,OAAMI,CAAN,EAAQ;AAAC,cAAG;AAAC,mBAAO4J,CAAC,CAAC3F,IAAF,CAAO,IAAP,EAAYrE,CAAZ,EAAc,CAAd,CAAP;AAAwB,WAA5B,CAA4B,OAAMI,CAAN,EAAQ;AAAC,mBAAO4J,CAAC,CAAC3F,IAAF,CAAO,IAAP,EAAYrE,CAAZ,EAAc,CAAd,CAAP;AAAwB;AAAC;AAAC;;AAAA,eAASO,CAAT,CAAWP,CAAX,EAAa;AAAC,YAAGmV,CAAC,KAAGoe,YAAP,EAAoB,OAAOA,YAAY,CAACvzB,CAAD,CAAnB;AAAuB,YAAG,CAACmV,CAAC,KAAG9U,CAAJ,IAAO,CAAC8U,CAAT,KAAaoe,YAAhB,EAA6B,OAAOpe,CAAC,GAACoe,YAAF,EAAeA,YAAY,CAACvzB,CAAD,CAAlC;;AAAsC,YAAG;AAAC,iBAAOmV,CAAC,CAACnV,CAAD,CAAR;AAAY,SAAhB,CAAgB,OAAMI,CAAN,EAAQ;AAAC,cAAG;AAAC,mBAAO+U,CAAC,CAAC9Q,IAAF,CAAO,IAAP,EAAYrE,CAAZ,CAAP;AAAsB,WAA1B,CAA0B,OAAMI,CAAN,EAAQ;AAAC,mBAAO+U,CAAC,CAAC9Q,IAAF,CAAO,IAAP,EAAYrE,CAAZ,CAAP;AAAsB;AAAC;AAAC;;AAAA,eAASQ,CAAT,GAAY;AAAC+U,QAAAA,CAAC,IAAEF,CAAH,KAAOE,CAAC,GAAC,CAAC,CAAH,EAAKF,CAAC,CAAC5T,MAAF,GAAS6T,CAAC,GAACD,CAAC,CAACtN,MAAF,CAASuN,CAAT,CAAX,GAAuBE,CAAC,GAAC,CAAC,CAA/B,EAAiCF,CAAC,CAAC7T,MAAF,IAAUhB,CAAC,EAAnD;AAAuD;;AAAA,eAASA,CAAT,GAAY;AAAC,YAAG,CAAC8U,CAAJ,EAAM;AAAC,cAAIvV,CAAC,GAACM,CAAC,CAACE,CAAD,CAAP;AAAW+U,UAAAA,CAAC,GAAC,CAAC,CAAH;;AAAK,eAAI,IAAInV,CAAC,GAACkV,CAAC,CAAC7T,MAAZ,EAAmBrB,CAAnB,GAAsB;AAAC,iBAAIiV,CAAC,GAACC,CAAF,EAAIA,CAAC,GAAC,EAAV,EAAa,EAAEE,CAAF,GAAIpV,CAAjB;AAAoBiV,cAAAA,CAAC,IAAEA,CAAC,CAACG,CAAD,CAAD,CAAKge,GAAL,EAAH;AAApB;;AAAkChe,YAAAA,CAAC,GAAC,CAAC,CAAH,EAAKpV,CAAC,GAACkV,CAAC,CAAC7T,MAAT;AAAgB;;AAAA4T,UAAAA,CAAC,GAAC,IAAF,EAAOE,CAAC,GAAC,CAAC,CAAV,EAAYhV,CAAC,CAACP,CAAD,CAAb;AAAiB;AAAC;;AAAA,eAASkG,CAAT,CAAWlG,CAAX,EAAaI,CAAb,EAAe;AAAC,aAAKqzB,GAAL,GAASzzB,CAAT,EAAW,KAAK0zB,KAAL,GAAWtzB,CAAtB;AAAwB;;AAAA,eAASsG,CAAT,GAAY,CAAE;;AAAA,UAAIsD,CAAJ;AAAA,UAAMmL,CAAN;AAAA,UAAQC,CAAC,GAAChV,CAAC,CAACwhB,OAAF,GAAU,EAApB;AAAuB,OAAC,YAAU;AAAC,YAAG;AAAC5X,UAAAA,CAAC,GAAC,cAAY,OAAOhF,UAAnB,GAA8BA,UAA9B,GAAyCjE,CAA3C;AAA6C,SAAjD,CAAiD,OAAMf,CAAN,EAAQ;AAACgK,UAAAA,CAAC,GAACjJ,CAAF;AAAI;;AAAA,YAAG;AAACoU,UAAAA,CAAC,GAAC,cAAY,OAAOoe,YAAnB,GAAgCA,YAAhC,GAA6ClzB,CAA/C;AAAiD,SAArD,CAAqD,OAAML,CAAN,EAAQ;AAACmV,UAAAA,CAAC,GAAC9U,CAAF;AAAI;AAAC,OAA5I,EAAD;AAAgJ,UAAIgV,CAAJ;AAAA,UAAMC,CAAC,GAAC,EAAR;AAAA,UAAWC,CAAC,GAAC,CAAC,CAAd;AAAA,UAAgBC,CAAC,GAAC,CAAC,CAAnB;AAAqBJ,MAAAA,CAAC,CAACwW,QAAF,GAAW,UAAS5rB,CAAT,EAAW;AAAC,YAAII,CAAC,GAAC,IAAI+F,KAAJ,CAAU1B,SAAS,CAAChD,MAAV,GAAiB,CAA3B,CAAN;AAAoC,YAAGgD,SAAS,CAAChD,MAAV,GAAiB,CAApB,EAAsB,KAAI,IAAIV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC0D,SAAS,CAAChD,MAAxB,EAA+BV,CAAC,EAAhC;AAAmCX,UAAAA,CAAC,CAACW,CAAC,GAAC,CAAH,CAAD,GAAO0D,SAAS,CAAC1D,CAAD,CAAhB;AAAnC;AAAuDuU,QAAAA,CAAC,CAACxP,IAAF,CAAO,IAAII,CAAJ,CAAMlG,CAAN,EAAQI,CAAR,CAAP,GAAmB,MAAIkV,CAAC,CAAC7T,MAAN,IAAc8T,CAAd,IAAiBjV,CAAC,CAACG,CAAD,CAArC;AAAyC,OAAjL,EAAkLyF,CAAC,CAACN,SAAF,CAAY4tB,GAAZ,GAAgB,YAAU;AAAC,aAAKC,GAAL,CAASxuB,KAAT,CAAe,IAAf,EAAoB,KAAKyuB,KAAzB;AAAgC,OAA7O,EAA8Ote,CAAC,CAACue,KAAF,GAAQ,SAAtP,EAAgQve,CAAC,CAACwe,OAAF,GAAU,CAAC,CAA3Q,EAA6Qxe,CAAC,CAAC6U,GAAF,GAAM,EAAnR,EAAsR7U,CAAC,CAACye,IAAF,GAAO,EAA7R,EAAgSze,CAAC,CAACxT,OAAF,GAAU,EAA1S,EAA6SwT,CAAC,CAAC0e,QAAF,GAAW,EAAxT,EAA2T1e,CAAC,CAACqL,EAAF,GAAK/Z,CAAhU,EAAkU0O,CAAC,CAACmL,WAAF,GAAc7Z,CAAhV,EAAkV0O,CAAC,CAACoL,IAAF,GAAO9Z,CAAzV,EAA2V0O,CAAC,CAAC0L,GAAF,GAAMpa,CAAjW,EAAmW0O,CAAC,CAACyL,cAAF,GAAiBna,CAApX,EAAsX0O,CAAC,CAACgM,kBAAF,GAAqB1a,CAA3Y,EAA6Y0O,CAAC,CAACmM,IAAF,GAAO7a,CAApZ,EAAsZ0O,CAAC,CAAC2e,OAAF,GAAU,YAAU;AAAC,cAAM,IAAIrM,KAAJ,CAAU,kCAAV,CAAN;AAAoD,OAA/d,EAAgetS,CAAC,CAAC4e,GAAF,GAAM,YAAU;AAAC,eAAM,GAAN;AAAU,OAA3f,EAA4f5e,CAAC,CAAC6e,KAAF,GAAQ,YAAU;AAAC,cAAM,IAAIvM,KAAJ,CAAU,gCAAV,CAAN;AAAkD,OAAjkB,EAAkkBtS,CAAC,CAAC8e,KAAF,GAAQ,YAAU;AAAC,eAAO,CAAP;AAAS,OAA9lB;AAA+lB,KAArkD,EAAskD,EAAtkD,CAAj8hB;AAA2glB,QAAG,CAAC,UAASl0B,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,eAASW,CAAT,CAAWf,CAAX,EAAaI,CAAb,EAAe;AAAC,YAAGJ,CAAC,CAACmQ,GAAL,EAAS,OAAOnQ,CAAC,CAACmQ,GAAF,CAAM/P,CAAN,CAAP;;AAAgB,aAAI,IAAIW,CAAC,GAAC,EAAN,EAASV,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACL,CAAC,CAACyB,MAArB,EAA4BpB,CAAC,EAA7B;AAAgCU,UAAAA,CAAC,CAAC+E,IAAF,CAAO1F,CAAC,CAACJ,CAAC,CAACK,CAAD,CAAF,EAAMA,CAAN,CAAR;AAAhC;;AAAkD,eAAOU,CAAP;AAAS;;AAAA,UAAIV,CAAC,GAAC,SAAFA,CAAE,CAASL,CAAT,EAAW;AAAC,wBAAcA,CAAd;AAAiB,eAAI,QAAJ;AAAa,mBAAOA,CAAP;;AAAS,eAAI,SAAJ;AAAc,mBAAOA,CAAC,GAAC,MAAD,GAAQ,OAAhB;;AAAwB,eAAI,QAAJ;AAAa,mBAAOm0B,QAAQ,CAACn0B,CAAD,CAAR,GAAYA,CAAZ,GAAc,EAArB;;AAAwB;AAAQ,mBAAM,EAAN;AAA1H;AAAoI,OAAtJ;;AAAuJI,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAaI,CAAb,EAAeC,CAAf,EAAiB;AAAC,eAAOL,CAAC,GAACA,CAAC,IAAE,GAAL,EAASI,CAAC,GAACA,CAAC,IAAE,GAAd,EAAkB,SAAOR,CAAP,KAAWA,CAAC,GAAC,KAAK,CAAlB,CAAlB,EAAuC,oBAAiBA,CAAjB,IAAmBe,CAAC,CAACR,CAAC,CAACP,CAAD,CAAF,EAAM,UAASO,CAAT,EAAW;AAAC,cAAIE,CAAC,GAAC2zB,kBAAkB,CAAC/zB,CAAC,CAACE,CAAD,CAAF,CAAlB,GAAyBC,CAA/B;AAAiC,iBAAOF,CAAC,CAACN,CAAC,CAACO,CAAD,CAAF,CAAD,GAAQQ,CAAC,CAACf,CAAC,CAACO,CAAD,CAAF,EAAM,UAASP,CAAT,EAAW;AAAC,mBAAOS,CAAC,GAAC2zB,kBAAkB,CAAC/zB,CAAC,CAACL,CAAD,CAAF,CAA3B;AAAkC,WAApD,CAAD,CAAuDmK,IAAvD,CAA4D/J,CAA5D,CAAR,GAAuEK,CAAC,GAAC2zB,kBAAkB,CAAC/zB,CAAC,CAACL,CAAC,CAACO,CAAD,CAAF,CAAF,CAAlG;AAA4G,SAA/J,CAAD,CAAkK4J,IAAlK,CAAuK/J,CAAvK,CAAnB,GAA6LK,CAAC,GAAC2zB,kBAAkB,CAAC/zB,CAAC,CAACI,CAAD,CAAF,CAAlB,GAAyBD,CAAzB,GAA2B4zB,kBAAkB,CAAC/zB,CAAC,CAACL,CAAD,CAAF,CAA9C,GAAqD,EAAjS;AAAoS,OAAhU;;AAAiU,UAAIM,CAAC,GAAC6F,KAAK,CAAC0M,OAAN,IAAe,UAAS7S,CAAT,EAAW;AAAC,eAAM,qBAAmBsvB,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAjB,CAA0BlrB,IAA1B,CAA+BrE,CAA/B,CAAzB;AAA2D,OAA5F;AAAA,UAA6FO,CAAC,GAAC+uB,MAAM,CAAC+D,IAAP,IAAa,UAASrzB,CAAT,EAAW;AAAC,YAAII,CAAC,GAAC,EAAN;;AAAS,aAAI,IAAIW,CAAR,IAAaf,CAAb;AAAesvB,UAAAA,MAAM,CAAC1pB,SAAP,CAAiB6B,cAAjB,CAAgCpD,IAAhC,CAAqCrE,CAArC,EAAuCe,CAAvC,KAA2CX,CAAC,CAAC0F,IAAF,CAAO/E,CAAP,CAA3C;AAAf;;AAAoE,eAAOX,CAAP;AAAS,OAA9M;AAA+M,KAAvyB,EAAwyB,EAAxyB,CAA9glB;AAA0zmB,QAAG,CAAC,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,GAAY;AAACN,QAAAA,CAAC,CAACwE,KAAF,CAAQ,IAAR,EAAaR,SAAb;AAAwB;;AAAA,eAASpE,CAAT,GAAY;AAAC,YAAIL,CAAC,GAAC,mGAAN;AAA0G,cAAM,IAAI0G,CAAC,CAAC2tB,kBAAN,CAAyBr0B,CAAzB,CAAN;AAAkC;;AAAAI,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV;AAAY,UAAIT,CAAC,GAACN,CAAC,CAAC,EAAD,CAAP;AAAA,UAAYO,CAAC,GAACP,CAAC,CAAC,EAAD,CAAf;AAAA,UAAoBQ,CAAC,GAACR,CAAC,CAAC,EAAD,CAAvB;AAAA,UAA4BS,CAAC,GAACT,CAAC,CAAC,EAAD,CAA/B;AAAA,UAAoCkG,CAAC,GAAClG,CAAC,CAAC,CAAD,CAAvC;AAAA,UAA2C0G,CAAC,GAAC1G,CAAC,CAAC,EAAD,CAA9C;AAAmDkG,MAAAA,CAAC,CAACnF,CAAD,EAAGN,CAAH,CAAD,EAAOM,CAAC,CAAC6E,SAAF,CAAY0uB,WAAZ,GAAwB,UAASt0B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKm0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,QAAR;AAAiBC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACp0B,CAAD,CAArD;AAAyD00B,UAAAA,QAAQ,EAAC,OAAlE;AAA0EC,UAAAA,QAAQ,EAACv0B;AAAnF,SAAlB,CAAP;AAAgH,OAA7J,EAA8JW,CAAC,CAAC6E,SAAF,CAAYgvB,SAAZ,GAAsB,UAAS50B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,YAAIV,CAAC,GAAC;AAACw0B,UAAAA,SAAS,EAAC,MAAX;AAAkBC,UAAAA,WAAW,EAAC10B;AAA9B,SAAN;AAAuC,eAAO,KAAKm0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACp0B,CAAD,CAAhC,GAAoC,YAAvD;AAAoE6T,UAAAA,IAAI,EAACxT,CAAzE;AAA2Eq0B,UAAAA,QAAQ,EAAC,OAApF;AAA4FC,UAAAA,QAAQ,EAAC5zB;AAArG,SAAlB,CAAP;AAAkI,OAA7W,EAA8WA,CAAC,CAAC6E,SAAF,CAAYmvB,SAAZ,GAAsB,UAAS/0B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAAC,YAAIC,CAAC,GAAC;AAACu0B,UAAAA,SAAS,EAAC,MAAX;AAAkBC,UAAAA,WAAW,EAAC10B;AAA9B,SAAN;AAAA,YAAuCG,CAAC,GAACF,CAAzC;AAA2C,YAAG,cAAY,OAAOU,CAAtB,EAAwBR,CAAC,GAACQ,CAAF,CAAxB,KAAiC,IAAGoF,KAAK,CAAC0M,OAAN,CAAc9R,CAAd,KAAkBA,CAAC,CAACU,MAAF,GAAS,CAA9B,EAAgCnB,CAAC,CAACwO,KAAF,GAAQ/N,CAAR,CAAhC,KAA+C,IAAG,KAAK,CAAL,KAASA,CAAZ,EAAc,MAAM,IAAI2mB,KAAJ,CAAU,kFAAV,CAAN;AAAoG,eAAO,KAAK6M,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACp0B,CAAD,CAAhC,GAAoC,YAAvD;AAAoE6T,UAAAA,IAAI,EAACvT,CAAzE;AAA2Eo0B,UAAAA,QAAQ,EAAC,OAApF;AAA4FC,UAAAA,QAAQ,EAACp0B;AAArG,SAAlB,CAAP;AAAkI,OAArwB,EAAswBQ,CAAC,CAAC6E,SAAF,CAAYovB,OAAZ,GAAoB,UAAS50B,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACN,CAAC,CAAC,EAAD,CAAP;AAAA,YAAYO,CAAC,GAAC,EAAd;AAAiB,eAAM,oBAAiBH,CAAjB,KAAoBG,CAAC,GAACD,CAAC,CAACF,CAAD,CAAH,EAAOC,CAAC,GAACU,CAA7B,IAAgC,MAAI0D,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOrB,CAAzC,GAA2CC,CAAC,GAACD,CAA7C,GAA+C,MAAIqE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOV,CAAzC,IAA4CV,CAAC,GAACU,CAAF,EAAIR,CAAC,CAAC6P,MAAF,GAAShQ,CAAzD,KAA6DG,CAAC,CAAC6P,MAAF,GAAShQ,CAAT,EAAWG,CAAC,CAACkB,MAAF,GAASV,CAAjF,CAA/E,EAAmK,KAAK,CAAL,KAASR,CAAC,CAAC6P,MAAX,KAAoB7P,CAAC,CAAC6P,MAAF,GAAS,CAA7B,CAAnK,EAAmM,KAAK,CAAL,KAAS7P,CAAC,CAACkB,MAAX,KAAoBlB,CAAC,CAACkB,MAAF,GAAS,EAA7B,CAAnM,EAAoO,KAAK8yB,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,aAAW,KAAKQ,gBAAL,CAAsB10B,CAAtB,EAAwB,EAAxB,CAA7B;AAAyDm0B,UAAAA,QAAQ,EAAC,MAAlE;AAAyEC,UAAAA,QAAQ,EAACt0B;AAAlF,SAAlB,CAA1O;AAAkV,OAA7oC,EAA8oCU,CAAC,CAAC6E,SAAF,CAAYsvB,WAAZ,GAAwB,UAASl1B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIW,CAAC,GAAC,EAAN;AAAS,eAAO,KAAK,CAAL,KAASf,CAAT,IAAY,cAAY,OAAOA,CAA/B,GAAiCI,CAAC,GAACJ,CAAnC,GAAqCe,CAAC,GAAC,WAASf,CAAhD,EAAkD,KAAKu0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,eAAa1zB,CAA/B;AAAiC2zB,UAAAA,QAAQ,EAAC,MAA1C;AAAiDC,UAAAA,QAAQ,EAACv0B;AAA1D,SAAlB,CAAzD;AAAyI,OAAt0C,EAAu0CW,CAAC,CAAC6E,SAAF,CAAYuvB,SAAZ,GAAsB,UAASn1B,CAAT,EAAW;AAAC,eAAO,IAAIM,CAAJ,CAAM,IAAN,EAAWN,CAAX,CAAP;AAAqB,OAA93C,EAA+3Ce,CAAC,CAAC6E,SAAF,CAAYwvB,YAAZ,GAAyB70B,CAAC,CAAC,UAASP,CAAT,EAAW;AAAC,eAAO,KAAKq1B,WAAL,CAAiBr1B,CAAjB,CAAP;AAA2B,OAAxC,EAAyCQ,CAAC,CAAC,uBAAD,EAAyB,sBAAzB,CAA1C,CAAz5C,EAAq/CO,CAAC,CAAC6E,SAAF,CAAYyvB,WAAZ,GAAwB,UAASr1B,CAAT,EAAW;AAAC,eAAO,KAAKu0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,SAAlB;AAA4BC,UAAAA,QAAQ,EAAC,MAArC;AAA4CC,UAAAA,QAAQ,EAAC30B;AAArD,SAAlB,CAAP;AAAkF,OAA3mD,EAA4mDe,CAAC,CAAC6E,SAAF,CAAY0vB,aAAZ,GAA0B/0B,CAAC,CAAC,UAASP,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKm1B,SAAL,CAAev1B,CAAf,EAAiBI,CAAjB,CAAP;AAA2B,OAA1C,EAA2CI,CAAC,CAAC,wBAAD,EAA0B,oBAA1B,CAA5C,CAAvoD,EAAouDO,CAAC,CAAC6E,SAAF,CAAY2vB,SAAZ,GAAsB,UAASv1B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKm0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,aAAWz0B,CAA7B;AAA+B00B,UAAAA,QAAQ,EAAC,MAAxC;AAA+CC,UAAAA,QAAQ,EAACv0B;AAAxD,SAAlB,CAAP;AAAqF,OAA71D,EAA81DW,CAAC,CAAC6E,SAAF,CAAY4vB,aAAZ,GAA0Bj1B,CAAC,CAAC,UAASP,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKq1B,YAAL,CAAkBz1B,CAAlB,EAAoBI,CAApB,CAAP;AAA8B,OAA7C,EAA8CI,CAAC,CAAC,wBAAD,EAA0B,uBAA1B,CAA/C,CAAz3D,EAA49DO,CAAC,CAAC6E,SAAF,CAAY6vB,YAAZ,GAAyB,UAASz1B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKm0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,QAAR;AAAiBC,UAAAA,GAAG,EAAC,aAAWz0B,CAAhC;AAAkC00B,UAAAA,QAAQ,EAAC,OAA3C;AAAmDC,UAAAA,QAAQ,EAACv0B;AAA5D,SAAlB,CAAP;AAAyF,OAA5lE,EAA6lEW,CAAC,CAAC6E,SAAF,CAAY8vB,UAAZ,GAAuBn1B,CAAC,CAAC,UAASP,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,eAAO,KAAK40B,SAAL,CAAe31B,CAAf,EAAiBI,CAAjB,EAAmBW,CAAnB,CAAP;AAA6B,OAA9C,EAA+CP,CAAC,CAAC,qBAAD,EAAuB,oBAAvB,CAAhD,CAArnE,EAAmtEO,CAAC,CAAC6E,SAAF,CAAY+vB,SAAZ,GAAsB,UAASv1B,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,0DAAN;AAAiE,YAAG,CAACN,CAAC,CAAC,CAAD,CAAD,CAAKI,CAAL,CAAJ,EAAY,MAAM,IAAIsnB,KAAJ,CAAUpnB,CAAV,CAAN;AAAmB,cAAImE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOV,CAAzC,KAA6CV,CAAC,GAACU,CAAF,EAAIA,CAAC,GAAC,IAAnD;AAAyD,YAAIR,CAAC,GAAC;AAACq1B,UAAAA,GAAG,EAACx1B;AAAL,SAAN;AAAc,eAAOW,CAAC,KAAGR,CAAC,CAACs1B,QAAF,GAAW90B,CAAC,CAAC80B,QAAb,EAAsBt1B,CAAC,CAACu1B,sBAAF,GAAyB/0B,CAAC,CAAC+0B,sBAAjD,EAAwEv1B,CAAC,CAACw1B,eAAF,GAAkBh1B,CAAC,CAACg1B,eAA5F,EAA4Gx1B,CAAC,CAACy1B,OAAF,GAAUj1B,CAAC,CAACi1B,OAAxH,EAAgIz1B,CAAC,CAAC01B,WAAF,GAAcl1B,CAAC,CAACk1B,WAAhJ,EAA4Jl1B,CAAC,CAACm1B,eAAF,KAAoB31B,CAAC,CAAC21B,eAAF,GAAkB,KAAKjB,gBAAL,CAAsBl0B,CAAC,CAACm1B,eAAxB,EAAwC,EAAxC,CAAtC,CAA5J,EAA+O31B,CAAC,CAAC41B,QAAF,GAAWp1B,CAAC,CAACo1B,QAA/P,CAAD,EAA0Q,KAAK5B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,SAAnB;AAA6B5gB,UAAAA,IAAI,EAACtT,CAAlC;AAAoCm0B,UAAAA,QAAQ,EAAC,OAA7C;AAAqDC,UAAAA,QAAQ,EAACt0B;AAA9D,SAAlB,CAAjR;AAAqW,OAArwF,EAAswFU,CAAC,CAAC6E,SAAF,CAAYwwB,sBAAZ,GAAmC71B,CAAC,CAAC,UAASP,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,eAAO,KAAK40B,SAAL,CAAe31B,CAAf,EAAiBI,CAAjB,EAAmBW,CAAnB,CAAP;AAA6B,OAA9C,EAA+CP,CAAC,CAAC,iCAAD,EAAmC,oBAAnC,CAAhD,CAA1yF,EAAo5FO,CAAC,CAAC6E,SAAF,CAAYywB,aAAZ,GAA0B91B,CAAC,CAAC,UAASP,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAAC,eAAO,KAAKi2B,YAAL,CAAkBt2B,CAAlB,EAAoBI,CAApB,EAAsBW,CAAtB,EAAwBV,CAAxB,CAAP;AAAkC,OAArD,EAAsDG,CAAC,CAAC,wBAAD,EAA0B,uBAA1B,CAAvD,CAA/6F,EAA0hGO,CAAC,CAAC6E,SAAF,CAAY0wB,YAAZ,GAAyB,UAASl2B,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAeC,CAAf,EAAiB;AAAC,YAAIC,CAAC,GAAC,kEAAN;AAAyE,YAAG,CAACP,CAAC,CAAC,CAAD,CAAD,CAAKe,CAAL,CAAJ,EAAY,MAAM,IAAI2mB,KAAJ,CAAUnnB,CAAV,CAAN;AAAmB,cAAIkE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOpB,CAAzC,KAA6CC,CAAC,GAACD,CAAF,EAAIA,CAAC,GAAC,IAAnD;AAAyD,YAAIG,CAAC,GAAC;AAACo1B,UAAAA,GAAG,EAAC70B;AAAL,SAAN;AAAc,eAAOV,CAAC,KAAGG,CAAC,CAACq1B,QAAF,GAAWx1B,CAAC,CAACw1B,QAAb,EAAsBr1B,CAAC,CAACs1B,sBAAF,GAAyBz1B,CAAC,CAACy1B,sBAAjD,EAAwEt1B,CAAC,CAACu1B,eAAF,GAAkB11B,CAAC,CAAC01B,eAA5F,EAA4Gv1B,CAAC,CAACw1B,OAAF,GAAU31B,CAAC,CAAC21B,OAAxH,EAAgIx1B,CAAC,CAACy1B,WAAF,GAAc51B,CAAC,CAAC41B,WAAhJ,EAA4J51B,CAAC,CAAC61B,eAAF,KAAoB11B,CAAC,CAAC01B,eAAF,GAAkB,KAAKjB,gBAAL,CAAsB50B,CAAC,CAAC61B,eAAxB,EAAwC,EAAxC,CAAtC,CAA5J,EAA+O11B,CAAC,CAAC21B,QAAF,GAAW91B,CAAC,CAAC81B,QAA/P,CAAD,EAA0Q,KAAK5B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,aAAWr0B,CAA7B;AAA+ByT,UAAAA,IAAI,EAACrT,CAApC;AAAsCk0B,UAAAA,QAAQ,EAAC,OAA/C;AAAuDC,UAAAA,QAAQ,EAACr0B;AAAhE,SAAlB,CAAjR;AAAuW,OAA3lH,EAA4lHS,CAAC,CAAC6E,SAAF,CAAY2wB,iBAAZ,GAA8Bh2B,CAAC,CAAC,YAAU;AAAC,aAAKi2B,MAAL,GAAY,EAAZ;AAAe,OAA3B,EAA4Bh2B,CAAC,CAAC,4BAAD,EAA8B,iBAA9B,CAA7B,CAA3nH,EAA0sHO,CAAC,CAAC6E,SAAF,CAAY6wB,eAAZ,GAA4Bl2B,CAAC,CAAC,UAASP,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,aAAKy1B,MAAL,CAAY1wB,IAAZ,CAAiB;AAAC4wB,UAAAA,SAAS,EAAC12B,CAAX;AAAa22B,UAAAA,KAAK,EAACv2B,CAAnB;AAAqBw2B,UAAAA,MAAM,EAAC71B;AAA5B,SAAjB;AAAiD,OAAlE,EAAmEP,CAAC,CAAC,0BAAD,EAA4B,iBAA5B,CAApE,CAAvuH,EAA21HO,CAAC,CAAC6E,SAAF,CAAYixB,gBAAZ,GAA6Bt2B,CAAC,CAAC,UAASP,CAAT,EAAW;AAAC,eAAO,KAAK82B,MAAL,CAAY,KAAKN,MAAjB,EAAwBx2B,CAAxB,CAAP;AAAkC,OAA/C,EAAgDQ,CAAC,CAAC,2BAAD,EAA6B,iBAA7B,CAAjD,CAAz3H,EAA29HO,CAAC,CAAC6E,SAAF,CAAYmxB,KAAZ,GAAkB,UAAS32B,CAAT,EAAWW,CAAX,EAAa;AAAC,YAAIV,CAAC,GAAC,6CAAN;AAAoD,YAAG,CAACL,CAAC,CAAC,CAAD,CAAD,CAAKI,CAAL,CAAJ,EAAY,MAAM,IAAIsnB,KAAJ,CAAUrnB,CAAV,CAAN;AAAmB,eAAO,KAAKk0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,oBAAnB;AAAwC5gB,UAAAA,IAAI,EAAC;AAACmjB,YAAAA,QAAQ,EAAC52B;AAAV,WAA7C;AAA0Ds0B,UAAAA,QAAQ,EAAC,OAAnE;AAA2EC,UAAAA,QAAQ,EAAC5zB;AAApF,SAAlB,CAAP;AAAiH,OAA/rI,EAAgsIA,CAAC,CAAC6E,SAAF,CAAYqxB,YAAZ,GAAyB,UAASj3B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAG,CAACJ,CAAC,CAACk3B,MAAH,IAAW,CAACl3B,CAAC,CAACm3B,OAAjB,EAAyB,MAAM,IAAIzwB,CAAC,CAAC2tB,kBAAN,CAAyB,+CAAzB,EAAyEr0B,CAAzE,CAAN;AAAkF,eAAO,KAAKu0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,qBAAnB;AAAyCC,UAAAA,QAAQ,EAAC,OAAlD;AAA0D7gB,UAAAA,IAAI,EAAC;AAACsjB,YAAAA,OAAO,EAACn3B,CAAC,CAACm3B;AAAX,WAA/D;AAAmFxC,UAAAA,QAAQ,EAACv0B,CAA5F;AAA8Fg3B,UAAAA,OAAO,EAAC;AAAC,iCAAoBp3B,CAAC,CAACk3B;AAAvB;AAAtG,SAAlB,CAAP;AAAgK,OAAl/I,EAAm/In2B,CAAC,CAAC6E,SAAF,CAAYyxB,YAAZ,GAAyB,UAASr3B,CAAT,EAAW;AACj//B,eAAO,KAAKu0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,yBAAlB;AAA4CC,UAAAA,QAAQ,EAAC,MAArD;AAA4DC,UAAAA,QAAQ,EAAC30B;AAArE,SAAlB,CAAP;AAAkG,OADw32B,EACv32Be,CAAC,CAAC6E,SAAF,CAAY0xB,SAAZ,GAAsB,UAASt3B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAG,CAACJ,CAAC,CAACk3B,MAAN,EAAa,MAAM,IAAIxwB,CAAC,CAAC2tB,kBAAN,CAAyB,8BAAzB,EAAwD;AAACkD,UAAAA,SAAS,EAACv3B;AAAX,SAAxD,CAAN;AAA6E,eAAO,KAAKu0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,yBAAuBz0B,CAAC,CAACk3B,MAA3C;AAAkDxC,UAAAA,QAAQ,EAAC,MAA3D;AAAkEC,UAAAA,QAAQ,EAACv0B;AAA3E,SAAlB,CAAP;AAAwG,OADip2B,EAChp2BW,CAAC,CAAC6E,SAAF,CAAY4xB,YAAZ,GAAyB,UAASx3B,CAAT,EAAW;AAAC,eAAO,KAAKu0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,aAAlB;AAAgCC,UAAAA,QAAQ,EAAC,MAAzC;AAAgDC,UAAAA,QAAQ,EAAC30B;AAAzD,SAAlB,CAAP;AAAsF,OADqh2B,EACph2Be,CAAC,CAAC6E,SAAF,CAAY6xB,WAAZ,GAAwB,UAASz3B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKm0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,qBAAlB;AAAwC5gB,UAAAA,IAAI,EAAC7T,CAA7C;AAA+C00B,UAAAA,QAAQ,EAAC,MAAxD;AAA+DC,UAAAA,QAAQ,EAACv0B;AAAxE,SAAlB,CAAP;AAAqG,OADy41B,EACx41BW,CAAC,CAAC6E,SAAF,CAAY8xB,YAAZ,GAAyB,UAAS13B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAG,CAACJ,CAAC,CAACk3B,MAAN,EAAa,MAAM,IAAIxwB,CAAC,CAAC2tB,kBAAN,CAAyB,8BAAzB,EAAwD;AAACkD,UAAAA,SAAS,EAACv3B;AAAX,SAAxD,CAAN;AAA6E,eAAO,KAAKu0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,QAAR;AAAiBC,UAAAA,GAAG,EAAC,qBAArB;AAA2CC,UAAAA,QAAQ,EAAC,OAApD;AAA4DC,UAAAA,QAAQ,EAACv0B,CAArE;AAAuEg3B,UAAAA,OAAO,EAAC;AAAC,iCAAoBp3B,CAAC,CAACk3B;AAAvB;AAA/E,SAAlB,CAAP;AAAyI,OAD8n1B,EAC7n1Bn2B,CAAC,CAAC6E,SAAF,CAAY+xB,aAAZ,GAA0B,UAAS33B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKm0B,YAAL,CAAkB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,4BAAnB;AAAgD5gB,UAAAA,IAAI,EAAC7T,CAArD;AAAuD00B,UAAAA,QAAQ,EAAC,MAAhE;AAAuEC,UAAAA,QAAQ,EAACv0B;AAAhF,SAAlB,CAAP;AAA6G,OADw+0B,EACv+0BW,CAAC,CAAC6E,SAAF,CAAY8C,OAAZ,GAAoBrI,CADm90B,EACj90BU,CAAC,CAAC6E,SAAF,CAAYgyB,sBAAZ,GAAmCv3B,CAD860B,EAC560BU,CAAC,CAAC6E,SAAF,CAAYiyB,uBAAZ,GAAoCx3B,CADw40B,EACt40BU,CAAC,CAAC6E,SAAF,CAAYkyB,gBAAZ,GAA6Bz3B,CADy20B,EACv20BU,CAAC,CAAC6E,SAAF,CAAYmyB,oBAAZ,GAAiC13B,CADs00B,EACp00BU,CAAC,CAAC6E,SAAF,CAAYoyB,qBAAZ,GAAkC33B,CADky0B;AAChy0B,KADoh0B,EACnh0B;AAAC,UAAG,EAAJ;AAAO,UAAG,EAAV;AAAa,UAAG,EAAhB;AAAmB,UAAG,EAAtB;AAAyB,UAAG,EAA5B;AAA+B,UAAG,EAAlC;AAAqC,SAAE,CAAvC;AAAyC,SAAE;AAA3C,KADmh0B,CAA7zmB;AACvqN,QAAG,CAAC,UAASL,CAAT,EAAWI,CAAX,EAAa;AAAC,OAAC,UAASW,CAAT,EAAW;AAAC,iBAASV,CAAT,CAAWD,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAAC,cAAIE,CAAC,GAACP,CAAC,CAAC,CAAD,CAAD,CAAK,eAAL,CAAN;AAAA,cAA4BQ,CAAC,GAACR,CAAC,CAAC,EAAD,CAA/B;AAAA,cAAoCS,CAAC,GAACT,CAAC,CAAC,CAAD,CAAvC;AAAA,cAA2C0G,CAAC,GAAC1G,CAAC,CAAC,EAAD,CAA9C;AAAA,cAAmDgK,CAAC,GAAC,mDAArD;AAAyG,cAAG,CAAC,CAAD,KAAK3J,CAAC,CAAC43B,sBAAP,IAA+B,CAAC73B,CAAnC,EAAqC,MAAM,IAAI8F,CAAC,CAACmuB,kBAAN,CAAyB,uCAAqCrqB,CAA9D,CAAN;AAAuE,cAAG,CAAC,CAAD,KAAK3J,CAAC,CAAC43B,sBAAP,IAA+B,CAACl3B,CAAnC,EAAqC,MAAM,IAAImF,CAAC,CAACmuB,kBAAN,CAAyB,gCAA8BrqB,CAAvD,CAAN;AAAgE,eAAKkuB,aAAL,GAAmB93B,CAAnB,EAAqB,KAAK+3B,MAAL,GAAYp3B,CAAjC,EAAmC,KAAKq3B,KAAL,GAAW;AAACC,YAAAA,IAAI,EAAC,EAAN;AAASzP,YAAAA,KAAK,EAAC;AAAf,WAA9C,EAAiEvoB,CAAC,GAACA,CAAC,IAAE,EAAtE,EAAyE,KAAKi4B,SAAL,GAAej4B,CAAC,CAACk4B,QAAF,IAAY;AAACC,YAAAA,OAAO,EAAC,GAAT;AAAaH,YAAAA,IAAI,EAAC,GAAlB;AAAsBzP,YAAAA,KAAK,EAAC;AAA5B,WAApG,EAAqIvoB,CAAC,CAACo4B,OAAF,KAAY,KAAKH,SAAL,CAAeE,OAAf,GAAuB,KAAKF,SAAL,CAAeD,IAAf,GAAoB,KAAKC,SAAL,CAAe1P,KAAf,GAAqBvoB,CAAC,CAACo4B,OAA9E,CAArI;AAA4N,cAAItjB,CAAC,GAAC9U,CAAC,CAACq4B,QAAF,IAAY,QAAlB;AAA2B,cAAG,KAAK13B,IAAL,CAAUmU,CAAV,MAAeA,CAAC,IAAE,GAAlB,GAAuB,YAAUA,CAAV,IAAa,aAAWA,CAAlD,EAAoD,MAAM,IAAIjP,CAAC,CAACmuB,kBAAN,CAAyB,gDAA8Ch0B,CAAC,CAACq4B,QAAhD,GAAyD,IAAlF,CAAN;AAA8F,cAAG,KAAKC,eAAL,IAAuBt4B,CAAC,CAAC+3B,KAA5B,EAAkC33B,CAAC,CAACJ,CAAC,CAAC+3B,KAAH,CAAD,IAAY,KAAKA,KAAL,CAAWC,IAAX,GAAgB73B,CAAC,CAACH,CAAC,CAAC+3B,KAAH,CAAjB,EAA2B,KAAKA,KAAL,CAAWxP,KAAX,GAAiBpoB,CAAC,CAACH,CAAC,CAAC+3B,KAAH,CAAzD,KAAqE,KAAKA,KAAL,CAAWC,IAAX,GAAgB73B,CAAC,CAACH,CAAC,CAAC+3B,KAAF,CAAQC,IAAT,CAAjB,EAAgC,KAAKD,KAAL,CAAWxP,KAAX,GAAiBpoB,CAAC,CAACH,CAAC,CAAC+3B,KAAF,CAAQxP,KAAT,CAAvH,EAAlC,KAA8K;AAAC,gBAAIxT,CAAC,GAAC1O,CAAC,CAAC,KAAKkyB,cAAN,EAAqB,UAAS54B,CAAT,EAAW;AAAC,qBAAOI,CAAC,GAAC,GAAF,GAAMJ,CAAN,GAAQ,iBAAf;AAAiC,aAAlE,CAAP;AAAA,gBAA2EqV,CAAC,GAAC,CAAC,CAAC,CAAD,KAAKhV,CAAC,CAACw4B,GAAP,GAAW,EAAX,GAAc,MAAf,IAAuB,cAApG;AAAmH,iBAAKT,KAAL,CAAWC,IAAX,GAAgB,CAAC,KAAKH,aAAL,GAAmB7iB,CAApB,EAAuBtN,MAAvB,CAA8BqN,CAA9B,CAAhB,EAAiD,KAAKgjB,KAAL,CAAWxP,KAAX,GAAiB,CAAC,KAAKsP,aAAL,GAAmB,cAApB,EAAoCnwB,MAApC,CAA2CqN,CAA3C,CAAlE;AAAgH;AAAA,eAAKgjB,KAAL,CAAWC,IAAX,GAAgB3xB,CAAC,CAAC,KAAK0xB,KAAL,CAAWC,IAAZ,EAAiB/3B,CAAC,CAAC6U,CAAD,CAAlB,CAAjB,EAAwC,KAAKijB,KAAL,CAAWxP,KAAX,GAAiBliB,CAAC,CAAC,KAAK0xB,KAAL,CAAWxP,KAAZ,EAAkBtoB,CAAC,CAAC6U,CAAD,CAAnB,CAA1D,EAAkF,KAAK2jB,YAAL,GAAkB,EAApG,EAAuG,KAAKC,KAAL,GAAW14B,CAAC,CAAC24B,MAAF,IAAU,EAA5H,EAA+H,KAAKC,GAAL,GAAS54B,CAAC,CAAC44B,GAA1I,EAA8I,KAAKC,SAAL,GAAe,EAAE,KAAK,CAAL,KAAS74B,CAAC,CAAC64B,SAAX,IAAsB,CAAC74B,CAAC,CAAC24B,MAA3B,KAAoC34B,CAAC,CAAC64B,SAAnM,EAA6M,KAAKC,YAAL,GAAkB,KAAK,CAAL,KAAS94B,CAAC,CAAC+4B,WAAX,IAAwB/4B,CAAC,CAAC+4B,WAAzP,EAAqQ,KAAKC,WAAL,GAAiBh5B,CAAC,CAACg5B,WAAxR,EAAoS94B,CAAC,CAAC,eAAD,EAAiB,IAAjB,CAArS;AAA4T;;AAAA,iBAASD,CAAT,CAAWN,CAAX,EAAa;AAAC,iBAAO,UAASI,CAAT,EAAW;AAAC,mBAAOJ,CAAC,GAAC,IAAF,GAAOI,CAAC,CAACO,WAAF,EAAd;AAA8B,WAAjD;AAAkD;;AAAA,iBAASJ,CAAT,CAAWP,CAAX,EAAa;AAAC,cAAG,KAAK,CAAL,KAASmG,KAAK,CAACP,SAAN,CAAgB0zB,MAA5B,EAAmC,OAAO1O,IAAI,CAACC,SAAL,CAAe7qB,CAAf,CAAP;AAAyB,cAAII,CAAC,GAAC+F,KAAK,CAACP,SAAN,CAAgB0zB,MAAtB;AAA6B,iBAAOnzB,KAAK,CAACP,SAAN,CAAgB0zB,MAAvB;AAA8B,cAAIv4B,CAAC,GAAC6pB,IAAI,CAACC,SAAL,CAAe7qB,CAAf,CAAN;AAAwB,iBAAOmG,KAAK,CAACP,SAAN,CAAgB0zB,MAAhB,GAAuBl5B,CAAvB,EAAyBW,CAAhC;AAAkC;;AAAA,iBAASP,CAAT,CAAWR,CAAX,EAAa;AAAC,eAAI,IAAII,CAAJ,EAAMW,CAAN,EAAQV,CAAC,GAACL,CAAC,CAACyB,MAAhB,EAAuB,MAAIpB,CAA3B;AAA8BU,YAAAA,CAAC,GAAC0M,IAAI,CAACmkB,KAAL,CAAWnkB,IAAI,CAACyiB,MAAL,KAAc7vB,CAAzB,CAAF,EAA8BD,CAAC,GAACJ,CAAC,CAACK,CAAC,IAAE,CAAJ,CAAjC,EAAwCL,CAAC,CAACK,CAAD,CAAD,GAAKL,CAAC,CAACe,CAAD,CAA9C,EAAkDf,CAAC,CAACe,CAAD,CAAD,GAAKX,CAAvD;AAA9B;;AAAuF,iBAAOJ,CAAP;AAAS;;AAAA,iBAASS,CAAT,CAAWT,CAAX,EAAa;AAAC,cAAII,CAAC,GAAC,EAAN;;AAAS,eAAI,IAAIW,CAAR,IAAaf,CAAb;AAAe,gBAAGsvB,MAAM,CAAC1pB,SAAP,CAAiB6B,cAAjB,CAAgCpD,IAAhC,CAAqCrE,CAArC,EAAuCe,CAAvC,CAAH,EAA6C;AAAC,kBAAIV,CAAJ;AAAMA,cAAAA,CAAC,GAAC,wBAAsBU,CAAtB,IAAyB,+BAA6BA,CAAtD,GAAwD,kCAAxD,GAA2Ff,CAAC,CAACe,CAAD,CAA9F,EAAkGX,CAAC,CAACW,CAAD,CAAD,GAAKV,CAAvG;AAAyG;AAA5K;;AAA4K,iBAAOD,CAAP;AAAS;;AAAAA,QAAAA,CAAC,CAACwhB,OAAF,GAAUvhB,CAAV;AAAY,YAAI6F,CAAC,GAAClG,CAAC,CAAC,EAAD,CAAP;AAAA,YAAY0G,CAAC,GAAC1G,CAAC,CAAC,EAAD,CAAf;AAAA,YAAoBgK,CAAC,GAAChK,CAAC,CAAC,EAAD,CAAvB;AAAA,YAA4BmV,CAAC,GAACnV,CAAC,CAAC,EAAD,CAA/B;AAAA,YAAoCoV,CAAC,GAAC,GAAtC;AAAA,YAA0CC,CAAC,GAACtU,CAAC,CAACkpB,GAAF,CAAMsP,oBAAN,IAA4B9zB,QAAQ,CAAC1E,CAAC,CAACkpB,GAAF,CAAMsP,oBAAP,EAA4B,EAA5B,CAApC,IAAqE,IAAjH;AAAsHl5B,QAAAA,CAAC,CAACuF,SAAF,CAAYuvB,SAAZ,GAAsB,UAASn1B,CAAT,EAAW;AAAC,iBAAO,IAAIgK,CAAJ,CAAM,IAAN,EAAWhK,CAAX,CAAP;AAAqB,SAAvD,EAAwDK,CAAC,CAACuF,SAAF,CAAY4zB,cAAZ,GAA2B,UAASx5B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAK04B,YAAL,CAAkB94B,CAAC,CAACW,WAAF,EAAlB,IAAmCP,CAAnC;AAAqC,SAAtI,EAAuIC,CAAC,CAACuF,SAAF,CAAY6zB,cAAZ,GAA2B,UAASz5B,CAAT,EAAW;AAAC,iBAAO,KAAK84B,YAAL,CAAkB94B,CAAC,CAACW,WAAF,EAAlB,CAAP;AAA0C,SAAxN,EAAyNN,CAAC,CAACuF,SAAF,CAAY8zB,gBAAZ,GAA6B,UAAS15B,CAAT,EAAW;AAAC,iBAAO,KAAK84B,YAAL,CAAkB94B,CAAC,CAACW,WAAF,EAAlB,CAAP;AAA0C,SAA5S,EAA6SN,CAAC,CAACuF,SAAF,CAAY+zB,eAAZ,GAA4B,UAAS35B,CAAT,EAAW;AAAC,WAAC,CAAD,KAAK,KAAKi5B,GAAL,CAASW,OAAT,CAAiB,MAAI55B,CAArB,CAAL,KAA+B,KAAKi5B,GAAL,IAAU,MAAIj5B,CAA7C;AAAgD,SAArY,EAAsYK,CAAC,CAACuF,SAAF,CAAY2uB,YAAZ,GAAyB,UAASn0B,CAAT,EAAW;AAAC,mBAASW,CAAT,CAAWf,CAAX,EAAa0G,CAAb,EAAe;AAAC,qBAAS0O,CAAT,CAAWpV,CAAX,EAAa;AAAC,kBAAII,CAAC,GAACJ,CAAC,IAAEA,CAAC,CAAC6T,IAAL,IAAW7T,CAAC,CAAC6T,IAAF,CAAOiX,OAAlB,IAA2B9qB,CAAC,CAAC6T,IAAF,CAAOgmB,MAAlC,IAA0C75B,CAAC,CAAC85B,UAA5C,IAAwD95B,CAAC,IAAEA,CAAC,CAAC6T,IAAL,IAAW,GAAzE;AAA6ErT,cAAAA,CAAC,CAAC,yEAAD,EAA2ER,CAAC,CAAC85B,UAA7E,EAAwF15B,CAAxF,EAA0FJ,CAAC,CAACo3B,OAA5F,CAAD;AAAsG,kBAAIr2B,CAAC,GAAC,MAAI0M,IAAI,CAACmkB,KAAL,CAAWxxB,CAAC,GAAC,GAAb,CAAV;AAAA,kBAA4BG,CAAC,GAAC,IAAI0qB,IAAJ,EAA9B;AAAuC,kBAAGxV,CAAC,CAAC3P,IAAF,CAAO;AAACi0B,gBAAAA,WAAW,EAACrM,CAAb;AAAe0J,gBAAAA,OAAO,EAAC32B,CAAC,CAACH,CAAD,CAAxB;AAA4B05B,gBAAAA,OAAO,EAAC35B,CAAC,IAAE,IAAvC;AAA4C45B,gBAAAA,aAAa,EAAC,KAAK,CAAL,KAAS55B,CAAT,GAAWA,CAAC,CAACoB,MAAb,GAAoB,IAA9E;AAAmF+yB,gBAAAA,MAAM,EAAC9tB,CAAC,CAAC8tB,MAA5F;AAAmG+D,gBAAAA,QAAQ,EAAC7xB,CAAC,CAAC6xB,QAA9G;AAAuH9D,gBAAAA,GAAG,EAAC/tB,CAAC,CAAC+tB,GAA7H;AAAiIyF,gBAAAA,SAAS,EAAC5U,CAA3I;AAA6I6U,gBAAAA,OAAO,EAAC55B,CAArJ;AAAuJgL,gBAAAA,QAAQ,EAAChL,CAAC,GAAC+kB,CAAlK;AAAoKwU,gBAAAA,UAAU,EAAC15B;AAA/K,eAAP,GAA0LW,CAA7L,EAA+L,OAAOsU,CAAC,CAAC6jB,SAAF,IAAa/jB,CAAb,KAAiBA,CAAC,CAACwE,CAAD,CAAD,GAAK3Z,CAAC,CAACo6B,YAAxB,GAAsCp6B,CAAC,CAAC6T,IAA/C;AAAoD,kBAAG,MAAIpG,IAAI,CAACmkB,KAAL,CAAWxxB,CAAC,GAAC,GAAb,CAAP,EAAyB,OAAOkV,CAAC,IAAE,CAAH,EAAKK,CAAC,EAAb;AAAgBnV,cAAAA,CAAC,CAAC,qBAAD,CAAD;AAAyB,kBAAIwJ,CAAC,GAAC,IAAI9D,CAAC,CAACmuB,kBAAN,CAAyBr0B,CAAC,CAAC6T,IAAF,IAAQ7T,CAAC,CAAC6T,IAAF,CAAOiX,OAAxC,EAAgD;AAACyM,gBAAAA,SAAS,EAAC9hB,CAAX;AAAaqkB,gBAAAA,UAAU,EAAC15B;AAAxB,eAAhD,CAAN;AAAkF,qBAAOiV,CAAC,CAACglB,QAAF,CAAW5J,MAAX,CAAkBzmB,CAAlB,CAAP;AAA4B;;AAAA,qBAAS0L,CAAT,CAAW1V,CAAX,EAAa;AAACQ,cAAAA,CAAC,CAAC,sBAAD,EAAwBR,CAAC,CAAC8qB,OAA1B,EAAkC9qB,CAAC,CAACqP,KAApC,CAAD;AAA4C,kBAAItO,CAAC,GAAC,IAAIkqB,IAAJ,EAAN;AAAe,qBAAOxV,CAAC,CAAC3P,IAAF,CAAO;AAACi0B,gBAAAA,WAAW,EAACrM,CAAb;AAAe0J,gBAAAA,OAAO,EAAC32B,CAAC,CAACH,CAAD,CAAxB;AAA4B05B,gBAAAA,OAAO,EAAC35B,CAAC,IAAE,IAAvC;AAA4C45B,gBAAAA,aAAa,EAAC,KAAK,CAAL,KAAS55B,CAAT,GAAWA,CAAC,CAACoB,MAAb,GAAoB,IAA9E;AAAmF+yB,gBAAAA,MAAM,EAAC9tB,CAAC,CAAC8tB,MAA5F;AAAmG+D,gBAAAA,QAAQ,EAAC7xB,CAAC,CAAC6xB,QAA9G;AAAuH9D,gBAAAA,GAAG,EAAC/tB,CAAC,CAAC+tB,GAA7H;AAAiIyF,gBAAAA,SAAS,EAAC5U,CAA3I;AAA6I6U,gBAAAA,OAAO,EAACp5B,CAArJ;AAAuJwK,gBAAAA,QAAQ,EAACxK,CAAC,GAACukB;AAAlK,eAAP,GAA6KtlB,CAAC,YAAYkG,CAAC,CAACmuB,kBAAf,KAAoCr0B,CAAC,GAAC,IAAIkG,CAAC,CAACo0B,OAAN,CAAct6B,CAAC,IAAEA,CAAC,CAAC8qB,OAAnB,EAA2B9qB,CAA3B,CAAtC,CAA7K,EAAkPsV,CAAC,IAAE,CAArP,EAAuPtV,CAAC,YAAYkG,CAAC,CAACo0B,OAAf,IAAwBt6B,CAAC,YAAYkG,CAAC,CAACq0B,cAAvC,IAAuDjlB,CAAC,IAAED,CAAC,CAAC+iB,KAAF,CAAQh4B,CAAC,CAACs0B,QAAV,EAAoBjzB,MAAvB,KAAgC8T,CAAC,IAAE,CAACC,CAApC,CAAvD,IAA+FxV,CAAC,CAACu3B,SAAF,GAAY9hB,CAAZ,EAAcJ,CAAC,CAACglB,QAAF,CAAW5J,MAAX,CAAkBzwB,CAAlB,CAA7G,IAAmIA,CAAC,YAAYkG,CAAC,CAACs0B,cAAf,GAA8BpN,CAAC,EAA/B,GAAkCzX,CAAC,EAApa;AAAua;;AAAA,qBAASA,CAAT,GAAY;AAAC,qBAAOnV,CAAC,CAAC,kBAAD,CAAD,EAAsB6U,CAAC,CAAColB,mBAAF,CAAsBr6B,CAAC,CAACs0B,QAAxB,CAAtB,EAAwD3zB,CAAC,CAACf,CAAD,EAAG0G,CAAH,CAAhE;AAAsE;;AAAA,qBAAS0mB,CAAT,GAAY;AAAC,qBAAO5sB,CAAC,CAAC,sCAAD,CAAD,EAA0C6U,CAAC,CAAColB,mBAAF,CAAsBr6B,CAAC,CAACs0B,QAAxB,CAA1C,EAA4Erf,CAAC,CAACqlB,0BAAF,EAA5E,EAA2Gh0B,CAAC,CAAC6xB,QAAF,GAAWljB,CAAC,CAACslB,sBAAF,CAAyBv6B,CAAC,CAACs0B,QAA3B,CAAtH,EAA2J3zB,CAAC,CAACf,CAAD,EAAG0G,CAAH,CAAnK;AAAyK;;AAAA2O,YAAAA,CAAC,CAACsjB,eAAF;;AAAoB,gBAAIhf,CAAJ;AAAA,gBAAM2L,CAAC,GAAC,IAAI2F,IAAJ,EAAR;AAAiB,gBAAG5V,CAAC,CAAC6jB,SAAF,KAAcvf,CAAC,GAACvZ,CAAC,CAACq0B,GAAlB,GAAuBpf,CAAC,CAAC6jB,SAAF,IAAa74B,CAAb,KAAiBsZ,CAAC,IAAE,WAASjT,CAAC,CAACmN,IAA/B,CAAvB,EAA4DwB,CAAC,CAAC6jB,SAAF,IAAa/jB,CAAb,IAAgB,KAAK,CAAL,KAASA,CAAC,CAACwE,CAAD,CAAzF,EAA6F,OAAOnZ,CAAC,CAAC,6BAAD,CAAD,EAAiC6U,CAAC,CAACglB,QAAF,CAAW1M,OAAX,CAAmB/C,IAAI,CAACgQ,KAAL,CAAWzlB,CAAC,CAACwE,CAAD,CAAZ,CAAnB,CAAxC;AAA6E,gBAAGrE,CAAC,IAAED,CAAC,CAAC+iB,KAAF,CAAQh4B,CAAC,CAACs0B,QAAV,EAAoBjzB,MAA1B,EAAiC,OAAM,CAAC+T,CAAD,IAAID,CAAJ,IAAO/U,CAAC,CAAC,4BAAD,CAAD,EAAgC6U,CAAC,CAACglB,QAAF,CAAW5J,MAAX,CAAkB,IAAIvqB,CAAC,CAACmuB,kBAAN,CAAyB,wIAAsIhf,CAAC,CAAC6iB,aAAjK,EAA+K;AAACX,cAAAA,SAAS,EAAC9hB;AAAX,aAA/K,CAAlB,CAAvC,KAA0PjV,CAAC,CAAC,uBAAD,CAAD,EAA2B8U,CAAC,GAAC,CAA7B,EAA+B5O,CAAC,CAAC8tB,MAAF,GAASp0B,CAAC,CAACy6B,QAAF,CAAWrG,MAAnD,EAA0D9tB,CAAC,CAAC+tB,GAAF,GAAMr0B,CAAC,CAACy6B,QAAF,CAAWpG,GAA3E,EAA+E/tB,CAAC,CAACo0B,QAAF,GAAW16B,CAAC,CAACy6B,QAAF,CAAWhnB,IAArG,EAA0GnN,CAAC,CAACo0B,QAAF,KAAap0B,CAAC,CAACmN,IAAF,GAAOtT,CAAC,CAACmG,CAAC,CAACo0B,QAAH,CAArB,CAA1G,EAA6Ix6B,CAAC,GAAC+U,CAAC,CAAC0lB,sBAAF,CAAyB;AAACC,cAAAA,YAAY,EAAChxB,CAAd;AAAgBotB,cAAAA,OAAO,EAACh3B,CAAC,CAACg3B;AAA1B,aAAzB,CAA/I,EAA4M1wB,CAAC,CAAC6xB,QAAF,GAAWljB,CAAC,CAACslB,sBAAF,CAAyBv6B,CAAC,CAACs0B,QAA3B,CAAvN,EAA4Prf,CAAC,CAAC4lB,mBAAF,CAAsB,CAAtB,EAAwB76B,CAAC,CAACs0B,QAA1B,CAA5P,EAAgSnf,CAAC,GAAC,CAAC,CAAnS,EAAqSxU,CAAC,CAACsU,CAAC,CAAC6lB,QAAF,CAAWL,QAAZ,EAAqBn0B,CAArB,CAAhiB,CAAN;;AAA+jB,gBAAIgnB,CAAC,GAACrY,CAAC,CAAC8lB,cAAF,CAAiB/6B,CAAC,CAACs0B,QAAnB,CAAN;AAAA,gBAAmC1H,CAAC,GAACU,CAAC,GAAChnB,CAAC,CAAC+tB,GAAzC;AAAA,gBAA6C7G,CAAC,GAAC;AAAC/Z,cAAAA,IAAI,EAACnN,CAAC,CAACmN,IAAR;AAAainB,cAAAA,QAAQ,EAACp0B,CAAC,CAACo0B,QAAxB;AAAiCtG,cAAAA,MAAM,EAAC9tB,CAAC,CAAC8tB,MAA1C;AAAiD4C,cAAAA,OAAO,EAAC92B,CAAzD;AAA2Di4B,cAAAA,QAAQ,EAAC7xB,CAAC,CAAC6xB,QAAtE;AAA+EvO,cAAAA,KAAK,EAACxpB;AAArF,aAA/C;;AAAuI,mBAAOA,CAAC,CAAC,gDAAD,EAAkDotB,CAAC,CAAC4G,MAApD,EAA2DxH,CAA3D,EAA6DY,CAAC,CAACwJ,OAA/D,EAAuExJ,CAAC,CAAC2K,QAAzE,CAAD,EAAoFv4B,CAAC,KAAGqV,CAAC,CAAC6lB,QAAF,CAAWL,QAAf,IAAyBr6B,CAAC,CAAC,gBAAD,CAA9G,EAAiIR,CAAC,CAACqE,IAAF,CAAOgR,CAAP,EAAS2X,CAAT,EAAWY,CAAX,EAAcV,IAAd,CAAmB9X,CAAnB,EAAqBM,CAArB,CAAxI;AAAgK;;AAAA,eAAKijB,eAAL;;AAAuB,cAAIt4B,CAAJ;AAAA,cAAMC,CAAN;AAAA,cAAQE,CAAC,GAACR,CAAC,CAAC,CAAD,CAAD,CAAK,mBAAiBI,CAAC,CAACq0B,GAAxB,CAAV;AAAA,cAAuCzqB,CAAC,GAAC5J,CAAC,CAAC46B,YAAF,IAAgB,EAAzD;AAAA,cAA4D7lB,CAAC,GAAC/U,CAAC,CAAC24B,KAAhE;AAAA,cAAsE1jB,CAAC,GAAC,IAAxE;AAAA,cAA6EC,CAAC,GAAC,CAA/E;AAAA,cAAiFC,CAAC,GAAC,CAAC,CAApF;AAAA,cAAsFC,CAAC,GAACH,CAAC,CAAC8jB,YAAF,IAAgB9jB,CAAC,CAAC6lB,QAAF,CAAWL,QAA3B,IAAqCz6B,CAAC,CAACy6B,QAA/H;AAAwI,eAAK1C,MAAL,CAAY12B,MAAZ,GAAmB2T,CAAnB,IAAsB,KAAK,CAAL,KAAShV,CAAC,CAACyT,IAAjC,KAAwC,KAAK,CAAL,KAASzT,CAAC,CAACyT,IAAF,CAAO+iB,MAAhB,IAAwB,KAAK,CAAL,KAASx2B,CAAC,CAACyT,IAAF,CAAOmjB,QAAhF,KAA2F52B,CAAC,CAACyT,IAAF,CAAOskB,MAAP,GAAc,KAAKA,MAAnB,EAA0B73B,CAAC,GAAC,KAAKy6B,sBAAL,CAA4B;AAACC,YAAAA,YAAY,EAAChxB,CAAd;AAAgBoxB,YAAAA,UAAU,EAAC,CAAC,CAA5B;AAA8BhE,YAAAA,OAAO,EAACh3B,CAAC,CAACg3B;AAAxC,WAA5B,CAAvH,IAAsM92B,CAAC,GAAC,KAAKy6B,sBAAL,CAA4B;AAACC,YAAAA,YAAY,EAAChxB,CAAd;AAAgBotB,YAAAA,OAAO,EAACh3B,CAAC,CAACg3B;AAA1B,WAA5B,CAAxM,EAAwQ,KAAK,CAAL,KAASh3B,CAAC,CAACyT,IAAX,KAAkBxT,CAAC,GAACE,CAAC,CAACH,CAAC,CAACyT,IAAH,CAArB,CAAxQ,EAAuSrT,CAAC,CAAC,eAAD,CAAxS;AAA0T,cAAIiV,CAAC,GAAC,EAAN;AAAA,cAASC,CAAC,GAAC3U,CAAC,CAACsU,CAAC,CAAC6lB,QAAH,EAAY;AAACzG,YAAAA,GAAG,EAACr0B,CAAC,CAACq0B,GAAP;AAAWD,YAAAA,MAAM,EAACp0B,CAAC,CAACo0B,MAApB;AAA2B3gB,YAAAA,IAAI,EAACxT,CAAhC;AAAkCy6B,YAAAA,QAAQ,EAAC16B,CAAC,CAACyT,IAA7C;AAAkD0kB,YAAAA,QAAQ,EAACljB,CAAC,CAACslB,sBAAF,CAAyBv6B,CAAC,CAACs0B,QAA3B;AAA3D,WAAZ,CAAZ;AAA0H,iBAAM,cAAY,OAAOt0B,CAAC,CAACu0B,QAArB,GAA8Bjf,CAA9B,GAAgC,KAAKA,CAAC,CAACwX,IAAF,CAAO,UAASltB,CAAT,EAAW;AAAC0G,YAAAA,CAAC,CAAC,YAAU;AAACtG,cAAAA,CAAC,CAACu0B,QAAF,CAAW,IAAX,EAAgB30B,CAAhB;AAAmB,aAA/B,EAAgCqV,CAAC,CAACgkB,WAAF,IAAer0B,UAA/C,CAAD;AAA4D,WAA/E,EAAgF,UAAShF,CAAT,EAAW;AAAC0G,YAAAA,CAAC,CAAC,YAAU;AAACtG,cAAAA,CAAC,CAACu0B,QAAF,CAAW30B,CAAX;AAAc,aAA1B,EAA2BqV,CAAC,CAACgkB,WAAF,IAAer0B,UAA1C,CAAD;AAAuD,WAAnJ,CAA3C;AAAgM,SAAxqH,EAAyqH3E,CAAC,CAACuF,SAAF,CAAYqvB,gBAAZ,GAA6B,UAASj1B,CAAT,EAAWI,CAAX,EAAa;AAAC,cAAG,QAAMJ,CAAT,EAAW,OAAOI,CAAP;;AAAS,eAAI,IAAIW,CAAR,IAAaf,CAAb;AAAe,qBAAOe,CAAP,IAAU,KAAK,CAAL,KAASf,CAAC,CAACe,CAAD,CAApB,IAAyBf,CAAC,CAACyH,cAAF,CAAiB1G,CAAjB,CAAzB,KAA+CX,CAAC,IAAE,OAAKA,CAAL,GAAO,EAAP,GAAU,GAAb,EAAiBA,CAAC,IAAEW,CAAC,GAAC,GAAF,GAAMqzB,kBAAkB,CAAC,qBAAmB9E,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAjB,CAA0BlrB,IAA1B,CAA+BrE,CAAC,CAACe,CAAD,CAAhC,CAAnB,GAAwDR,CAAC,CAACP,CAAC,CAACe,CAAD,CAAF,CAAzD,GAAgEf,CAAC,CAACe,CAAD,CAAlE,CAA3F;AAAf;;AAAkL,iBAAOX,CAAP;AAAS,SAAn6H,EAAo6HC,CAAC,CAACuF,SAAF,CAAYm1B,sBAAZ,GAAmC,UAAS36B,CAAT,EAAW;AAAC,cAAIW,CAAC,GAACf,CAAC,CAAC,CAAD,CAAP;AAAA,cAAWK,CAAC,GAAC;AAAC,+BAAkBD,CAAC,CAAC46B,YAAF,GAAe,KAAK/B,GAAL,GAAS,GAAT,GAAa74B,CAAC,CAAC46B,YAA9B,GAA2C,KAAK/B,GAAnE;AAAuE,wCAA2B,KAAKf;AAAvG,WAAb;AAAmI,iBAAM,CAAC,CAAD,KAAK93B,CAAC,CAACg7B,UAAP,KAAoB/6B,CAAC,CAAC,mBAAD,CAAD,GAAuB,KAAK83B,MAAhD,GAAwD,KAAKkD,SAAL,KAAiBh7B,CAAC,CAAC,qBAAD,CAAD,GAAyB,KAAKg7B,SAA/C,CAAxD,EAAkH,KAAKC,YAAL,KAAoBj7B,CAAC,CAAC,sBAAD,CAAD,GAA0B,KAAKi7B,YAAnD,CAAlH,EAAmLv6B,CAAC,CAAC,KAAK+3B,YAAN,EAAmB,UAAS94B,CAAT,EAAWI,CAAX,EAAa;AAACC,YAAAA,CAAC,CAACD,CAAD,CAAD,GAAKJ,CAAL;AAAO,WAAxC,CAApL,EAA8NI,CAAC,CAACg3B,OAAF,IAAWr2B,CAAC,CAACX,CAAC,CAACg3B,OAAH,EAAW,UAASp3B,CAAT,EAAWI,CAAX,EAAa;AAACC,YAAAA,CAAC,CAACD,CAAD,CAAD,GAAKJ,CAAL;AAAO,WAAhC,CAA1O,EAA4QK,CAAlR;AAAoR,SAA12I,EAA22IA,CAAC,CAACuF,SAAF,CAAYkxB,MAAZ,GAAmB,UAAS12B,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,cAAIC,CAAC,GAACN,CAAC,CAAC,CAAD,CAAP;AAAA,cAAWO,CAAC,GAACP,CAAC,CAAC,EAAD,CAAd;AAAA,cAAmBQ,CAAC,GAAC,kDAArB;AAAwE,cAAG,CAACF,CAAC,CAACF,CAAD,CAAL,EAAS,MAAM,IAAIsnB,KAAJ,CAAUlnB,CAAV,CAAN;AAAmB,wBAAY,OAAOO,CAAnB,IAAsBV,CAAC,GAACU,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC;AAAmD,cAAIN,CAAC,GAAC,IAAN;AAAA,cAAWyF,CAAC,GAAC;AAAC8wB,YAAAA,QAAQ,EAACz2B,CAAC,CAACH,CAAD,EAAG,UAASJ,CAAT,EAAW;AAAC,kBAAII,CAAC,GAAC,EAAN;AAAS,qBAAO,KAAK,CAAL,KAASJ,CAAC,CAAC22B,KAAX,KAAmBv2B,CAAC,IAAE,WAASg0B,kBAAkB,CAACp0B,CAAC,CAAC22B,KAAH,CAAjD,GAA4D;AAACD,gBAAAA,SAAS,EAAC12B,CAAC,CAAC02B,SAAb;AAAuBE,gBAAAA,MAAM,EAACn2B,CAAC,CAACw0B,gBAAF,CAAmBj1B,CAAC,CAAC42B,MAArB,EAA4Bx2B,CAA5B;AAA9B,eAAnE;AAAiI,aAAzJ;AAAX,WAAb;AAAA,cAAoLsG,CAAC,GAACnG,CAAC,CAAC2F,CAAC,CAAC8wB,QAAH,EAAY,UAASh3B,CAAT,EAAWI,CAAX,EAAa;AAAC,mBAAOA,CAAC,GAAC,GAAF,GAAMg0B,kBAAkB,CAAC,gBAAcA,kBAAkB,CAACp0B,CAAC,CAAC02B,SAAH,CAAhC,GAA8C,GAA9C,GAAkD12B,CAAC,CAAC42B,MAArD,CAA/B;AAA4F,WAAtH,CAAD,CAAyHzsB,IAAzH,CAA8H,GAA9H,CAAtL;AAAA,cAAyTH,CAAC,GAAC,sBAA3T;AAAkV,iBAAO,KAAK,CAAL,KAASjJ,CAAC,CAACw6B,QAAX,KAAsBvxB,CAAC,IAAE,eAAajJ,CAAC,CAACw6B,QAAxC,GAAkD,KAAKhH,YAAL,CAAkB;AAACwE,YAAAA,KAAK,EAAC,KAAKA,KAAZ;AAAkBvE,YAAAA,MAAM,EAAC,MAAzB;AAAgCC,YAAAA,GAAG,EAACzqB,CAApC;AAAsC6J,YAAAA,IAAI,EAAC3N,CAA3C;AAA6CwuB,YAAAA,QAAQ,EAAC,MAAtD;AAA6DmG,YAAAA,QAAQ,EAAC;AAACrG,cAAAA,MAAM,EAAC,KAAR;AAAcC,cAAAA,GAAG,EAAC,cAAlB;AAAiC5gB,cAAAA,IAAI,EAAC;AAAC+iB,gBAAAA,MAAM,EAAClwB;AAAR;AAAtC,aAAtE;AAAwHiuB,YAAAA,QAAQ,EAACt0B;AAAjI,WAAlB,CAAzD;AAAgN,SAAvkK,EAAwkKA,CAAC,CAACuF,SAAF,CAAY41B,eAAZ,GAA4B,UAASx7B,CAAT,EAAW;AAAC,cAAG,qBAAmBsvB,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAjB,CAA0BlrB,IAA1B,CAA+BrE,CAA/B,CAAtB,EAAwD;AAAC,iBAAI,IAAII,CAAC,GAAC,EAAN,EAASW,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACf,CAAC,CAACyB,MAArB,EAA4B,EAAEV,CAA9B;AAAgC,kBAAG,qBAAmBuuB,MAAM,CAAC1pB,SAAP,CAAiB2pB,QAAjB,CAA0BlrB,IAA1B,CAA+BrE,CAAC,CAACe,CAAD,CAAhC,CAAtB,EAA2D;AAAC,qBAAI,IAAIV,CAAC,GAAC,EAAN,EAASC,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACN,CAAC,CAACe,CAAD,CAAD,CAAKU,MAAxB,EAA+B,EAAEnB,CAAjC;AAAmCD,kBAAAA,CAAC,CAACyF,IAAF,CAAO9F,CAAC,CAACe,CAAD,CAAD,CAAKT,CAAL,CAAP;AAAnC;;AAAmDF,gBAAAA,CAAC,CAAC0F,IAAF,CAAO,MAAIzF,CAAC,CAAC8J,IAAF,CAAO,GAAP,CAAJ,GAAgB,GAAvB;AAA4B,eAA3I,MAAgJ/J,CAAC,CAAC0F,IAAF,CAAO9F,CAAC,CAACe,CAAD,CAAR;AAAhL;;AAA6Lf,YAAAA,CAAC,GAACI,CAAC,CAAC+J,IAAF,CAAO,GAAP,CAAF;AAAc;;AAAA,eAAKmxB,YAAL,GAAkBt7B,CAAlB;AAAoB,SAAx4K,EAAy4KK,CAAC,CAACuF,SAAF,CAAY61B,YAAZ,GAAyB,UAASz7B,CAAT,EAAW;AAAC,eAAKq7B,SAAL,GAAer7B,CAAf;AAAiB,SAA/7K,EAAg8KK,CAAC,CAACuF,SAAF,CAAY81B,UAAZ,GAAuB,YAAU;AAAC,eAAK3C,KAAL,GAAW,EAAX;AAAc,SAAh/K,EAAi/K14B,CAAC,CAACuF,SAAF,CAAY+1B,iBAAZ,GAA8B,UAAS37B,CAAT,EAAW;AAACA,UAAAA,CAAC,KAAG,KAAKs4B,SAAL,CAAeE,OAAf,GAAuB,KAAKF,SAAL,CAAeD,IAAf,GAAoB,KAAKC,SAAL,CAAe1P,KAAf,GAAqB5oB,CAAnE,CAAD;AAAuE,SAAlmL,EAAmmLK,CAAC,CAACuF,SAAF,CAAYg2B,WAAZ,GAAwB,UAAS57B,CAAT,EAAW;AAAC,eAAKs4B,SAAL,GAAet4B,CAAf;AAAiB,SAAxpL,EAAypLK,CAAC,CAACuF,SAAF,CAAYi2B,WAAZ,GAAwB,YAAU;AAAC,iBAAO,KAAKvD,SAAZ;AAAsB,SAAltL,EAAmtLj4B,CAAC,CAACuF,SAAF,CAAYk2B,aAAZ,GAA0B,YAAU;AAAC,cAAI97B,CAAC,GAACmV,CAAC,CAACtN,GAAF,CAAM,KAAKqwB,aAAX,CAAN;AAAgC,iBAAO,SAAOl4B,CAAP,IAAU,KAAK+7B,eAAL,CAAqB/7B,CAArB,CAAV,EAAkCA,CAAzC;AAA2C,SAAn0L,EAAo0LK,CAAC,CAACuF,SAAF,CAAYo2B,aAAZ,GAA0B,UAASh8B,CAAT,EAAW;AAAC,iBAAOA,CAAC,CAACi8B,UAAF,GAAc,IAAIhR,IAAJ,EAAD,CAAWiR,OAAX,EAAb,EAAkC,KAAKH,eAAL,CAAqB/7B,CAArB,CAAlC,EAA0DmV,CAAC,CAACgnB,GAAF,CAAM,KAAKjE,aAAX,EAAyBl4B,CAAzB,CAAjE;AAA6F,SAAv8L,EAAw8LK,CAAC,CAACuF,SAAF,CAAY+yB,eAAZ,GAA4B,YAAU;AAAC,cAAI34B,CAAC,GAAC,KAAK87B,aAAL,EAAN;AAAA,cAA2B17B,CAAC,GAAE,IAAI6qB,IAAJ,EAAD,CAAWiR,OAAX,EAA7B;;AAAkD,iBAAO,SAAOl8B,CAAP,IAAUI,CAAC,GAACJ,CAAC,CAACi8B,UAAJ,GAAe5mB,CAAzB,GAA2B,KAAK+mB,sBAAL,CAA4Bp8B,CAA5B,CAA3B,GAA0DA,CAAjE;AAAmE,SAApmM,EAAqmMK,CAAC,CAACuF,SAAF,CAAYw2B,sBAAZ,GAAmC,UAASp8B,CAAT,EAAW;AAAC,cAAII,CAAC,GAACJ,CAAC,IAAE,EAAT;AAAY,iBAAOI,CAAC,CAACi8B,WAAF,GAAc;AAAChE,YAAAA,IAAI,EAAC,CAAN;AAAQzP,YAAAA,KAAK,EAAC;AAAd,WAAd,EAA+BxoB,CAAC,CAACk8B,iBAAF,GAAoB,CAAnD,EAAqDl8B,CAAC,CAACm8B,aAAF,GAAgBn8B,CAAC,CAACm8B,aAAF,IAAiB/7B,CAAC,CAAC,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAAD,CAAvF,EAAiG,KAAKw7B,aAAL,CAAmB57B,CAAnB,CAAxG;AAA8H,SAA9xM,EAA+xMC,CAAC,CAACuF,SAAF,CAAYm2B,eAAZ,GAA4B,UAAS/7B,CAAT,EAAW;AAAC,eAAKw8B,YAAL,GAAkBx8B,CAAC,CAACq8B,WAApB,EAAgC,KAAKI,kBAAL,GAAwBz8B,CAAC,CAACs8B,iBAA1D,EAA4E,KAAK1D,cAAL,GAAoB54B,CAAC,CAACu8B,aAAlG;AAAgH,SAAv7M,EAAw7Ml8B,CAAC,CAACuF,SAAF,CAAY82B,uBAAZ,GAAoC,UAASt8B,CAAT,EAAW;AAAC,cAAIW,CAAC,GAACf,CAAC,CAAC,CAAD,CAAP;AAAA,cAAWK,CAAC,GAAC,KAAKy7B,aAAL,EAAb;;AAAkC,iBAAO/6B,CAAC,CAACX,CAAD,EAAG,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAACC,YAAAA,CAAC,CAACD,CAAD,CAAD,GAAKJ,CAAL;AAAO,WAAxB,CAAD,EAA2B,KAAKg8B,aAAL,CAAmB37B,CAAnB,CAAlC;AAAwD,SAAlkN,EAAmkNA,CAAC,CAACuF,SAAF,CAAYu1B,cAAZ,GAA2B,UAASn7B,CAAT,EAAW;AAAC,iBAAO,KAAKo4B,KAAL,CAAWp4B,CAAX,EAAc,KAAK28B,mBAAL,CAAyB38B,CAAzB,CAAd,CAAP;AAAkD,SAA5pN,EAA6pNK,CAAC,CAACuF,SAAF,CAAYg3B,qBAAZ,GAAkC,YAAU;AAAC,iBAAO,KAAKH,kBAAZ;AAA+B,SAAzuN,EAA0uNp8B,CAAC,CAACuF,SAAF,CAAY+2B,mBAAZ,GAAgC,UAAS38B,CAAT,EAAW;AAAC,iBAAO,KAAKw8B,YAAL,CAAkBx8B,CAAlB,CAAP;AAA4B,SAAlzN,EAAmzNK,CAAC,CAACuF,SAAF,CAAYq1B,mBAAZ,GAAgC,UAAS76B,CAAT,EAAWW,CAAX,EAAa;AAAC,cAAIV,CAAC,GAACL,CAAC,CAAC,EAAD,CAAD,CAAM,KAAKw8B,YAAX,CAAN;AAA+B,iBAAOn8B,CAAC,CAACU,CAAD,CAAD,GAAKX,CAAL,EAAO,KAAKs8B,uBAAL,CAA6B;AAACL,YAAAA,WAAW,EAACh8B;AAAb,WAA7B,CAAP,EAAqDD,CAA5D;AAA8D,SAA97N,EAA+7NC,CAAC,CAACuF,SAAF,CAAY60B,mBAAZ,GAAgC,UAASz6B,CAAT,EAAW;AAAC,iBAAO,KAAKi7B,mBAAL,CAAyB,CAAC,KAAK0B,mBAAL,CAAyB38B,CAAzB,IAA4B,CAA7B,IAAgC,KAAKo4B,KAAL,CAAWp4B,CAAX,EAAcyB,MAAvE,EAA8EzB,CAA9E,CAAP;AAAwF,SAAnkO,EAAokOK,CAAC,CAACuF,SAAF,CAAY80B,0BAAZ,GAAuC,YAAU;AAAC,cAAI16B,CAAC,GAACyN,IAAI,CAACC,GAAL,CAAS,KAAK+uB,kBAAL,GAAwB,CAAjC,EAAmC,CAAnC,CAAN;AAA4C,iBAAO,KAAKC,uBAAL,CAA6B;AAACJ,YAAAA,iBAAiB,EAACt8B;AAAnB,WAA7B,CAAP;AAA2D,SAA7tO,EAA8tOK,CAAC,CAACuF,SAAF,CAAY+0B,sBAAZ,GAAmC,UAAS36B,CAAT,EAAW;AAAC,iBAAM;AAACw4B,YAAAA,OAAO,EAAC,KAAKF,SAAL,CAAeE,OAAf,GAAuB,KAAKiE,kBAArC;AAAwDhxB,YAAAA,QAAQ,EAAC,KAAK6sB,SAAL,CAAet4B,CAAf,IAAkB,KAAKy8B;AAAxF,WAAN;AAAkH,SAA/3O;AAAg4O,OAA3+S,EAA6+Sp4B,IAA7+S,CAAk/S,IAAl/S,EAAu/SrE,CAAC,CAAC,EAAD,CAAx/S;AAA8/S,KAA7gT,EAA8gT;AAAC,SAAE,CAAH;AAAK,UAAG,EAAR;AAAW,UAAG,EAAd;AAAiB,UAAG,EAApB;AAAuB,UAAG,EAA1B;AAA6B,UAAG,EAAhC;AAAmC,UAAG,EAAtC;AAAyC,UAAG,EAA5C;AAA+C,SAAE,CAAjD;AAAmD,SAAE;AAArD,KAA9gT,CADoqN;AACm6F,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,GAAY;AAACR,QAAAA,CAAC,CAAC0E,KAAF,CAAQ,IAAR,EAAaR,SAAb;AAAwB;;AAAA,eAASpE,CAAT,CAAWL,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,iBAASV,CAAT,CAAWU,CAAX,EAAaT,CAAb,EAAe;AAAC,cAAIC,CAAC,GAAC;AAACs8B,YAAAA,IAAI,EAAC97B,CAAC,IAAE,CAAT;AAAW+7B,YAAAA,WAAW,EAAC18B,CAAC,IAAE;AAA1B,WAAN;AAAA,cAAqCI,CAAC,GAACF,CAAC,IAAE,EAA1C;AAA6C,iBAAON,CAAC,CAACO,CAAD,CAAD,CAAK2sB,IAAL,CAAU,UAASltB,CAAT,EAAW;AAAC,gBAAII,CAAC,GAACJ,CAAC,CAAC+8B,IAAR;AAAA,gBAAah8B,CAAC,GAACf,CAAC,CAACg9B,MAAjB;AAAA,gBAAwB18B,CAAC,GAACF,CAAC,CAAC+P,GAAF,CAAM,UAASnQ,CAAT,EAAW;AAAC,qBAAO,OAAOA,CAAC,CAACi9B,gBAAT,EAA0Bj9B,CAAjC;AAAmC,aAArD,CAA1B;AAAA,gBAAiFS,CAAC,GAACD,CAAC,CAACuH,MAAF,CAASzH,CAAT,CAAnF;AAA+F,mBAAOG,CAAC,CAACgB,MAAF,GAASV,CAAT,GAAWV,CAAC,CAACE,CAAC,CAACs8B,IAAF,GAAO,CAAR,EAAUp8B,CAAV,CAAZ,GAAyBA,CAAhC;AAAkC,WAAvJ,CAAP;AAAgK;;AAAA,eAAOJ,CAAC,GAAG6sB,IAAJ,CAAS,UAASltB,CAAT,EAAW;AAAC,iBAAM,cAAY,OAAOe,CAAnB,GAAqB,KAAKA,CAAC,CAACf,CAAD,CAA3B,GAA+BA,CAArC;AAAuC,SAA5D,CAAP;AAAqE;;AAAA,UAAIM,CAAC,GAACN,CAAC,CAAC,CAAD,CAAP;AAAA,UAAWO,CAAC,GAACP,CAAC,CAAC,EAAD,CAAd;AAAA,UAAmBQ,CAAC,GAACR,CAAC,CAAC,EAAD,CAAtB;AAAA,UAA2BS,CAAC,GAACT,CAAC,CAAC,EAAD,CAA9B;AAAA,UAAmCkG,CAAC,GAAClG,CAAC,CAAC,EAAD,CAAtC;AAAA,UAA2C0G,CAAC,GAAC1G,CAAC,CAAC,EAAD,CAA9C;AAAA,UAAmDgK,CAAC,GAACxJ,CAAC,CAAC,YAAU,CAAE,CAAb,EAAcC,CAAC,CAAC,iBAAD,EAAmB,mBAAnB,CAAf,CAAtD;AAA8GL,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV,EAAYT,CAAC,CAACS,CAAD,EAAGR,CAAH,CAAb,EAAmBQ,CAAC,CAAC6E,SAAF,CAAYs3B,SAAZ,GAAsB,UAASl9B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,YAAIV,CAAC,GAAC,IAAN;AAAW,eAAO,MAAIoE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOrB,CAAzC,KAA6CW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,KAAK,CAAxD,GAA2D,KAAK+8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAK,CAAL,KAASp0B,CAAT,GAAW,KAAX,GAAiB,MAAzB;AAAgCq0B,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC/zB,CAAC,CAACq2B,SAAH,CAAhC,IAA+C,KAAK,CAAL,KAASt2B,CAAT,GAAW,MAAIg0B,kBAAkB,CAACh0B,CAAD,CAAjC,GAAqC,EAApF,CAApC;AAA4HyT,UAAAA,IAAI,EAAC7T,CAAjI;AAAmI00B,UAAAA,QAAQ,EAAC,OAA5I;AAAoJC,UAAAA,QAAQ,EAAC5zB;AAA7J,SAArB,CAAlE;AAAwP,OAA5T,EAA6TA,CAAC,CAAC6E,SAAF,CAAYw3B,UAAZ,GAAuB,UAASh9B,CAAT,EAAWW,CAAX,EAAa;AAAC,YAAIV,CAAC,GAAC,qDAAN;AAA4D,YAAG,CAACL,CAAC,CAAC,CAAD,CAAD,CAAKI,CAAL,CAAJ,EAAY,MAAM,IAAIsnB,KAAJ,CAAUrnB,CAAV,CAAN;;AAAmB,aAAI,IAAIC,CAAC,GAAC,IAAN,EAAWC,CAAC,GAAC;AAACy2B,UAAAA,QAAQ,EAAC;AAAV,SAAb,EAA2Bx2B,CAAC,GAAC,CAAjC,EAAmCA,CAAC,GAACJ,CAAC,CAACqB,MAAvC,EAA8C,EAAEjB,CAAhD,EAAkD;AAAC,cAAIC,CAAC,GAAC;AAAC48B,YAAAA,MAAM,EAAC,WAAR;AAAoBxpB,YAAAA,IAAI,EAACzT,CAAC,CAACI,CAAD;AAA1B,WAAN;AAAqCD,UAAAA,CAAC,CAACy2B,QAAF,CAAWlxB,IAAX,CAAgBrF,CAAhB;AAAmB;;AAAA,eAAO,KAAK08B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC9zB,CAAC,CAACo2B,SAAH,CAAhC,GAA8C,QAAjE;AAA0E7iB,UAAAA,IAAI,EAACtT,CAA/E;AAAiFm0B,UAAAA,QAAQ,EAAC,OAA1F;AAAkGC,UAAAA,QAAQ,EAAC5zB;AAA3G,SAArB,CAAP;AAA2I,OAAnrB,EAAorBA,CAAC,CAAC6E,SAAF,CAAY03B,mBAAZ,GAAgC,UAASt9B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,cAAI0D,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOrB,CAAzC,KAA6CW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,KAAK,CAAxD;AAA2D,YAAIC,CAAC,GAAC,gBAAc+zB,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,GAAjD,GAAqDtC,kBAAkB,CAACp0B,CAAC,CAACu9B,QAAH,CAAvE,GAAoF,UAA1F;AAAqG,eAAM,CAAC,CAAD,KAAKn9B,CAAL,KAASC,CAAC,IAAE,0BAAZ,GAAwC,KAAK88B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAACp0B,CAAnB;AAAqBwT,UAAAA,IAAI,EAAC7T,CAA1B;AAA4B00B,UAAAA,QAAQ,EAAC,OAArC;AAA6CC,UAAAA,QAAQ,EAAC5zB;AAAtD,SAArB,CAA9C;AAA6H,OAAjgC,EAAkgCA,CAAC,CAAC6E,SAAF,CAAY43B,oBAAZ,GAAiC,UAASp9B,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,cAAIoE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOV,CAAzC,KAA6CV,CAAC,GAACU,CAAF,EAAIA,CAAC,GAAC,CAAC,CAApD;AAAuD,YAAIT,CAAC,GAAC,+DAAN;AAAsE,YAAG,CAACN,CAAC,CAAC,CAAD,CAAD,CAAKI,CAAL,CAAJ,EAAY,MAAM,IAAIsnB,KAAJ,CAAUpnB,CAAV,CAAN;;AAAmB,aAAI,IAAIC,CAAC,GAAC,IAAN,EAAWC,CAAC,GAAC;AAACw2B,UAAAA,QAAQ,EAAC;AAAV,SAAb,EAA2Bv2B,CAAC,GAAC,CAAjC,EAAmCA,CAAC,GAACL,CAAC,CAACqB,MAAvC,EAA8C,EAAEhB,CAAhD,EAAkD;AAAC,cAAIyF,CAAC,GAAC;AAACm3B,YAAAA,MAAM,EAAC,CAAC,CAAD,KAAKt8B,CAAL,GAAO,qBAAP,GAA6B,6BAArC;AAAmEw8B,YAAAA,QAAQ,EAACn9B,CAAC,CAACK,CAAD,CAAD,CAAK88B,QAAjF;AAA0F1pB,YAAAA,IAAI,EAACzT,CAAC,CAACK,CAAD;AAAhG,WAAN;AAA2GD,UAAAA,CAAC,CAACw2B,QAAF,CAAWlxB,IAAX,CAAgBI,CAAhB;AAAmB;;AAAA,eAAO,KAAKi3B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC7zB,CAAC,CAACm2B,SAAH,CAAhC,GAA8C,QAAjE;AAA0E7iB,UAAAA,IAAI,EAACrT,CAA/E;AAAiFk0B,UAAAA,QAAQ,EAAC,OAA1F;AAAkGC,UAAAA,QAAQ,EAACt0B;AAA3G,SAArB,CAAP;AAA2I,OAA3gD,EAA4gDU,CAAC,CAAC6E,SAAF,CAAY63B,UAAZ,GAAuB,UAASz9B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAO,KAAKo8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACrzB,CAAC,CAAC21B,SAAH,CAAhC,GAA8C,GAA9C,GAAkDtC,kBAAkB,CAACp0B,CAAC,CAACu9B,QAAH,CAAtF;AAAmG1pB,UAAAA,IAAI,EAAC7T,CAAxG;AAA0G00B,UAAAA,QAAQ,EAAC,OAAnH;AAA2HC,UAAAA,QAAQ,EAACv0B;AAApI,SAArB,CAAP;AAAoK,OAAhuD,EAAiuDW,CAAC,CAAC6E,SAAF,CAAY83B,WAAZ,GAAwB,UAASt9B,CAAT,EAAWW,CAAX,EAAa;AAAC,YAAIV,CAAC,GAAC,sDAAN;AAA6D,YAAG,CAACL,CAAC,CAAC,CAAD,CAAD,CAAKI,CAAL,CAAJ,EAAY,MAAM,IAAIsnB,KAAJ,CAAUrnB,CAAV,CAAN;;AAAmB,aAAI,IAAIC,CAAC,GAAC,IAAN,EAAWC,CAAC,GAAC;AAACy2B,UAAAA,QAAQ,EAAC;AAAV,SAAb,EAA2Bx2B,CAAC,GAAC,CAAjC,EAAmCA,CAAC,GAACJ,CAAC,CAACqB,MAAvC,EAA8C,EAAEjB,CAAhD,EAAkD;AAAC,cAAIC,CAAC,GAAC;AAAC48B,YAAAA,MAAM,EAAC,cAAR;AAAuBE,YAAAA,QAAQ,EAACn9B,CAAC,CAACI,CAAD,CAAD,CAAK+8B,QAArC;AAA8C1pB,YAAAA,IAAI,EAACzT,CAAC,CAACI,CAAD;AAApD,WAAN;AAA+DD,UAAAA,CAAC,CAACy2B,QAAF,CAAWlxB,IAAX,CAAgBrF,CAAhB;AAAmB;;AAAA,eAAO,KAAK08B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC9zB,CAAC,CAACo2B,SAAH,CAAhC,GAA8C,QAAjE;AAA0E7iB,UAAAA,IAAI,EAACtT,CAA/E;AAAiFm0B,UAAAA,QAAQ,EAAC,OAA1F;AAAkGC,UAAAA,QAAQ,EAAC5zB;AAA3G,SAArB,CAAP;AAA2I,OAAnnE,EAAonEA,CAAC,CAAC6E,SAAF,CAAY+3B,YAAZ,GAAyB,UAAS39B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAG,cAAY,OAAOJ,CAAnB,IAAsB,YAAU,OAAOA,CAAjB,IAAoB,YAAU,OAAOA,CAA9D,EAAgE;AAAC,cAAIe,CAAC,GAAC,IAAI2F,CAAC,CAAC2tB,kBAAN,CAAyB,6CAAzB,CAAN;AAA8E,iBAAM,cAAY,QAAOj0B,CAAC,GAACJ,CAAT,CAAZ,GAAwBI,CAAC,CAACW,CAAD,CAAzB,GAA6B,KAAKo8B,EAAL,CAAQ9C,QAAR,CAAiB5J,MAAjB,CAAwB1vB,CAAxB,CAAnC;AAA8D;;AAAA,YAAIV,CAAC,GAAC,IAAN;AAAW,eAAO,KAAK88B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,QAAR;AAAiBC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC/zB,CAAC,CAACq2B,SAAH,CAAhC,GAA8C,GAA9C,GAAkDtC,kBAAkB,CAACp0B,CAAD,CAAzF;AAA6F00B,UAAAA,QAAQ,EAAC,OAAtG;AAA8GC,UAAAA,QAAQ,EAACv0B;AAAvH,SAArB,CAAP;AAAuJ,OAA1gF,EAA2gFW,CAAC,CAAC6E,SAAF,CAAYg4B,aAAZ,GAA0B,UAASx9B,CAAT,EAAWW,CAAX,EAAa;AAAC,YAAIV,CAAC,GAACL,CAAC,CAAC,CAAD,CAAP;AAAA,YAAWM,CAAC,GAACN,CAAC,CAAC,EAAD,CAAd;AAAA,YAAmBO,CAAC,GAAC,0DAArB;AAAgF,YAAG,CAACF,CAAC,CAACD,CAAD,CAAL,EAAS,MAAM,IAAIsnB,KAAJ,CAAUnnB,CAAV,CAAN;AAAmB,YAAIC,CAAC,GAAC,IAAN;AAAA,YAAWC,CAAC,GAAC;AAACu2B,UAAAA,QAAQ,EAAC12B,CAAC,CAACF,CAAD,EAAG,UAASJ,CAAT,EAAW;AAAC,mBAAM;AAACq9B,cAAAA,MAAM,EAAC,cAAR;AAAuBE,cAAAA,QAAQ,EAACv9B,CAAhC;AAAkC6T,cAAAA,IAAI,EAAC;AAAC0pB,gBAAAA,QAAQ,EAACv9B;AAAV;AAAvC,aAAN;AAA2D,WAA1E;AAAX,SAAb;AAAqG,eAAO,KAAKm9B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC5zB,CAAC,CAACk2B,SAAH,CAAhC,GAA8C,QAAjE;AAA0E7iB,UAAAA,IAAI,EAACpT,CAA/E;AAAiFi0B,UAAAA,QAAQ,EAAC,OAA1F;AAAkGC,UAAAA,QAAQ,EAAC5zB;AAA3G,SAArB,CAAP;AAA2I,OAA/4F,EAAg5FA,CAAC,CAAC6E,SAAF,CAAYi4B,aAAZ,GAA0Br9B,CAAC,CAAC,UAASJ,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,iBAASC,CAAT,CAAWN,CAAX,EAAa;AAAC,cAAG,MAAIA,CAAC,CAACg9B,MAAT,EAAgB,OAAOh9B,CAAP;AAAS,cAAII,CAAC,GAAC+U,CAAC,CAACnV,CAAC,CAAC+8B,IAAH,EAAQ,UAAS/8B,CAAT,EAAW;AAAC,mBAAOA,CAAC,CAACu9B,QAAT;AAAkB,WAAtC,CAAP;AAA+C,iBAAOnoB,CAAC,CAACwoB,aAAF,CAAgBx9B,CAAhB,EAAmB8sB,IAAnB,CAAwB3sB,CAAxB,EAA2B2sB,IAA3B,CAAgC1sB,CAAhC,CAAP;AAA0C;;AAAA,iBAASD,CAAT,CAAWP,CAAX,EAAa;AAAC,iBAAOoV,CAAC,CAAC0oB,QAAF,CAAW99B,CAAC,CAAC+9B,MAAb,CAAP;AAA4B;;AAAA,iBAASv9B,CAAT,GAAY;AAAC,iBAAO4U,CAAC,CAACyoB,aAAF,CAAgBz9B,CAAhB,EAAkBW,CAAlB,CAAP;AAA4B;;AAAA,iBAASN,CAAT,GAAY;AAACyF,UAAAA,CAAC,CAAC,YAAU;AAAC7F,YAAAA,CAAC,CAAC,IAAD,CAAD;AAAQ,WAApB,EAAqBgV,CAAC,CAACgkB,WAAF,IAAer0B,UAApC,CAAD;AAAiD;;AAAA,iBAAS0B,CAAT,CAAW1G,CAAX,EAAa;AAACkG,UAAAA,CAAC,CAAC,YAAU;AAAC7F,YAAAA,CAAC,CAACL,CAAD,CAAD;AAAK,WAAjB,EAAkBqV,CAAC,CAACgkB,WAAF,IAAer0B,UAAjC,CAAD;AAA8C;;AAAA,YAAIgF,CAAC,GAAChK,CAAC,CAAC,EAAD,CAAP;AAAA,YAAYmV,CAAC,GAACnV,CAAC,CAAC,EAAD,CAAf;AAAA,YAAoBoV,CAAC,GAAC,IAAtB;AAAA,YAA2BC,CAAC,GAACD,CAAC,CAAC+nB,EAA/B;AAAkC,cAAI14B,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOV,CAAzC,IAA4CV,CAAC,GAACU,CAAF,EAAIA,CAAC,GAAC,EAAlD,IAAsDA,CAAC,GAACiJ,CAAC,CAACjJ,CAAD,CAAzD,EAA6DA,CAAC,CAACi9B,oBAAF,GAAuB,UAApF,EAA+Fj9B,CAAC,CAAC+7B,WAAF,GAAc,GAA7G,EAAiH/7B,CAAC,CAACk9B,QAAF,GAAW,CAAC,CAA7H,EAA+H,KAAKvC,UAAL,EAA/H;AAAiJ,YAAIpmB,CAAC,GAAC,KAAKwhB,MAAL,CAAY12B,CAAZ,EAAcW,CAAd,EAAiBmsB,IAAjB,CAAsB5sB,CAAtB,CAAN;AAA+B,eAAOD,CAAC,GAAC,KAAKiV,CAAC,CAAC4X,IAAF,CAAOzsB,CAAP,EAASiG,CAAT,CAAN,GAAkB4O,CAA1B;AAA4B,OAA5kB,EAA6kB7U,CAAC,CAAC,uBAAD,EAAyB,kBAAzB,CAA9kB,CAA36F,EAAuiHM,CAAC,CAAC6E,SAAF,CAAYs4B,QAAZ,GAAqB,UAASl+B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAO,KAAKo8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACrzB,CAAC,CAAC21B,SAAH,CAAhC,GAA8C,gBAAjE;AAAkF7iB,UAAAA,IAAI,EAAC;AAAC+iB,YAAAA,MAAM,EAAC71B,CAAC,CAACo8B,EAAF,CAAKlI,gBAAL,CAAsBj1B,CAAtB,EAAwB,EAAxB;AAAR,WAAvF;AAA4H00B,UAAAA,QAAQ,EAAC,OAArI;AAA6IC,UAAAA,QAAQ,EAACv0B;AAAtJ,SAArB,CAAP;AAAsL,OAA3wH,EAA4wHW,CAAC,CAAC6E,SAAF,CAAYu4B,SAAZ,GAAsB,UAAS/9B,CAAT,EAAWW,CAAX,EAAa;AAAC,iBAASV,CAAT,CAAWL,CAAX,EAAa;AAAC,cAAII,CAAJ;AAAMI,UAAAA,CAAC,CAAC49B,QAAF,KAAah+B,CAAC,GAAC,KAAK,CAAL,KAASJ,CAAT,GAAW;AAACoO,YAAAA,MAAM,EAACpO;AAAR,WAAX,GAAsB;AAAC42B,YAAAA,MAAM,EAAClwB;AAAR,WAAxB,EAAmCjG,CAAC,CAAC8zB,YAAF,CAAe;AAACC,YAAAA,MAAM,EAAC,MAAR;AAAeC,YAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACluB,CAAC,CAACwwB,SAAH,CAAhC,GAA8C,SAAjE;AAA2EhC,YAAAA,QAAQ,EAAC,MAApF;AAA2F7gB,YAAAA,IAAI,EAACzT,CAAhG;AAAkGu0B,YAAAA,QAAQ,EAACr0B;AAA3G,WAAf,CAAhD;AAA+K;;AAAA,iBAASA,CAAT,CAAWN,CAAX,EAAaI,CAAb,EAAe;AAAC,cAAG,CAACI,CAAC,CAAC49B,QAAN,EAAe,OAAOp+B,CAAC,GAAC,KAAKQ,CAAC,CAAC69B,MAAF,CAASr+B,CAAT,CAAN,IAAmBQ,CAAC,CAACssB,OAAF,CAAU1sB,CAAV,GAAa,KAAK,CAAL,KAASA,CAAC,CAACgO,MAAX,GAAkB,KAAK5N,CAAC,CAAC89B,IAAF,EAAvB,GAAgC,KAAKj+B,CAAC,CAACD,CAAC,CAACgO,MAAH,CAAtE,CAAR;AAA0F;;AAAA,4BAAiBhO,CAAjB,MAAqBW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,KAAK,CAAhC;;AAAmC,YAAIG,CAAC,GAACP,CAAC,CAAC,EAAD,CAAP;AAAA,YAAYQ,CAAC,GAAC,KAAIR,CAAC,CAAC,EAAD,CAAL,GAAd;AAAA,YAAyBS,CAAC,GAAC,KAAK08B,EAAhC;AAAA,YAAmCj3B,CAAC,GAAC,IAArC;AAAA,YAA0CQ,CAAC,GAACjG,CAAC,CAACw0B,gBAAF,CAAmB10B,CAAC,CAAC,EAAD,EAAIQ,CAAC,IAAE,EAAP,EAAU;AAAC41B,UAAAA,KAAK,EAACv2B;AAAP,SAAV,CAApB,EAAyC,EAAzC,CAA5C;;AAAyF,eAAOC,CAAC,IAAGG,CAAX;AAAa,OAArvI,EAAsvIO,CAAC,CAAC6E,SAAF,CAAY24B,SAAZ,GAAsB/9B,CAAC,CAAC,UAASR,CAAT,EAAW;AAAC,YAAII,CAAC,GAAC,IAAN;AAAW,eAAO,UAASW,CAAT,EAAWV,CAAX,EAAaC,CAAb,EAAe;AAAC,cAAIC,CAAJ;AAAMA,UAAAA,CAAC,GAAC,cAAY,OAAOD,CAAnB,GAAqBA,CAArB,GAAuBD,CAAzB,EAA2BD,CAAC,CAAC02B,MAAF,CAAS/1B,CAAT,EAAWf,CAAX,EAAa,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC,mBAAOJ,CAAC,GAAC,KAAKO,CAAC,CAACP,CAAD,CAAP,GAAW,KAAKO,CAAC,CAACH,CAAC,CAAC28B,IAAH,CAAzB;AAAkC,WAA7D,CAA3B;AAA0F,SAAvH;AAAwH,OAAhJ,EAAiJ,0JAAjJ,CAA7wI,EAA0jJh8B,CAAC,CAAC6E,SAAF,CAAYk4B,QAAZ,GAAqB,UAAS99B,CAAT,EAAWI,CAAX,EAAa;AAAC,iBAASW,CAAT,GAAY;AAAC,iBAAOiJ,CAAC,CAACuqB,YAAF,CAAe;AAACC,YAAAA,MAAM,EAAC,KAAR;AAAcE,YAAAA,QAAQ,EAAC,MAAvB;AAA8BD,YAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC1tB,CAAC,CAACgwB,SAAH,CAAhC,GAA8C,QAA9C,GAAuD12B;AAAzF,WAAf,EAA4GktB,IAA5G,CAAiH,UAASltB,CAAT,EAAW;AAAC,gBAAII,CAAC,GAACG,CAAC,GAAC,EAAEE,CAAJ,GAAMA,CAAZ;AAAc,mBAAOL,CAAC,GAACI,CAAF,KAAMJ,CAAC,GAACI,CAAR,GAAW,gBAAcR,CAAC,CAAC65B,MAAhB,GAAuB7vB,CAAC,CAACqwB,QAAF,CAAW3uB,KAAX,CAAiBtL,CAAjB,EAAoB8sB,IAApB,CAAyBnsB,CAAzB,CAAvB,GAAmDf,CAArE;AAAuE,WAAlN,CAAP;AAA2N;;AAAA,iBAASK,CAAT,CAAWL,CAAX,EAAa;AAACkG,UAAAA,CAAC,CAAC,YAAU;AAAC9F,YAAAA,CAAC,CAAC,IAAD,EAAMJ,CAAN,CAAD;AAAU,WAAtB,EAAuBgK,CAAC,CAACqvB,WAAF,IAAer0B,UAAtC,CAAD;AAAmD;;AAAA,iBAAS1E,CAAT,CAAWN,CAAX,EAAa;AAACkG,UAAAA,CAAC,CAAC,YAAU;AAAC9F,YAAAA,CAAC,CAACJ,CAAD,CAAD;AAAK,WAAjB,EAAkBgK,CAAC,CAACqvB,WAAF,IAAer0B,UAAjC,CAAD;AAA8C;;AAAA,YAAIzE,CAAC,GAAC,GAAN;AAAA,YAAUC,CAAC,GAAC,GAAZ;AAAA,YAAgBC,CAAC,GAAC,CAAlB;AAAA,YAAoBiG,CAAC,GAAC,IAAtB;AAAA,YAA2BsD,CAAC,GAACtD,CAAC,CAACy2B,EAA/B;AAAA,YAAkChoB,CAAC,GAACpU,CAAC,EAArC;AAAwC,eAAOX,CAAC,GAAC,KAAK+U,CAAC,CAAC+X,IAAF,CAAO7sB,CAAP,EAASC,CAAT,CAAN,GAAkB6U,CAA1B;AAA4B,OAAtgK,EAAugKpU,CAAC,CAAC6E,SAAF,CAAY44B,UAAZ,GAAuB,UAASx+B,CAAT,EAAW;AAAC,YAAII,CAAC,GAAC,IAAN;AAAW,eAAO,KAAK+8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACh0B,CAAC,CAACs2B,SAAH,CAAhC,GAA8C,QAAjE;AAA0EhC,UAAAA,QAAQ,EAAC,OAAnF;AAA2FC,UAAAA,QAAQ,EAAC30B;AAApG,SAArB,CAAP;AAAoI,OAAzrK,EAA0rKe,CAAC,CAAC6E,SAAF,CAAY64B,WAAZ,GAAwB,UAASz+B,CAAT,EAAWI,CAAX,EAAa;AAAC,cAAIqE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOzB,CAAzC,KAA6CI,CAAC,GAACJ,CAAF,EAAIA,CAAC,GAAC,EAAnD,GAAuDA,CAAC,GAACA,CAAC,IAAE,EAA5D;AAA+D,YAAIe,CAAC,GAACqzB,kBAAkB,CAAC,KAAKsC,SAAN,CAAxB;AAAyC,eAAO,KAAKyG,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAc1zB,CAAd,GAAgB,wBAAhB,IAA0Cf,CAAC,CAAC0+B,QAAF,GAAW,eAAa1+B,CAAC,CAAC0+B,QAA1B,GAAmC,EAA7E,CAAlB;AAAmGhK,UAAAA,QAAQ,EAAC,MAA5G;AAAmHC,UAAAA,QAAQ,EAACv0B;AAA5H,SAArB,CAAP;AAA4J,OAAp+K,EAAq+KW,CAAC,CAAC6E,SAAF,CAAY+4B,cAAZ,GAA2B,UAAS3+B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAM,cAAY,OAAOJ,CAAnB,IAAsBI,CAAC,GAACJ,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC,EAAmD,KAAKm9B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,kBAApE;AAAuF7iB,UAAAA,IAAI,EAAC7T,CAA5F;AAA8F00B,UAAAA,QAAQ,EAAC,MAAvG;AAA8GC,UAAAA,QAAQ,EAACv0B;AAAvH,SAArB,CAAzD;AAAyM,OAAvtL,EAAwtLW,CAAC,CAAC6E,SAAF,CAAYg5B,cAAZ,GAA2B,UAAS5+B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAOC,CAAC,CAAC,KAAKs+B,cAAL,CAAoBv5B,IAApB,CAAyB,IAAzB,CAAD,EAAgCpF,CAAhC,EAAkCI,CAAlC,CAAR;AAA6C,OAA9yL,EAA+yLW,CAAC,CAAC6E,SAAF,CAAYi5B,WAAZ,GAAwB,UAAS7+B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,sBAAY,OAAOX,CAAnB,IAAsBW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC,EAAmD,KAAK,CAAL,KAASA,CAAC,CAAC0+B,eAAX,IAA4B90B,CAAC,EAAhF;AAAmF,YAAI3J,CAAC,GAACD,CAAC,CAAC0+B,eAAF,IAAmB1+B,CAAC,CAAC2+B,iBAArB,GAAuC,MAAvC,GAA8C,OAApD;AAA4D,eAAO,KAAK5B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,YAAjD,GAA8DtC,kBAAkB,CAACp0B,CAAC,CAACu9B,QAAH,CAAhF,GAA6F,qBAA7F,GAAmHl9B,CAArI;AAAuIwT,UAAAA,IAAI,EAAC7T,CAA5I;AAA8I00B,UAAAA,QAAQ,EAAC,OAAvJ;AAA+JC,UAAAA,QAAQ,EAAC5zB;AAAxK,SAArB,CAAP;AAAwM,OAA9qM,EAA+qMA,CAAC,CAAC6E,SAAF,CAAYo5B,UAAZ,GAAuB,UAASh/B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAK+8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,YAAjD,GAA8DtC,kBAAkB,CAACp0B,CAAD,CAAlG;AAAsG00B,UAAAA,QAAQ,EAAC,MAA/G;AAAsHC,UAAAA,QAAQ,EAACv0B;AAA/H,SAArB,CAAP;AAA+J,OAAn3M,EAAo3MW,CAAC,CAAC6E,SAAF,CAAYq5B,aAAZ,GAA0B,UAASj/B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,sBAAY,OAAOX,CAAnB,IAAsBW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC,EAAmD,KAAK,CAAL,KAASA,CAAC,CAAC0+B,eAAX,IAA4B90B,CAAC,EAAhF;AAAmF,YAAI3J,CAAC,GAACD,CAAC,CAAC0+B,eAAF,IAAmB1+B,CAAC,CAAC2+B,iBAArB,GAAuC,MAAvC,GAA8C,OAApD;AAA4D,eAAO,KAAK5B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,QAAR;AAAiBC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,YAAjD,GAA8DtC,kBAAkB,CAACp0B,CAAD,CAAhF,GAAoF,qBAApF,GAA0GK,CAA/H;AAAiIq0B,UAAAA,QAAQ,EAAC,OAA1I;AAAkJC,UAAAA,QAAQ,EAAC5zB;AAA3J,SAArB,CAAP;AAA2L,OAAxuN,EAAyuNA,CAAC,CAAC6E,SAAF,CAAYs5B,aAAZ,GAA0B,UAASl/B,CAAT,EAAWI,CAAX,EAAa;AAAC,sBAAY,OAAOJ,CAAnB,IAAsBI,CAAC,GAACJ,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC,EAAmD,KAAK,CAAL,KAASA,CAAC,CAAC8+B,eAAX,IAA4B90B,CAAC,EAAhF;AAAmF,YAAIjJ,CAAC,GAACf,CAAC,CAAC8+B,eAAF,IAAmB9+B,CAAC,CAAC++B,iBAArB,GAAuC,MAAvC,GAA8C,OAApD;AAA4D,eAAO,KAAK5B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,oCAAjD,GAAsF31B,CAAzG;AAA2G2zB,UAAAA,QAAQ,EAAC,OAApH;AAA4HC,UAAAA,QAAQ,EAACv0B;AAArI,SAArB,CAAP;AAAqK,OAArkO,EAAskOW,CAAC,CAAC6E,SAAF,CAAYu5B,aAAZ,GAA0B,UAASn/B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,sBAAY,OAAOX,CAAnB,IAAsBW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC,EAAmD,KAAK,CAAL,KAASA,CAAC,CAAC0+B,eAAX,IAA4B90B,CAAC,EAAhF;AAAmF,YAAI3J,CAAC,GAACD,CAAC,CAAC0+B,eAAF,IAAmB1+B,CAAC,CAAC2+B,iBAArB,GAAuC,MAAvC,GAA8C,OAApD;AAA4D,eAAO,KAAK5B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,oCAAjD,GAAsFr2B,CAAtF,GAAwF,2BAAxF,IAAqHD,CAAC,CAACg/B,uBAAF,GAA0B,MAA1B,GAAiC,OAAtJ,CAAnB;AAAkL1K,UAAAA,QAAQ,EAAC,OAA3L;AAAmM7gB,UAAAA,IAAI,EAAC7T,CAAxM;AAA0M20B,UAAAA,QAAQ,EAAC5zB;AAAnN,SAArB,CAAP;AAAmP,OAAl/O,EAAm/OA,CAAC,CAAC6E,SAAF,CAAYy5B,WAAZ,GAAwB,UAASr/B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAM,cAAY,OAAOJ,CAAnB,IAAsBI,CAAC,GAACJ,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC,EAAmD,KAAKm9B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,eAApE;AAAoF7iB,UAAAA,IAAI,EAAC7T,CAAzF;AAA2F00B,UAAAA,QAAQ,EAAC,MAApG;AAA2GC,UAAAA,QAAQ,EAACv0B;AAApH,SAArB,CAAzD;AAAsM,OAA/tP,EAAguPW,CAAC,CAAC6E,SAAF,CAAY05B,WAAZ,GAAwB,UAASt/B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAOC,CAAC,CAAC,KAAKg/B,WAAL,CAAiBj6B,IAAjB,CAAsB,IAAtB,CAAD,EAA6BpF,CAA7B,EAA+BI,CAA/B,CAAR;AAA0C,OAAhzP,EAAizPW,CAAC,CAAC6E,SAAF,CAAY25B,QAAZ,GAAqB,UAASv/B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,sBAAY,OAAOX,CAAnB,IAAsBW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC;AAAmD,YAAIC,CAAC,GAAC,CAAC,CAAD,KAAKD,CAAC,CAAC2+B,iBAAP,GAAyB,MAAzB,GAAgC,OAAtC;AAA8C,eAAO,KAAK5B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,SAAjD,GAA2DtC,kBAAkB,CAACp0B,CAAC,CAACu9B,QAAH,CAA7E,GAA0F,qBAA1F,GAAgHl9B,CAAlI;AAAoIwT,UAAAA,IAAI,EAAC7T,CAAzI;AAA2I00B,UAAAA,QAAQ,EAAC,OAApJ;AAA4JC,UAAAA,QAAQ,EAAC5zB;AAArK,SAArB,CAAP;AAAqM,OAA5nQ,EAA6nQA,CAAC,CAAC6E,SAAF,CAAY45B,OAAZ,GAAoB,UAASx/B,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAK+8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,SAAjD,GAA2DtC,kBAAkB,CAACp0B,CAAD,CAA/F;AAAmG00B,UAAAA,QAAQ,EAAC,MAA5G;AAAmHC,UAAAA,QAAQ,EAACv0B;AAA5H,SAArB,CAAP;AAA4J,OAA3zQ,EAA4zQW,CAAC,CAAC6E,SAAF,CAAY65B,UAAZ,GAAuB,UAASz/B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,sBAAY,OAAOX,CAAnB,IAAsBW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC;AAAmD,YAAIC,CAAC,GAAC,CAAC,CAAD,KAAKD,CAAC,CAAC2+B,iBAAP,GAAyB,MAAzB,GAAgC,OAAtC;AAA8C,eAAO,KAAK5B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,QAAR;AAAiBC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,SAAjD,GAA2DtC,kBAAkB,CAACp0B,CAAD,CAA7E,GAAiF,qBAAjF,GAAuGK,CAA5H;AAA8Hq0B,UAAAA,QAAQ,EAAC,OAAvI;AAA+IC,UAAAA,QAAQ,EAAC5zB;AAAxJ,SAArB,CAAP;AAAwL,OAA5nR,EAA6nRA,CAAC,CAAC6E,SAAF,CAAY85B,UAAZ,GAAuB,UAAS1/B,CAAT,EAAWI,CAAX,EAAa;AAAC,sBAAY,OAAOJ,CAAnB,IAAsBI,CAAC,GAACJ,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC;AAAmD,YAAIe,CAAC,GAAC,CAAC,CAAD,KAAKf,CAAC,CAAC++B,iBAAP,GAAyB,MAAzB,GAAgC,OAAtC;AAA8C,eAAO,KAAK5B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,iCAAjD,GAAmF31B,CAAtG;AAAwG2zB,UAAAA,QAAQ,EAAC,OAAjH;AAAyHC,UAAAA,QAAQ,EAACv0B;AAAlI,SAArB,CAAP;AAAkK,OAAr6R,EAAs6RW,CAAC,CAAC6E,SAAF,CAAY+5B,UAAZ,GAAuB,UAAS3/B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,sBAAY,OAAOX,CAAnB,IAAsBW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,EAA5B,IAAgC,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAhC;AAAmD,YAAIC,CAAC,GAAC,CAAC,CAAD,KAAKD,CAAC,CAAC2+B,iBAAP,GAAyB,MAAzB,GAAgC,OAAtC;AAA8C,eAAO,KAAK5B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,iCAAjD,GAAmFr2B,CAAnF,GAAqF,sBAArF,IAA6G,CAAC,CAAD,KAAKD,CAAC,CAACw/B,kBAAP,GAA0B,MAA1B,GAAiC,OAA9I,CAAnB;AAA0KlL,UAAAA,QAAQ,EAAC,OAAnL;AAA2L7gB,UAAAA,IAAI,EAAC7T,CAAhM;AAAkM20B,UAAAA,QAAQ,EAAC5zB;AAA3M,SAArB,CAAP;AAA2O,OAAzxS,EAA0xSA,CAAC,CAAC6E,SAAF,CAAYi6B,WAAZ,GAAwB,UAAS7/B,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,cAAI0D,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOrB,CAAzC,KAA6CW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,EAAnD,GAAuD,KAAK,CAAL,KAASA,CAAC,CAAC0+B,eAAX,IAA4B90B,CAAC,EAApF;AAAuF,YAAI3J,CAAC,GAACD,CAAC,CAAC0+B,eAAF,IAAmB1+B,CAAC,CAAC2+B,iBAArB,GAAuC,MAAvC,GAA8C,OAApD;AAAA,YAA4Dz+B,CAAC,GAAC,IAA9D;AAAmE,eAAO,KAAK68B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC9zB,CAAC,CAACo2B,SAAH,CAAhC,GAA8C,8BAA9C,GAA6Er2B,CAA/F;AAAiGq0B,UAAAA,QAAQ,EAAC,OAA1G;AAAkH7gB,UAAAA,IAAI,EAAC7T,CAAvH;AAAyH20B,UAAAA,QAAQ,EAAC5zB;AAAlI,SAArB,CAAP;AAAkK,OAA9nT,EAA+nTA,CAAC,CAAC6E,SAAF,CAAYwvB,YAAZ,GAAyB50B,CAAC,CAAC,UAASR,CAAT,EAAW;AAAC,eAAO,KAAKq1B,WAAL,CAAiBr1B,CAAjB,CAAP;AAA2B,OAAxC,EAAyCS,CAAC,CAAC,sBAAD,EAAwB,qBAAxB,CAA1C,CAAzpT,EAAmvTM,CAAC,CAAC6E,SAAF,CAAYyvB,WAAZ,GAAwB,UAASr1B,CAAT,EAAW;AAAC,YAAII,CAAC,GAAC,IAAN;AAAW,eAAO,KAAK+8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACh0B,CAAC,CAACs2B,SAAH,CAAhC,GAA8C,OAAhE;AAAwEhC,UAAAA,QAAQ,EAAC,MAAjF;AAAwFC,UAAAA,QAAQ,EAAC30B;AAAjG,SAArB,CAAP;AAAiI,OAAn6T,EAAo6Te,CAAC,CAAC6E,SAAF,CAAY0vB,aAAZ,GAA0B90B,CAAC,CAAC,UAASR,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKm1B,SAAL,CAAev1B,CAAf,EAAiBI,CAAjB,CAAP;AAA2B,OAA1C,EAA2CK,CAAC,CAAC,uBAAD,EAAyB,mBAAzB,CAA5C,CAA/7T,EAA0hUM,CAAC,CAAC6E,SAAF,CAAY2vB,SAAZ,GAAsB,UAASv1B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAO,KAAKo8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACrzB,CAAC,CAAC21B,SAAH,CAAhC,GAA8C,QAA9C,GAAuD12B,CAAzE;AAA2E00B,UAAAA,QAAQ,EAAC,MAApF;AAA2FC,UAAAA,QAAQ,EAACv0B;AAApG,SAArB,CAAP;AAAoI,OAA7sU,EAA8sUW,CAAC,CAAC6E,SAAF,CAAY4vB,aAAZ,GAA0Bh1B,CAAC,CAAC,UAASR,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKq1B,YAAL,CAAkBz1B,CAAlB,EAAoBI,CAApB,CAAP;AAA8B,OAA7C,EAA8CK,CAAC,CAAC,uBAAD,EAAyB,sBAAzB,CAA/C,CAAzuU,EAA00UM,CAAC,CAAC6E,SAAF,CAAY6vB,YAAZ,GAAyB,UAASz1B,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAO,KAAKo8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,QAAR;AAAiBC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAACrzB,CAAC,CAAC21B,SAAH,CAAhC,GAA8C,QAA9C,GAAuD12B,CAA5E;AAA8E00B,UAAAA,QAAQ,EAAC,OAAvF;AAA+FC,UAAAA,QAAQ,EAACv0B;AAAxG,SAArB,CAAP;AAAwI,OAApgV,EAAqgVW,CAAC,CAAC6E,SAAF,CAAY8vB,UAAZ,GAAuBl1B,CAAC,CAAC,UAASR,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,eAAO,KAAK40B,SAAL,CAAe31B,CAAf,EAAiBI,CAAjB,EAAmBW,CAAnB,CAAP;AAA6B,OAA9C,EAA+CN,CAAC,CAAC,oBAAD,EAAsB,mBAAtB,CAAhD,CAA7hV,EAAynVM,CAAC,CAAC6E,SAAF,CAAY+vB,SAAZ,GAAsB,UAASv1B,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,yDAAN;AAAgE,YAAG,CAACN,CAAC,CAAC,CAAD,CAAD,CAAKI,CAAL,CAAJ,EAAY,MAAM,IAAIsnB,KAAJ,CAAUpnB,CAAV,CAAN;AAAmB,cAAImE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOV,CAAzC,KAA6CV,CAAC,GAACU,CAAF,EAAIA,CAAC,GAAC,IAAnD;AAAyD,YAAIR,CAAC,GAAC;AAACq1B,UAAAA,GAAG,EAACx1B;AAAL,SAAN;AAAc,eAAOW,CAAC,KAAGR,CAAC,CAACs1B,QAAF,GAAW90B,CAAC,CAAC80B,QAAb,EAAsBt1B,CAAC,CAACu1B,sBAAF,GAAyB/0B,CAAC,CAAC+0B,sBAAjD,EAAwEv1B,CAAC,CAACw1B,eAAF,GAAkBh1B,CAAC,CAACg1B,eAA5F,EAA4Gx1B,CAAC,CAAC01B,WAAF,GAAcl1B,CAAC,CAACk1B,WAA5H,EAAwIl1B,CAAC,CAACm1B,eAAF,KAAoB31B,CAAC,CAAC21B,eAAF,GAAkB,KAAKiH,EAAL,CAAQlI,gBAAR,CAAyBl0B,CAAC,CAACm1B,eAA3B,EAA2C,EAA3C,CAAtC,CAAxI,EAA8N31B,CAAC,CAAC41B,QAAF,GAAWp1B,CAAC,CAACo1B,QAA9O,CAAD,EAAyP,KAAKgH,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,OAApE;AAA4E7iB,UAAAA,IAAI,EAACtT,CAAjF;AAAmFm0B,UAAAA,QAAQ,EAAC,OAA5F;AAAoGC,UAAAA,QAAQ,EAACt0B;AAA7G,SAArB,CAAhQ;AAAsY,OAA3sW,EAA4sWU,CAAC,CAAC6E,SAAF,CAAYwwB,sBAAZ,GAAmC51B,CAAC,CAAC,UAASR,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,eAAO,KAAK40B,SAAL,CAAe31B,CAAf,EAAiBI,CAAjB,EAAmBW,CAAnB,CAAP;AAA6B,OAA9C,EAA+CN,CAAC,CAAC,gCAAD,EAAkC,mBAAlC,CAAhD,CAAhvW,EAAw1WM,CAAC,CAAC6E,SAAF,CAAYywB,aAAZ,GAA0B71B,CAAC,CAAC,UAASR,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAAC,eAAO,KAAKi2B,YAAL,CAAkBt2B,CAAlB,EAAoBI,CAApB,EAAsBW,CAAtB,EAAwBV,CAAxB,CAAP;AAAkC,OAArD,EAAsDI,CAAC,CAAC,uBAAD,EAAyB,sBAAzB,CAAvD,CAAn3W,EAA49WM,CAAC,CAAC6E,SAAF,CAAY0wB,YAAZ,GAAyB,UAASl2B,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAeC,CAAf,EAAiB;AAAC,YAAIC,CAAC,GAAC,iEAAN;AAAwE,YAAG,CAACP,CAAC,CAAC,CAAD,CAAD,CAAKe,CAAL,CAAJ,EAAY,MAAM,IAAI2mB,KAAJ,CAAUnnB,CAAV,CAAN;AAAmB,cAAIkE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOpB,CAAzC,KAA6CC,CAAC,GAACD,CAAF,EAAIA,CAAC,GAAC,IAAnD;AAAyD,YAAIG,CAAC,GAAC;AAACo1B,UAAAA,GAAG,EAAC70B;AAAL,SAAN;AAAc,eAAOV,CAAC,KAAGG,CAAC,CAACq1B,QAAF,GAAWx1B,CAAC,CAACw1B,QAAb,EAAsBr1B,CAAC,CAACs1B,sBAAF,GAAyBz1B,CAAC,CAACy1B,sBAAjD,EAAwEt1B,CAAC,CAACu1B,eAAF,GAAkB11B,CAAC,CAAC01B,eAA5F,EAA4Gv1B,CAAC,CAACy1B,WAAF,GAAc51B,CAAC,CAAC41B,WAA5H,EAAwI51B,CAAC,CAAC61B,eAAF,KAAoB11B,CAAC,CAAC01B,eAAF,GAAkB,KAAKiH,EAAL,CAAQlI,gBAAR,CAAyB50B,CAAC,CAAC61B,eAA3B,EAA2C,EAA3C,CAAtC,CAAxI,EAA8N11B,CAAC,CAAC21B,QAAF,GAAW91B,CAAC,CAAC81B,QAA9O,CAAD,EAAyP,KAAKgH,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,QAAjD,GAA0Dt2B,CAA5E;AAA8EyT,UAAAA,IAAI,EAACrT,CAAnF;AAAqFk0B,UAAAA,QAAQ,EAAC,OAA9F;AAAsGC,UAAAA,QAAQ,EAACr0B;AAA/G,SAArB,CAAhQ;AAAwY,OAA7jY;AAA8jY,KAAphZ,EAAqhZ;AAAC,UAAG,EAAJ;AAAO,UAAG,EAAV;AAAa,UAAG,EAAhB;AAAmB,UAAG,EAAtB;AAAyB,UAAG,EAA5B;AAA+B,UAAG,EAAlC;AAAqC,UAAG,EAAxC;AAA2C,UAAG,EAA9C;AAAiD,UAAG,EAApD;AAAuD,SAAE,CAAzD;AAA2D,SAAE;AAA7D,KAArhZ,CADt6F;AAC4/e,QAAG,CAAC,UAASN,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,eAASW,CAAT,GAAY,CAAE;;AAAAX,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV,EAAYf,CAAC,CAAC,CAAD,CAAD,CAAKe,CAAL,EAAOf,CAAC,CAAC,CAAD,CAAD,CAAKigB,YAAZ,CAAZ,EAAsClf,CAAC,CAAC6E,SAAF,CAAY4J,IAAZ,GAAiB,YAAU;AAAC,aAAK4uB,QAAL,GAAc,CAAC,CAAf,EAAiB,KAAK0B,MAAL,EAAjB;AAA+B,OAAjG,EAAkG/+B,CAAC,CAAC6E,SAAF,CAAY04B,IAAZ,GAAiB,YAAU;AAAC,aAAK/c,IAAL,CAAU,KAAV,GAAiB,KAAKue,MAAL,EAAjB;AAA+B,OAA7J,EAA8J/+B,CAAC,CAAC6E,SAAF,CAAYy4B,MAAZ,GAAmB,UAASr+B,CAAT,EAAW;AAAC,aAAKuhB,IAAL,CAAU,OAAV,EAAkBvhB,CAAlB,GAAqB,KAAK8/B,MAAL,EAArB;AAAmC,OAAhO,EAAiO/+B,CAAC,CAAC6E,SAAF,CAAYknB,OAAZ,GAAoB,UAAS9sB,CAAT,EAAW;AAAC,aAAKuhB,IAAL,CAAU,QAAV,EAAmBvhB,CAAnB;AAAsB,OAAvR,EAAwRe,CAAC,CAAC6E,SAAF,CAAYk6B,MAAZ,GAAmB,YAAU;AAAC,aAAK1e,kBAAL,CAAwB,MAAxB,GAAgC,KAAKA,kBAAL,CAAwB,KAAxB,CAAhC,EAA+D,KAAKA,kBAAL,CAAwB,OAAxB,CAA/D,EAAgG,KAAKA,kBAAL,CAAwB,QAAxB,CAAhG;AAAkI,OAAxb;AAAyb,KAAne,EAAoe;AAAC,SAAE,CAAH;AAAK,SAAE;AAAP,KAApe,CAD//e;AAC8+f,QAAG,CAAC,UAASphB,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,CAAWf,CAAX,EAAaI,CAAb,EAAe;AAAC,aAAKs2B,SAAL,GAAet2B,CAAf,EAAiB,KAAK+8B,EAAL,GAAQn9B,CAAzB,EAA2B,KAAK+/B,aAAL,GAAmB,IAA9C,EAAmD,KAAKC,oBAAL,GAA0B,IAA7E,EAAkF,KAAKjH,KAAL,GAAW,EAA7F;AAAgG;;AAAA,UAAI14B,CAAC,GAACL,CAAC,CAAC,EAAD,CAAP;AAAA,UAAYM,CAAC,GAACN,CAAC,CAAC,EAAD,CAAf;AAAA,UAAoBO,CAAC,GAACP,CAAC,CAAC,EAAD,CAAvB;AAA4BI,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV,EAAYA,CAAC,CAAC6E,SAAF,CAAY81B,UAAZ,GAAuB,YAAU;AAAC,aAAK3C,KAAL,GAAW,EAAX;AAAc,OAA5D,EAA6Dh4B,CAAC,CAAC6E,SAAF,CAAYkxB,MAAZ,GAAmBz2B,CAAC,CAAC,OAAD,CAAjF,EAA2FU,CAAC,CAAC6E,SAAF,CAAYq6B,aAAZ,GAA0B5/B,CAAC,CAAC,cAAD,CAAtH,EAAuIU,CAAC,CAAC6E,SAAF,CAAYs6B,MAAZ,GAAmB,UAAS9/B,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,YAAIC,CAAJ;AAAA,YAAMC,CAAN;AAAA,YAAQC,CAAC,GAACR,CAAC,CAAC,EAAD,CAAX;AAAA,YAAgBS,CAAC,GAAC,IAAlB;AAAuB,cAAIgE,SAAS,CAAChD,MAAd,IAAsB,MAAIgD,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOgD,SAAS,CAAC,CAAD,CAAxE,IAA6EnE,CAAC,GAAC,CAAF,EAAID,CAAC,GAACoE,SAAS,CAAC,CAAD,CAAf,EAAmBrE,CAAC,GAAC,KAAK,CAAvG,IAA0G,YAAU,OAAOqE,SAAS,CAAC,CAAD,CAA1B,IAA+BnE,CAAC,GAACmE,SAAS,CAAC,CAAD,CAAX,EAAe,YAAU,OAAOA,SAAS,CAAC,CAAD,CAA1B,GAA8BlE,CAAC,GAACkE,SAAS,CAAC,CAAD,CAAzC,GAA6C,cAAY,OAAOA,SAAS,CAAC,CAAD,CAA5B,KAAkCpE,CAAC,GAACoE,SAAS,CAAC,CAAD,CAAX,EAAelE,CAAC,GAAC,KAAK,CAAxD,CAA5D,EAAuHH,CAAC,GAAC,KAAK,CAA9H,EAAgIW,CAAC,GAAC,KAAK,CAAtK,IAAyK,oBAAiB0D,SAAS,CAAC,CAAD,CAA1B,KAA+B,cAAY,OAAOA,SAAS,CAAC,CAAD,CAA5B,KAAkCpE,CAAC,GAACoE,SAAS,CAAC,CAAD,CAA7C,GAAkD1D,CAAC,GAAC0D,SAAS,CAAC,CAAD,CAA7D,EAAiErE,CAAC,GAAC,KAAK,CAAvG,IAA0G,YAAU,OAAOqE,SAAS,CAAC,CAAD,CAA1B,IAA+B,cAAY,OAAOA,SAAS,CAAC,CAAD,CAA3D,KAAiEpE,CAAC,GAACoE,SAAS,CAAC,CAAD,CAAX,EAAe1D,CAAC,GAAC,KAAK,CAAvF,CAA7X,EAAudA,CAAC,GAACP,CAAC,CAAC,EAAD,EAAIO,CAAC,IAAE,EAAP,EAAU;AAAC87B,UAAAA,IAAI,EAACv8B,CAAN;AAAQw8B,UAAAA,WAAW,EAACv8B,CAApB;AAAsBo2B,UAAAA,KAAK,EAACv2B;AAA5B,SAAV,CAA1d;;AAAogB,YAAI8F,CAAC,GAAC,KAAKi3B,EAAL,CAAQlI,gBAAR,CAAyBl0B,CAAzB,EAA2B,EAA3B,CAAN;;AAAqC,eAAO,KAAKo8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC3zB,CAAC,CAACi2B,SAAH,CAAhC,GAA8C,SAAjE;AAA2E7iB,UAAAA,IAAI,EAAC;AAAC+iB,YAAAA,MAAM,EAAC1wB;AAAR,WAAhF;AAA2FwuB,UAAAA,QAAQ,EAAC,MAApG;AAA2GC,UAAAA,QAAQ,EAACt0B;AAApH,SAArB,CAAP;AAAoJ,OAA93B,EAA+3BU,CAAC,CAAC6E,SAAF,CAAYu6B,UAAZ,GAAuB,UAASngC,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAK+8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,SAApE;AAA8E7iB,UAAAA,IAAI,EAAC;AAACzF,YAAAA,MAAM,EAACpO;AAAR,WAAnF;AAA8F00B,UAAAA,QAAQ,EAAC,MAAvG;AAA8GC,UAAAA,QAAQ,EAACv0B;AAAvH,SAArB,CAAP;AAAuJ,OAA3jC,EAA4jCW,CAAC,CAAC6E,SAAF,CAAYw6B,oBAAZ,GAAiC,UAAShgC,CAAT,EAAWW,CAAX,EAAa;AAAC,YAAIV,CAAC,GAACL,CAAC,CAAC,EAAD,CAAP;AAAA,YAAYM,CAAC,GAACN,CAAC,CAAC,EAAD,CAAf;AAAA,YAAoBO,CAAC,GAAC,mFAAtB;AAA0G,YAAG,KAAK,CAAL,KAASH,CAAC,CAACigC,SAAX,IAAsB,KAAK,CAAL,KAASjgC,CAAC,CAACkgC,UAApC,EAA+C,MAAM,IAAI5Y,KAAJ,CAAUnnB,CAAV,CAAN;;AAAmB,YAAIC,CAAC,GAACJ,CAAC,CAACigC,SAAR;AAAA,YAAkB5/B,CAAC,GAACH,CAAC,CAACD,CAAC,CAACD,CAAD,CAAF,EAAM,UAASJ,CAAT,EAAW;AAAC,iBAAM,gBAAcA,CAApB;AAAsB,SAAxC,CAArB;AAAA,YAA+DkG,CAAC,GAAC,KAAKi3B,EAAL,CAAQlI,gBAAR,CAAyBx0B,CAAzB,EAA2B,EAA3B,CAAjE;;AAAgG,eAAO,KAAK08B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,UAAjD,GAA4DtC,kBAAkB,CAAC5zB,CAAD,CAA9E,GAAkF,QAArG;AAA8Gk0B,UAAAA,QAAQ,EAAC,MAAvH;AAA8H7gB,UAAAA,IAAI,EAAC;AAAC+iB,YAAAA,MAAM,EAAC1wB;AAAR,WAAnI;AAA8IyuB,UAAAA,QAAQ,EAAC5zB;AAAvJ,SAArB,CAAP;AAAuL,OAA9iD,EAA+iDA,CAAC,CAAC6E,SAAF,CAAY26B,WAAZ,GAAwBjgC,CAAC,CAAC,UAASN,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,KAAKggC,oBAAL,CAA0BpgC,CAA1B,EAA4BI,CAA5B,CAAP;AAAsC,OAArD,EAAsDG,CAAC,CAAC,uCAAD,EAAyC,gDAAzC,CAAvD,CAAxkD,EAA2tDQ,CAAC,CAAC6E,SAAF,CAAY46B,OAAZ,GAAoB,UAASxgC,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAAC,eAAO,KAAK88B,EAAL,CAAQ5I,YAAR,CAAqB;AAACwE,UAAAA,KAAK,EAAC,KAAKA,KAAZ;AAAkBvE,UAAAA,MAAM,EAAC,MAAzB;AAAgCC,UAAAA,GAAG,EAACr0B,CAAC,IAAE,gBAAcg0B,kBAAkB,CAAC,KAAKsC,SAAN,CAAhC,GAAiD,QAAxF;AAAiG7iB,UAAAA,IAAI,EAAC;AAAC+iB,YAAAA,MAAM,EAAC52B;AAAR,WAAtG;AAAiH00B,UAAAA,QAAQ,EAAC,MAA1H;AAAiImG,UAAAA,QAAQ,EAAC;AAACrG,YAAAA,MAAM,EAAC,KAAR;AAAcC,YAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC,KAAKsC,SAAN,CAAlD;AAAmE7iB,YAAAA,IAAI,EAAC;AAAC+iB,cAAAA,MAAM,EAAC52B;AAAR;AAAxE,WAA1I;AAA8N20B,UAAAA,QAAQ,EAAC5zB,CAAvO;AAAyOi6B,UAAAA,YAAY,EAAC36B;AAAtP,SAArB,CAAP;AAAsR,OAAvhE,EAAwhEU,CAAC,CAAC6E,SAAF,CAAY66B,SAAZ,GAAsB,UAASzgC,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,YAAIV,CAAC,GAAC,IAAN;AAAW,cAAIoE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOrB,CAAzC,KAA6CW,CAAC,GAACX,CAAF,EAAIA,CAAC,GAAC,KAAK,CAAxD;AAA2D,YAAIE,CAAC,GAAC,EAAN;;AAAS,YAAG,KAAK,CAAL,KAASF,CAAZ,EAAc;AAACE,UAAAA,CAAC,GAAC,cAAF;;AAAiB,eAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,CAAC,CAACqB,MAAhB,EAAuB,EAAElB,CAAzB;AAA2B,kBAAIA,CAAJ,KAAQD,CAAC,IAAE,GAAX,GAAgBA,CAAC,IAAEF,CAAC,CAACG,CAAD,CAApB;AAA3B;AAAmD;;AAAA,eAAO,KAAK48B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,KAAR;AAAcC,UAAAA,GAAG,EAAC,gBAAcL,kBAAkB,CAAC/zB,CAAC,CAACq2B,SAAH,CAAhC,GAA8C,GAA9C,GAAkDtC,kBAAkB,CAACp0B,CAAD,CAApE,GAAwEM,CAA1F;AAA4Fo0B,UAAAA,QAAQ,EAAC,MAArG;AAA4GC,UAAAA,QAAQ,EAAC5zB;AAArH,SAArB,CAAP;AAAqJ,OAAr3E,EAAs3EA,CAAC,CAAC6E,SAAF,CAAY86B,UAAZ,GAAuB,UAAStgC,CAAT,EAAWW,CAAX,EAAaV,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACN,CAAC,CAAC,CAAD,CAAP;AAAA,YAAWO,CAAC,GAACP,CAAC,CAAC,EAAD,CAAd;AAAA,YAAmBQ,CAAC,GAAC,uDAArB;AAA6E,YAAG,CAACF,CAAC,CAACF,CAAD,CAAL,EAAS,MAAM,IAAIsnB,KAAJ,CAAUlnB,CAAV,CAAN;AAAmB,YAAIC,CAAC,GAAC,IAAN;AAAW,cAAIgE,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOV,CAAzC,KAA6CV,CAAC,GAACU,CAAF,EAAIA,CAAC,GAAC,KAAK,CAAxD;AAA2D,YAAImF,CAAC,GAAC;AAAC8wB,UAAAA,QAAQ,EAACz2B,CAAC,CAACH,CAAD,EAAG,UAASJ,CAAT,EAAW;AAAC,gBAAII,CAAC,GAAC;AAACs2B,cAAAA,SAAS,EAACj2B,CAAC,CAACi2B,SAAb;AAAuB6G,cAAAA,QAAQ,EAACv9B;AAAhC,aAAN;AAAyC,mBAAOe,CAAC,KAAGX,CAAC,CAAC49B,oBAAF,GAAuBj9B,CAAC,CAACoJ,IAAF,CAAO,GAAP,CAA1B,CAAD,EAAwC/J,CAA/C;AAAiD,WAAzG;AAAX,SAAN;AAA6H,eAAO,KAAK+8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,UAAAA,MAAM,EAAC,MAAR;AAAeC,UAAAA,GAAG,EAAC,sBAAnB;AAA0CC,UAAAA,QAAQ,EAAC,MAAnD;AAA0D7gB,UAAAA,IAAI,EAAC3N,CAA/D;AAAiEyuB,UAAAA,QAAQ,EAACt0B;AAA1E,SAArB,CAAP;AAA0G,OAAnzF,EAAozFU,CAAC,CAAC6E,SAAF,CAAYu3B,EAAZ,GAAe,IAAn0F,EAAw0Fp8B,CAAC,CAAC6E,SAAF,CAAY8wB,SAAZ,GAAsB,IAA91F,EAAm2F31B,CAAC,CAAC6E,SAAF,CAAYm6B,aAAZ,GAA0B,IAA73F,EAAk4Fh/B,CAAC,CAAC6E,SAAF,CAAYo6B,oBAAZ,GAAiC,IAAn6F;AAAw6F,KAAnkG,EAAokG;AAAC,UAAG,EAAJ;AAAO,UAAG,EAAV;AAAa,UAAG,EAAhB;AAAmB,UAAG,EAAtB;AAAyB,UAAG,EAA5B;AAA+B,UAAG,EAAlC;AAAqC,UAAG,EAAxC;AAA2C,SAAE;AAA7C,KAApkG,CADj/f;AACsmmB,QAAG,CAAC,UAAShgC,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,UAAIW,CAAC,GAACf,CAAC,CAAC,EAAD,CAAP;AAAA,UAAYK,CAAC,GAACL,CAAC,CAAC,EAAD,CAAf;AAAoBI,MAAAA,CAAC,CAACwhB,OAAF,GAAUvhB,CAAC,CAACU,CAAD,CAAX;AAAe,KAA/D,EAAgE;AAAC,UAAG,EAAJ;AAAO,UAAG;AAAV,KAAhE,CADzmmB;AACwrmB,QAAG,CAAC,UAASf,CAAT,EAAWI,CAAX,EAAa;AAAC,OAAC,UAASW,CAAT,EAAW;AAAC;;AAAa,YAAIV,CAAC,GAACL,CAAC,CAAC,CAAD,CAAP;AAAA,YAAWM,CAAC,GAACD,CAAC,CAACgvB,OAAF,IAAWrvB,CAAC,CAAC,CAAD,CAAD,CAAKqvB,OAA7B;;AAAqCjvB,QAAAA,CAAC,CAACwhB,OAAF,GAAU,UAASxhB,CAAT,EAAWG,CAAX,EAAa;AAAC,mBAASC,CAAT,CAAWJ,CAAX,EAAaW,CAAb,EAAeV,CAAf,EAAiB;AAAC,mBAAM,CAACA,CAAC,GAACL,CAAC,CAAC,EAAD,CAAD,CAAMK,CAAC,IAAE,EAAT,CAAH,EAAiB44B,GAAjB,GAAqB54B,CAAC,CAAC44B,GAAF,IAAOz4B,CAAC,CAACmgC,EAA9B,EAAiC,IAAIlgC,CAAJ,CAAML,CAAN,EAAQW,CAAR,EAAUV,CAAV,CAAvC;AAAoD;;AAAA,mBAASI,CAAT,GAAY;AAACL,YAAAA,CAAC,CAAC6E,KAAF,CAAQ,IAAR,EAAaR,SAAb;AAAwB;;AAAA,cAAIyB,CAAC,GAAClG,CAAC,CAAC,CAAD,CAAP;AAAA,cAAW0G,CAAC,GAAC1G,CAAC,CAAC,EAAD,CAAd;AAAA,cAAmBgK,CAAC,GAAChK,CAAC,CAAC,EAAD,CAAtB;AAAA,cAA2BmV,CAAC,GAACnV,CAAC,CAAC,EAAD,CAA9B;AAAA,cAAmCoV,CAAC,GAACpV,CAAC,CAAC,EAAD,CAAtC;AAA2CO,UAAAA,CAAC,GAACA,CAAC,IAAE,EAAL,EAAQ,YAAUQ,CAAC,CAACkpB,GAAF,CAAM2W,QAAhB,IAA0B5gC,CAAC,CAAC,CAAD,CAAD,CAAK2J,MAAL,CAAY,gBAAZ,CAAlC,EAAgEnJ,CAAC,CAACoB,OAAF,GAAU5B,CAAC,CAAC,EAAD,CAA3E,EAAgFQ,CAAC,CAACmgC,EAAF,GAAK,oCAAkCpgC,CAAlC,GAAoCC,CAAC,CAACoB,OAA3H,EAAmIpB,CAAC,CAACqgC,UAAF,GAAazrB,CAAC,CAAC5U,CAAD,CAAjJ,EAAqJH,CAAC,CAACygC,SAAF,GAAY;AAAC9W,YAAAA,KAAK,EAAChqB,CAAC,CAAC,CAAD,CAAR;AAAYkpB,YAAAA,aAAa,EAAC1oB;AAA1B,WAAjK;AAA8L,cAAI6U,CAAC,GAAC;AAAC0rB,YAAAA,iBAAiB,EAAC,oBAAmB1gC,CAAtC;AAAwC2gC,YAAAA,iBAAiB,EAAC,oBAAmB3gC;AAA7E,WAAN;AAAsF,iBAAOgV,CAAC,CAAC0rB,iBAAF,KAAsB1rB,CAAC,CAAC4rB,IAAF,GAAO,qBAAoB,IAAIC,cAAJ,EAAjD,GAAqEh7B,CAAC,CAACzF,CAAD,EAAGL,CAAH,CAAtE,EAA4EK,CAAC,CAACmF,SAAF,CAAYs1B,QAAZ,GAAqB,UAASl7B,CAAT,EAAWI,CAAX,EAAa;AAAC,mBAAO,IAAIE,CAAJ,CAAM,UAASS,CAAT,EAAWV,CAAX,EAAa;AAAC,uBAASC,CAAT,GAAY;AAAC,oBAAG,CAACgV,CAAJ,EAAM;AAAC,sBAAItV,CAAJ;AAAMuzB,kBAAAA,YAAY,CAACne,CAAD,CAAZ;;AAAgB,sBAAG;AAACpV,oBAAAA,CAAC,GAAC;AAAC6T,sBAAAA,IAAI,EAAC+W,IAAI,CAACgQ,KAAL,CAAWplB,CAAC,CAAC4kB,YAAb,CAAN;AAAiCA,sBAAAA,YAAY,EAAC5kB,CAAC,CAAC4kB,YAAhD;AAA6DN,sBAAAA,UAAU,EAACtkB,CAAC,CAACqkB,MAA1E;AAAiFzC,sBAAAA,OAAO,EAAC5hB,CAAC,CAAC2rB,qBAAF,IAAyB3rB,CAAC,CAAC2rB,qBAAF,EAAzB,IAAoD;AAA7I,qBAAF;AAAmJ,mBAAvJ,CAAuJ,OAAM/gC,CAAN,EAAQ;AAACJ,oBAAAA,CAAC,GAAC,IAAI0G,CAAC,CAAC6zB,cAAN,CAAqB;AAAC6G,sBAAAA,IAAI,EAAC5rB,CAAC,CAAC4kB;AAAR,qBAArB,CAAF;AAA8C;;AAAAp6B,kBAAAA,CAAC,YAAY0G,CAAC,CAAC6zB,cAAf,GAA8Bl6B,CAAC,CAACL,CAAD,CAA/B,GAAmCe,CAAC,CAACf,CAAD,CAApC;AAAwC;AAAC;;AAAA,uBAASO,CAAT,CAAWP,CAAX,EAAa;AAACsV,gBAAAA,CAAC,KAAGie,YAAY,CAACne,CAAD,CAAZ,EAAgB/U,CAAC,CAAC,IAAIqG,CAAC,CAAC26B,OAAN,CAAc;AAACD,kBAAAA,IAAI,EAACphC;AAAN,iBAAd,CAAD,CAApB,CAAD;AAAgD;;AAAA,uBAASQ,CAAT,GAAY;AAAC8U,gBAAAA,CAAC,GAAC,CAAC,CAAH,EAAKE,CAAC,CAAC8rB,KAAF,EAAL,EAAejhC,CAAC,CAAC,IAAIqG,CAAC,CAAC8zB,cAAN,EAAD,CAAhB;AAAuC;;AAAA,uBAAS/5B,CAAT,GAAY;AAACgV,gBAAAA,CAAC,GAAC,CAAC,CAAH,EAAK8d,YAAY,CAACne,CAAD,CAAjB,EAAqBA,CAAC,GAACpQ,UAAU,CAACxE,CAAD,EAAGJ,CAAC,CAACm4B,QAAF,CAAW9sB,QAAd,CAAjC;AAAyD;;AAAA,uBAASvF,CAAT,GAAY;AAACuP,gBAAAA,CAAC,IAAEhV,CAAC,EAAJ;AAAO;;AAAA,uBAAS0U,CAAT,GAAY;AAAC,iBAACM,CAAD,IAAID,CAAC,CAACyS,UAAF,GAAa,CAAjB,IAAoBxnB,CAAC,EAArB;AAAwB;;AAAA,kBAAG4U,CAAC,CAAC4rB,IAAF,IAAQ5rB,CAAC,CAAC2rB,iBAAb,EAA+B;AAAChhC,gBAAAA,CAAC,GAACgK,CAAC,CAAChK,CAAD,EAAGI,CAAC,CAACg3B,OAAL,CAAH;AAAiB,oBAAIhiB,CAAJ;AAAA,oBAAME,CAAN;AAAA,oBAAQC,CAAC,GAACnV,CAAC,CAACyT,IAAZ;AAAA,oBAAiB2B,CAAC,GAACH,CAAC,CAAC4rB,IAAF,GAAO,IAAIC,cAAJ,EAAP,GAA0B,IAAIK,cAAJ,EAA7C;AAAA,oBAAgE9rB,CAAC,GAAC,CAAC,CAAnE;AAAqEL,gBAAAA,CAAC,GAACpQ,UAAU,CAACxE,CAAD,EAAGJ,CAAC,CAACm4B,QAAF,CAAWC,OAAd,CAAZ,EAAmChjB,CAAC,CAACgsB,UAAF,GAAat7B,CAAhD,EAAkD,wBAAuBsP,CAAvB,KAA2BA,CAAC,CAACwS,kBAAF,GAAqB7S,CAAhD,CAAlD,EAAqGK,CAAC,CAACqS,MAAF,GAASvnB,CAA9G,EAAgHkV,CAAC,CAACsS,OAAF,GAAUvnB,CAA1H,EAA4HiV,CAAC,YAAY0rB,cAAb,GAA4B1rB,CAAC,CAACisB,IAAF,CAAOrhC,CAAC,CAACo0B,MAAT,EAAgBx0B,CAAhB,EAAkB,CAAC,CAAnB,CAA5B,GAAkDwV,CAAC,CAACisB,IAAF,CAAOrhC,CAAC,CAACo0B,MAAT,EAAgBx0B,CAAhB,CAA9K,EAAiMqV,CAAC,CAAC4rB,IAAF,KAAS1rB,CAAC,KAAG,WAASnV,CAAC,CAACo0B,MAAX,GAAkBhf,CAAC,CAACksB,gBAAF,CAAmB,cAAnB,EAAkC,mCAAlC,CAAlB,GAAyFlsB,CAAC,CAACksB,gBAAF,CAAmB,cAAnB,EAAkC,kBAAlC,CAA5F,CAAD,EAAoJlsB,CAAC,CAACksB,gBAAF,CAAmB,QAAnB,EAA4B,kBAA5B,CAA7J,CAAjM,EAA+YlsB,CAAC,CAACmsB,IAAF,CAAOpsB,CAAP,CAA/Y;AAAyZ,eAA/gB,MAAohBlV,CAAC,CAAC,IAAIqG,CAAC,CAAC26B,OAAN,CAAc,oBAAd,CAAD,CAAD;AAAuC,aAAjmC,CAAP;AAA0mC,WAAztC,EAA0tC5gC,CAAC,CAACmF,SAAF,CAAYs1B,QAAZ,CAAqBL,QAArB,GAA8B,UAAS76B,CAAT,EAAWI,CAAX,EAAa;AAAC,mBAAOJ,CAAC,GAACgK,CAAC,CAAChK,CAAD,EAAGI,CAAC,CAACg3B,OAAL,CAAH,EAAiB,IAAI92B,CAAJ,CAAM,UAASS,CAAT,EAAWV,CAAX,EAAa;AAAC8U,cAAAA,CAAC,CAACnV,CAAD,EAAGI,CAAH,EAAK,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAAC,uBAAOJ,CAAC,GAAC,KAAKK,CAAC,CAACL,CAAD,CAAP,GAAW,KAAKe,CAAC,CAACX,CAAD,CAAzB;AAA6B,eAAhD,CAAD;AAAmD,aAAvE,CAAxB;AAAiG,WAAv2C,EAAw2CK,CAAC,CAACmF,SAAF,CAAYy0B,QAAZ,GAAqB;AAAC5J,YAAAA,MAAM,EAAC,gBAASzwB,CAAT,EAAW;AAAC,qBAAOM,CAAC,CAACmwB,MAAF,CAASzwB,CAAT,CAAP;AAAmB,aAAvC;AAAwC2tB,YAAAA,OAAO,EAAC,iBAAS3tB,CAAT,EAAW;AAAC,qBAAOM,CAAC,CAACqtB,OAAF,CAAU3tB,CAAV,CAAP;AAAoB,aAAhF;AAAiF0L,YAAAA,KAAK,EAAC,eAAS1L,CAAT,EAAW;AAAC,qBAAO,IAAIM,CAAJ,CAAM,UAASF,CAAT,EAAW;AAAC4E,gBAAAA,UAAU,CAAC5E,CAAD,EAAGJ,CAAH,CAAV;AAAgB,eAAlC,CAAP;AAA2C;AAA9I,WAA73C,EAA6gDQ,CAAphD;AAAshD,SAAx9D;AAAy9D,OAAxhE,EAA0hE6D,IAA1hE,CAA+hE,IAA/hE,EAAoiErE,CAAC,CAAC,EAAD,CAAriE;AAA2iE,KAA1jE,EAA2jE;AAAC,SAAE,CAAH;AAAK,UAAG,EAAR;AAAW,UAAG,EAAd;AAAiB,UAAG,EAApB;AAAuB,UAAG,EAA1B;AAA6B,UAAG,EAAhC;AAAmC,SAAE,CAArC;AAAuC,UAAG,EAA1C;AAA6C,UAAG,EAAhD;AAAmD,SAAE,CAArD;AAAuD,SAAE;AAAzD,KAA3jE,CAD3rmB;AACmzqB,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,eAASW,CAAT,CAAWf,CAAX,EAAaI,CAAb,EAAe;AAAC,eAAM,CAACJ,CAAC,IAAE,KAAKgB,IAAL,CAAUhB,CAAV,IAAa,GAAb,GAAiB,GAArB,IAA0BK,CAAC,CAACD,CAAD,CAAjC;AAAqC;;AAAAA,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV;AAAY,UAAIV,CAAC,GAACL,CAAC,CAAC,EAAD,CAAP;AAAY,KAAzG,EAA0G;AAAC,UAAG;AAAJ,KAA1G,CADtzqB;AACy6qB,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,eAASW,CAAT,CAAWf,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,iBAASR,CAAT,GAAY;AAACH,UAAAA,CAAC,CAAC4pB,KAAF,CAAQ,gBAAR,GAA0BxU,CAAC,IAAEJ,CAAH,KAAOI,CAAC,GAAC,CAAC,CAAH,EAAKL,CAAC,KAAG/U,CAAC,CAAC4pB,KAAF,CAAQ,0DAAR,GAAoEvpB,CAAC,EAArE,EAAwEM,CAAC,CAAC,IAAIV,CAAC,CAACuhC,eAAN,EAAD,CAA5E,CAAb,CAA1B;AAA6I;;AAAA,iBAASphC,CAAT,GAAY;AAAC,uBAAW,KAAKynB,UAAhB,IAA4B,eAAa,KAAKA,UAA9C,IAA0D1nB,CAAC,EAA3D;AAA8D;;AAAA,iBAASE,CAAT,GAAY;AAAC8yB,UAAAA,YAAY,CAAC9d,CAAD,CAAZ,EAAgBH,CAAC,CAACuS,MAAF,GAAS,IAAzB,EAA8BvS,CAAC,CAAC0S,kBAAF,GAAqB,IAAnD,EAAwD1S,CAAC,CAACwS,OAAF,GAAU,IAAlE,EAAuEzS,CAAC,CAACgH,WAAF,CAAc/G,CAAd,CAAvE;AAAwF;;AAAA,iBAASpP,CAAT,GAAY;AAAC,cAAG;AAAC,mBAAO0C,MAAM,CAAC2M,CAAD,CAAb,EAAiB,OAAO3M,MAAM,CAAC2M,CAAC,GAAC,SAAH,CAA9B;AAA4C,WAAhD,CAAgD,OAAMvV,CAAN,EAAQ;AAAC4I,YAAAA,MAAM,CAAC2M,CAAD,CAAN,GAAU3M,MAAM,CAAC2M,CAAC,GAAC,SAAH,CAAN,GAAoB,KAAK,CAAnC;AAAqC;AAAC;;AAAA,iBAAS7O,CAAT,GAAY;AAACtG,UAAAA,CAAC,CAAC4pB,KAAF,CAAQ,uBAAR,GAAiC5U,CAAC,GAAC,CAAC,CAApC,EAAsC3U,CAAC,EAAvC,EAA0CM,CAAC,CAAC,IAAIV,CAAC,CAACm6B,cAAN,EAAD,CAA3C;AAAkE;;AAAA,iBAASxwB,CAAT,GAAY;AAAC5J,UAAAA,CAAC,CAAC4pB,KAAF,CAAQ,qBAAR,GAA+BxU,CAAC,IAAEJ,CAAH,KAAO3U,CAAC,IAAGM,CAAC,CAAC,IAAIV,CAAC,CAACwhC,gBAAN,EAAD,CAAZ,CAA/B;AAAqE;;AAAA,YAAG,UAAQzhC,CAAC,CAACo0B,MAAb,EAAoB;AAACp0B,UAAAA,CAAC,CAAC4pB,KAAF,CAAQ,cAAR;AAAwB,cAAI7U,CAAC,GAAC,CAAC,CAAP;AAAA,cAASC,CAAC,GAAC,CAAC,CAAZ;AAAc9U,UAAAA,CAAC,IAAE,CAAH;AAAK,cAAI+U,CAAC,GAACnS,QAAQ,CAACilB,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAN;AAAA,cAA+C7S,CAAC,GAACpS,QAAQ,CAACiC,aAAT,CAAuB,QAAvB,CAAjD;AAAA,cAAkFoQ,CAAC,GAAC,kBAAgBjV,CAApG;AAAA,cAAsGkV,CAAC,GAAC,CAAC,CAAzG;AAA2G5M,UAAAA,MAAM,CAAC2M,CAAD,CAAN,GAAU,UAASvV,CAAT,EAAW;AAAC,mBAAOkG,CAAC,IAAGkP,CAAC,GAAC,KAAKhV,CAAC,CAAC4pB,KAAF,CAAQ,8BAAR,CAAN,IAA+C7U,CAAC,GAAC,CAAC,CAAH,EAAK1U,CAAC,EAAN,EAAS,KAAKM,CAAC,CAAC,IAAD,EAAM;AAAC8S,cAAAA,IAAI,EAAC7T;AAAN,aAAN,CAA9D,CAAZ;AAA2F,WAAjH,EAAkHA,CAAC,IAAE,eAAauV,CAAlI,EAAoInV,CAAC,CAAC06B,QAAF,IAAY16B,CAAC,CAAC06B,QAAF,CAAWlE,MAAvB,KAAgC52B,CAAC,IAAE,MAAII,CAAC,CAAC06B,QAAF,CAAWlE,MAAlD,CAApI;AAA8L,cAAInhB,CAAC,GAACzQ,UAAU,CAAC0B,CAAD,EAAGtG,CAAC,CAACm4B,QAAF,CAAW9sB,QAAd,CAAhB;AAAwC6J,UAAAA,CAAC,CAAC0S,kBAAF,GAAqBxnB,CAArB,EAAuB8U,CAAC,CAACuS,MAAF,GAAStnB,CAAhC,EAAkC+U,CAAC,CAACwS,OAAF,GAAU9d,CAA5C,EAA8CsL,CAAC,CAAC+S,KAAF,GAAQ,CAAC,CAAvD,EAAyD/S,CAAC,CAACwsB,KAAF,GAAQ,CAAC,CAAlE,EAAoExsB,CAAC,CAACyS,GAAF,GAAM/nB,CAA1E,EAA4EqV,CAAC,CAACqK,WAAF,CAAcpK,CAAd,CAA5E;AAA6F,SAA9e,MAAmfvU,CAAC,CAAC,IAAI2mB,KAAJ,CAAU,YAAUtnB,CAAC,CAACo0B,MAAZ,GAAmB,GAAnB,GAAuBx0B,CAAvB,GAAyB,6BAAnC,CAAD,CAAD;AAAqE;;AAAAI,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV;AAAY,UAAIV,CAAC,GAACL,CAAC,CAAC,EAAD,CAAP;AAAA,UAAYM,CAAC,GAAC,CAAd;AAAgB,KAAztC,EAA0tC;AAAC,UAAG;AAAJ,KAA1tC,CAD56qB;AAC+otB,QAAG,CAAC,UAASN,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,CAAWf,CAAX,EAAaI,CAAb,EAAe;AAAC,eAAO,UAASW,CAAT,EAAWT,CAAX,EAAaC,CAAb,EAAe;AAAC,cAAG,cAAY,OAAOQ,CAAnB,IAAsB,oBAAiBT,CAAjB,CAAtB,IAA0C,oBAAiBC,CAAjB,CAA7C,EAAgE,MAAM,IAAIF,CAAC,CAACg0B,kBAAN,CAAyB,uDAAzB,CAAN;AAAwF,gBAAI5vB,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOV,CAAzC,IAA4CR,CAAC,GAACQ,CAAF,EAAIA,CAAC,GAAC,EAAlD,IAAsD,MAAI0D,SAAS,CAAChD,MAAd,IAAsB,cAAY,OAAOnB,CAAzC,KAA6CC,CAAC,GAACD,CAAF,EAAIA,CAAC,GAAC,KAAK,CAAxD,CAAtD,EAAiH,oBAAiBS,CAAjB,KAAoB,SAAOA,CAA3B,IAA8BT,CAAC,GAACS,CAAF,EAAIA,CAAC,GAAC,KAAK,CAAzC,IAA4C,QAAMA,CAAN,KAAUA,CAAC,GAAC,EAAZ,CAA7J;AAA6K,cAAIP,CAAJ;AAAA,cAAMC,CAAC,GAAC,EAAR;AAAW,iBAAO,KAAK,CAAL,KAASM,CAAT,KAAaN,CAAC,IAAET,CAAC,GAAC,GAAF,GAAMo0B,kBAAkB,CAACrzB,CAAD,CAAxC,GAA6C,KAAK,CAAL,KAAST,CAAT,KAAaA,CAAC,CAAC06B,YAAF,KAAiBx6B,CAAC,GAACF,CAAC,CAAC06B,YAAJ,EAAiB,OAAO16B,CAAC,CAAC06B,YAA3C,GAAyDv6B,CAAC,GAAC,KAAK08B,EAAL,CAAQlI,gBAAR,CAAyB30B,CAAzB,EAA2BG,CAA3B,CAAxE,CAA7C,EAAoJ,KAAK+/B,OAAL,CAAa//B,CAAb,EAAeL,CAAf,EAAiBG,CAAjB,EAAmBC,CAAnB,CAA3J;AAAiL,SAAxhB;AAAyhB;;AAAAJ,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV;AAAY,UAAIV,CAAC,GAACL,CAAC,CAAC,EAAD,CAAP;AAAY,KAAhlB,EAAilB;AAAC,UAAG;AAAJ,KAAjlB,CADlptB;AAC4uuB,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAACA,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAW;AAAC,eAAO4qB,IAAI,CAACgQ,KAAL,CAAWhQ,IAAI,CAACC,SAAL,CAAe7qB,CAAf,CAAX,CAAP;AAAqC,OAA3D;AAA4D,KAA3E,EAA4E,EAA5E,CAD/uuB;AAC+zuB,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAACA,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAa;AAAC,iBAASW,CAAT,GAAY;AAAC,iBAAOV,CAAC,KAAGooB,OAAO,CAACC,IAAR,CAAatoB,CAAb,GAAgBC,CAAC,GAAC,CAAC,CAAtB,CAAD,EAA0BL,CAAC,CAACiF,KAAF,CAAQ,IAAR,EAAaR,SAAb,CAAjC;AAAyD;;AAAA,YAAIpE,CAAC,GAAC,CAAC,CAAP;AAAS,eAAOU,CAAP;AAAS,OAAhH;AAAiH,KAAhI,EAAiI,EAAjI,CADl0uB;AACu8uB,QAAG,CAAC,UAASf,CAAT,EAAWI,CAAX,EAAa;AAACA,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAM,qBAAmBJ,CAAnB,GAAqB,qBAArB,GAA2CI,CAA3C,GAA6C,2FAA7C,GAAyIJ,CAAC,CAACW,WAAF,GAAgB6nB,OAAhB,CAAwB,WAAxB,EAAoC,EAApC,CAA/I;AAAuL,OAA/M;AAAgN,KAA/N,EAAgO,EAAhO,CAD18uB;AAC8qvB,QAAG,CAAC,UAASxoB,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAa,eAASW,CAAT,CAAWX,CAAX,EAAaW,CAAb,EAAe;AAAC,YAAIV,CAAC,GAACL,CAAC,CAAC,CAAD,CAAP;AAAA,YAAWM,CAAC,GAAC,IAAb;AAAkB,sBAAY,OAAOonB,KAAK,CAACqa,iBAAzB,GAA2Cra,KAAK,CAACqa,iBAAN,CAAwB,IAAxB,EAA6B,KAAK36B,WAAlC,CAA3C,GAA0F9G,CAAC,CAAC+O,KAAF,GAAS,IAAIqY,KAAJ,EAAD,CAAYrY,KAAZ,IAAmB,6CAArH,EAAmK,KAAKxO,IAAL,GAAU,oBAA7K,EAAkM,KAAKiqB,OAAL,GAAa1qB,CAAC,IAAE,eAAlN,EAAkOW,CAAC,IAAEV,CAAC,CAACU,CAAD,EAAG,UAASf,CAAT,EAAWI,CAAX,EAAa;AAACE,UAAAA,CAAC,CAACF,CAAD,CAAD,GAAKJ,CAAL;AAAO,SAAxB,CAAtO;AAAgQ;;AAAA,eAASK,CAAT,CAAWL,CAAX,EAAaI,CAAb,EAAe;AAAC,iBAASC,CAAT,GAAY;AAAC,cAAIA,CAAC,GAAC8F,KAAK,CAACP,SAAN,CAAgBQ,KAAhB,CAAsB/B,IAAtB,CAA2BI,SAA3B,EAAqC,CAArC,CAAN;AAA8C,sBAAU,OAAOpE,CAAC,CAAC,CAAD,CAAlB,IAAuBA,CAAC,CAAC+qB,OAAF,CAAUhrB,CAAV,CAAvB,EAAoCW,CAAC,CAACkE,KAAF,CAAQ,IAAR,EAAa5E,CAAb,CAApC,EAC38/B,KAAKQ,IAAL,GAAU,kBAAgBb,CAAhB,GAAkB,OAD+6/B;AACv6/B;;AAAA,eAAOM,CAAC,CAACD,CAAD,EAAGU,CAAH,CAAD,EAAOV,CAAd;AAAgB;;AAAA,UAAIC,CAAC,GAACN,CAAC,CAAC,CAAD,CAAP;AAAWM,MAAAA,CAAC,CAACS,CAAD,EAAG2mB,KAAH,CAAD,EAAWtnB,CAAC,CAACwhB,OAAF,GAAU;AAACyS,QAAAA,kBAAkB,EAACtzB,CAApB;AAAsBw5B,QAAAA,cAAc,EAACl6B,CAAC,CAAC,gBAAD,EAAkB,yEAAlB,CAAtC;AAAmIm6B,QAAAA,cAAc,EAACn6B,CAAC,CAAC,gBAAD,EAAkB,4CAAlB,CAAnJ;AAAmNghC,QAAAA,OAAO,EAAChhC,CAAC,CAAC,SAAD,EAAW,yCAAX,CAA5N;AAAkRuhC,QAAAA,eAAe,EAACvhC,CAAC,CAAC,iBAAD,EAAmB,4DAAnB,CAAnS;AAAoXwhC,QAAAA,gBAAgB,EAACxhC,CAAC,CAAC,kBAAD,EAAoB,uDAApB,CAAtY;AAAmdi6B,QAAAA,OAAO,EAACj6B,CAAC,CAAC,SAAD,EAAW,uBAAX;AAA5d,OAArB;AAAshB,KAD6+9B,EAC5+9B;AAAC,SAAE,CAAH;AAAK,SAAE;AAAP,KAD4+9B,CADjrvB;AAEhzO,QAAG,CAAC,UAASL,CAAT,EAAWI,CAAX,EAAa;AAACA,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAa;AAACA,QAAAA,CAAC,CAACJ,CAAD,EAAG,CAAH,CAAD;AAAO,OAA/B;AAAgC,KAA/C,EAAgD,EAAhD,CAF6yO;AAEzvO,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAC,GAACf,CAAC,CAAC,CAAD,CAAP;;AAAWI,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAa;AAAC,YAAIC,CAAC,GAAC,EAAN;AAAS,eAAOU,CAAC,CAACf,CAAD,EAAG,UAASe,CAAT,EAAWT,CAAX,EAAa;AAACD,UAAAA,CAAC,CAACyF,IAAF,CAAO1F,CAAC,CAACW,CAAD,EAAGT,CAAH,EAAKN,CAAL,CAAR;AAAiB,SAAlC,CAAD,EAAqCK,CAA5C;AAA8C,OAA/E;AAAgF,KAA1G,EAA2G;AAAC,SAAE;AAAH,KAA3G,CAFsvO;AAEpoO,QAAG,CAAC,UAASL,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAC,GAACf,CAAC,CAAC,CAAD,CAAP;;AAAWI,MAAAA,CAAC,CAACwhB,OAAF,GAAU,SAASvhB,CAAT,CAAWL,CAAX,EAAa;AAAC,YAAII,CAAC,GAAC+F,KAAK,CAACP,SAAN,CAAgBQ,KAAhB,CAAsB/B,IAAtB,CAA2BI,SAA3B,CAAN;AAA4C,eAAO1D,CAAC,CAACX,CAAD,EAAG,UAASA,CAAT,EAAW;AAAC,eAAI,IAAIW,CAAR,IAAaX,CAAb;AAAeA,YAAAA,CAAC,CAACqH,cAAF,CAAiB1G,CAAjB,MAAsB,oBAAiBf,CAAC,CAACe,CAAD,CAAlB,KAAuB,oBAAiBX,CAAC,CAACW,CAAD,CAAlB,CAAvB,GAA6Cf,CAAC,CAACe,CAAD,CAAD,GAAKV,CAAC,CAAC,EAAD,EAAIL,CAAC,CAACe,CAAD,CAAL,EAASX,CAAC,CAACW,CAAD,CAAV,CAAnD,GAAkE,KAAK,CAAL,KAASX,CAAC,CAACW,CAAD,CAAV,KAAgBf,CAAC,CAACe,CAAD,CAAD,GAAKX,CAAC,CAACW,CAAD,CAAtB,CAAxF;AAAf;AAAmI,SAAlJ,CAAD,EAAqJf,CAA5J;AAA8J,OAAlO;AAAmO,KAA7P,EAA8P;AAAC,SAAE;AAAH,KAA9P,CAFioO;AAE53N,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAACA,MAAAA,CAAC,CAACwhB,OAAF,GAAU,UAASxhB,CAAT,EAAWW,CAAX,EAAa;AAAC,YAAIV,CAAC,GAACL,CAAC,CAAC,EAAD,CAAP;AAAA,YAAYM,CAAC,GAACN,CAAC,CAAC,CAAD,CAAf;AAAA,YAAmBO,CAAC,GAAC,EAArB;AAAwB,eAAOD,CAAC,CAACD,CAAC,CAACD,CAAD,CAAF,EAAM,UAASJ,CAAT,EAAW;AAAC,WAAC,CAAD,KAAKe,CAAC,CAACf,CAAD,CAAN,KAAYO,CAAC,CAACP,CAAD,CAAD,GAAKI,CAAC,CAACJ,CAAD,CAAlB;AAAuB,SAAzC,CAAD,EAA4CO,CAAnD;AAAqD,OAArG;AAAsG,KAArH,EAAsH;AAAC,UAAG,EAAJ;AAAO,SAAE;AAAT,KAAtH,CAFy3N;AAEtvN,QAAG,CAAC,UAASP,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,CAAWX,CAAX,EAAa;AAAC,eAAO,UAASW,CAAT,EAAWT,CAAX,EAAaC,CAAb,EAAe;AAAC,cAAIC,CAAC,GAACR,CAAC,CAAC,EAAD,CAAP;AAAY,WAACO,CAAC,GAACA,CAAC,IAAEC,CAAC,CAACD,CAAD,CAAJ,IAAS,EAAZ,EAAgB63B,KAAhB,GAAsB73B,CAAC,CAAC63B,KAAF,IAAS,CAAC,wBAAD,EAA0B,yBAA1B,EAAoD,yBAApD,EAA8E,yBAA9E,CAA/B,EAAwI,MAAI3zB,SAAS,CAAChD,MAAd,IAAsB,oBAAiBV,CAAjB,CAAtB,IAA0C,KAAK,CAAL,KAASA,CAAnD,KAAuDA,CAAC,GAAC,EAAF,EAAKT,CAAC,GAAC,EAAP,EAAUC,CAAC,CAAC03B,sBAAF,GAAyB,CAAC,CAA3F,CAAxI;AAAsO,cAAIx3B,CAAC,GAACL,CAAC,CAACW,CAAD,EAAGT,CAAH,EAAKC,CAAL,CAAD,CAAS40B,SAAT,CAAmB,QAAnB,CAAN;AAAmC,iBAAO10B,CAAC,CAACq2B,MAAF,GAASz2B,CAAC,CAAC,OAAD,EAAS,iBAAT,CAAV,EAAsCI,CAAC,CAACggC,SAAF,GAAY,UAASzgC,CAAT,EAAWI,CAAX,EAAa;AAAC,mBAAO,KAAK+8B,EAAL,CAAQ5I,YAAR,CAAqB;AAACC,cAAAA,MAAM,EAAC,KAAR;AAAcC,cAAAA,GAAG,EAAC,eAAaL,kBAAkB,CAACp0B,CAAD,CAAjD;AAAqD00B,cAAAA,QAAQ,EAAC,MAA9D;AAAqEC,cAAAA,QAAQ,EAACv0B;AAA9E,aAArB,CAAP;AAA8G,WAA9K,EAA+KK,CAAtL;AAAwL,SAApe;AAAqe;;AAAAL,MAAAA,CAAC,CAACwhB,OAAF,GAAU7gB,CAAV;AAAY,UAAIV,CAAC,GAACL,CAAC,CAAC,EAAD,CAAP;AAAY,KAA1hB,EAA2hB;AAAC,UAAG,EAAJ;AAAO,UAAG;AAAV,KAA3hB,CAFmvN;AAEzsM,QAAG,CAAC,UAASA,CAAT,EAAWI,CAAX,EAAa;AAAC,OAAC,UAASW,CAAT,EAAW;AAAC,iBAASV,CAAT,CAAWL,CAAX,EAAaI,CAAb,EAAe;AAAC,iBAAO8F,CAAC,CAAC,0BAAD,EAA4B9F,CAA5B,CAAD,EAAgCI,CAAC,EAAjC,EAAoC,CAACC,CAAC,GAACuJ,CAAH,EAAMnC,GAAN,CAAU7H,CAAV,CAA3C;AAAwD;;AAAA,iBAASM,CAAT,CAAWN,CAAX,EAAaI,CAAb,EAAe;AAAC,iBAAO,MAAIqE,SAAS,CAAChD,MAAd,GAAqBhB,CAAC,CAACoH,GAAF,CAAM7H,CAAN,CAArB,GAA8BS,CAAC,CAAC07B,GAAF,CAAMn8B,CAAN,EAAQI,CAAR,CAArC;AAAgD;;AAAA,iBAASG,CAAT,GAAY;AAAC,cAAG;AAAC,mBAAM,kBAAiBQ,CAAjB,IAAoB,SAAOA,CAAC,CAACopB,YAA7B,KAA4CppB,CAAC,CAACopB,YAAF,CAAezjB,CAAf,KAAmB3F,CAAC,CAACopB,YAAF,CAAe6X,OAAf,CAAuBt7B,CAAvB,EAAyBkkB,IAAI,CAACC,SAAL,CAAe,EAAf,CAAzB,CAAnB,EAAgE,CAAC,CAA7G,CAAN;AAAsH,WAA1H,CAA0H,OAAM7qB,CAAN,EAAQ;AAAC,mBAAM,CAAC,CAAP;AAAS;AAAC;;AAAA,iBAASQ,CAAT,GAAY;AAAC,cAAG;AAACO,YAAAA,CAAC,CAACopB,YAAF,CAAeJ,UAAf,CAA0BrjB,CAA1B;AAA6B,WAAjC,CAAiC,OAAM1G,CAAN,EAAQ,CAAE;AAAC;;AAAA,YAAIS,CAAJ;AAAA,YAAMyF,CAAC,GAAClG,CAAC,CAAC,CAAD,CAAD,CAAK,qCAAL,CAAR;AAAA,YAAoD0G,CAAC,GAAC,yBAAtD;AAAA,YAAgFsD,CAAC,GAAC;AAACi4B,UAAAA,KAAK,EAAC,EAAP;AAAU9F,UAAAA,GAAG,EAAC,aAASn8B,CAAT,EAAWI,CAAX,EAAa;AAAC,mBAAO,KAAK6hC,KAAL,CAAWjiC,CAAX,IAAcI,CAAd,EAAgB,KAAK6hC,KAAL,CAAWjiC,CAAX,CAAvB;AAAqC,WAAjE;AAAkE6H,UAAAA,GAAG,EAAC,aAAS7H,CAAT,EAAW;AAAC,mBAAO,KAAKiiC,KAAL,CAAWjiC,CAAX,KAAe,IAAtB;AAA2B;AAA7G,SAAlF;AAAA,YAAiMmV,CAAC,GAAC;AAACgnB,UAAAA,GAAG,EAAC,aAASn8B,CAAT,EAAWI,CAAX,EAAa;AAAC4J,YAAAA,CAAC,CAACmyB,GAAF,CAAMn8B,CAAN,EAAQI,CAAR;;AAAW,gBAAG;AAAC,kBAAIE,CAAC,GAACsqB,IAAI,CAACgQ,KAAL,CAAW75B,CAAC,CAACopB,YAAF,CAAezjB,CAAf,CAAX,CAAN;AAAoC,qBAAOpG,CAAC,CAACN,CAAD,CAAD,GAAKI,CAAL,EAAOW,CAAC,CAACopB,YAAF,CAAezjB,CAAf,IAAkBkkB,IAAI,CAACC,SAAL,CAAevqB,CAAf,CAAzB,EAA2CA,CAAC,CAACN,CAAD,CAAnD;AAAuD,aAA/F,CAA+F,OAAMO,CAAN,EAAQ;AAAC,qBAAOF,CAAC,CAACL,CAAD,EAAGO,CAAH,CAAR;AAAc;AAAC,WAArJ;AAAsJsH,UAAAA,GAAG,EAAC,aAAS7H,CAAT,EAAW;AAAC,gBAAG;AAAC,qBAAO4qB,IAAI,CAACgQ,KAAL,CAAW75B,CAAC,CAACopB,YAAF,CAAezjB,CAAf,CAAX,EAA8B1G,CAA9B,KAAkC,IAAzC;AAA8C,aAAlD,CAAkD,OAAMI,CAAN,EAAQ;AAAC,qBAAOC,CAAC,CAACL,CAAD,EAAGI,CAAH,CAAR;AAAc;AAAC;AAAhP,SAAnM;AAAqbK,QAAAA,CAAC,GAACF,CAAC,KAAG4U,CAAH,GAAKnL,CAAR,EAAU5J,CAAC,CAACwhB,OAAF,GAAU;AAAC/Z,UAAAA,GAAG,EAACvH,CAAL;AAAO67B,UAAAA,GAAG,EAAC77B,CAAX;AAAa4hC,UAAAA,oBAAoB,EAAC3hC;AAAlC,SAApB;AAAyD,OAAt1B,EAAw1B8D,IAAx1B,CAA61B,IAA71B,EAAk2B,eAAa,OAAO4kB,MAApB,GAA2BA,MAA3B,GAAkC,eAAa,OAAOzB,IAApB,GAAyBA,IAAzB,GAA8B,eAAa,OAAO5e,MAApB,GAA2BA,MAA3B,GAAkC,EAAp8B;AAAw8B,KAAv9B,EAAw9B;AAAC,SAAE;AAAH,KAAx9B,CAFssM;AAEvuK,QAAG,CAAC,UAAS5I,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAaA,MAAAA,CAAC,CAACwhB,OAAF,GAAU,QAAV;AAAmB,KAA/C,EAAgD,EAAhD;AAFouK,GAApb,EAE3vJ,EAF2vJ,EAExvJ,CAAC,EAAD,CAFwvJ,EAElvJ,EAFkvJ,CAAP;AAEvuJ,CAFk8I,CApGjrO,EAsGivF,UAAS5hB,CAAT,EAAW;AAAC,WAASI,CAAT,CAAWC,CAAX,EAAa;AAAC,QAAGU,CAAC,CAACV,CAAD,CAAJ,EAAQ,OAAOU,CAAC,CAACV,CAAD,CAAD,CAAKuhB,OAAZ;AAAoB,QAAIthB,CAAC,GAACS,CAAC,CAACV,CAAD,CAAD,GAAK;AAACuhB,MAAAA,OAAO,EAAC,EAAT;AAAYve,MAAAA,EAAE,EAAChD,CAAf;AAAiB8hC,MAAAA,MAAM,EAAC,CAAC;AAAzB,KAAX;AAAuC,WAAOniC,CAAC,CAACK,CAAD,CAAD,CAAKgE,IAAL,CAAU/D,CAAC,CAACshB,OAAZ,EAAoBthB,CAApB,EAAsBA,CAAC,CAACshB,OAAxB,EAAgCxhB,CAAhC,GAAmCE,CAAC,CAAC6hC,MAAF,GAAS,CAAC,CAA7C,EAA+C7hC,CAAC,CAACshB,OAAxD;AAAgE;;AAAA,MAAI7gB,CAAC,GAAC,EAAN;AAASX,EAAAA,CAAC,CAACmV,CAAF,GAAIvV,CAAJ,EAAMI,CAAC,CAAC4J,CAAF,GAAIjJ,CAAV,EAAYX,CAAC,CAACgV,CAAF,GAAI,EAAhB,EAAmBhV,CAAC,CAAC,CAAD,CAApB;AAAwB,CAA9L,CAA+L,CAAC,UAASJ,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAaf,EAAAA,CAAC,CAAC4hB,OAAF,GAAU7gB,CAAC,CAAC,CAAD,CAAX;AAAe,CAA7C,EAA8C,UAASf,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,MAAIV,CAAC,GAACU,CAAC,CAAC,CAAD,CAAP;AAAA,MAAWT,CAAC,GAACS,CAAC,CAAC,CAAD,CAAd;AAAkBV,EAAAA,CAAC,CAAC0F,OAAF,GAAUzF,CAAV;AAAY,MAAIC,CAAC,GAACQ,CAAC,CAAC,CAAD,CAAP;AAAWR,EAAAA,CAAC,CAACsS,OAAF,GAAUvS,CAAC,CAACuS,OAAZ,EAAoBtS,CAAC,CAACyG,UAAF,GAAa1G,CAAC,CAAC0G,UAAnC,EAA8CzG,CAAC,CAAC6hC,QAAF,GAAW9hC,CAAC,CAACoH,aAA3D,EAAyEnH,CAAC,CAAC6E,IAAF,GAAO9E,CAAC,CAAC+hC,KAAlF,EAAwF9hC,CAAC,CAAC6C,IAAF,GAAO,UAASpD,CAAT,EAAWI,CAAX,EAAa;AAAC,aAASW,CAAT,CAAWf,CAAX,EAAae,CAAb,EAAe;AAAC,aAAOX,CAAC,CAACW,CAAD,EAAGf,CAAH,CAAR;AAAc;;AAAAM,IAAAA,CAAC,CAAC8C,IAAF,CAAOpD,CAAP,EAASe,CAAT;AAAY,GAAvJ,EAAwJR,CAAC,CAAC4P,GAAF,GAAM7P,CAAC,CAAC6P,GAAhK,EAAoK5P,CAAC,CAAC+hC,KAAF,GAAQhiC,CAAC,CAACqB,MAA9K,EAAqLpB,CAAC,CAACwK,KAAF,GAAQzK,CAAC,CAACyK,KAA/L;AAAqM,MAAIvK,CAAJ;AAAA,MAAMC,CAAN;AAAA,MAAQyF,CAAR;AAAA,MAAUQ,CAAC,GAAC3F,CAAC,CAAC,CAAD,CAAb;AAAA,MAAiBiJ,CAAC,GAACjJ,CAAC,CAAC,CAAD,CAApB;AAAwBP,EAAAA,CAAC,GAACF,CAAC,CAACwC,EAAF,CAAKy/B,YAAP,EAAoB9hC,CAAC,GAAC,gBAAtB,EAAuCyF,CAAC,GAAC;AAACs8B,IAAAA,UAAU,EAAC,oBAASxiC,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,GAAY;AAAC,YAAIA,CAAJ;AAAA,YAAMV,CAAC,GAACC,CAAC,CAAC,IAAD,CAAT;AAAA,YAAgBC,CAAC,GAAC,IAAIyJ,CAAJ,CAAM;AAACy4B,UAAAA,EAAE,EAACpiC;AAAJ,SAAN,CAAlB;AAAgCU,QAAAA,CAAC,GAAC,IAAI2F,CAAJ,CAAM;AAACg8B,UAAAA,KAAK,EAACriC,CAAP;AAASsiC,UAAAA,QAAQ,EAACpiC,CAAlB;AAAoBqiC,UAAAA,qBAAqB,EAAC5iC,CAAC,CAAC4iC,qBAA5C;AAAkEC,UAAAA,IAAI,EAAC,KAAK,CAAL,KAAS7iC,CAAC,CAAC6iC,IAAX,IAAiB,CAAC,CAAC7iC,CAAC,CAAC6iC,IAA5F;AAAiGC,UAAAA,SAAS,EAAC9iC,CAAC,CAAC8iC,SAA7G;AAAuHC,UAAAA,UAAU,EAAC/iC,CAAC,CAAC+iC,UAApI;AAA+IC,UAAAA,gBAAgB,EAAChjC,CAAC,CAACgjC,gBAAlK;AAAmLC,UAAAA,WAAW,EAACjjC,CAAC,CAACijC,WAAjM;AAA6MC,UAAAA,SAAS,EAACljC,CAAC,CAACkjC,SAAzN;AAAmOlZ,UAAAA,KAAK,EAAChqB,CAAC,CAACgqB,KAA3O;AAAiPmZ,UAAAA,UAAU,EAACnjC,CAAC,CAACmjC,UAA9P;AAAyQC,UAAAA,QAAQ,EAAChjC,CAAlR;AAAoRijC,UAAAA,iBAAiB,EAACrjC,CAAC,CAACqjC,iBAAxS;AAA0Tr1B,UAAAA,QAAQ,EAAChO,CAAC,CAACgO,QAArU;AAA8Us1B,UAAAA,SAAS,EAACtjC,CAAC,CAACsjC;AAA1V,SAAN,CAAF,EAA8WjjC,CAAC,CAACmD,IAAF,CAAO/C,CAAP,EAASM,CAAT,CAA9W;AAA0X;;AAAA,aAAOX,CAAC,GAACG,CAAC,CAACsS,OAAF,CAAUzS,CAAV,IAAaA,CAAb,GAAe,GAAGgG,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAjB,EAA4CzE,CAAC,GAACA,CAAC,IAAE,EAAjD,EAAoD,KAAKoD,IAAL,CAAUrC,CAAV,CAA3D;AAAwE,KAAzgB;AAA0gB0gC,IAAAA,IAAI,EAAC,gBAAU;AAAC,eAASzhC,CAAT,GAAY;AAAC,YAAIA,CAAJ;AAAM,SAACA,CAAC,GAACM,CAAC,CAAC,IAAD,CAAD,CAAQkD,IAAR,CAAa/C,CAAb,CAAH,KAAqBT,CAAC,CAACyhC,IAAF,EAArB;AAA8B;;AAAA,aAAO,KAAKr+B,IAAL,CAAUpD,CAAV,CAAP;AAAoB,KAA/lB;AAAgmBujC,IAAAA,KAAK,EAAC,iBAAU;AAAC,eAASvjC,CAAT,GAAY;AAAC,YAAIA,CAAJ;AAAM,SAACA,CAAC,GAACM,CAAC,CAAC,IAAD,CAAD,CAAQkD,IAAR,CAAa/C,CAAb,CAAH,KAAqBT,CAAC,CAACujC,KAAF,EAArB;AAA+B;;AAAA,aAAO,KAAKngC,IAAL,CAAUpD,CAAV,CAAP;AAAoB,KAAvrB;AAAwrBwjC,IAAAA,GAAG,EAAC,aAASxjC,CAAT,EAAW;AAAC,eAASI,CAAT,GAAY;AAAC,YAAIA,CAAJ;AAAM,SAACA,CAAC,GAACE,CAAC,CAAC,IAAD,CAAD,CAAQkD,IAAR,CAAa/C,CAAb,CAAH,KAAqBL,CAAC,CAACqjC,MAAF,CAASzjC,CAAT,CAArB;AAAiC;;AAAA,aAAOyE,SAAS,CAAChD,MAAV,GAAiB,KAAK2B,IAAL,CAAUhD,CAAV,CAAjB,GAA8B,UAASJ,CAAT,EAAW;AAAC,YAAII,CAAJ,EAAMW,CAAN;AAAQ,eAAM,CAACX,CAAC,GAACJ,CAAC,CAACwD,IAAF,CAAO/C,CAAP,CAAH,MAAgBM,CAAC,GAACX,CAAC,CAACsjC,MAAF,EAAlB,GAA8B3iC,CAApC;AAAsC,OAA1D,CAA2D,KAAKqZ,KAAL,EAA3D,CAArC;AAA8G,KAA12B;AAA22B1R,IAAAA,OAAO,EAAC,mBAAU;AAAC,eAAS1I,CAAT,GAAY;AAAC,YAAIA,CAAJ;AAAA,YAAMI,CAAC,GAACE,CAAC,CAAC,IAAD,CAAT;AAAgB,SAACN,CAAC,GAACI,CAAC,CAACoD,IAAF,CAAO/C,CAAP,CAAH,MAAgBT,CAAC,CAAC0I,OAAF,IAAYtI,CAAC,CAACoE,UAAF,CAAa/D,CAAb,CAA5B;AAA6C;;AAAA,aAAO,KAAK2C,IAAL,CAAUpD,CAAV,CAAP;AAAoB;AAA59B,GAAzC,EAAugCM,CAAC,CAACwC,EAAF,CAAKy/B,YAAL,GAAkB,UAASviC,CAAT,EAAW;AAAC,QAAII,CAAJ;AAAM,WAAO8F,CAAC,CAAClG,CAAD,CAAD,IAAM,iBAAeA,CAArB,IAAwBI,CAAC,GAAC,KAAKmB,MAAL,CAAY,YAAU;AAAC,aAAM,CAAC,CAACjB,CAAC,CAAC,IAAD,CAAD,CAAQkD,IAAR,CAAa/C,CAAb,CAAR;AAAwB,KAA/C,CAAF,EAAmDyF,CAAC,CAAClG,CAAD,CAAD,CAAKiF,KAAL,CAAW7E,CAAX,EAAa,GAAGgG,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAb,CAA3E,IAAqHyB,CAAC,CAACs8B,UAAF,CAAav9B,KAAb,CAAmB,IAAnB,EAAwBR,SAAxB,CAA5H;AAA+J,GAA1sC,EAA2sCnE,CAAC,CAACwC,EAAF,CAAKy/B,YAAL,CAAkB7gB,UAAlB,GAA6B,YAAU;AAAC,WAAOphB,CAAC,CAACwC,EAAF,CAAKy/B,YAAL,GAAkB/hC,CAAlB,EAAoB,IAA3B;AAAgC,GAAnxC,EAAoxCF,CAAC,CAACwC,EAAF,CAAKy/B,YAAL,CAAkBoB,OAAlB,GAA0Bj9B,CAAC,CAACi9B,OAAhzC,EAAwzCrjC,CAAC,CAACwC,EAAF,CAAKy/B,YAAL,CAAkBqB,uBAAlB,GAA0CrjC,CAAC,CAACqjC,uBAAp2C,EAA43C5jC,CAAC,CAAC4hB,OAAF,GAAUthB,CAAC,CAACwC,EAAF,CAAKy/B,YAA34C;AAAw5C,CAAzuD,EAA0uD,UAASviC,CAAT,EAAW;AAAC;;AAAaA,EAAAA,CAAC,CAAC4hB,OAAF,GAAU;AAAC7b,IAAAA,OAAO,EAAC;AAAT,GAAV;AAAyB,CAA5xD,EAA6xD,UAAS/F,CAAT,EAAW;AAACA,EAAAA,CAAC,CAAC4hB,OAAF,GAAUzhB,MAAV;AAAiB,CAA1zD,EAA2zD,UAASH,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,CAAWL,CAAX,EAAa;AAAC,WAAOA,CAAC,CAACwoB,OAAF,CAAU,qCAAV,EAAgD,MAAhD,CAAP;AAA+D;;AAAA,MAAIloB,CAAC,GAACS,CAAC,CAAC,CAAD,CAAP;AAAWf,EAAAA,CAAC,CAAC4hB,OAAF,GAAU;AAAC/O,IAAAA,OAAO,EAAC,IAAT;AAAc7L,IAAAA,UAAU,EAAC,IAAzB;AAA8Bo7B,IAAAA,QAAQ,EAAC,IAAvC;AAA4Ch9B,IAAAA,IAAI,EAAC,IAAjD;AAAsDhC,IAAAA,IAAI,EAAC,IAA3D;AAAgE+M,IAAAA,GAAG,EAAC,IAApE;AAAyEmyB,IAAAA,KAAK,EAAC,IAA/E;AAAoFuB,IAAAA,MAAM,EAAC,kBAAU;AAAC,aAAM,CAAC,CAAC,kBAAkB7iC,IAAlB,CAAuB6D,SAAS,CAACC,SAAjC,CAAF,IAA+CD,SAAS,CAACC,SAAV,CAAoBiF,KAApB,CAA0B,0BAA1B,EAAsD,CAAtD,CAArD;AAA8G,KAApN;AAAqN+5B,IAAAA,gBAAgB,EAAC,0BAAS9jC,CAAT,EAAW;AAAC,aAAOA,CAAC,CAACwoB,OAAF,CAAU,qCAAV,EAAgD,MAAhD,CAAP;AAA+D,KAAjT;AAAkTub,IAAAA,QAAQ,EAAC,kBAAS/jC,CAAT,EAAW;AAAC,aAAM,YAAU,OAAOA,CAAvB;AAAyB,KAAhW;AAAiWgkC,IAAAA,KAAK,EAAC,eAAShkC,CAAT,EAAW;AAAC,aAAO,QAAMA,CAAN,GAAQ,EAAR,GAAWA,CAAC,GAAC,EAApB;AAAuB,KAA1Y;AAA2YikC,IAAAA,SAAS,EAAC,mBAASjkC,CAAT,EAAW;AAAC,UAAII,CAAC,GAAC,KAAKkiC,KAAL,CAAW,EAAX,EAActiC,CAAd,CAAN;AAAA,UAAuBe,CAAC,GAAC,IAAzB;AAA8B,aAAO,KAAKqC,IAAL,CAAUhD,CAAV,EAAY,UAASJ,CAAT,EAAWK,CAAX,EAAa;AAACL,QAAAA,CAAC,KAAGe,CAAC,CAAC8R,OAAF,CAAU7S,CAAV,IAAaI,CAAC,CAACC,CAAD,CAAD,GAAK,GAAG0H,MAAH,CAAU/H,CAAV,CAAlB,GAA+Be,CAAC,CAACqhC,QAAF,CAAWpiC,CAAX,MAAgBI,CAAC,CAACC,CAAD,CAAD,GAAKU,CAAC,CAACkjC,SAAF,CAAYjkC,CAAZ,CAArB,CAAlC,CAAD;AAAyE,OAAnG,GAAqGI,CAA5G;AAA8G,KAA7iB;AAA8iB0H,IAAAA,KAAK,EAAC,eAAS9H,CAAT,EAAW;AAAC,YAAM,IAAI0nB,KAAJ,CAAU1nB,CAAV,CAAN;AAAmB,KAAnlB;AAAolBkkC,IAAAA,KAAK,EAAC,eAASlkC,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAC,GAAC,CAAC,CAAP;AAAS,aAAOf,CAAC,IAAE,KAAKoD,IAAL,CAAUpD,CAAV,EAAY,UAASK,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAG,EAAES,CAAC,GAACX,CAAC,CAACiE,IAAF,CAAO,IAAP,EAAYhE,CAAZ,EAAcC,CAAd,EAAgBN,CAAhB,CAAJ,CAAH,EAA2B,OAAM,CAAC,CAAP;AAAS,OAA9D,GAAgE,CAAC,CAACe,CAApE,IAAuEA,CAA/E;AAAiF,KAAlsB;AAAmsBojC,IAAAA,GAAG,EAAC,aAASnkC,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAC,GAAC,CAAC,CAAP;AAAS,aAAOf,CAAC,IAAE,KAAKoD,IAAL,CAAUpD,CAAV,EAAY,UAASK,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAGF,CAAC,CAACiE,IAAF,CAAO,IAAP,EAAYhE,CAAZ,EAAcC,CAAd,EAAgBN,CAAhB,CAAH,EAAsB,OAAOe,CAAC,GAAC,CAAC,CAAH,EAAK,CAAC,CAAb;AAAe,OAA/D,GAAiEA,CAAnE,IAAsEA,CAA9E;AAAgF,KAA9yB;AAA+yBqjC,IAAAA,WAAW,EAAC,YAAU;AAAC,UAAIpkC,CAAC,GAAC,CAAN;AAAQ,aAAO,YAAU;AAAC,eAAOA,CAAC,EAAR;AAAW,OAA7B;AAA8B,KAAjD,EAA3zB;AAA+2BqkC,IAAAA,UAAU,EAAC,oBAASrkC,CAAT,EAAW;AAAC,UAAG,KAAKgH,UAAL,CAAgBhH,CAAhB,CAAH,EAAsB,OAAOA,CAAP;AAAS,UAAII,CAAC,GAACE,CAAC,CAACyF,OAAF,CAAU/F,CAAV,CAAN;AAAmB,aAAM,aAAWI,CAAC,CAACkkC,IAAF,CAAO,SAAP,CAAX,GAA6B,YAAU;AAAC,eAAOlkC,CAAC,CAACmoB,IAAF,EAAP;AAAgB,OAAxD,GAAyD,YAAU;AAAC,eAAOtT,MAAM,CAACjV,CAAD,CAAb;AAAiB,OAA3F;AAA4F,KAAphC;AAAqhC8hC,IAAAA,KAAK,EAAC,eAAS9hC,CAAT,EAAW;AAACgF,MAAAA,UAAU,CAAChF,CAAD,EAAG,CAAH,CAAV;AAAgB,KAAvjC;AAAwjCmJ,IAAAA,IAAI,EAAC,gBAAU,CAAE,CAAzkC;AAA0kCo7B,IAAAA,YAAY,EAAC,sBAASvkC,CAAT,EAAWI,CAAX,EAAa;AAAC,aAAOA,CAAC,GAAC,EAAD,GAAIJ,CAAC,GAAC,GAAd;AAAkB,KAAvnC;AAAwnCwa,IAAAA,SAAS,EAAC,mBAASxa,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,aAAM,CAACA,CAAC,GAAC,EAAD,GAAI,GAAN,IAAWf,CAAX,GAAaI,CAAnB;AAAqB,KAAvqC;AAAwqCwjC,IAAAA,uBAAuB,EAAC,iCAAS5jC,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAACX,MAAAA,CAAC,GAACA,CAAC,IAAE,MAAL;AAAY,UAAIE,CAAC,GAAC4C,QAAQ,CAACiC,aAAT,CAAuB,KAAvB,CAAN;AAAoC7E,MAAAA,CAAC,CAACof,WAAF,CAAcxc,QAAQ,CAAC6oB,cAAT,CAAwB3rB,CAAxB,CAAd,GAA0CW,CAAC,GAACA,CAAC,IAAE,OAA/C;AAAuD,UAAIR,CAAC,GAAC2C,QAAQ,CAACiC,aAAT,CAAuB,KAAvB,CAAN;AAAoC5E,MAAAA,CAAC,CAACmf,WAAF,CAAcxc,QAAQ,CAAC6oB,cAAT,CAAwBhrB,CAAxB,CAAd;AAA0C,UAAIP,CAAC,GAAC0C,QAAQ,CAACiC,aAAT,CAAuB,KAAvB,CAAN;AAAoC,aAAO3E,CAAC,CAACkf,WAAF,CAAcxc,QAAQ,CAAC6oB,cAAT,CAAwB/rB,CAAxB,CAAd,GAA0CQ,CAAC,CAACgkC,SAAF,CAAYhc,OAAZ,CAAoBpI,MAAM,CAAC/f,CAAC,CAACC,CAAC,CAACkkC,SAAH,CAAF,EAAgB,GAAhB,CAA1B,EAA+CpkC,CAA/C,EAAkDooB,OAAlD,CAA0DpI,MAAM,CAAC/f,CAAC,CAACE,CAAC,CAACikC,SAAH,CAAF,EAAgB,GAAhB,CAAhE,EAAqFzjC,CAArF,CAAjD;AAAyI;AAAljD,GAAV;AAA8jD,CAA9+G,EAA++G,UAASf,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,CAAWL,CAAX,EAAa;AAAC,QAAII,CAAJ,EAAMW,CAAN;AAAQ,QAAG,CAACf,CAAC,GAACA,CAAC,IAAE,EAAN,EAAU0iC,KAAV,IAAiBx8B,CAAC,CAAC4B,KAAF,CAAQ,eAAR,CAAjB,EAA0C,KAAK28B,WAAL,GAAiB,CAAC,CAA5D,EAA8D,KAAKza,KAAL,GAAW,CAAC,CAAChqB,CAAC,CAACgqB,KAA7E,EAAmF,KAAK+Y,UAAL,GAAgB,CAAC,CAAC/iC,CAAC,CAAC+iC,UAAvG,EAAkH,KAAKC,gBAAL,GAAsB,CAAC,CAAChjC,CAAC,CAACgjC,gBAA5I,EAA6J,KAAKC,WAAL,GAAiB,CAAC,CAACjjC,CAAC,CAACijC,WAAlL,EAA8L,KAAKH,SAAL,GAAe58B,CAAC,CAAC69B,QAAF,CAAW/jC,CAAC,CAAC8iC,SAAb,IAAwB9iC,CAAC,CAAC8iC,SAA1B,GAAoC,CAAjP,EAAmP,KAAKQ,SAAL,GAAe,KAAK,CAAL,KAAStjC,CAAC,CAACsjC,SAAX,IAAsB,CAAC,CAACtjC,CAAC,CAACsjC,SAA5R,EAAsStjC,CAAC,CAAC6iC,IAAF,GAAO,CAAC,CAAC7iC,CAAC,CAAC6iC,IAAjT,EAAsT7iC,CAAC,CAAC6iC,IAAF,IAAQ7iC,CAAC,CAACgO,QAAnU,EAA4U,MAAM,IAAI0Z,KAAJ,CAAU,4EAAV,CAAN;AAA8F,SAAKlmB,GAAL,GAASxB,CAAC,CAACwB,GAAF,GAAM0E,CAAC,CAACo8B,KAAF,CAAQ,EAAR,EAAWhtB,CAAX,EAAatV,CAAC,CAACgO,QAAF,GAAWsH,CAAC,CAACtH,QAAb,GAAsB,EAAnC,CAAf,EAAsD,KAAKm1B,UAAL,GAAgBnjC,CAAC,CAACmjC,UAAF,GAAaj9B,CAAC,CAACo8B,KAAF,CAAQ,EAAR,EAAWhtB,CAAC,CAACovB,cAAb,EAA4B1kC,CAAC,CAACmjC,UAAF,IAAc,EAA1C,CAAnF,EAAiI,KAAKA,UAAL,CAAgBwB,MAAhB,GAAuB3kC,CAAC,CAACmjC,UAAF,CAAayB,eAAb,GAA6B1+B,CAAC,CAACq+B,YAAF,CAAe,KAAKpB,UAAL,CAAgBwB,MAA/B,EAAsC,KAAKxB,UAAL,CAAgB0B,QAAtD,CAArL,EAAqP,KAAKC,SAAL,GAAe9kC,CAAC,CAAC8kC,SAAF,GAAY,CAAC,KAAK3B,UAAL,CAAgB4B,IAAjB,EAAsB,SAAtB,EAAgC7+B,CAAC,CAACk+B,WAAF,EAAhC,EAAiDj6B,IAAjD,CAAsD,GAAtD,CAAhR;AAA2U,QAAI5J,CAAC,GAACD,CAAC,CAACN,CAAD,CAAP;AAAW,SAAKglC,KAAL,GAAWzkC,CAAC,CAAC0kC,OAAb;AAAqB,QAAIzkC,CAAC,GAAC,KAAK0kC,MAAL,GAAY3kC,CAAC,CAACmiC,KAApB;AAA0BtiC,IAAAA,CAAC,GAACG,CAAC,CAAC4kC,IAAJ,EAASpkC,CAAC,GAACR,CAAC,CAACsiC,IAAb,EAAkB7iC,CAAC,CAAC4iC,qBAAF,IAAyBl8B,CAAC,CAACX,OAAF,CAAU/F,CAAC,CAAC4iC,qBAAZ,EAAmCphC,GAAnC,CAAuC,UAAvC,EAAkD,UAAlD,EAA8DyY,MAA9D,CAAqE7Z,CAAC,CAACoB,GAAF,CAAM,KAAN,EAAY,GAAZ,CAArE,CAA3C,EAAkIhB,CAAC,CAACigB,EAAF,CAAK,SAAL,EAAe,UAASzgB,CAAT,EAAW;AAAC,UAAIe,CAAC,GAACmC,QAAQ,CAACqN,aAAf;AAA6BrK,MAAAA,CAAC,CAAC29B,MAAF,OAAazjC,CAAC,CAAC,CAAD,CAAD,KAAOW,CAAP,IAAUX,CAAC,CAAC,CAAD,CAAD,CAAKiT,QAAL,CAActS,CAAd,CAAvB,MAA2Cf,CAAC,CAACqF,cAAF,IAAmBrF,CAAC,CAACmM,wBAAF,EAAnB,EAAgDjG,CAAC,CAAC47B,KAAF,CAAQ,YAAU;AAACthC,QAAAA,CAAC,CAACuE,KAAF;AAAU,OAA7B,CAA3F;AAA2H,KAAnL,CAAlI,EAAuT3E,CAAC,CAACqgB,EAAF,CAAK,cAAL,EAAoB,UAASzgB,CAAT,EAAW;AAACA,MAAAA,CAAC,CAACqF,cAAF;AAAmB,KAAnD,CAAvT,EAA4W,KAAKs9B,QAAL,GAAc3iC,CAAC,CAAC2iC,QAAF,IAAY,IAAI34B,CAAJ,CAAM;AAACy4B,MAAAA,EAAE,EAACjiC;AAAJ,KAAN,CAAtY,EAAoZ,KAAK4kC,QAAL,GAAc,IAAI/kC,CAAC,CAACglC,QAAN,CAAe;AAACr3B,MAAAA,QAAQ,EAAChO,CAAC,CAACgO,QAAZ;AAAqBi3B,MAAAA,OAAO,EAAC,KAAKD,KAAlC;AAAwCG,MAAAA,IAAI,EAAC/kC,CAA7C;AAA+CgjC,MAAAA,QAAQ,EAACpjC,CAAC,CAACojC,QAA1D;AAAmEF,MAAAA,SAAS,EAACljC,CAAC,CAACkjC,SAA/E;AAAyFC,MAAAA,UAAU,EAACnjC,CAAC,CAACmjC,UAAtG;AAAiHL,MAAAA,SAAS,EAAC,KAAKA;AAAhI,KAAf,EAA2JwC,MAA3J,CAAkK,mBAAlK,EAAsL,KAAKC,oBAA3L,EAAgN,IAAhN,EAAsND,MAAtN,CAA6N,aAA7N,EAA2O,KAAKE,cAAhP,EAA+P,IAA/P,EAAqQF,MAArQ,CAA4Q,eAA5Q,EAA4R,KAAKG,gBAAjS,EAAkT,IAAlT,EAAwTH,MAAxT,CAA+T,QAA/T,EAAwU,KAAKI,SAA7U,EAAuV,IAAvV,EAA6VJ,MAA7V,CAAoW,QAApW,EAA6W,KAAKK,SAAlX,EAA4X,IAA5X,EAAkYL,MAAlY,CAAyY,OAAzY,EAAiZ,KAAKM,QAAtZ,EAA+Z,IAA/Z,EAAqaN,MAAra,CAA4a,OAA5a,EAAob,KAAKO,QAAzb,EAAkc,IAAlc,EAAwcP,MAAxc,CAA+c,SAA/c,EAAyd,KAAKQ,UAA9d,EAAye,IAAze,EAA+eC,OAA/e,CAAuf,iBAAvf,EAAygB,KAAKC,kBAA9gB,EAAiiB,IAAjiB,CAAla,EAAy8B,KAAKtD,KAAL,GAAW,IAAIriC,CAAC,CAAC4lC,KAAN,CAAY;AAACvD,MAAAA,KAAK,EAACliC,CAAP;AAASqiC,MAAAA,IAAI,EAAC9hC;AAAd,KAAZ,EAA8BukC,MAA9B,CAAqC,SAArC,EAA+C,KAAKY,UAApD,EAA+D,IAA/D,EAAqEZ,MAArE,CAA4E,SAA5E,EAAsF,KAAKa,UAA3F,EAAsG,IAAtG,EAA4Gb,MAA5G,CAAmH,YAAnH,EAAgI,KAAKc,aAArI,EAAmJ,IAAnJ,EAAyJd,MAAzJ,CAAgK,UAAhK,EAA2K,KAAKe,WAAhL,EAA4L,IAA5L,EAAkMf,MAAlM,CAAyM,UAAzM,EAAoN,KAAKgB,WAAzN,EAAqO,IAArO,EAA2OhB,MAA3O,CAAkP,SAAlP,EAA4P,KAAKiB,UAAjQ,EAA4Q,IAA5Q,EAAkRjB,MAAlR,CAAyR,WAAzR,EAAqS,KAAKkB,YAA1S,EAAuT,IAAvT,EAA6TlB,MAA7T,CAAoU,WAApU,EAAgV,KAAKmB,YAArV,EAAkW,IAAlW,EAAwWnB,MAAxW,CAA+W,YAA/W,EAA4X,KAAKoB,aAAjY,EAA+Y,IAA/Y,EAAqZpB,MAArZ,CAA4Z,cAA5Z,EAA2a,KAAKqB,eAAhb,EAAgc,IAAhc,EAAscrB,MAAtc,CAA6c,mBAA7c,EAAie,KAAKsB,oBAAte,EAA2f,IAA3f,CAAp9B,EAAq9C,KAAKC,sBAAL,CAA4B7mC,CAA5B,CAAr9C,EAAo/C,KAAK8mC,qBAAL,EAAp/C;AAAihD;;AAAA,WAASxmC,CAAT,CAAWN,CAAX,EAAa;AAAC,QAAII,CAAJ,EAAMW,CAAN,EAAQV,CAAR,EAAUC,CAAV;AAAYF,IAAAA,CAAC,GAACsG,CAAC,CAACX,OAAF,CAAU/F,CAAC,CAAC0iC,KAAZ,CAAF,EAAqB3hC,CAAC,GAAC2F,CAAC,CAACX,OAAF,CAAUsP,CAAC,CAAC4vB,OAAF,CAAUzc,OAAV,CAAkB,QAAlB,EAA2BxoB,CAAC,CAACmjC,UAAF,CAAa4B,IAAxC,CAAV,EAAyDvjC,GAAzD,CAA6DxB,CAAC,CAACwB,GAAF,CAAMyjC,OAAnE,CAAvB,EAAmGjlC,CAAC,CAACgO,QAAF,IAAY,YAAU5N,CAAC,CAACoB,GAAF,CAAM,SAAN,CAAtB,IAAwC,YAAUpB,CAAC,CAACsF,MAAF,GAAWlE,GAAX,CAAe,SAAf,CAAlD,IAA6ET,CAAC,CAACS,GAAF,CAAM,SAAN,EAAgB,YAAhB,CAAhL;AAA8M,QAAIhB,CAAC,GAAC6U,CAAC,CAAC+vB,QAAF,CAAW5c,OAAX,CAAmB,UAAnB,EAA8BxoB,CAAC,CAACmjC,UAAF,CAAawB,MAA3C,EAAmDnc,OAAnD,CAA2D,iBAA3D,EAA6ExoB,CAAC,CAACmjC,UAAF,CAAa4D,YAA1F,CAAN;AAA8G1mC,IAAAA,CAAC,GAACqG,CAAC,CAACX,OAAF,CAAUvF,CAAV,EAAagB,GAAb,CAAiBxB,CAAC,CAACwB,GAAF,CAAM4jC,QAAvB,EAAiCxhC,IAAjC,CAAsC;AAACojC,MAAAA,IAAI,EAAC,SAAN;AAAgB3jC,MAAAA,EAAE,EAACrD,CAAC,CAAC8kC;AAArB,KAAtC,CAAF,EAAyE9kC,CAAC,CAACkjC,SAAF,IAAaljC,CAAC,CAACkjC,SAAF,CAAY6D,YAAzB,IAAuC1mC,CAAC,CAAC4mC,IAAF,CAAO/gC,CAAC,CAACm+B,UAAF,CAAarkC,CAAC,CAACkjC,SAAF,CAAY6D,YAAzB,GAAP,CAAhH,EAAiK,CAACzmC,CAAC,GAACF,CAAC,CAACwS,KAAF,GAAUpR,GAAV,CAAcxB,CAAC,CAACwB,GAAF,CAAMqhC,IAApB,EAA0BrhC,GAA1B,CAA8BjB,CAAC,CAACH,CAAD,CAA/B,CAAH,EAAwCojC,GAAxC,CAA4C,EAA5C,EAAgD94B,QAAhD,CAAyDxE,CAAC,CAACsU,SAAF,CAAYxa,CAAC,CAACmjC,UAAF,CAAawB,MAAzB,EAAgC3kC,CAAC,CAACmjC,UAAF,CAAaN,IAA7C,EAAkD,CAAC,CAAnD,CAAzD,EAAgHt/B,UAAhH,CAA2H,8BAA3H,EAA2J+gC,IAA3J,CAAgK,UAAhK,EAA2K,CAAC,CAA5K,EAA+K1gC,IAA/K,CAAoL;AAAC,qBAAc,MAAf;AAAsB2+B,MAAAA,YAAY,EAAC,KAAnC;AAAyC2E,MAAAA,UAAU,EAAC,OAApD;AAA4DC,MAAAA,QAAQ,EAAC,CAAC;AAAtE,KAApL,CAAjK,EAA+Z7mC,CAAC,CAACkE,UAAF,IAAclE,CAAC,CAACkE,UAAF,EAA7a,EAA4bpE,CAAC,CAACoD,IAAF,CAAO/C,CAAP,EAAS;AAAC,2BAAoBL,CAAC,CAACwD,IAAF,CAAO,mBAAP,CAArB;AAAiD,uBAAgBxD,CAAC,CAACwD,IAAF,CAAO,eAAP,CAAjE;AAAyF,mBAAYxD,CAAC,CAACwD,IAAF,CAAO,WAAP,CAArG;AAAyH2+B,MAAAA,YAAY,EAACniC,CAAC,CAACwD,IAAF,CAAO,cAAP,CAAtI;AAA6JwjC,MAAAA,GAAG,EAAChnC,CAAC,CAACwD,IAAF,CAAO,KAAP,CAAjK;AAA+KojC,MAAAA,IAAI,EAAC5mC,CAAC,CAACwD,IAAF,CAAO,MAAP,CAApL;AAAmMsjC,MAAAA,UAAU,EAAC9mC,CAAC,CAACwD,IAAF,CAAO,YAAP,CAA9M;AAAmO+E,MAAAA,KAAK,EAACvI,CAAC,CAACwD,IAAF,CAAO,OAAP,CAAzO;AAAyPoH,MAAAA,IAAI,EAAC5K,CAAC,CAACwD,IAAF,CAAO,MAAP;AAA9P,KAAT,CAA5b,EAAotBxD,CAAC,CAACsK,QAAF,CAAWxE,CAAC,CAACsU,SAAF,CAAYxa,CAAC,CAACmjC,UAAF,CAAawB,MAAzB,EAAgC3kC,CAAC,CAACmjC,UAAF,CAAaT,KAA7C,EAAmD,CAAC,CAApD,CAAX,EAAmE9+B,IAAnE,CAAwE;AAAC2+B,MAAAA,YAAY,EAAC,KAAd;AAAoB2E,MAAAA,UAAU,EAAC,CAAC,CAAhC;AAAkCF,MAAAA,IAAI,EAAC,UAAvC;AAAkD,2BAAoBhnC,CAAC,CAACojC,QAAF,IAAYpjC,CAAC,CAACojC,QAAF,CAAW,CAAX,CAAZ,IAA2BpjC,CAAC,CAACojC,QAAF,CAAW,CAAX,EAAciE,UAAzC,GAAoD,MAApD,GAA2D,MAAjI;AAAwI,uBAAgB,OAAxJ;AAAgK,oBAAarnC,CAAC,CAACsnC,SAA/K;AAAyL,mBAAYtnC,CAAC,CAAC8kC;AAAvM,KAAxE,EAA2RtjC,GAA3R,CAA+RxB,CAAC,CAAC6iC,IAAF,GAAO7iC,CAAC,CAACwB,GAAF,CAAMkhC,KAAb,GAAmB1iC,CAAC,CAACwB,GAAF,CAAM+lC,eAAxT,CAAptB;;AAA6hC,QAAG;AAACnnC,MAAAA,CAAC,CAACwD,IAAF,CAAO,KAAP,KAAexD,CAAC,CAACwD,IAAF,CAAO,KAAP,EAAa,MAAb,CAAf;AAAoC,KAAxC,CAAwC,OAAM5D,CAAN,EAAQ,CAAE;;AAAA,WAAM,CAACe,CAAC,GAACf,CAAC,CAACgO,QAAF,GAAWjN,CAAC,CAACiN,QAAF,CAAWtH,CAAC,CAACX,OAAF,CAAU/F,CAAC,CAACgO,QAAZ,EAAsBhL,EAAtB,CAAyB,CAAzB,CAAX,EAAwCA,EAAxC,CAA2C,CAA3C,CAAX,GAAyD5C,CAAC,CAAC2Y,IAAF,CAAOhY,CAAP,EAAU2E,MAAV,EAA5D,EAAgFgZ,OAAhF,CAAwF1e,CAAC,CAAC6iC,IAAF,GAAOviC,CAAP,GAAS,IAAjG,EAAuG2Z,MAAvG,CAA8G5Z,CAA9G,GAAiH;AAAC4kC,MAAAA,OAAO,EAAClkC,CAAT;AAAW2hC,MAAAA,KAAK,EAACtiC,CAAjB;AAAmByiC,MAAAA,IAAI,EAACviC,CAAxB;AAA0B6kC,MAAAA,IAAI,EAAC9kC;AAA/B,KAAvH;AAAyJ;;AAAA,WAASE,CAAT,CAAWP,CAAX,EAAa;AAAC,WAAM;AAACwnC,MAAAA,oBAAoB,EAACxnC,CAAC,CAACwB,GAAF,CAAM,uBAAN,CAAtB;AAAqDimC,MAAAA,cAAc,EAACznC,CAAC,CAACwB,GAAF,CAAM,iBAAN,CAApE;AAA6FkmC,MAAAA,eAAe,EAAC1nC,CAAC,CAACwB,GAAF,CAAM,kBAAN,CAA7G;AAAuImmC,MAAAA,eAAe,EAAC3nC,CAAC,CAACwB,GAAF,CAAM,kBAAN,CAAvJ;AAAiLomC,MAAAA,gBAAgB,EAAC5nC,CAAC,CAACwB,GAAF,CAAM,mBAAN,CAAlM;AAA6NqmC,MAAAA,kBAAkB,EAAC7nC,CAAC,CAACwB,GAAF,CAAM,qBAAN,CAAhP;AAA6QsmC,MAAAA,gBAAgB,EAAC9nC,CAAC,CAACwB,GAAF,CAAM,mBAAN,CAA9R;AAAyTumC,MAAAA,cAAc,EAAC/nC,CAAC,CAACwB,GAAF,CAAM,iBAAN;AAAxU,KAAN;AAAwW;;AAAA,WAAShB,CAAT,CAAWR,CAAX,EAAaI,CAAb,EAAe;AAAC,QAAIW,CAAC,GAACf,CAAC,CAACkQ,IAAF,CAAOhK,CAAC,CAACsU,SAAF,CAAYpa,CAAC,CAACukC,MAAd,EAAqBvkC,CAAC,CAACsiC,KAAvB,CAAP,CAAN;AAA4Cx8B,IAAAA,CAAC,CAAC9C,IAAF,CAAOrC,CAAC,CAACyC,IAAF,CAAO/C,CAAP,CAAP,EAAiB,UAAST,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAK,CAAL,KAASJ,CAAT,GAAWe,CAAC,CAACwC,UAAF,CAAanD,CAAb,CAAX,GAA2BW,CAAC,CAAC6C,IAAF,CAAOxD,CAAP,EAASJ,CAAT,CAA3B;AAAuC,KAAtE,GAAwEe,CAAC,CAACinC,MAAF,GAAW3+B,WAAX,CAAuBnD,CAAC,CAACsU,SAAF,CAAYpa,CAAC,CAACukC,MAAd,EAAqBvkC,CAAC,CAACsiC,KAAvB,EAA6B,CAAC,CAA9B,CAAvB,EAAyDjoB,WAAzD,CAAqEza,CAArE,CAAxE,EAAgJe,CAAC,CAACyD,UAAF,IAAczD,CAAC,CAACyD,UAAF,CAAa/D,CAAb,CAA9J,EAA8KT,CAAC,CAACuG,MAAF,EAA9K;AAAyL;;AAAA,MAAI9F,CAAC,GAAC,SAAN;AAAA,MAAgByF,CAAC,GAACnF,CAAC,CAAC,CAAD,CAAnB;AAAA,MAAuB2F,CAAC,GAAC3F,CAAC,CAAC,CAAD,CAA1B;AAAA,MAA8BiJ,CAAC,GAACjJ,CAAC,CAAC,CAAD,CAAjC;AAAA,MAAqCoU,CAAC,GAACpU,CAAC,CAAC,CAAD,CAAxC;AAAA,MAA4CqU,CAAC,GAACrU,CAAC,CAAC,EAAD,CAA/C;AAAA,MAAoDsU,CAAC,GAACtU,CAAC,CAAC,EAAD,CAAvD;AAAA,MAA4DuU,CAAC,GAACvU,CAAC,CAAC,EAAD,CAA/D;AAAoEmF,EAAAA,CAAC,CAACo8B,KAAF,CAAQjiC,CAAC,CAACuF,SAAV,EAAoB;AAACihC,IAAAA,sBAAsB,EAAC,gCAAS7mC,CAAT,EAAW;AAAC,UAAGA,CAAC,CAACqjC,iBAAL,EAAuB;AAAC,YAAIjjC,CAAC,GAAC,KAAK8kC,MAAX;AAAA,YAAkBnkC,CAAC,GAAC,EAApB;AAAuBmF,QAAAA,CAAC,CAAC9C,IAAF,CAAOpD,CAAC,CAACqjC,iBAAT,EAA2B,UAASrjC,CAAT,EAAW;AAAC,sBAAU,OAAOA,CAAjB,KAAqBA,CAAC,GAACA,CAAC,CAACioC,WAAF,GAAgBld,UAAhB,CAA2B,CAA3B,CAAvB,GAAsDhqB,CAAC,CAAC+E,IAAF,CAAO9F,CAAP,CAAtD;AAAgE,SAAvG,GAAyG0G,CAAC,CAACX,OAAF,CAAU7C,QAAV,EAAoBglC,OAApB,CAA4B,UAASloC,CAAT,EAAW;AAAC,cAAIK,CAAC,GAACL,CAAC,CAACyI,MAAF,IAAUzI,CAAC,CAAC8hB,UAAlB;AAAA,cAA6BxhB,CAAC,GAACD,CAAC,CAAC+S,OAAjC;;AAAyC,cAAG,CAAC/S,CAAC,CAAC8nC,iBAAH,IAAsB,YAAU7nC,CAAhC,IAAmC,aAAWA,CAA9C,IAAiD,eAAaA,CAAjE,EAAmE;AAAC,gBAAIC,CAAC,GAACP,CAAC,CAAC4M,KAAF,IAAS5M,CAAC,CAAC6B,OAAjB;AAAyB,aAAC,CAAD,KAAKd,CAAC,CAAC64B,OAAF,CAAUr5B,CAAV,CAAL,KAAoBH,CAAC,CAAC2E,KAAF,IAAU/E,CAAC,CAACooC,eAAF,EAAV,EAA8BpoC,CAAC,CAACqF,cAAF,EAAlD;AAAsE;AAAC,SAArP,CAAzG;AAAgW;AAAC,KAApb;AAAqbkgC,IAAAA,oBAAoB,EAAC,8BAASvlC,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAJ;AAAM,OAACA,CAAC,GAAC,KAAKqkC,QAAL,CAAciD,qBAAd,CAAoCjoC,CAApC,CAAH,KAA4C,KAAKkoC,OAAL,CAAavnC,CAAb,CAA5C;AAA4D,KAA1hB;AAA2hBykC,IAAAA,cAAc,EAAC,wBAASxlC,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAC,GAAC,KAAKqkC,QAAL,CAAcmD,iBAAd,EAAN;AAAA,UAAwCloC,CAAC,GAAC,KAAK+kC,QAAL,CAAcoD,gBAAd,GAAiC5kC,IAAjC,CAAsC,IAAtC,CAA1C;AAAsF,WAAK8+B,KAAL,CAAW+F,mBAAX,CAA+BpoC,CAA/B,GAAkCU,CAAC,KAAGX,CAAC,IAAE,KAAKsiC,KAAL,CAAWgG,aAAX,CAAyB3nC,CAAC,CAACywB,KAA3B,EAAiC,CAAC,CAAlC,CAAH,EAAwC,KAAKmR,QAAL,CAAcz3B,OAAd,CAAsB,eAAtB,EAAsCnK,CAAC,CAAC4nC,GAAxC,EAA4C5nC,CAAC,CAAC6nC,WAA9C,CAA3C,CAAnC;AAA0I,KAAxxB;AAAyxBnD,IAAAA,gBAAgB,EAAC,4BAAU;AAAC,WAAK/C,KAAL,CAAWmG,eAAX,IAA6B,KAAKC,WAAL,EAA7B,EAAgD,KAAKnG,QAAL,CAAcz3B,OAAd,CAAsB,eAAtB,CAAhD;AAAuF,KAA54B;AAA64B86B,IAAAA,kBAAkB,EAAC,8BAAU;AAAC,WAAK8C,WAAL,IAAmB,KAAKnG,QAAL,CAAcz3B,OAAd,CAAsB,SAAtB,CAAnB;AAAoD,KAA/9B;AAAg+Bw6B,IAAAA,SAAS,EAAC,qBAAU;AAAC,WAAKoD,WAAL,IAAmB,KAAKpG,KAAL,CAAWqG,MAAX,EAAnB,EAAuC,KAAKpG,QAAL,CAAcz3B,OAAd,CAAsB,QAAtB,CAAvC;AAAuE,KAA5jC;AAA6jC26B,IAAAA,QAAQ,EAAC,oBAAU;AAAC,WAAKlD,QAAL,CAAcz3B,OAAd,CAAsB,OAAtB;AAA+B,KAAhnC;AAAinC46B,IAAAA,UAAU,EAAC,sBAAU;AAAC,WAAKd,KAAL,CAAWxjC,GAAX,CAAe,KAAf,EAAqB,KAArB,GAA4B,KAAKwjC,KAAL,CAAWxjC,GAAX,CAAe,MAAf,EAAsB,KAAtB,CAA5B;AAAyD,UAAIxB,CAAC,GAAC,KAAKklC,MAAL,CAAY,CAAZ,EAAe8D,qBAAf,EAAN;AAA6C,WAAK1F,SAAL,IAAgB,KAAK0B,KAAL,CAAWxjC,GAAX,CAAe,OAAf,EAAuBxB,CAAC,CAAC+S,KAAF,GAAQ,IAA/B,CAAhB;AAAqD,UAAI3S,CAAC,GAAC,KAAK4kC,KAAL,CAAW,CAAX,EAAcgE,qBAAd,EAAN;AAAA,UAA4CjoC,CAAC,GAACf,CAAC,CAACkT,MAAF,GAAS9S,CAAC,CAAC2R,GAAzD;AAA6D,WAAKizB,KAAL,CAAWxjC,GAAX,CAAe,KAAf,EAAqBT,CAAC,GAAC,IAAvB;AAA6B,UAAIV,CAAC,GAACL,CAAC,CAACiS,IAAF,GAAO7R,CAAC,CAAC6R,IAAf;AAAoB,WAAK+yB,KAAL,CAAWxjC,GAAX,CAAe,MAAf,EAAsBnB,CAAC,GAAC,IAAxB,GAA8B,KAAKsiC,QAAL,CAAcz3B,OAAd,CAAsB,SAAtB,CAA9B;AAA+D,KAA/8C;AAAg9C06B,IAAAA,QAAQ,EAAC,oBAAU;AAAC,WAAKjD,QAAL,CAAcz3B,OAAd,CAAsB,OAAtB,GAA+B,KAAK63B,UAAL,IAAiB,KAAKqC,QAAL,CAAc6D,mBAAd,EAAhD;AAAoF,KAAxjD;AAAyjDtD,IAAAA,SAAS,EAAC,qBAAU;AAAC,WAAKjD,KAAL,CAAWwG,SAAX,IAAuB,KAAKxG,KAAL,CAAWyG,sBAAX,EAAvB,EAA2D,KAAKzG,KAAL,CAAW0G,QAAX,EAA3D,EAAiF,KAAKzG,QAAL,CAAcz3B,OAAd,CAAsB,QAAtB,CAAjF;AAAiH,KAA/rD;AAAgsDg7B,IAAAA,UAAU,EAAC,sBAAU;AAAC,UAAG,KAAKzB,WAAL,GAAiB,CAAC,CAAlB,EAAoB,KAAKxB,WAA5B,EAAwC;AAAC,YAAIjjC,CAAC,GAAC,KAAK0iC,KAAL,CAAW2G,QAAX,EAAN;AAA4BrpC,QAAAA,CAAC,CAACyB,MAAF,IAAU,KAAKqhC,SAAf,GAAyB,KAAKsC,QAAL,CAActoB,MAAd,CAAqB9c,CAArB,CAAzB,GAAiD,KAAKolC,QAAL,CAAckE,KAAd,EAAjD,EAAuE,KAAKlE,QAAL,CAAc3D,IAAd,EAAvE;AAA4F;AAAC,KAAx3D;AAAy3D0E,IAAAA,UAAU,EAAC,sBAAU;AAAC,UAAInmC,CAAJ,EAAMI,CAAN;AAAQJ,MAAAA,CAAC,GAAC,KAAKolC,QAAL,CAAcmD,iBAAd,EAAF,EAAoCnoC,CAAC,GAAC,KAAKglC,QAAL,CAAcmE,wBAAd,EAAtC,EAA+E,KAAKvf,KAAL,KAAa,KAAKgZ,gBAAL,IAAuBhjC,CAAvB,GAAyB,KAAKsoC,OAAL,CAAatoC,CAAb,CAAzB,GAAyC,KAAKgjC,gBAAL,IAAuB5iC,CAAvB,GAAyB,KAAKkoC,OAAL,CAAaloC,CAAb,CAAzB,IAA0C,KAAKqkC,WAAL,GAAiB,CAAC,CAAlB,EAAoB,KAAKW,QAAL,CAAckE,KAAd,EAApB,EAA0C,KAAKlE,QAAL,CAAc7B,KAAd,EAApF,CAAtD,CAA/E;AAAiP,KAAxoE;AAAyoE6C,IAAAA,aAAa,EAAC,uBAASpmC,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAJ,EAAMV,CAAN;AAAQU,MAAAA,CAAC,GAAC,KAAKqkC,QAAL,CAAcmD,iBAAd,EAAF,EAAoCloC,CAAC,GAAC,KAAK+kC,QAAL,CAAcmE,wBAAd,EAAtC,EAA+ExoC,CAAC,IAAE,KAAKunC,OAAL,CAAavnC,CAAb,GAAgBX,CAAC,CAACiF,cAAF,EAAlB,IAAsC,KAAK09B,UAAL,IAAiB1iC,CAAjB,KAAqB,KAAKioC,OAAL,CAAajoC,CAAb,GAAgBD,CAAC,CAACiF,cAAF,EAArC,CAAtH;AAA+K,KAA51E;AAA61EghC,IAAAA,WAAW,EAAC,qBAASrmC,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAJ;AAAM,OAACA,CAAC,GAAC,KAAKqkC,QAAL,CAAcmD,iBAAd,EAAH,KAAuC,KAAKD,OAAL,CAAavnC,CAAb,GAAgBX,CAAC,CAACiF,cAAF,EAAvD,IAA2E,KAAKmkC,aAAL,CAAmB,CAAC,CAApB,CAA3E;AAAkG,KAA/9E;AAAg+ElD,IAAAA,WAAW,EAAC,uBAAU;AAAC,WAAKlB,QAAL,CAAc7B,KAAd,IAAsB,KAAKb,KAAL,CAAWmG,eAAX,EAAtB;AAAmD,KAA1iF;AAA2iFtC,IAAAA,UAAU,EAAC,sBAAU;AAAC,UAAIvmC,CAAC,GAAC,KAAK0iC,KAAL,CAAW2G,QAAX,EAAN;AAA4B,WAAKjE,QAAL,CAAcqE,OAAd,IAAuBzpC,CAAC,CAACyB,MAAF,IAAU,KAAKqhC,SAAtC,GAAgD,KAAKsC,QAAL,CAActoB,MAAd,CAAqB9c,CAArB,CAAhD,GAAwE,KAAKolC,QAAL,CAAcsE,YAAd,EAAxE,EAAqG,KAAKtE,QAAL,CAAc3D,IAAd,EAArG;AAA0H,KAAvtF;AAAwtF+E,IAAAA,YAAY,EAAC,wBAAU;AAAC,UAAIxmC,CAAC,GAAC,KAAK0iC,KAAL,CAAW2G,QAAX,EAAN;AAA4B,WAAKjE,QAAL,CAAcqE,OAAd,IAAuBzpC,CAAC,CAACyB,MAAF,IAAU,KAAKqhC,SAAtC,GAAgD,KAAKsC,QAAL,CAActoB,MAAd,CAAqB9c,CAArB,CAAhD,GAAwE,KAAKolC,QAAL,CAAcuE,cAAd,EAAxE,EAAuG,KAAKvE,QAAL,CAAc3D,IAAd,EAAvG;AAA4H,KAAx4F;AAAy4FgF,IAAAA,YAAY,EAAC,wBAAU;AAAC,gBAAQ,KAAKW,GAAb,IAAkB,KAAKoC,aAAL,EAAlB;AAAuC,KAAx8F;AAAy8F9C,IAAAA,aAAa,EAAC,yBAAU;AAAC,gBAAQ,KAAKU,GAAb,IAAkB,KAAKoC,aAAL,EAAlB;AAAuC,KAAzgG;AAA0gG7C,IAAAA,eAAe,EAAC,yBAAS3mC,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAKsiC,KAAL,CAAWkH,kBAAX,IAAgCxpC,CAAC,CAACqB,MAAF,IAAU,KAAKqhC,SAAf,GAAyB,KAAKsC,QAAL,CAActoB,MAAd,CAAqB1c,CAArB,CAAzB,GAAiD,KAAKglC,QAAL,CAAckE,KAAd,EAAjF,EAAuG,KAAKlE,QAAL,CAAc3D,IAAd,EAAvG,EAA4H,KAAKqF,qBAAL,EAA5H;AAAyJ,KAAjsG;AAAksGF,IAAAA,oBAAoB,EAAC,gCAAU;AAAC,WAAKkC,WAAL,IAAmB,KAAK1D,QAAL,CAAc3D,IAAd,EAAnB;AAAwC,KAA1wG;AAA2wGqF,IAAAA,qBAAqB,EAAC,iCAAU;AAAC,UAAI9mC,CAAC,GAAC,KAAK0iC,KAAL,CAAWmH,oBAAX,EAAN;AAAwC,WAAKzC,GAAL,KAAWpnC,CAAX,KAAe,KAAKonC,GAAL,GAASpnC,CAAT,EAAW,KAAKglC,KAAL,CAAWxjC,GAAX,CAAe,WAAf,EAA2BxB,CAA3B,CAAX,EAAyC,KAAKolC,QAAL,CAAc0E,oBAAd,CAAmC9pC,CAAnC,CAAxD;AAA+F,KAAn7G;AAAo7G8oC,IAAAA,WAAW,EAAC,uBAAU;AAAC,UAAI9oC,CAAJ,EAAMI,CAAN,EAAQW,CAAR,EAAUV,CAAV,EAAYC,CAAZ;AAAc,OAACN,CAAC,GAAC,KAAKolC,QAAL,CAAcmE,wBAAd,EAAH,KAA8C,KAAKnE,QAAL,CAAc2E,SAAd,EAA9C,IAAyE,CAAC,KAAKrH,KAAL,CAAWsH,WAAX,EAA1E,IAAoG5pC,CAAC,GAAC,KAAKsiC,KAAL,CAAWuH,aAAX,EAAF,EAA6BlpC,CAAC,GAACoU,CAAC,CAAC+0B,cAAF,CAAiB9pC,CAAjB,CAA/B,EAAmDC,CAAC,GAAC6F,CAAC,CAAC49B,gBAAF,CAAmB/iC,CAAnB,CAArD,EAA2E,CAACT,CAAC,GAAC,IAAI8f,MAAJ,CAAW,SAAO/f,CAAP,GAAS,QAApB,EAA6B,GAA7B,EAAkCuE,IAAlC,CAAuC5E,CAAC,CAACwxB,KAAzC,CAAH,IAAoD,KAAKkR,KAAL,CAAWyH,OAAX,CAAmB/pC,CAAC,GAACE,CAAC,CAAC,CAAD,CAAtB,CAApD,GAA+E,KAAKoiC,KAAL,CAAWwG,SAAX,EAA9P,IAAsR,KAAKxG,KAAL,CAAWwG,SAAX,EAAtR;AAA6S,KAAtwH;AAAuwHM,IAAAA,aAAa,EAAC,uBAASxpC,CAAT,EAAW;AAAC,UAAII,CAAJ,EAAMW,CAAN,EAAQV,CAAR,EAAUC,CAAV;AAAYF,MAAAA,CAAC,GAAC,KAAKsiC,KAAL,CAAW0H,OAAX,EAAF,EAAuBrpC,CAAC,GAAC,KAAK2hC,KAAL,CAAW2G,QAAX,EAAzB,EAA+ChpC,CAAC,GAACL,CAAC,IAAE,KAAK0iC,KAAL,CAAW2H,aAAX,EAApD,EAA+EjqC,CAAC,IAAEW,CAAC,KAAGX,CAAP,IAAUC,CAAV,KAAc,CAACC,CAAC,GAAC,KAAK8kC,QAAL,CAAcmE,wBAAd,EAAH,KAA8C,KAAK7G,KAAL,CAAWgG,aAAX,CAAyBpoC,CAAC,CAACkxB,KAA3B,CAA9C,EAAgF,KAAKmR,QAAL,CAAcz3B,OAAd,CAAsB,eAAtB,EAAsC5K,CAAC,CAACqoC,GAAxC,EAA4CroC,CAAC,CAACsoC,WAA9C,CAA9F,CAA/E;AAAyO,KAAthI;AAAuhIN,IAAAA,OAAO,EAAC,iBAAStoC,CAAT,EAAW;AAAC,WAAK,CAAL,KAASA,CAAC,CAACwxB,KAAX,IAAkB,KAAKkR,KAAL,CAAW4H,QAAX,CAAoBtqC,CAAC,CAACwxB,KAAtB,CAAlB,EAA+C,KAAKkR,KAAL,CAAWgG,aAAX,CAAyB1oC,CAAC,CAACwxB,KAA3B,EAAiC,CAAC,CAAlC,CAA/C,EAAoF,KAAKsV,qBAAL,EAApF,EAAiH,CAAC,CAAD,KAAK,KAAKnE,QAAL,CAAcz3B,OAAd,CAAsB,UAAtB,EAAiClL,CAAC,CAAC2oC,GAAnC,EAAuC3oC,CAAC,CAAC4oC,WAAzC,EAAsDz9B,kBAAtD,EAAL,KAAkF,KAAKi6B,QAAL,CAAc7B,KAAd,IAAsBr9B,CAAC,CAAC47B,KAAF,CAAQ57B,CAAC,CAACd,IAAF,CAAO,KAAKggC,QAAL,CAAckE,KAArB,EAA2B,KAAKlE,QAAhC,CAAR,CAAxG,CAAjH;AAA6Q,KAAxzI;AAAyzI3D,IAAAA,IAAI,EAAC,gBAAU;AAAC,UAAG,CAAC,KAAKgD,WAAT,EAAqB;AAAC,YAAIzkC,CAAC,GAAC,KAAK0iC,KAAL,CAAWuH,aAAX,EAAN;AAAiCjqC,QAAAA,CAAC,CAACyB,MAAF,IAAU,KAAKqhC,SAAf,GAAyB,KAAKsC,QAAL,CAActoB,MAAd,CAAqB9c,CAArB,CAAzB,GAAiD,KAAKolC,QAAL,CAAckE,KAAd,EAAjD;AAAuE;;AAAA,WAAKlE,QAAL,CAAc3D,IAAd;AAAqB,KAA59I;AAA69I8B,IAAAA,KAAK,EAAC,iBAAU;AAAC,WAAK6B,QAAL,CAAc7B,KAAd;AAAsB,KAApgJ;AAAqgJE,IAAAA,MAAM,EAAC,gBAASzjC,CAAT,EAAW;AAACA,MAAAA,CAAC,GAACkG,CAAC,CAAC89B,KAAF,CAAQhkC,CAAR,CAAF,EAAa,KAAKykC,WAAL,GAAiB,KAAK/B,KAAL,CAAWgG,aAAX,CAAyB1oC,CAAzB,CAAjB,IAA8C,KAAK0iC,KAAL,CAAW4H,QAAX,CAAoBtqC,CAApB,GAAuB,KAAK0iC,KAAL,CAAWgG,aAAX,CAAyB1oC,CAAzB,EAA2B,CAAC,CAA5B,CAArE,CAAb,EAAkH,KAAK8mC,qBAAL,EAAlH;AAA+I,KAAvqJ;AAAwqJpD,IAAAA,MAAM,EAAC,kBAAU;AAAC,aAAO,KAAKhB,KAAL,CAAW2G,QAAX,EAAP;AAA6B,KAAvtJ;AAAwtJ3gC,IAAAA,OAAO,EAAC,mBAAU;AAAC,WAAKg6B,KAAL,CAAWh6B,OAAX,IAAqB,KAAK08B,QAAL,CAAc18B,OAAd,EAArB,EAA6ClI,CAAC,CAAC,KAAKwkC,KAAN,EAAY,KAAK7B,UAAjB,CAA9C,EAA2E,KAAK6B,KAAL,GAAW,IAAtF;AAA2F,KAAt0J;AAAu0JuF,IAAAA,UAAU,EAAC,sBAAU;AAAC,aAAO,KAAKnF,QAAL,CAAcoF,UAAd,CAAyB,CAAzB,CAAP;AAAmC;AAAh4J,GAApB,GAAu5JnqC,CAAC,CAACglC,QAAF,GAAWjwB,CAAl6J,EAAo6J/U,CAAC,CAAC4lC,KAAF,GAAQ9wB,CAA56J,EAA86J9U,CAAC,CAACsjC,OAAF,GAAU5iC,CAAC,CAAC,EAAD,CAAz7J,EAA87Jf,CAAC,CAAC4hB,OAAF,GAAUvhB,CAAx8J;AAA08J,CAAzha,EAA0ha,UAASL,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,CAAWL,CAAX,EAAa;AAACA,IAAAA,CAAC,IAAEA,CAAC,CAACyiC,EAAL,IAASniC,CAAC,CAACwH,KAAF,CAAQ,iCAAR,CAAT,EAAoD,KAAK2iC,GAAL,GAASlqC,CAAC,CAACwF,OAAF,CAAU/F,CAAC,CAACyiC,EAAZ,CAA7D;AAA6E;;AAAA,MAAIniC,CAAC,GAACS,CAAC,CAAC,CAAD,CAAP;AAAA,MAAWR,CAAC,GAACQ,CAAC,CAAC,CAAD,CAAd;AAAkBT,EAAAA,CAAC,CAACgiC,KAAF,CAAQjiC,CAAC,CAACuF,SAAV,EAAoB;AAACsF,IAAAA,OAAO,EAAC,iBAASlL,CAAT,EAAW;AAAC,UAAII,CAAC,GAAC,GAAGgG,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAN;AAAA,UAAiC1D,CAAC,GAACT,CAAC,CAACyK,KAAF,CAAQ,kBAAgB/K,CAAxB,CAAnC;AAA8D,aAAO,KAAKyqC,GAAL,CAASv/B,OAAT,CAAiBnK,CAAjB,EAAmBX,CAAnB,GAAsBW,CAA7B;AAA+B;AAAlH,GAApB,GAAyIf,CAAC,CAAC4hB,OAAF,GAAUvhB,CAAnJ;AAAqJ,CAAzza,EAA0za,UAASL,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,CAAWL,CAAX,EAAa;AAAC,QAAII,CAAJ;AAAA,QAAMW,CAAN;AAAA,QAAQV,CAAR;AAAA,QAAUE,CAAV;AAAA,QAAYC,CAAC,GAAC,IAAd;AAAmB,KAACR,CAAC,GAACA,CAAC,IAAE,EAAN,EAAU0iC,KAAV,IAAiBx8B,CAAC,CAAC4B,KAAF,CAAQ,kBAAR,CAAjB,EAA6C1H,CAAC,GAAC8F,CAAC,CAACd,IAAF,CAAO,KAAKslC,OAAZ,EAAoB,IAApB,CAA/C,EAAyE3pC,CAAC,GAACmF,CAAC,CAACd,IAAF,CAAO,KAAKulC,QAAZ,EAAqB,IAArB,CAA3E,EAAsGtqC,CAAC,GAAC6F,CAAC,CAACd,IAAF,CAAO,KAAKwlC,UAAZ,EAAuB,IAAvB,CAAxG,EAAqIrqC,CAAC,GAAC2F,CAAC,CAACd,IAAF,CAAO,KAAKylC,QAAZ,EAAqB,IAArB,CAAvI,EAAkK,KAAKC,KAAL,GAAWpkC,CAAC,CAACX,OAAF,CAAU/F,CAAC,CAAC6iC,IAAZ,CAA7K,EAA+L,KAAKqC,MAAL,GAAYx+B,CAAC,CAACX,OAAF,CAAU/F,CAAC,CAAC0iC,KAAZ,EAAmBjiB,EAAnB,CAAsB,SAAtB,EAAgCrgB,CAAhC,EAAmCqgB,EAAnC,CAAsC,UAAtC,EAAiD1f,CAAjD,EAAoD0f,EAApD,CAAuD,YAAvD,EAAoEpgB,CAApE,CAA3M,EAAkR,MAAI,KAAKyqC,KAAL,CAAWrpC,MAAf,KAAwB,KAAK0oC,OAAL,GAAa,KAAKC,OAAL,GAAa,KAAKlB,SAAL,GAAe,KAAKU,kBAAL,GAAwB1jC,CAAC,CAACiD,IAA3F,CAAlR,EAAmXjD,CAAC,CAAC29B,MAAF,KAAW,KAAKqB,MAAL,CAAYzkB,EAAZ,CAAe,wCAAf,EAAwD,UAASzgB,CAAT,EAAW;AAACS,MAAAA,CAAC,CAACT,CAAC,CAAC4M,KAAF,IAAS5M,CAAC,CAAC6B,OAAZ,CAAD,IAAuBqE,CAAC,CAAC47B,KAAF,CAAQ57B,CAAC,CAACd,IAAF,CAAO5E,CAAC,CAACqqC,QAAT,EAAkBrqC,CAAlB,EAAoBR,CAApB,CAAR,CAAvB;AAAuD,KAA3H,CAAX,GAAwI,KAAKklC,MAAL,CAAYzkB,EAAZ,CAAe,UAAf,EAA0BlgB,CAA1B,CAA3f,EAAwhB,KAAKo2B,KAAL,GAAW,KAAKuO,MAAL,CAAY1B,GAAZ,EAAniB,EAAqjB,KAAKuH,eAAL,GAAqBzqC,CAAC,CAAC,KAAK4kC,MAAN,CAA3kB;AAAylB;;AAAA,WAAS5kC,CAAT,CAAWN,CAAX,EAAa;AAAC,WAAO0G,CAAC,CAACX,OAAF,CAAU,gCAAV,EAA4CvE,GAA5C,CAAgD;AAAC4P,MAAAA,QAAQ,EAAC,UAAV;AAAqB45B,MAAAA,UAAU,EAAC,QAAhC;AAAyCC,MAAAA,UAAU,EAAC,KAApD;AAA0DC,MAAAA,UAAU,EAAClrC,CAAC,CAACwB,GAAF,CAAM,aAAN,CAArE;AAA0F2pC,MAAAA,QAAQ,EAACnrC,CAAC,CAACwB,GAAF,CAAM,WAAN,CAAnG;AAAsH4pC,MAAAA,SAAS,EAACprC,CAAC,CAACwB,GAAF,CAAM,YAAN,CAAhI;AAAoJ6pC,MAAAA,WAAW,EAACrrC,CAAC,CAACwB,GAAF,CAAM,cAAN,CAAhK;AAAsL8pC,MAAAA,UAAU,EAACtrC,CAAC,CAACwB,GAAF,CAAM,aAAN,CAAjM;AAAsN+pC,MAAAA,WAAW,EAACvrC,CAAC,CAACwB,GAAF,CAAM,cAAN,CAAlO;AAAwPgqC,MAAAA,aAAa,EAACxrC,CAAC,CAACwB,GAAF,CAAM,gBAAN,CAAtQ;AAA8RiqC,MAAAA,UAAU,EAACzrC,CAAC,CAACwB,GAAF,CAAM,aAAN,CAAzS;AAA8TkqC,MAAAA,aAAa,EAAC1rC,CAAC,CAACwB,GAAF,CAAM,gBAAN,CAA5U;AAAoWmqC,MAAAA,aAAa,EAAC3rC,CAAC,CAACwB,GAAF,CAAM,gBAAN;AAAlX,KAAhD,EAA4biZ,WAA5b,CAAwcza,CAAxc,CAAP;AAAkd;;AAAA,WAASO,CAAT,CAAWP,CAAX,EAAaI,CAAb,EAAe;AAAC,WAAOC,CAAC,CAAC6pC,cAAF,CAAiBlqC,CAAjB,MAAsBK,CAAC,CAAC6pC,cAAF,CAAiB9pC,CAAjB,CAA7B;AAAiD;;AAAA,WAASI,CAAT,CAAWR,CAAX,EAAa;AAAC,WAAOA,CAAC,CAAC4rC,MAAF,IAAU5rC,CAAC,CAAC6rC,OAAZ,IAAqB7rC,CAAC,CAAC8rC,OAAvB,IAAgC9rC,CAAC,CAACmb,QAAzC;AAAkD;;AAAA,MAAI1a,CAAJ;AAAMA,EAAAA,CAAC,GAAC;AAAC,OAAE,KAAH;AAAS,QAAG,KAAZ;AAAkB,QAAG,MAArB;AAA4B,QAAG,OAA/B;AAAuC,QAAG,OAA1C;AAAkD,QAAG,IAArD;AAA0D,QAAG;AAA7D,GAAF;AAAuE,MAAIyF,CAAC,GAACnF,CAAC,CAAC,CAAD,CAAP;AAAA,MAAW2F,CAAC,GAAC3F,CAAC,CAAC,CAAD,CAAd;AAAA,MAAkBiJ,CAAC,GAACjJ,CAAC,CAAC,CAAD,CAArB;AAAyBV,EAAAA,CAAC,CAAC6pC,cAAF,GAAiB,UAASlqC,CAAT,EAAW;AAAC,WAAM,CAACA,CAAC,IAAE,EAAJ,EAAQwoB,OAAR,CAAgB,OAAhB,EAAwB,EAAxB,EAA4BA,OAA5B,CAAoC,SAApC,EAA8C,GAA9C,CAAN;AAAyD,GAAtF,EAAuFtiB,CAAC,CAACo8B,KAAF,CAAQjiC,CAAC,CAACuF,SAAV,EAAoBoE,CAApB,EAAsB;AAAC0gC,IAAAA,OAAO,EAAC,mBAAU;AAAC,WAAK7B,eAAL,IAAuB,KAAK3D,MAAL,CAAY3hC,UAAZ,CAAuB,uBAAvB,CAAvB,EAAuE,KAAK2H,OAAL,CAAa,SAAb,CAAvE;AAA+F,KAAnH;AAAoHy/B,IAAAA,QAAQ,EAAC,oBAAU;AAAC,WAAKz/B,OAAL,CAAa,SAAb;AAAwB,KAAhK;AAAiK0/B,IAAAA,UAAU,EAAC,oBAAS5qC,CAAT,EAAW;AAAC,UAAII,CAAC,GAACK,CAAC,CAACT,CAAC,CAAC4M,KAAF,IAAS5M,CAAC,CAAC6B,OAAZ,CAAP;AAA4B,WAAKkqC,qBAAL,CAA2B3rC,CAA3B,EAA6BJ,CAA7B,GAAgCI,CAAC,IAAE,KAAK4rC,cAAL,CAAoB5rC,CAApB,EAAsBJ,CAAtB,CAAH,IAA6B,KAAKkL,OAAL,CAAa9K,CAAC,GAAC,OAAf,EAAuBJ,CAAvB,CAA7D;AAAuF,KAA3S;AAA4S6qC,IAAAA,QAAQ,EAAC,oBAAU;AAAC,WAAKoB,gBAAL;AAAwB,KAAxV;AAAyVF,IAAAA,qBAAqB,EAAC,+BAAS/rC,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAJ,EAAMV,CAAN,EAAQC,CAAR;;AAAU,cAAON,CAAP;AAAU,aAAI,KAAJ;AAAUK,UAAAA,CAAC,GAAC,KAAK+pC,OAAL,EAAF,EAAiB9pC,CAAC,GAAC,KAAK2pC,aAAL,EAAnB,EAAwClpC,CAAC,GAACV,CAAC,IAAEA,CAAC,KAAGC,CAAP,IAAU,CAACE,CAAC,CAACJ,CAAD,CAAtD;AAA0D;;AAAM,aAAI,IAAJ;AAAS,aAAI,MAAJ;AAAWW,UAAAA,CAAC,GAAC,CAACP,CAAC,CAACJ,CAAD,CAAJ;AAAQ;;AAAM;AAAQW,UAAAA,CAAC,GAAC,CAAC,CAAH;AAA9H;;AAAmIA,MAAAA,CAAC,IAAEX,CAAC,CAACiF,cAAF,EAAH;AAAsB,KAAhiB;AAAiiB2mC,IAAAA,cAAc,EAAC,wBAAShsC,CAAT,EAAWI,CAAX,EAAa;AAAC,UAAIW,CAAJ;;AAAM,cAAOf,CAAP;AAAU,aAAI,KAAJ;AAAUe,UAAAA,CAAC,GAAC,CAACP,CAAC,CAACJ,CAAD,CAAJ;AAAQ;;AAAM;AAAQW,UAAAA,CAAC,GAAC,CAAC,CAAH;AAA1C;;AAA+C,aAAOA,CAAP;AAAS,KAA5nB;AAA6nBkrC,IAAAA,gBAAgB,EAAC,4BAAU;AAAC,UAAIjsC,CAAJ,EAAMI,CAAN,EAAQW,CAAR;AAAUA,MAAAA,CAAC,GAAC,EAAE,EAAEX,CAAC,GAACG,CAAC,CAACP,CAAC,GAAC,KAAKiqC,aAAL,EAAH,EAAwB,KAAKtT,KAA7B,CAAL,KAA2C,CAAC,KAAKA,KAAnD,KAA2D,KAAKA,KAAL,CAAWl1B,MAAX,KAAoBzB,CAAC,CAACyB,MAAnF,EAA0F,KAAKk1B,KAAL,GAAW32B,CAArG,EAAuGI,CAAC,GAACW,CAAC,IAAE,KAAKmK,OAAL,CAAa,mBAAb,EAAiC,KAAKyrB,KAAtC,CAAJ,GAAiD,KAAKzrB,OAAL,CAAa,cAAb,EAA4B,KAAKyrB,KAAjC,CAAzJ;AAAiM,KAAp2B;AAAq2B5xB,IAAAA,KAAK,EAAC,iBAAU;AAAC,WAAKmgC,MAAL,CAAYngC,KAAZ;AAAoB,KAA14B;AAA24ByL,IAAAA,IAAI,EAAC,gBAAU;AAAC,WAAK00B,MAAL,CAAY10B,IAAZ;AAAmB,KAA96B;AAA+6B64B,IAAAA,QAAQ,EAAC,oBAAU;AAAC,aAAO,KAAK1S,KAAZ;AAAkB,KAAr9B;AAAs9B2T,IAAAA,QAAQ,EAAC,kBAAStqC,CAAT,EAAW;AAAC,WAAK22B,KAAL,GAAW32B,CAAX;AAAa,KAAx/B;AAAy/BiqC,IAAAA,aAAa,EAAC,yBAAU;AAAC,aAAO,KAAK/E,MAAL,CAAY1B,GAAZ,EAAP;AAAyB,KAA3iC;AAA4iCkF,IAAAA,aAAa,EAAC,uBAAS1oC,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAK,CAAL,KAASJ,CAAT,KAAaA,CAAC,GAAC,KAAK22B,KAApB,GAA2B,KAAKuO,MAAL,CAAY1B,GAAZ,CAAgBxjC,CAAhB,CAA3B,EAA8CI,CAAC,GAAC,KAAK8oC,SAAL,EAAD,GAAkB,KAAK+C,gBAAL,EAAjE;AAAyF,KAAjqC;AAAkqClD,IAAAA,MAAM,EAAC,kBAAU;AAAC,WAAK7D,MAAL,CAAYthC,IAAZ,CAAiB,eAAjB,EAAiC,MAAjC;AAAyC,KAA7tC;AAA8tCwlC,IAAAA,QAAQ,EAAC,oBAAU;AAAC,WAAKlE,MAAL,CAAYthC,IAAZ,CAAiB,eAAjB,EAAiC,OAAjC;AAA0C,KAA5xC;AAA6xC6kC,IAAAA,mBAAmB,EAAC,6BAASzoC,CAAT,EAAW;AAAC,WAAKklC,MAAL,CAAYthC,IAAZ,CAAiB,uBAAjB,EAAyC5D,CAAzC;AAA4C,KAAz2C;AAA02CmpC,IAAAA,sBAAsB,EAAC,kCAAU;AAAC,WAAKjE,MAAL,CAAY3hC,UAAZ,CAAuB,uBAAvB;AAAgD,KAA57C;AAA67CslC,IAAAA,eAAe,EAAC,2BAAU;AAAC,WAAKH,aAAL,CAAmB,KAAK/R,KAAxB,EAA8B,CAAC,CAA/B;AAAkC,KAA1/C;AAA2/CyT,IAAAA,OAAO,EAAC,mBAAU;AAAC,aAAO,KAAKU,KAAL,CAAWtH,GAAX,EAAP;AAAwB,KAAtiD;AAAuiD2G,IAAAA,OAAO,EAAC,iBAASnqC,CAAT,EAAW;AAAC,WAAK8qC,KAAL,CAAWtH,GAAX,CAAexjC,CAAf;AAAkB,KAA7kD;AAA8kDkpC,IAAAA,SAAS,EAAC,qBAAU;AAAC,WAAKiB,OAAL,CAAa,EAAb;AAAiB,KAApnD;AAAqnDP,IAAAA,kBAAkB,EAAC,8BAAU;AAAC,UAAI5pC,CAAJ,EAAMI,CAAN,EAAQW,CAAR;AAAUA,MAAAA,CAAC,GAAC,CAACf,CAAC,GAAC,KAAKiqC,aAAL,EAAH,OAA4B7pC,CAAC,GAAC,KAAKgqC,OAAL,EAA9B,KAA+C,MAAIhqC,CAAC,CAACw5B,OAAF,CAAU55B,CAAV,CAArD,EAAkE,OAAKA,CAAL,IAAQe,CAAR,IAAW,CAAC,KAAKipC,WAAL,EAAZ,IAAgC,KAAKd,SAAL,EAAlG;AAAmH,KAAhxD;AAAixDW,IAAAA,oBAAoB,EAAC,gCAAU;AAAC,aAAM,CAAC,KAAK3E,MAAL,CAAY1jC,GAAZ,CAAgB,WAAhB,KAA8B,KAA/B,EAAsCb,WAAtC,EAAN;AAA0D,KAA32D;AAA42DqpC,IAAAA,WAAW,EAAC,uBAAU;AAAC,UAAIhqC,CAAC,GAAC,KAAKklC,MAAL,CAAYnyB,KAAZ,KAAoB,CAA1B;AAA4B,aAAO,KAAKg4B,eAAL,CAAqBxiB,IAArB,CAA0B,KAAK0hB,aAAL,EAA1B,GAAgD,KAAKc,eAAL,CAAqBh4B,KAArB,MAA8B/S,CAArF;AAAuF,KAAt/D;AAAu/DqqC,IAAAA,aAAa,EAAC,yBAAU;AAAC,UAAIrqC,CAAJ,EAAMI,CAAN,EAAQW,CAAR;AAAU,aAAOf,CAAC,GAAC,KAAKklC,MAAL,CAAY1B,GAAZ,GAAkB/hC,MAApB,EAA2BrB,CAAC,GAAC,KAAK8kC,MAAL,CAAY,CAAZ,EAAegH,cAA5C,EAA2DhmC,CAAC,CAAC69B,QAAF,CAAW3jC,CAAX,IAAcA,CAAC,KAAGJ,CAAlB,GAAoB,CAACkD,QAAQ,CAACipC,SAAV,KAAsB,CAACprC,CAAC,GAACmC,QAAQ,CAACipC,SAAT,CAAmBC,WAAnB,EAAH,EAAqCC,SAArC,CAA+C,WAA/C,EAA2D,CAACrsC,CAA5D,GAA+DA,CAAC,KAAGe,CAAC,CAACwnB,IAAF,CAAO9mB,MAAhG,CAAtF;AAA8L,KAAxtE;AAAytEiH,IAAAA,OAAO,EAAC,mBAAU;AAAC,WAAKoiC,KAAL,CAAWhqB,GAAX,CAAe,KAAf,GAAsB,KAAKokB,MAAL,CAAYpkB,GAAZ,CAAgB,KAAhB,CAAtB,EAA6C,KAAKgqB,KAAL,GAAW,KAAK5F,MAAL,GAAY,KAAK6F,eAAL,GAAqB,IAAzF;AAA8F;AAA10E,GAAtB,CAAvF,EAA07E/qC,CAAC,CAAC4hB,OAAF,GAAUvhB,CAAp8E;AAAs8E,CAA9liB,EAA+liB,UAASL,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,CAAWL,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiBV,CAAjB,EAAmB;AAAC,QAAIC,CAAJ;AAAM,QAAG,CAACS,CAAJ,EAAM,OAAO,IAAP;;AAAY,SAAIX,CAAC,GAACA,CAAC,CAACuG,KAAF,CAAQwO,CAAR,CAAF,EAAapU,CAAC,GAACV,CAAC,GAACqG,CAAC,CAAC3F,CAAD,EAAGV,CAAH,CAAF,GAAQU,CAAxB,EAA0B,KAAKurC,UAAL,GAAgB,KAAKA,UAAL,IAAiB,EAA/D,EAAkEhsC,CAAC,GAACF,CAAC,CAACkJ,KAAF,EAApE;AAA+E,WAAKgjC,UAAL,CAAgBhsC,CAAhB,IAAmB,KAAKgsC,UAAL,CAAgBhsC,CAAhB,KAAoB;AAACisC,QAAAA,IAAI,EAAC,EAAN;AAASlkB,QAAAA,KAAK,EAAC;AAAf,OAAvC,EAA0D,KAAKikB,UAAL,CAAgBhsC,CAAhB,EAAmBN,CAAnB,EAAsB8F,IAAtB,CAA2B/E,CAA3B,CAA1D;AAA/E;;AAAuK,WAAO,IAAP;AAAY;;AAAA,WAAST,CAAT,CAAWN,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,WAAOV,CAAC,CAACgE,IAAF,CAAO,IAAP,EAAY,OAAZ,EAAoBrE,CAApB,EAAsBI,CAAtB,EAAwBW,CAAxB,CAAP;AAAkC;;AAAA,WAASR,CAAT,CAAWP,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,WAAOV,CAAC,CAACgE,IAAF,CAAO,IAAP,EAAY,MAAZ,EAAmBrE,CAAnB,EAAqBI,CAArB,EAAuBW,CAAvB,CAAP;AAAiC;;AAAA,WAASP,CAAT,CAAWR,CAAX,EAAa;AAAC,QAAII,CAAJ;AAAM,QAAG,CAAC,KAAKksC,UAAT,EAAoB,OAAO,IAAP;;AAAY,SAAItsC,CAAC,GAACA,CAAC,CAAC2G,KAAF,CAAQwO,CAAR,CAAN,EAAiB/U,CAAC,GAACJ,CAAC,CAACsJ,KAAF,EAAnB;AAA8B,aAAO,KAAKgjC,UAAL,CAAgBlsC,CAAhB,CAAP;AAA9B;;AAAwD,WAAO,IAAP;AAAY;;AAAA,WAASK,CAAT,CAAWT,CAAX,EAAa;AAAC,QAAII,CAAJ,EAAMW,CAAN,EAAQV,CAAR,EAAUC,CAAV,EAAYC,CAAZ;AAAc,QAAG,CAAC,KAAK+rC,UAAT,EAAoB,OAAO,IAAP;;AAAY,SAAItsC,CAAC,GAACA,CAAC,CAAC2G,KAAF,CAAQwO,CAAR,CAAF,EAAa9U,CAAC,GAAC,GAAG+F,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAnB,EAA8C,CAACrE,CAAC,GAACJ,CAAC,CAACsJ,KAAF,EAAH,MAAgBvI,CAAC,GAAC,KAAKurC,UAAL,CAAgBlsC,CAAhB,CAAlB,CAA9C;AAAqFE,MAAAA,CAAC,GAAC4F,CAAC,CAACnF,CAAC,CAACwrC,IAAH,EAAQ,IAAR,EAAa,CAACnsC,CAAD,EAAI2H,MAAJ,CAAW1H,CAAX,CAAb,CAAH,EAA+BE,CAAC,GAAC2F,CAAC,CAACnF,CAAC,CAACsnB,KAAH,EAAS,IAAT,EAAc,CAACjoB,CAAD,EAAI2H,MAAJ,CAAW1H,CAAX,CAAd,CAAlC,EAA+DC,CAAC,MAAI0J,CAAC,CAACzJ,CAAD,CAArE;AAArF;;AAA8J,WAAO,IAAP;AAAY;;AAAA,WAAS2F,CAAT,CAAWlG,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,aAASV,CAAT,GAAY;AAAC,WAAI,IAAIA,CAAJ,EAAMC,CAAC,GAAC,CAAR,EAAUC,CAAC,GAACP,CAAC,CAACyB,MAAlB,EAAyB,CAACpB,CAAD,IAAIC,CAAC,GAACC,CAA/B,EAAiCD,CAAC,IAAE,CAApC;AAAsCD,QAAAA,CAAC,GAAC,CAAC,CAAD,KAAKL,CAAC,CAACM,CAAD,CAAD,CAAK2E,KAAL,CAAW7E,CAAX,EAAaW,CAAb,CAAP;AAAtC;;AAA6D,aAAM,CAACV,CAAP;AAAS;;AAAA,WAAOA,CAAP;AAAS;;AAAA,WAASqG,CAAT,CAAW1G,CAAX,EAAaI,CAAb,EAAe;AAAC,WAAOJ,CAAC,CAACoF,IAAF,GAAOpF,CAAC,CAACoF,IAAF,CAAOhF,CAAP,CAAP,GAAiB,YAAU;AAACJ,MAAAA,CAAC,CAACiF,KAAF,CAAQ7E,CAAR,EAAU,GAAGgG,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAV;AAAsC,KAAzE;AAA0E;;AAAA,MAAIuF,CAAC,GAACjJ,CAAC,CAAC,CAAD,CAAP;AAAA,MAAWoU,CAAC,GAAC,KAAb;AAAmBnV,EAAAA,CAAC,CAAC4hB,OAAF,GAAU;AAAC0jB,IAAAA,MAAM,EAAC/kC,CAAR;AAAUwlC,IAAAA,OAAO,EAACzlC,CAAlB;AAAoBwgB,IAAAA,GAAG,EAACtgB,CAAxB;AAA0B0K,IAAAA,OAAO,EAACzK;AAAlC,GAAV;AAA+C,CAA1ikB,EAA2ikB,UAAST,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,GAAY;AAACI,IAAAA,CAAC,IAAEyF,CAAH,KAAOzF,CAAC,GAAC,CAAC,CAAH,EAAKyF,CAAC,CAACzE,MAAF,GAAS2T,CAAC,GAAClP,CAAC,CAAC6B,MAAF,CAASqN,CAAT,CAAX,GAAuBD,CAAC,GAAC,CAAC,CAA/B,EAAiCC,CAAC,CAAC3T,MAAF,IAAUnB,CAAC,EAAnD;AAAuD;;AAAA,WAASA,CAAT,GAAY;AAAC,QAAG,CAACG,CAAJ,EAAM;AAAC4U,MAAAA,CAAC,GAAC,CAAC,CAAH,EAAK5U,CAAC,GAAC,CAAC,CAAR;;AAAU,WAAI,IAAIT,CAAC,GAACoV,CAAC,CAAC3T,MAAR,EAAerB,CAAC,GAAC4E,UAAU,CAAC3E,CAAD,CAA/B,EAAmCL,CAAnC,GAAsC;AAAC,aAAIkG,CAAC,GAACkP,CAAF,EAAIA,CAAC,GAAC,EAAV,EAAalP,CAAC,IAAE,EAAEiP,CAAF,GAAInV,CAApB;AAAuBkG,UAAAA,CAAC,CAACiP,CAAD,CAAD,CAAKqe,GAAL;AAAvB;;AAAkCre,QAAAA,CAAC,GAAC,CAAC,CAAH,EAAKnV,CAAC,GAACoV,CAAC,CAAC3T,MAAT;AAAgB;;AAAAyE,MAAAA,CAAC,GAAC,IAAF,EAAOiP,CAAC,GAAC,CAAC,CAAV,EAAY1U,CAAC,GAAC,CAAC,CAAf,EAAiB8yB,YAAY,CAACnzB,CAAD,CAA7B;AAAiC;AAAC;;AAAA,WAASG,CAAT,CAAWP,CAAX,EAAaI,CAAb,EAAe;AAAC,SAAKqzB,GAAL,GAASzzB,CAAT,EAAW,KAAK0zB,KAAL,GAAWtzB,CAAtB;AAAwB;;AAAA,WAASI,CAAT,CAAWR,CAAX,EAAa;AAAC,QAAII,CAAC,GAAC,IAAI+F,KAAJ,CAAU1B,SAAS,CAAChD,MAAV,GAAiB,CAA3B,CAAN;AAAoC,QAAGgD,SAAS,CAAChD,MAAV,GAAiB,CAApB,EAAsB,KAAI,IAAIV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC0D,SAAS,CAAChD,MAAxB,EAA+BV,CAAC,EAAhC;AAAmCX,MAAAA,CAAC,CAACW,CAAC,GAAC,CAAH,CAAD,GAAO0D,SAAS,CAAC1D,CAAD,CAAhB;AAAnC;AAAuDqU,IAAAA,CAAC,CAACtP,IAAF,CAAO,IAAIvF,CAAJ,CAAMP,CAAN,EAAQI,CAAR,CAAP,GAAmBiV,CAAC,IAAE5U,CAAH,KAAO4U,CAAC,GAAC,CAAC,CAAH,EAAK3O,CAAC,EAAb,CAAnB;AAAoC;;AAAA,OAAI,IAAIjG,CAAJ,EAAMyF,CAAN,EAAQQ,CAAR,EAAUsD,CAAC,GAAC,CAACjJ,CAAC,CAAC,EAAD,CAAF,EAAOA,CAAC,CAAC,EAAD,CAAR,EAAaA,CAAC,CAAC,EAAD,CAAd,EAAmBA,CAAC,CAAC,EAAD,CAApB,EAAyBA,CAAC,CAAC,EAAD,CAA1B,CAAZ,EAA4CoU,CAAC,GAAC,CAAC,CAA/C,EAAiDC,CAAC,GAAC,EAAnD,EAAsDC,CAAC,GAAC,CAAC,CAAzD,EAA2DC,CAAC,GAAC,CAAC,CAA9D,EAAgEC,CAAC,GAACvL,CAAC,CAACvI,MAAxE,EAA+E,EAAE6T,CAAF,GAAIC,CAAnF;AAAsF,QAAGvL,CAAC,CAACsL,CAAD,CAAD,IAAMtL,CAAC,CAACsL,CAAD,CAAD,CAAKtU,IAAX,IAAiBgJ,CAAC,CAACsL,CAAD,CAAD,CAAKtU,IAAL,EAApB,EAAgC;AAAC0F,MAAAA,CAAC,GAACsD,CAAC,CAACsL,CAAD,CAAD,CAAKk3B,OAAL,CAAalsC,CAAb,CAAF;AAAkB;AAAM;AAA/I;;AAA+IC,EAAAA,CAAC,CAACqF,SAAF,CAAY4tB,GAAZ,GAAgB,YAAU;AAAC,QAAIxzB,CAAC,GAAC,KAAKyzB,GAAX;AAAA,QAAerzB,CAAC,GAAC,KAAKszB,KAAtB;;AAA4B,YAAOtzB,CAAC,CAACqB,MAAT;AAAiB,WAAK,CAAL;AAAO,eAAOzB,CAAC,EAAR;;AAAW,WAAK,CAAL;AAAO,eAAOA,CAAC,CAACI,CAAC,CAAC,CAAD,CAAF,CAAR;;AAAe,WAAK,CAAL;AAAO,eAAOJ,CAAC,CAACI,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,CAAR;;AAAoB,WAAK,CAAL;AAAO,eAAOJ,CAAC,CAACI,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,EAAWA,CAAC,CAAC,CAAD,CAAZ,CAAR;;AAAyB;AAAQ,eAAOJ,CAAC,CAACiF,KAAF,CAAQ,IAAR,EAAa7E,CAAb,CAAP;AAA5H;AAAoJ,GAA3M,EAA4MJ,CAAC,CAAC4hB,OAAF,GAAUphB,CAAtN;AAAwN,CAAv1lB,EAAw1lB,UAASR,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,GAAC,UAASf,CAAT,EAAW;AAAC;;AAAaI,IAAAA,CAAC,CAACY,IAAF,GAAO,YAAU;AAAC,aAAO,KAAK,CAAL,KAAShB,CAAT,IAAY,CAACA,CAAC,CAAC4zB,OAAtB;AAA8B,KAAhD,EAAiDxzB,CAAC,CAACosC,OAAF,GAAU,UAASpsC,CAAT,EAAW;AAAC,aAAO,YAAU;AAACJ,QAAAA,CAAC,CAAC4rB,QAAF,CAAWxrB,CAAX;AAAc,OAAhC;AAAiC,KAAxG;AAAyG,GAAnI,EAAqIiE,IAArI,CAA0IjE,CAA1I,EAA4IW,CAAC,CAAC,EAAD,CAA7I;AAAmJ,CAA3/lB,EAA4/lB,UAASf,CAAT,EAAW;AAAC,WAASI,CAAT,GAAY;AAAC,UAAM,IAAIsnB,KAAJ,CAAU,iCAAV,CAAN;AAAmD;;AAAA,WAAS3mB,CAAT,GAAY;AAAC,UAAM,IAAI2mB,KAAJ,CAAU,mCAAV,CAAN;AAAqD;;AAAA,WAASrnB,CAAT,CAAWL,CAAX,EAAa;AAAC,QAAG0G,CAAC,KAAG1B,UAAP,EAAkB,OAAOA,UAAU,CAAChF,CAAD,EAAG,CAAH,CAAjB;AAAuB,QAAG,CAAC0G,CAAC,KAAGtG,CAAJ,IAAO,CAACsG,CAAT,KAAa1B,UAAhB,EAA2B,OAAO0B,CAAC,GAAC1B,UAAF,EAAaA,UAAU,CAAChF,CAAD,EAAG,CAAH,CAA9B;;AAAoC,QAAG;AAAC,aAAO0G,CAAC,CAAC1G,CAAD,EAAG,CAAH,CAAR;AAAc,KAAlB,CAAkB,OAAMe,CAAN,EAAQ;AAAC,UAAG;AAAC,eAAO2F,CAAC,CAACrC,IAAF,CAAO,IAAP,EAAYrE,CAAZ,EAAc,CAAd,CAAP;AAAwB,OAA5B,CAA4B,OAAMe,CAAN,EAAQ;AAAC,eAAO2F,CAAC,CAACrC,IAAF,CAAO,IAAP,EAAYrE,CAAZ,EAAc,CAAd,CAAP;AAAwB;AAAC;AAAC;;AAAA,WAASM,CAAT,CAAWN,CAAX,EAAa;AAAC,QAAGgK,CAAC,KAAGupB,YAAP,EAAoB,OAAOA,YAAY,CAACvzB,CAAD,CAAnB;AAAuB,QAAG,CAACgK,CAAC,KAAGjJ,CAAJ,IAAO,CAACiJ,CAAT,KAAaupB,YAAhB,EAA6B,OAAOvpB,CAAC,GAACupB,YAAF,EAAeA,YAAY,CAACvzB,CAAD,CAAlC;;AAAsC,QAAG;AAAC,aAAOgK,CAAC,CAAChK,CAAD,CAAR;AAAY,KAAhB,CAAgB,OAAMI,CAAN,EAAQ;AAAC,UAAG;AAAC,eAAO4J,CAAC,CAAC3F,IAAF,CAAO,IAAP,EAAYrE,CAAZ,CAAP;AAAsB,OAA1B,CAA0B,OAAMI,CAAN,EAAQ;AAAC,eAAO4J,CAAC,CAAC3F,IAAF,CAAO,IAAP,EAAYrE,CAAZ,CAAP;AAAsB;AAAC;AAAC;;AAAA,WAASO,CAAT,GAAY;AAAC+U,IAAAA,CAAC,IAAEF,CAAH,KAAOE,CAAC,GAAC,CAAC,CAAH,EAAKF,CAAC,CAAC3T,MAAF,GAAS4T,CAAC,GAACD,CAAC,CAACrN,MAAF,CAASsN,CAAT,CAAX,GAAuBE,CAAC,GAAC,CAAC,CAA/B,EAAiCF,CAAC,CAAC5T,MAAF,IAAUjB,CAAC,EAAnD;AAAuD;;AAAA,WAASA,CAAT,GAAY;AAAC,QAAG,CAAC8U,CAAJ,EAAM;AAAC,UAAItV,CAAC,GAACK,CAAC,CAACE,CAAD,CAAP;AAAW+U,MAAAA,CAAC,GAAC,CAAC,CAAH;;AAAK,WAAI,IAAIlV,CAAC,GAACiV,CAAC,CAAC5T,MAAZ,EAAmBrB,CAAnB,GAAsB;AAAC,aAAIgV,CAAC,GAACC,CAAF,EAAIA,CAAC,GAAC,EAAV,EAAa,EAAEE,CAAF,GAAInV,CAAjB;AAAoBgV,UAAAA,CAAC,IAAEA,CAAC,CAACG,CAAD,CAAD,CAAKie,GAAL,EAAH;AAApB;;AAAkCje,QAAAA,CAAC,GAAC,CAAC,CAAH,EAAKnV,CAAC,GAACiV,CAAC,CAAC5T,MAAT;AAAgB;;AAAA2T,MAAAA,CAAC,GAAC,IAAF,EAAOE,CAAC,GAAC,CAAC,CAAV,EAAYhV,CAAC,CAACN,CAAD,CAAb;AAAiB;AAAC;;AAAA,WAASS,CAAT,CAAWT,CAAX,EAAaI,CAAb,EAAe;AAAC,SAAKqzB,GAAL,GAASzzB,CAAT,EAAW,KAAK0zB,KAAL,GAAWtzB,CAAtB;AAAwB;;AAAA,WAAS8F,CAAT,GAAY,CAAE;;AAAA,MAAIQ,CAAJ;AAAA,MAAMsD,CAAN;AAAA,MAAQmL,CAAC,GAACnV,CAAC,CAAC4hB,OAAF,GAAU,EAApB;AAAuB,GAAC,YAAU;AAAC,QAAG;AAAClb,MAAAA,CAAC,GAAC,cAAY,OAAO1B,UAAnB,GAA8BA,UAA9B,GAAyC5E,CAA3C;AAA6C,KAAjD,CAAiD,OAAMJ,CAAN,EAAQ;AAAC0G,MAAAA,CAAC,GAACtG,CAAF;AAAI;;AAAA,QAAG;AAAC4J,MAAAA,CAAC,GAAC,cAAY,OAAOupB,YAAnB,GAAgCA,YAAhC,GAA6CxyB,CAA/C;AAAiD,KAArD,CAAqD,OAAMf,CAAN,EAAQ;AAACgK,MAAAA,CAAC,GAACjJ,CAAF;AAAI;AAAC,GAA5I,EAAD;AAAgJ,MAAIqU,CAAJ;AAAA,MAAMC,CAAC,GAAC,EAAR;AAAA,MAAWC,CAAC,GAAC,CAAC,CAAd;AAAA,MAAgBC,CAAC,GAAC,CAAC,CAAnB;AAAqBJ,EAAAA,CAAC,CAACyW,QAAF,GAAW,UAAS5rB,CAAT,EAAW;AAAC,QAAII,CAAC,GAAC,IAAI+F,KAAJ,CAAU1B,SAAS,CAAChD,MAAV,GAAiB,CAA3B,CAAN;AAAoC,QAAGgD,SAAS,CAAChD,MAAV,GAAiB,CAApB,EAAsB,KAAI,IAAIV,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC0D,SAAS,CAAChD,MAAxB,EAA+BV,CAAC,EAAhC;AAAmCX,MAAAA,CAAC,CAACW,CAAC,GAAC,CAAH,CAAD,GAAO0D,SAAS,CAAC1D,CAAD,CAAhB;AAAnC;AAAuDsU,IAAAA,CAAC,CAACvP,IAAF,CAAO,IAAIrF,CAAJ,CAAMT,CAAN,EAAQI,CAAR,CAAP,GAAmB,MAAIiV,CAAC,CAAC5T,MAAN,IAAc6T,CAAd,IAAiBjV,CAAC,CAACG,CAAD,CAArC;AAAyC,GAAjL,EAAkLC,CAAC,CAACmF,SAAF,CAAY4tB,GAAZ,GAAgB,YAAU;AAAC,SAAKC,GAAL,CAASxuB,KAAT,CAAe,IAAf,EAAoB,KAAKyuB,KAAzB;AAAgC,GAA7O,EAA8Ove,CAAC,CAACwe,KAAF,GAAQ,SAAtP,EAAgQxe,CAAC,CAACye,OAAF,GAAU,CAAC,CAA3Q,EAA6Qze,CAAC,CAAC8U,GAAF,GAAM,EAAnR,EAAsR9U,CAAC,CAAC0e,IAAF,GAAO,EAA7R,EAAgS1e,CAAC,CAACvT,OAAF,GAAU,EAA1S,EAA6SuT,CAAC,CAAC2e,QAAF,GAAW,EAAxT,EAA2T3e,CAAC,CAACsL,EAAF,GAAKva,CAAhU,EAAkUiP,CAAC,CAACoL,WAAF,GAAcra,CAAhV,EAAkViP,CAAC,CAACqL,IAAF,GAAOta,CAAzV,EAA2ViP,CAAC,CAAC2L,GAAF,GAAM5a,CAAjW,EAAmWiP,CAAC,CAAC0L,cAAF,GAAiB3a,CAApX,EAAsXiP,CAAC,CAACiM,kBAAF,GAAqBlb,CAA3Y,EAA6YiP,CAAC,CAACoM,IAAF,GAAOrb,CAApZ,EAAsZiP,CAAC,CAAC4e,OAAF,GAAU,YAAU;AAAC,UAAM,IAAIrM,KAAJ,CAAU,kCAAV,CAAN;AAAoD,GAA/d,EAAgevS,CAAC,CAAC6e,GAAF,GAAM,YAAU;AAAC,WAAM,GAAN;AAAU,GAA3f,EAA4f7e,CAAC,CAAC8e,KAAF,GAAQ,YAAU;AAAC,UAAM,IAAIvM,KAAJ,CAAU,gCAAV,CAAN;AAAkD,GAAjkB,EAAkkBvS,CAAC,CAAC+e,KAAF,GAAQ,YAAU;AAAC,WAAO,CAAP;AAAS,GAA9lB;AAA+lB,CAA9jpB,EAA+jpB,UAASl0B,CAAT,EAAWI,CAAX,EAAa;AAAC,GAAC,UAASJ,CAAT,EAAW;AAAC;;AAAa,QAAIe,CAAC,GAACf,CAAC,CAAC4vB,gBAAF,IAAoB5vB,CAAC,CAAC6vB,sBAA5B;AAAmDzvB,IAAAA,CAAC,CAACY,IAAF,GAAO,YAAU;AAAC,aAAOD,CAAP;AAAS,KAA3B,EAA4BX,CAAC,CAACosC,OAAF,GAAU,UAASpsC,CAAT,EAAW;AAAC,UAAIC,CAAC,GAAC,CAAN;AAAA,UAAQC,CAAC,GAAC,IAAIS,CAAJ,CAAMX,CAAN,CAAV;AAAA,UAAmBG,CAAC,GAACP,CAAC,CAACkD,QAAF,CAAW6oB,cAAX,CAA0B,EAA1B,CAArB;AAAmD,aAAOzrB,CAAC,CAAC0rB,OAAF,CAAUzrB,CAAV,EAAY;AAAC0rB,QAAAA,aAAa,EAAC,CAAC;AAAhB,OAAZ,GAAgC,YAAU;AAAC1rB,QAAAA,CAAC,CAACiD,IAAF,GAAOnD,CAAC,GAAC,EAAEA,CAAF,GAAI,CAAb;AAAe,OAAjE;AAAkE,KAAvK;AAAwK,GAArP,EAAuPgE,IAAvP,CAA4PjE,CAA5P,EAA8P,YAAU;AAAC,WAAO,IAAP;AAAY,GAAvB,EAA9P;AAAyR,CAAt2pB,EAAu2pB,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAAC,GAAC,UAASJ,CAAT,EAAW;AAAC;;AAAaI,IAAAA,CAAC,CAACY,IAAF,GAAO,YAAU;AAAC,aAAM,CAAChB,CAAC,CAACysC,YAAH,IAAiB,KAAK,CAAL,KAASzsC,CAAC,CAACksB,cAAlC;AAAiD,KAAnE,EAAoE9rB,CAAC,CAACosC,OAAF,GAAU,UAASpsC,CAAT,EAAW;AAAC,UAAIW,CAAC,GAAC,IAAIf,CAAC,CAACksB,cAAN,EAAN;AAA2B,aAAOnrB,CAAC,CAACorB,KAAF,CAAQC,SAAR,GAAkBhsB,CAAlB,EAAoB,YAAU;AAACW,QAAAA,CAAC,CAACsrB,KAAF,CAAQC,WAAR,CAAoB,CAApB;AAAuB,OAA7D;AAA8D,KAAnL;AAAoL,GAA9M,EAAgNjoB,IAAhN,CAAqNjE,CAArN,EAAuN,YAAU;AAAC,WAAO,IAAP;AAAY,GAAvB,EAAvN;AAAkP,CAAvmqB,EAAwmqB,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAAC,GAAC,UAASJ,CAAT,EAAW;AAAC;;AAAaI,IAAAA,CAAC,CAACY,IAAF,GAAO,YAAU;AAAC,aAAM,cAAahB,CAAb,IAAgB,wBAAuBA,CAAC,CAACkD,QAAF,CAAWiC,aAAX,CAAyB,QAAzB,CAA7C;AAAgF,KAAlG,EAAmG/E,CAAC,CAACosC,OAAF,GAAU,UAASpsC,CAAT,EAAW;AAAC,aAAO,YAAU;AAAC,YAAIW,CAAC,GAACf,CAAC,CAACkD,QAAF,CAAWiC,aAAX,CAAyB,QAAzB,CAAN;AAAyC,eAAOpE,CAAC,CAACinB,kBAAF,GAAqB,YAAU;AAAC5nB,UAAAA,CAAC,IAAGW,CAAC,CAACinB,kBAAF,GAAqB,IAAxB,EAA6BjnB,CAAC,CAACH,UAAF,CAAayb,WAAb,CAAyBtb,CAAzB,CAA7B,EAAyDA,CAAC,GAAC,IAA5D;AAAiE,SAAjG,EAAkGf,CAAC,CAACkD,QAAF,CAAW6e,eAAX,CAA2BrC,WAA3B,CAAuC3e,CAAvC,CAAlG,EAA4IX,CAAnJ;AAAqJ,OAAhN;AAAiN,KAA1U;AAA2U,GAArW,EAAuWiE,IAAvW,CAA4WjE,CAA5W,EAA8W,YAAU;AAAC,WAAO,IAAP;AAAY,GAAvB,EAA9W;AAAyY,CAA//qB,EAAggrB,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAAC;;AAAaA,EAAAA,CAAC,CAACY,IAAF,GAAO,YAAU;AAAC,WAAM,CAAC,CAAP;AAAS,GAA3B,EAA4BZ,CAAC,CAACosC,OAAF,GAAU,UAASxsC,CAAT,EAAW;AAAC,WAAO,YAAU;AAACgF,MAAAA,UAAU,CAAChF,CAAD,EAAG,CAAH,CAAV;AAAgB,KAAlC;AAAmC,GAArF;AAAsF,CAAjnrB,EAAknrB,UAASA,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,CAAWL,CAAX,EAAa;AAAC,QAAII,CAAJ;AAAA,QAAMW,CAAN;AAAA,QAAQV,CAAR;AAAA,QAAUI,CAAC,GAAC,IAAZ;AAAiB,KAACT,CAAC,GAACA,CAAC,IAAE,EAAN,EAAUmlC,IAAV,IAAgB5kC,CAAC,CAACuH,KAAF,CAAQ,kBAAR,CAAhB,EAA4CvH,CAAC,CAACsS,OAAF,CAAU7S,CAAC,CAACojC,QAAZ,KAAuB7iC,CAAC,CAAC6hC,QAAF,CAAWpiC,CAAC,CAACojC,QAAb,CAAvB,IAA+C7iC,CAAC,CAACuH,KAAF,CAAQ,6BAAR,CAA3F,EAAkI9H,CAAC,CAACojC,QAAF,IAAY7iC,CAAC,CAACuH,KAAF,CAAQ,sBAAR,CAA9I,EAA8K,KAAK4kC,MAAL,GAAY,CAAC,CAA3L,EAA6L,KAAKjD,OAAL,GAAa,CAAC,CAA3M,EAA6M,KAAK3G,SAAL,GAAe9iC,CAAC,CAAC8iC,SAAF,IAAa,CAAzO,EAA2O,KAAKI,SAAL,GAAe,EAA1P,EAA6P,KAAKl1B,QAAL,GAAchO,CAAC,CAACgO,QAAF,IAAY,CAAC,CAAxR,EAA0R,KAAKxM,GAAL,GAASjB,CAAC,CAAC+hC,KAAF,CAAQ,EAAR,EAAW57B,CAAX,EAAa1G,CAAC,CAACgO,QAAF,GAAWtH,CAAC,CAACsH,QAAb,GAAsB,EAAnC,CAAnS,EAA0U,KAAKm1B,UAAL,GAAgBnjC,CAAC,CAACmjC,UAAF,GAAa5iC,CAAC,CAAC+hC,KAAF,CAAQ,EAAR,EAAW57B,CAAC,CAACg+B,cAAb,EAA4B1kC,CAAC,CAACmjC,UAAF,IAAc,EAA1C,CAAvW,EAAqZ,KAAKA,UAAL,CAAgBwB,MAAhB,GAAuB3kC,CAAC,CAACmjC,UAAF,CAAayB,eAAb,IAA8BrkC,CAAC,CAACgkC,YAAF,CAAe,KAAKpB,UAAL,CAAgBwB,MAA/B,EAAsC,KAAKxB,UAAL,CAAgB0B,QAAtD,CAA1c,EAA0gBzkC,CAAC,GAACG,CAAC,CAAC6E,IAAF,CAAO,KAAKunC,kBAAZ,EAA+B,IAA/B,CAA5gB,EAAijB5rC,CAAC,GAACR,CAAC,CAAC6E,IAAF,CAAO,KAAKwnC,uBAAZ,EAAoC,IAApC,CAAnjB,EAA6lBvsC,CAAC,GAACE,CAAC,CAAC6E,IAAF,CAAO,KAAKynC,uBAAZ,EAAoC,IAApC,CAA/lB;AAAyoB,QAAI3mC,CAAC,GAAC3F,CAAC,CAACia,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgB2J,UAAnD,CAAN;AAAqE,SAAKC,KAAL,GAAWvsC,CAAC,CAACuF,OAAF,CAAU/F,CAAC,CAACmlC,IAAZ,EAAkB1kB,EAAlB,CAAqB,eAArB,EAAqCva,CAArC,EAAuCnF,CAAvC,EAA0C0f,EAA1C,CAA6C,eAA7C,EAA6Dva,CAA7D,EAA+D7F,CAA/D,EAAkEogB,EAAlE,CAAqE,UAArE,EAAgFva,CAAhF,EAAkF9F,CAAlF,CAAX,EAAgG,KAAKoqC,UAAL,GAAgBxqC,CAAC,CAACgO,QAAF,GAAWhO,CAAC,CAACilC,OAAb,GAAqB,KAAK8H,KAA1I,EAAgJ/sC,CAAC,CAACkjC,SAAF,IAAaljC,CAAC,CAACkjC,SAAF,CAAY8J,MAAzB,KAAkC,KAAK9J,SAAL,CAAe8J,MAAf,GAAsBzsC,CAAC,CAAC8jC,UAAF,CAAarkC,CAAC,CAACkjC,SAAF,CAAY8J,MAAzB,CAAtB,EAAuD,KAAKD,KAAL,CAAWruB,OAAX,CAAmB,KAAKwkB,SAAL,CAAe8J,MAAf,EAAnB,CAAzF,CAAhJ,EAAsRhtC,CAAC,CAACkjC,SAAF,IAAaljC,CAAC,CAACkjC,SAAF,CAAYoG,KAAzB,KAAiC,KAAKpG,SAAL,CAAeoG,KAAf,GAAqB/oC,CAAC,CAAC8jC,UAAF,CAAarkC,CAAC,CAACkjC,SAAF,CAAYoG,KAAzB,CAArB,EAAqD,KAAK2D,MAAL,GAAYzsC,CAAC,CAACuF,OAAF,CAAU,iBAAexF,CAAC,CAACia,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgBmG,KAAnD,EAAyD,CAAC,CAA1D,CAAf,GAA4E,UAAtF,CAAjE,EAAmK,KAAKyD,KAAL,CAAW9yB,MAAX,CAAkB,KAAKgzB,MAAvB,CAAnK,EAAkM,KAAKA,MAAL,CAAY5hC,IAAZ,EAAnO,CAAtR,EAA6gB,KAAK+3B,QAAL,GAAc7iC,CAAC,CAAC4P,GAAF,CAAMnQ,CAAC,CAACojC,QAAR,EAAiB,UAAShjC,CAAT,EAAW;AAAC,aAAOE,CAAC,CAACG,CAAC,CAACssC,KAAH,EAAS3sC,CAAT,EAAWJ,CAAC,CAACmjC,UAAb,CAAR;AAAiC,KAA9D,CAA3hB,EAA2lB5iC,CAAC,CAAC6C,IAAF,CAAO,KAAKggC,QAAZ,EAAqB,UAASpjC,CAAT,EAAW;AAAC,UAAII,CAAC,GAACJ,CAAC,CAACktC,OAAF,EAAN;AAAkB9sC,MAAAA,CAAC,IAAE,MAAIA,CAAC,CAACsF,MAAF,GAAWjE,MAAlB,IAA0BhB,CAAC,CAACssC,KAAF,CAAQ9yB,MAAR,CAAe7Z,CAAf,CAA1B,EAA4CJ,CAAC,CAACslC,MAAF,CAAS,UAAT,EAAoB7kC,CAAC,CAAC0sC,WAAtB,EAAkC1sC,CAAlC,CAA5C;AAAiF,KAApI,CAA3lB,EAAiuBT,CAAC,CAACkjC,SAAF,IAAaljC,CAAC,CAACkjC,SAAF,CAAYkK,MAAzB,KAAkC,KAAKlK,SAAL,CAAekK,MAAf,GAAsB7sC,CAAC,CAAC8jC,UAAF,CAAarkC,CAAC,CAACkjC,SAAF,CAAYkK,MAAzB,CAAtB,EAAuD,KAAKL,KAAL,CAAW9yB,MAAX,CAAkB,KAAKipB,SAAL,CAAekK,MAAf,EAAlB,CAAzF,CAAjuB;AAAs2B,QAAIpjC,CAAC,GAAC,IAAN;AAAWxJ,IAAAA,CAAC,CAACuF,OAAF,CAAU6C,MAAV,EAAkB4P,MAAlB,CAAyB,YAAU;AAACxO,MAAAA,CAAC,CAACqjC,OAAF;AAAY,KAAhD;AAAkD;;AAAA,WAAS/sC,CAAT,CAAWN,CAAX,EAAaI,CAAb,EAAeW,CAAf,EAAiB;AAAC,WAAO,IAAIV,CAAC,CAACitC,OAAN,CAAc/sC,CAAC,CAAC+hC,KAAF,CAAQ;AAACyK,MAAAA,KAAK,EAAC/sC,CAAP;AAASmjC,MAAAA,UAAU,EAACpiC;AAApB,KAAR,EAA+BX,CAA/B,CAAd,CAAP;AAAwD;;AAAA,MAAIG,CAAC,GAACQ,CAAC,CAAC,CAAD,CAAP;AAAA,MAAWP,CAAC,GAACO,CAAC,CAAC,CAAD,CAAd;AAAA,MAAkBN,CAAC,GAACM,CAAC,CAAC,CAAD,CAArB;AAAA,MAAyBmF,CAAC,GAACnF,CAAC,CAAC,EAAD,CAA5B;AAAA,MAAiC2F,CAAC,GAAC3F,CAAC,CAAC,EAAD,CAApC;AAAyCR,EAAAA,CAAC,CAAC+hC,KAAF,CAAQjiC,CAAC,CAACuF,SAAV,EAAoBnF,CAApB,EAAsB;AAACksC,IAAAA,kBAAkB,EAAC,4BAAS3sC,CAAT,EAAW;AAAC,WAAKkL,OAAL,CAAa,mBAAb,EAAiC1K,CAAC,CAACuF,OAAF,CAAU/F,CAAC,CAACyK,aAAZ,CAAjC;AAA6D,KAA7F;AAA8FmiC,IAAAA,uBAAuB,EAAC,iCAAS5sC,CAAT,EAAW;AAAC,UAAII,CAAC,GAACI,CAAC,CAACuF,OAAF,CAAU/F,CAAC,CAACyK,aAAZ,CAAN;;AAAiC,UAAG,CAACrK,CAAC,CAACyJ,QAAF,CAAWtJ,CAAC,CAACia,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgB/0B,MAAnD,EAA0D,CAAC,CAA3D,CAAX,CAAJ,EAA8E;AAAC,aAAKm/B,aAAL;;AAAqB,YAAIxsC,CAAC,GAAC,IAAN;AAAWiE,QAAAA,UAAU,CAAC,YAAU;AAACjE,UAAAA,CAAC,CAACysC,UAAF,CAAaptC,CAAb,EAAe,CAAC,CAAhB;AAAmB,SAA/B,EAAgC,CAAhC,CAAV;AAA6C;AAAC,KAAhU;AAAiUysC,IAAAA,uBAAuB,EAAC,iCAAS7sC,CAAT,EAAW;AAACA,MAAAA,CAAC,CAACytC,aAAF,IAAiBjtC,CAAC,CAACuF,OAAF,CAAU/F,CAAC,CAACytC,aAAZ,EAA2B5gC,OAA3B,CAAmC,MAAItM,CAAC,CAACia,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgB/0B,MAAnD,EAA0D,CAAC,CAA3D,CAAvC,EAAsG3M,MAAtG,GAA6G,CAA9H,KAAkI,KAAK8rC,aAAL,IAAqB,KAAKriC,OAAL,CAAa,eAAb,CAAvJ;AAAsL,KAA3hB;AAA4hBiiC,IAAAA,WAAW,EAAC,qBAASntC,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,CAAWf,CAAX,EAAa;AAAC,eAAOA,CAAC,CAACypC,OAAF,EAAP;AAAmB;;AAAA,eAASppC,CAAT,CAAWL,CAAX,EAAa;AAAC,eAAOA,CAAC,CAACkjC,SAAF,IAAaljC,CAAC,CAACkjC,SAAF,CAAYoG,KAAhC;AAAsC;;AAAA,UAAG,KAAKG,OAAL,GAAalpC,CAAC,CAAC2jC,KAAF,CAAQ,KAAKd,QAAb,EAAsBriC,CAAtB,CAAb,EAAsC,KAAK0oC,OAA9C;AAAsD,YAAGrpC,CAAC,CAACqB,MAAF,IAAU,KAAKqhC,SAAf,IAA0B,KAAK53B,OAAL,CAAa,OAAb,CAA1B,EAAgD,KAAK+hC,MAAxD;AAA+D,cAAG7sC,CAAC,CAACqB,MAAF,GAAS,KAAKqhC,SAAjB,EAA2B,KAAK4K,KAAL,GAA3B,KAA4C;AAAC,gBAAIptC,CAAC,GAAC,KAAK4iC,SAAL,CAAeoG,KAAf,CAAqB;AAAC3S,cAAAA,KAAK,EAAC,KAAKyM,QAAL,CAAc,CAAd,KAAkB,KAAKA,QAAL,CAAc,CAAd,EAAiBzM;AAA1C,aAArB,CAAN;AAA6E,iBAAKsW,MAAL,CAAYhG,IAAZ,CAAiB3mC,CAAjB,GAAoB,KAAK2sC,MAAL,CAAY7hC,IAAZ,EAApB,EAAuC,KAAKuiC,KAAL,EAAvC;AAAoD;AAA7O,eAAkPptC,CAAC,CAAC4jC,GAAF,CAAM,KAAKf,QAAX,EAAoB/iC,CAApB,IAAuBD,CAAC,CAACqB,MAAF,GAAS,KAAKqhC,SAAd,GAAwB,KAAK4K,KAAL,EAAxB,GAAqC,KAAKC,KAAL,EAA5D,GAAyE,KAAKD,KAAL,EAAzE;AAAxS,aAAmY,KAAKhB,MAAL,KAAc,KAAKO,MAAL,KAAc,KAAKA,MAAL,CAAY3D,KAAZ,IAAoB,KAAK2D,MAAL,CAAY5hC,IAAZ,EAAlC,GAAsDjL,CAAC,CAACqB,MAAF,IAAU,KAAKqhC,SAAf,GAAyB,KAAK6K,KAAL,EAAzB,GAAsC,KAAKD,KAAL,EAA1G;AAAwH,WAAKxiC,OAAL,CAAa,iBAAb;AAAgC,KAAtqC;AAAuqCwiC,IAAAA,KAAK,EAAC,iBAAU;AAAC,WAAKlD,UAAL,CAAgBn/B,IAAhB;AAAuB,KAA/sC;AAAgtCsiC,IAAAA,KAAK,EAAC,iBAAU;AAAC,WAAKnD,UAAL,CAAgBhpC,GAAhB,CAAoB,SAApB,EAA8B,OAA9B,GAAuC,KAAK6rC,OAAL,EAAvC,EAAsD,KAAKniC,OAAL,CAAa,OAAb,CAAtD;AAA4E,KAA7yC;AAA8yCmiC,IAAAA,OAAO,EAAC,mBAAU;AAAC,WAAKX,MAAL,IAAa,KAAK1+B,QAAlB,IAA4B,KAAK9C,OAAL,CAAa,SAAb,CAA5B;AAAoD,KAAr3C;AAAs3C0iC,IAAAA,eAAe,EAAC,2BAAU;AAAC,aAAO,KAAKb,KAAL,CAAW78B,IAAX,CAAgB3P,CAAC,CAACia,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgB2J,UAAnD,CAAhB,CAAP;AAAuF,KAAx+C;AAAy+Ce,IAAAA,UAAU,EAAC,sBAAU;AAAC,aAAO,KAAKd,KAAL,CAAW78B,IAAX,CAAgB3P,CAAC,CAACia,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgB/0B,MAAnD,CAAhB,EAA4EgM,KAA5E,EAAP;AAA2F,KAA1lD;AAA2lDozB,IAAAA,UAAU,EAAC,oBAASxtC,CAAT,EAAWI,CAAX,EAAa;AAACJ,MAAAA,CAAC,CAACoa,KAAF,GAAU1P,QAAV,CAAmBnK,CAAC,CAACia,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgB/0B,MAAnD,EAA0D,CAAC,CAA3D,CAAnB,EAAkFxK,IAAlF,CAAuF,eAAvF,EAAuG,MAAvG,GAA+G,KAAKsH,OAAL,CAAa,aAAb,EAA2B9K,CAA3B,CAA/G;AAA6I,KAAjwD;AAAkwDmtC,IAAAA,aAAa,EAAC,yBAAU;AAAC,WAAKM,UAAL,GAAkBxkC,WAAlB,CAA8B9I,CAAC,CAACia,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgB/0B,MAAnD,EAA0D,CAAC,CAA3D,CAA9B,EAA6F7K,UAA7F,CAAwG,eAAxG;AAAyH,KAAp5D;AAAq5DuqC,IAAAA,WAAW,EAAC,qBAAS9tC,CAAT,EAAW;AAAC,UAAII,CAAJ,EAAMW,CAAN,EAAQV,CAAR,EAAUC,CAAV;;AAAY,UAAG,KAAKosC,MAAR,EAAe;AAAC,YAAG3rC,CAAC,GAAC,KAAK8sC,UAAL,EAAF,EAAoBztC,CAAC,GAAC,KAAKwtC,eAAL,EAAtB,EAA6C,KAAKL,aAAL,EAA7C,EAAkE,CAAC,CAAD,KAAKltC,CAAC,GAAC,CAAC,CAACA,CAAC,GAACD,CAAC,CAAC2tC,KAAF,CAAQhtC,CAAR,IAAWf,CAAd,IAAiB,CAAlB,KAAsBI,CAAC,CAACqB,MAAF,GAAS,CAA/B,IAAkC,CAAzC,CAArE,EAAiH,OAAO,KAAK,KAAKyJ,OAAL,CAAa,eAAb,CAAZ;AAA0C7K,QAAAA,CAAC,GAAC,CAAC,CAAH,KAAOA,CAAC,GAACD,CAAC,CAACqB,MAAF,GAAS,CAAlB,GAAqB,KAAK+rC,UAAL,CAAgBltC,CAAC,GAACF,CAAC,CAAC4C,EAAF,CAAK3C,CAAL,CAAlB,EAA0B,CAAC,CAA3B,CAArB,EAAmD,KAAK2tC,cAAL,CAAoB1tC,CAApB,CAAnD;AAA0E;AAAC,KAA/qE;AAAgrE0tC,IAAAA,cAAc,EAAC,wBAAShuC,CAAT,EAAW;AAAC,UAAII,CAAJ,EAAMW,CAAN,EAAQV,CAAR,EAAUC,CAAV;AAAYS,MAAAA,CAAC,GAAC,CAACX,CAAC,GAACJ,CAAC,CAACoR,QAAF,GAAaW,GAAhB,IAAqB/R,CAAC,CAACiT,MAAF,EAArB,GAAgCxN,QAAQ,CAACzF,CAAC,CAACwB,GAAF,CAAM,YAAN,CAAD,EAAqB,EAArB,CAAxC,GAAiEiE,QAAQ,CAACzF,CAAC,CAACwB,GAAF,CAAM,eAAN,CAAD,EAAwB,EAAxB,CAA3E,EAAuGnB,CAAC,GAAC,KAAK0sC,KAAL,CAAWx5B,SAAX,EAAzG,EAAgIjT,CAAC,GAAC,KAAKysC,KAAL,CAAW95B,MAAX,KAAoBxN,QAAQ,CAAC,KAAKsnC,KAAL,CAAWvrC,GAAX,CAAe,aAAf,CAAD,EAA+B,EAA/B,CAA5B,GAA+DiE,QAAQ,CAAC,KAAKsnC,KAAL,CAAWvrC,GAAX,CAAe,gBAAf,CAAD,EAAkC,EAAlC,CAAzM,EAA+OpB,CAAC,GAAC,CAAF,GAAI,KAAK2sC,KAAL,CAAWx5B,SAAX,CAAqBlT,CAAC,GAACD,CAAvB,CAAJ,GAA8BE,CAAC,GAACS,CAAF,IAAK,KAAKgsC,KAAL,CAAWx5B,SAAX,CAAqBlT,CAAC,IAAEU,CAAC,GAACT,CAAJ,CAAtB,CAAlR;AAAgT,KAAvgF;AAAwgFijC,IAAAA,KAAK,EAAC,iBAAU;AAAC,WAAKmJ,MAAL,KAAc,KAAKA,MAAL,GAAY,CAAC,CAAb,EAAe,KAAKa,aAAL,EAAf,EAAoC,KAAKG,KAAL,EAApC,EAAiD,KAAKxiC,OAAL,CAAa,QAAb,CAA/D;AAAuF,KAAhnF;AAAinFu2B,IAAAA,IAAI,EAAC,gBAAU;AAAC,WAAKiL,MAAL,KAAc,KAAKA,MAAL,GAAY,CAAC,CAAb,EAAe,KAAKjD,OAAL,IAAc,KAAKkE,KAAL,EAA7B,EAA0C,KAAKziC,OAAL,CAAa,QAAb,CAAxD;AAAgF,KAAjtF;AAAktF4+B,IAAAA,oBAAoB,EAAC,8BAAS9pC,CAAT,EAAW;AAAC,WAAK+sC,KAAL,CAAWvrC,GAAX,CAAe,UAAQxB,CAAR,GAAU,KAAKwB,GAAL,CAASysC,GAAnB,GAAuB,KAAKzsC,GAAL,CAAS0sC,GAA/C;AAAoD,KAAvyF;AAAwyFxE,IAAAA,YAAY,EAAC,wBAAU;AAAC,WAAKoE,WAAL,CAAiB,CAAC,CAAlB;AAAqB,KAAr1F;AAAs1FnE,IAAAA,cAAc,EAAC,0BAAU;AAAC,WAAKmE,WAAL,CAAiB,CAAjB;AAAoB,KAAp4F;AAAq4FzF,IAAAA,qBAAqB,EAAC,+BAASroC,CAAT,EAAW;AAAC,UAAII,CAAC,GAAC,IAAN;AAAW,aAAOJ,CAAC,CAACyB,MAAF,KAAWrB,CAAC,GAAC;AAACuoC,QAAAA,GAAG,EAACziC,CAAC,CAACioC,YAAF,CAAenuC,CAAf,CAAL;AAAuBwxB,QAAAA,KAAK,EAACtrB,CAAC,CAACkoC,YAAF,CAAepuC,CAAf,CAA7B;AAA+C4oC,QAAAA,WAAW,EAAC1iC,CAAC,CAACmoC,kBAAF,CAAqBruC,CAArB;AAA3D,OAAb,GAAkGI,CAAzG;AAA2G,KAA7hG;AAA8hGooC,IAAAA,gBAAgB,EAAC,4BAAU;AAAC,aAAO,KAAKqF,UAAL,GAAkBzzB,KAAlB,EAAP;AAAiC,KAA3lG;AAA4lGmuB,IAAAA,iBAAiB,EAAC,6BAAU;AAAC,aAAO,KAAKF,qBAAL,CAA2B,KAAKwF,UAAL,GAAkBzzB,KAAlB,EAA3B,CAAP;AAA6D,KAAtrG;AAAurGmvB,IAAAA,wBAAwB,EAAC,oCAAU;AAAC,aAAO,KAAKlB,qBAAL,CAA2B,KAAKuF,eAAL,GAAuBxzB,KAAvB,EAA3B,CAAP;AAAkE,KAA7xG;AAA8xG6uB,IAAAA,mBAAmB,EAAC,+BAAU;AAAC,WAAKuE,UAAL,CAAgB,KAAKI,eAAL,GAAuBxzB,KAAvB,EAAhB,EAA+C,CAAC,CAAhD;AAAmD,KAAh3G;AAAi3G0C,IAAAA,MAAM,EAAC,gBAAS9c,CAAT,EAAW;AAAC,eAASI,CAAT,CAAWA,CAAX,EAAa;AAACA,QAAAA,CAAC,CAAC0c,MAAF,CAAS9c,CAAT;AAAY;;AAAAO,MAAAA,CAAC,CAAC6C,IAAF,CAAO,KAAKggC,QAAZ,EAAqBhjC,CAArB;AAAwB,KAAt7G;AAAu7GkpC,IAAAA,KAAK,EAAC,iBAAU;AAAC,eAAStpC,CAAT,CAAWA,CAAX,EAAa;AAACA,QAAAA,CAAC,CAACsuC,KAAF;AAAU;;AAAA/tC,MAAAA,CAAC,CAAC6C,IAAF,CAAO,KAAKggC,QAAZ,EAAqBpjC,CAArB,GAAwB,KAAKypC,OAAL,GAAa,CAAC,CAAtC;AAAwC,KAAxgH;AAAygHM,IAAAA,SAAS,EAAC,qBAAU;AAAC,aAAO,KAAK2C,MAAL,IAAa,CAAC,KAAKjD,OAA1B;AAAkC,KAAhkH;AAAikH/gC,IAAAA,OAAO,EAAC,mBAAU;AAAC,eAAS1I,CAAT,CAAWA,CAAX,EAAa;AAACA,QAAAA,CAAC,CAAC0I,OAAF;AAAY;;AAAA,WAAKqkC,KAAL,CAAWjsB,GAAX,CAAe,KAAf,GAAsB,KAAKisB,KAAL,GAAW,IAAjC,EAAsCxsC,CAAC,CAAC6C,IAAF,CAAO,KAAKggC,QAAZ,EAAqBpjC,CAArB,CAAtC;AAA8D;AAA5qH,GAAtB,GAAqsHK,CAAC,CAACitC,OAAF,GAAUpnC,CAA/sH,EAAitHlG,CAAC,CAAC4hB,OAAF,GAAUvhB,CAA3tH;AAA6tH,CAA/m2B,EAAgn2B,UAASL,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,WAASV,CAAT,CAAWL,CAAX,EAAa;AAAC,KAACA,CAAC,GAACA,CAAC,IAAE,EAAN,EAAUkjC,SAAV,GAAoBljC,CAAC,CAACkjC,SAAF,IAAa,EAAjC,EAAoCljC,CAAC,CAACuuC,MAAF,IAAUvkC,CAAC,CAAClC,KAAF,CAAQ,gBAAR,CAA9C,EAAwE9H,CAAC,CAACa,IAAF,IAAQ,CAACL,CAAC,CAACR,CAAC,CAACa,IAAH,CAAV,IAAoBmJ,CAAC,CAAClC,KAAF,CAAQ,2BAAyB9H,CAAC,CAACa,IAAnC,CAA5F,EAAqI,KAAK81B,KAAL,GAAW,IAAhJ,EAAqJ,KAAK6X,QAAL,GAAc,CAAC,CAApK,EAAsK,KAAKC,SAAL,GAAe,CAAC,CAACzuC,CAAC,CAACyuC,SAAzL,EAAmM,KAAK5tC,IAAL,GAAU,KAAK,CAAL,KAASb,CAAC,CAACa,IAAX,IAAiB,SAAOb,CAAC,CAACa,IAA1B,GAA+BmJ,CAAC,CAACo6B,WAAF,EAA/B,GAA+CpkC,CAAC,CAACa,IAA9P,EAAmQ,KAAK0tC,MAAL,GAAYvuC,CAAC,CAACuuC,MAAjR,EAAwR,KAAKG,SAAL,GAAepuC,CAAC,CAACN,CAAC,CAACwZ,OAAF,IAAWxZ,CAAC,CAACqnC,UAAd,CAAxS,EAAkU,KAAKnE,SAAL,GAAe3iC,CAAC,CAACP,CAAC,CAACkjC,SAAH,EAAa,KAAKwL,SAAlB,CAAlV,EAA+W,KAAKltC,GAAL,GAASwI,CAAC,CAACs4B,KAAF,CAAQ,EAAR,EAAWjtB,CAAX,EAAarV,CAAC,CAACgO,QAAF,GAAWqH,CAAC,CAACrH,QAAb,GAAsB,EAAnC,CAAxX,EAA+Z,KAAKm1B,UAAL,GAAgBnjC,CAAC,CAACmjC,UAAF,GAAan5B,CAAC,CAACs4B,KAAF,CAAQ,EAAR,EAAWjtB,CAAC,CAACqvB,cAAb,EAA4B1kC,CAAC,CAACmjC,UAAF,IAAc,EAA1C,CAA5b,EAA0e,KAAKA,UAAL,CAAgBwB,MAAhB,GAAuB3kC,CAAC,CAACmjC,UAAF,CAAayB,eAAb,IAA8B56B,CAAC,CAACu6B,YAAF,CAAe,KAAKpB,UAAL,CAAgBwB,MAA/B,EAAsC,KAAKxB,UAAL,CAAgB0B,QAAtD,CAA/hB;AAA+lB,QAAIzkC,CAAC,GAAC4J,CAAC,CAACwQ,SAAF,CAAY,KAAK2oB,UAAL,CAAgBwB,MAA5B,EAAmC,KAAKxB,UAAL,CAAgBwL,OAAnD,CAAN;AAAkE,SAAKlE,GAAL,GAASzqC,CAAC,CAAC+sC,KAAF,IAAS/sC,CAAC,CAAC+sC,KAAF,CAAQ78B,IAAR,CAAa9P,CAAC,GAAC,GAAF,GAAM,KAAKS,IAAxB,EAA8BY,MAA9B,GAAqC,CAA9C,GAAgD0T,CAAC,CAACpP,OAAF,CAAU/F,CAAC,CAAC+sC,KAAF,CAAQ78B,IAAR,CAAa9P,CAAC,GAAC,GAAF,GAAM,KAAKS,IAAxB,EAA8B,CAA9B,CAAV,CAAhD,GAA4FsU,CAAC,CAACpP,OAAF,CAAUqP,CAAC,CAACu5B,OAAF,CAAUnmB,OAAV,CAAkB,SAAlB,EAA4B,KAAK3nB,IAAjC,EAAuC2nB,OAAvC,CAA+C,UAA/C,EAA0D,KAAK2a,UAAL,CAAgBwB,MAA1E,EAAkFnc,OAAlF,CAA0F,WAA1F,EAAsG,KAAK2a,UAAL,CAAgBwL,OAAtH,CAAV,CAArG,EAA+O,KAAK5B,KAAL,GAAW/sC,CAAC,CAAC+sC,KAA5P,EAAkQ,KAAK6B,sBAAL,EAAlQ;AAAgS;;AAAA,WAAStuC,CAAT,CAAWN,CAAX,EAAa;AAAC,aAASI,CAAT,CAAWA,CAAX,EAAa;AAAC,aAAOA,CAAC,CAACJ,CAAD,CAAR;AAAY;;AAAA,WAAOA,CAAC,GAACA,CAAC,IAAE,OAAL,EAAagK,CAAC,CAAChD,UAAF,CAAahH,CAAb,IAAgBA,CAAhB,GAAkBI,CAAtC;AAAwC;;AAAA,WAASG,CAAT,CAAWP,CAAX,EAAaI,CAAb,EAAe;AAAC,aAASW,CAAT,CAAWf,CAAX,EAAa;AAAC,aAAM,QAAMI,CAAC,CAACJ,CAAD,CAAP,GAAW,MAAjB;AAAwB;;AAAA,WAAM;AAACspC,MAAAA,KAAK,EAACtpC,CAAC,CAACspC,KAAF,IAASt/B,CAAC,CAACq6B,UAAF,CAAarkC,CAAC,CAACspC,KAAf,CAAhB;AAAsC0D,MAAAA,MAAM,EAAChtC,CAAC,CAACgtC,MAAF,IAAUhjC,CAAC,CAACq6B,UAAF,CAAarkC,CAAC,CAACgtC,MAAf,CAAvD;AAA8EI,MAAAA,MAAM,EAACptC,CAAC,CAACotC,MAAF,IAAUpjC,CAAC,CAACq6B,UAAF,CAAarkC,CAAC,CAACotC,MAAf,CAA/F;AAAsHN,MAAAA,UAAU,EAAC9sC,CAAC,CAAC8sC,UAAF,IAAc/rC;AAA/I,KAAN;AAAwJ;;AAAA,WAASP,CAAT,CAAWR,CAAX,EAAa;AAAC,WAAM,mBAAmBgB,IAAnB,CAAwBhB,CAAxB,CAAN;AAAiC;;AAAA,MAAIS,CAAC,GAAC,WAAN;AAAA,MAAkByF,CAAC,GAAC,SAApB;AAAA,MAA8BQ,CAAC,GAAC,SAAhC;AAAA,MAA0CsD,CAAC,GAACjJ,CAAC,CAAC,CAAD,CAA7C;AAAA,MAAiDoU,CAAC,GAACpU,CAAC,CAAC,CAAD,CAApD;AAAA,MAAwDqU,CAAC,GAACrU,CAAC,CAAC,EAAD,CAA3D;AAAA,MAAgEsU,CAAC,GAACtU,CAAC,CAAC,EAAD,CAAnE;AAAA,MAAwEuU,CAAC,GAACvU,CAAC,CAAC,CAAD,CAA3E;AAA+EV,EAAAA,CAAC,CAACguC,kBAAF,GAAqB,UAASruC,CAAT,EAAW;AAAC,WAAOmV,CAAC,CAACpP,OAAF,CAAU/F,CAAV,EAAawD,IAAb,CAAkB/C,CAAlB,CAAP;AAA4B,GAA7D,EAA8DJ,CAAC,CAAC+tC,YAAF,GAAe,UAASpuC,CAAT,EAAW;AAAC,WAAOmV,CAAC,CAACpP,OAAF,CAAU/F,CAAV,EAAawD,IAAb,CAAkB0C,CAAlB,CAAP;AAA4B,GAArH,EAAsH7F,CAAC,CAAC8tC,YAAF,GAAe,UAASnuC,CAAT,EAAW;AAAC,QAAII,CAAC,GAAC+U,CAAC,CAACpP,OAAF,CAAU/F,CAAV,EAAawD,IAAb,CAAkBkD,CAAlB,CAAN;AAA2B,WAAM,YAAU,OAAOtG,CAAjB,KAAqBA,CAAC,GAACwqB,IAAI,CAACgQ,KAAL,CAAWx6B,CAAX,CAAvB,GAAsCA,CAA5C;AAA8C,GAA1N,EAA2N4J,CAAC,CAACs4B,KAAF,CAAQjiC,CAAC,CAACuF,SAAV,EAAoB0P,CAApB,EAAsB;AAACu5B,IAAAA,OAAO,EAAC,iBAAS7uC,CAAT,EAAWI,CAAX,EAAa;AAAC,eAASW,CAAT,GAAY;AAAC,YAAIX,CAAC,GAAC,GAAGgG,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAN;AAAiC,eAAOrE,CAAC,GAAC,CAAC;AAACu2B,UAAAA,KAAK,EAAC32B,CAAP;AAASypC,UAAAA,OAAO,EAAC,CAAC;AAAlB,SAAD,EAAuB1hC,MAAvB,CAA8B3H,CAA9B,CAAF,EAAmCiV,CAAC,CAAC6tB,SAAF,CAAYoG,KAAZ,CAAkBrkC,KAAlB,CAAwB,IAAxB,EAA6B7E,CAA7B,CAA1C;AAA0E;;AAAA,eAASC,CAAT,GAAY;AAAC,iBAASL,CAAT,CAAWA,CAAX,EAAa;AAAC,cAAII,CAAJ;AAAA,cAAMW,CAAC,GAACqU,CAAC,CAAC03B,UAAF,CAAatkB,OAAb,CAAqB,UAArB,EAAgCjoB,CAAC,CAAC4iC,UAAF,CAAawB,MAA7C,EAAqDnc,OAArD,CAA6D,cAA7D,EAA4EjoB,CAAC,CAAC4iC,UAAF,CAAa2J,UAAzF,CAAR;AAA6G,iBAAM,CAAC1sC,CAAC,GAAC+U,CAAC,CAACpP,OAAF,CAAUhF,CAAV,EAAa6C,IAAb,CAAkB;AAACojC,YAAAA,IAAI,EAAC,QAAN;AAC38/B3jC,YAAAA,EAAE,EAAC,CAAC,QAAD,EAAUoK,IAAI,CAACmkB,KAAL,CAAW,MAAInkB,IAAI,CAACyiB,MAAL,EAAf,CAAV,EAAyC/lB,IAAzC,CAA8C,GAA9C;AADw8/B,WAAlB,EACj4/B8P,MADi4/B,CAC13/B5E,CAAC,CAAC6tB,SAAF,CAAY4J,UAAZ,CAAuB7nC,KAAvB,CAA6B,IAA7B,EAAkC,CAACjF,CAAD,EAAI+H,MAAJ,CAAWzH,CAAX,CAAlC,CAD03/B,CAAH,EACp0/BkD,IADo0/B,CAC/z/B/C,CAD+z/B,EAC7z/B4U,CAAC,CAACxU,IAD2z/B,GACrz/BT,CAAC,CAACoD,IAAF,CAAO0C,CAAP,EAASmP,CAAC,CAACq5B,SAAF,CAAY1uC,CAAZ,KAAgB,KAAK,CAA9B,CADqz/B,EACpx/BI,CAAC,CAACoD,IAAF,CAAOkD,CAAP,EAASkkB,IAAI,CAACC,SAAL,CAAe7qB,CAAf,CAAT,CADox/B,EACxv/BI,CAAC,CAAC+Z,QAAF,GAAa/W,IAAb,CAAkB,YAAU;AAAC+R,YAAAA,CAAC,CAACpP,OAAF,CAAU,IAAV,EAAgBvE,GAAhB,CAAoBjB,CAAC,CAACiB,GAAF,CAAMstC,eAA1B;AAA2C,WAAxE,CADwv/B,EAC9q/B1uC,CADwq/B;AACtq/B;;AAAA,YAAIW,CAAJ;AAAA,YAAMV,CAAN;AAAA,YAAQC,CAAC,GAAC,GAAG8F,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAV;AAAA,YAAqClE,CAAC,GAAC,IAAvC;AAAA,YAA4CC,CAAC,GAAC4U,CAAC,CAAC25B,WAAF,CAAcvmB,OAAd,CAAsB,UAAtB,EAAiC,KAAK2a,UAAL,CAAgBwB,MAAjD,EAAyDnc,OAAzD,CAAiE,eAAjE,EAAiF,KAAK2a,UAAL,CAAgB4L,WAAjG,CAA9C;AAA4J,eAAOhuC,CAAC,GAACoU,CAAC,CAACpP,OAAF,CAAUvF,CAAV,EAAagB,GAAb,CAAiB,KAAKA,GAAL,CAASutC,WAA1B,CAAF,EAAyC1uC,CAAC,GAAC2J,CAAC,CAACmG,GAAF,CAAM/P,CAAN,EAAQJ,CAAR,CAA3C,EAAsDe,CAAC,CAACkZ,MAAF,CAAShV,KAAT,CAAelE,CAAf,EAAiBV,CAAjB,CAAtD,EAA0EU,CAAjF;AAAmF;;AAAA,eAAST,CAAT,GAAY;AAAC,YAAIF,CAAC,GAAC,GAAGgG,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAN;AAAiC,eAAOrE,CAAC,GAAC,CAAC;AAACu2B,UAAAA,KAAK,EAAC32B,CAAP;AAASypC,UAAAA,OAAO,EAAC,CAACjpC;AAAlB,SAAD,EAAuBuH,MAAvB,CAA8B3H,CAA9B,CAAF,EAAmCiV,CAAC,CAAC6tB,SAAF,CAAY8J,MAAZ,CAAmB/nC,KAAnB,CAAyB,IAAzB,EAA8B7E,CAA9B,CAA1C;AAA2E;;AAAA,eAASG,CAAT,GAAY;AAAC,YAAIH,CAAC,GAAC,GAAGgG,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAN;AAAiC,eAAOrE,CAAC,GAAC,CAAC;AAACu2B,UAAAA,KAAK,EAAC32B,CAAP;AAASypC,UAAAA,OAAO,EAAC,CAACjpC;AAAlB,SAAD,EAAuBuH,MAAvB,CAA8B3H,CAA9B,CAAF,EAAmCiV,CAAC,CAAC6tB,SAAF,CAAYkK,MAAZ,CAAmBnoC,KAAnB,CAAyB,IAAzB,EAA8B7E,CAA9B,CAA1C;AAA2E;;AAAA,UAAG,KAAKqqC,GAAR,EAAY;AAAC,YAAIjqC,CAAJ;AAAA,YAAM6U,CAAC,GAAC,IAAR;AAAA,YAAaC,CAAC,GAAC,GAAGlP,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAf;AAA0C,aAAKgmC,GAAL,CAASnB,KAAT,IAAiB9oC,CAAC,GAACJ,CAAC,IAAEA,CAAC,CAACqB,MAAxB,EAA+B,KAAK+sC,QAAL,GAAc,CAAChuC,CAA9C,EAAgD,CAACA,CAAD,IAAI,KAAK0iC,SAAL,CAAeoG,KAAnB,GAAyB,KAAKmB,GAAL,CAASxD,IAAT,CAAclmC,CAAC,CAACkE,KAAF,CAAQ,IAAR,EAAaqQ,CAAb,CAAd,EAA+BoJ,OAA/B,CAAuCrJ,CAAC,CAAC6tB,SAAF,CAAY8J,MAAZ,GAAmB1sC,CAAC,CAAC2E,KAAF,CAAQ,IAAR,EAAaqQ,CAAb,CAAnB,GAAmC,IAA1E,EAAgF2E,MAAhF,CAAuF5E,CAAC,CAAC6tB,SAAF,CAAYkK,MAAZ,GAAmB7sC,CAAC,CAAC0E,KAAF,CAAQ,IAAR,EAAaqQ,CAAb,CAAnB,GAAmC,IAA1H,CAAzB,GAAyJ9U,CAAC,IAAE,KAAKiqC,GAAL,CAASxD,IAAT,CAAc5mC,CAAC,CAAC4E,KAAF,CAAQ,IAAR,EAAaqQ,CAAb,CAAd,EAA+BoJ,OAA/B,CAAuCrJ,CAAC,CAAC6tB,SAAF,CAAY8J,MAAZ,GAAmB1sC,CAAC,CAAC2E,KAAF,CAAQ,IAAR,EAAaqQ,CAAb,CAAnB,GAAmC,IAA1E,EAAgF2E,MAAhF,CAAuF5E,CAAC,CAAC6tB,SAAF,CAAYkK,MAAZ,GAAmB7sC,CAAC,CAAC0E,KAAF,CAAQ,IAAR,EAAaqQ,CAAb,CAAnB,GAAmC,IAA1H,CAA5M,EAA4U,KAAKy3B,KAAL,IAAY,KAAKA,KAAL,CAAWriC,QAAX,CAAoB,KAAKy4B,UAAL,CAAgBwB,MAAhB,IAAwBnkC,CAAC,GAAC,MAAD,GAAQ,SAAjC,IAA4C,GAA5C,GAAgD,KAAKK,IAAzE,EAA+EwI,WAA/E,CAA2F,KAAK85B,UAAL,CAAgBwB,MAAhB,IAAwBnkC,CAAC,GAAC,SAAD,GAAW,MAApC,IAA4C,GAA5C,GAAgD,KAAKK,IAAhJ,CAAxV,EAA8e,KAAKqK,OAAL,CAAa,UAAb,EAAwBlL,CAAxB,CAA9e;AAAygB;AAAC,KAD628B;AAC528BktC,IAAAA,OAAO,EAAC,mBAAU;AAAC,aAAO,KAAKzC,GAAZ;AAAgB,KADy08B;AACx08B3tB,IAAAA,MAAM,EAAC,gBAAS9c,CAAT,EAAW;AAAC,eAASI,CAAT,CAAWA,CAAX,EAAa;AAAC,YAAG,CAAC,KAAK4uC,QAAN,IAAgBhvC,CAAC,KAAG,KAAK22B,KAA5B,EAAkC;AAAC,cAAI51B,CAAC,GAAC,GAAGqF,KAAH,CAAS/B,IAAT,CAAcI,SAAd,EAAwB,CAAxB,CAAN;AAAiC,eAAKwqC,gBAAL,CAAsBjvC,CAAtB,EAAwBI,CAAxB,EAA0BW,CAA1B,GAA6B,KAAK8tC,OAAL,CAAa5pC,KAAb,CAAmB,IAAnB,EAAwB,CAACjF,CAAD,EAAGI,CAAH,EAAM2H,MAAN,CAAahH,CAAb,CAAxB,CAA7B;AAAsE;AAAC;;AAAA,WAAK41B,KAAL,GAAW32B,CAAX,EAAa,KAAKgvC,QAAL,GAAc,CAAC,CAA5B,EAA8B,KAAKE,oBAAL,CAA0BlvC,CAA1B,IAA6BI,CAAC,CAAC6E,KAAF,CAAQ,IAAR,EAAa,CAAC,KAAKkqC,iBAAN,EAAyBpnC,MAAzB,CAAgC,KAAKqnC,qBAArC,CAAb,CAA7B,GAAuG,KAAKb,MAAL,CAAYvuC,CAAZ,EAAcI,CAAC,CAACgF,IAAF,CAAO,IAAP,CAAd,CAArI;AAAiK,KAD2/7B;AAC1/7B6pC,IAAAA,gBAAgB,EAAC,0BAASjvC,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,WAAKsuC,WAAL,GAAiBrvC,CAAjB,EAAmB,KAAKmvC,iBAAL,GAAuB/uC,CAA1C,EAA4C,KAAKgvC,qBAAL,GAA2BruC,CAAvE;AAAyE,KADg57B;AAC/47BmuC,IAAAA,oBAAoB,EAAC,8BAASlvC,CAAT,EAAW;AAAC,aAAO,KAAKqvC,WAAL,KAAmBrvC,CAAnB,IAAsB,KAAKmvC,iBAA3B,IAA8C,KAAKA,iBAAL,CAAuB1tC,MAA5E;AAAmF,KAD2x7B;AAC1x7BmtC,IAAAA,sBAAsB,EAAC,kCAAU;AAAC,aAAO,KAAKS,WAAZ,EAAwB,OAAO,KAAKF,iBAApC,EAAsD,OAAO,KAAKC,qBAAlE;AAAwF,KADgq7B;AAC/p7BrjC,IAAAA,MAAM,EAAC,kBAAU;AAAC,WAAKijC,QAAL,GAAc,CAAC,CAAf;AAAiB,KAD4n7B;AAC3n7BV,IAAAA,KAAK,EAAC,iBAAU;AAAC,WAAKviC,MAAL,IAAc,KAAK0+B,GAAL,CAASnB,KAAT,EAAd,EAA+B,KAAKp+B,OAAL,CAAa,UAAb,EAAwB,EAAxB,CAA/B;AAA2D,KAD+i7B;AAC9i7Bu+B,IAAAA,OAAO,EAAC,mBAAU;AAAC,aAAO,KAAK+E,QAAZ;AAAqB,KADsg7B;AACrg7B9lC,IAAAA,OAAO,EAAC,mBAAU;AAAC,WAAKkmC,sBAAL,IAA8B,KAAKnE,GAAL,GAAS,IAAvC;AAA4C;AADs86B,GAAtB,CAA3N,EAClt6BzqC,CAAC,CAAC4hB,OAAF,GAAUvhB,CADws6B;AACts6B,CAD8sB,EAC7sB,UAASL,CAAT,EAAW;AAAC;;AAAaA,EAAAA,CAAC,CAAC4hB,OAAF,GAAU;AAACqjB,IAAAA,OAAO,EAAC,8BAAT;AAAwCG,IAAAA,QAAQ,EAAC,+CAAjD;AAAiGuJ,IAAAA,OAAO,EAAC,+CAAzG;AAAyJI,IAAAA,WAAW,EAAC,6CAArK;AAAmNjC,IAAAA,UAAU,EAAC;AAA9N,GAAV;AAAoR,CADga,EAC/Z,UAAS9sC,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,MAAIV,CAAC,GAACU,CAAC,CAAC,CAAD,CAAP;AAAA,MAAWT,CAAC,GAAC;AAAC2kC,IAAAA,OAAO,EAAC;AAAC7zB,MAAAA,QAAQ,EAAC,UAAV;AAAqBoI,MAAAA,OAAO,EAAC;AAA7B,KAAT;AAAsDqpB,IAAAA,IAAI,EAAC;AAACzxB,MAAAA,QAAQ,EAAC,UAAV;AAAqBW,MAAAA,GAAG,EAAC,GAAzB;AAA6BE,MAAAA,IAAI,EAAC,GAAlC;AAAsCq9B,MAAAA,WAAW,EAAC,aAAlD;AAAgEC,MAAAA,SAAS,EAAC,MAA1E;AAAiF7gC,MAAAA,OAAO,EAAC;AAAzF,KAA3D;AAAyJg0B,IAAAA,KAAK,EAAC;AAACtxB,MAAAA,QAAQ,EAAC,UAAV;AAAqBo+B,MAAAA,aAAa,EAAC,KAAnC;AAAyC9H,MAAAA,eAAe,EAAC;AAAzD,KAA/J;AAAuOH,IAAAA,eAAe,EAAC;AAACn2B,MAAAA,QAAQ,EAAC,UAAV;AAAqBo+B,MAAAA,aAAa,EAAC;AAAnC,KAAvP;AAAiSpK,IAAAA,QAAQ,EAAC;AAACh0B,MAAAA,QAAQ,EAAC,UAAV;AAAqBW,MAAAA,GAAG,EAAC,MAAzB;AAAgCE,MAAAA,IAAI,EAAC,GAArC;AAAyCzM,MAAAA,MAAM,EAAC,KAAhD;AAAsDgU,MAAAA,OAAO,EAAC;AAA9D,KAA1S;AAAgXu1B,IAAAA,WAAW,EAAC;AAACv1B,MAAAA,OAAO,EAAC;AAAT,KAA5X;AAA8YszB,IAAAA,UAAU,EAAC;AAAC7B,MAAAA,UAAU,EAAC,QAAZ;AAAqB78B,MAAAA,MAAM,EAAC;AAA5B,KAAzZ;AAAgc0gC,IAAAA,eAAe,EAAC;AAAC7D,MAAAA,UAAU,EAAC;AAAZ,KAAhd;AAAsegD,IAAAA,GAAG,EAAC;AAACh8B,MAAAA,IAAI,EAAC,GAAN;AAAUe,MAAAA,KAAK,EAAC;AAAhB,KAA1e;AAAkgBk7B,IAAAA,GAAG,EAAC;AAACj8B,MAAAA,IAAI,EAAC,MAAN;AAAae,MAAAA,KAAK,EAAC;AAAnB,KAAtgB;AAA8hB0xB,IAAAA,cAAc,EAAC;AAACK,MAAAA,IAAI,EAAC,sBAAN;AAA6BJ,MAAAA,MAAM,EAAC,IAApC;AAAyCE,MAAAA,QAAQ,EAAC,CAAC,CAAnD;AAAqDkC,MAAAA,YAAY,EAAC,eAAlE;AAAkFrE,MAAAA,KAAK,EAAC,OAAxF;AAAgGG,MAAAA,IAAI,EAAC,MAArG;AAA4GkM,MAAAA,WAAW,EAAC,aAAxH;AAAsIjC,MAAAA,UAAU,EAAC,YAAjJ;AAA8J1+B,MAAAA,MAAM,EAAC,QAArK;AAA8KugC,MAAAA,OAAO,EAAC,SAAtL;AAAgMrF,MAAAA,KAAK,EAAC;AAAtM,KAA7iB;AAA4vBt7B,IAAAA,QAAQ,EAAC;AAACi3B,MAAAA,OAAO,EAAC;AAAC7zB,QAAAA,QAAQ,EAAC,UAAV;AAAqB5L,QAAAA,MAAM,EAAC,KAA5B;AAAkCgU,QAAAA,OAAO,EAAC;AAA1C,OAAT;AAA2DkpB,MAAAA,KAAK,EAAC,EAAjE;AAAoE6E,MAAAA,eAAe,EAAC,EAApF;AAAuFnC,MAAAA,QAAQ,EAAC;AAAC5rB,QAAAA,OAAO,EAAC;AAAT;AAAhG;AAArwB,GAAb;AAAs4BnZ,EAAAA,CAAC,CAACwjC,MAAF,MAAYxjC,CAAC,CAACiiC,KAAF,CAAQhiC,CAAC,CAACoiC,KAAV,EAAgB;AAACiF,IAAAA,eAAe,EAAC;AAAjB,GAAhB,CAAZ,EAAqItnC,CAAC,CAACwjC,MAAF,MAAYxjC,CAAC,CAACwjC,MAAF,MAAY,CAAxB,IAA2BxjC,CAAC,CAACiiC,KAAF,CAAQhiC,CAAC,CAACoiC,KAAV,EAAgB;AAACvpB,IAAAA,SAAS,EAAC;AAAX,GAAhB,CAAhK,EAAoMnZ,CAAC,CAAC4hB,OAAF,GAAUthB,CAA9M;AAAgN,CADptB,EACqtB,UAASN,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAaf,EAAAA,CAAC,CAAC4hB,OAAF,GAAU;AAACmb,IAAAA,IAAI,EAACh8B,CAAC,CAAC,EAAD,CAAP;AAAY0uC,IAAAA,SAAS,EAAC1uC,CAAC,CAAC,EAAD;AAAvB,GAAV;AAAuC,CADzxB,EAC0xB,UAASf,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,MAAIV,CAAC,GAACU,CAAC,CAAC,CAAD,CAAP;AAAA,MAAWT,CAAC,GAACS,CAAC,CAAC,EAAD,CAAd;AAAA,MAAmBR,CAAC,GAACQ,CAAC,CAAC,EAAD,CAAtB;;AAA2Bf,EAAAA,CAAC,CAAC4hB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAa;AAAC,aAASW,CAAT,CAAWA,CAAX,EAAaT,CAAb,EAAe;AAACN,MAAAA,CAAC,CAAC82B,MAAF,CAAS/1B,CAAT,EAAWX,CAAX,EAAa,UAASJ,CAAT,EAAWI,CAAX,EAAa;AAACJ,QAAAA,CAAC,GAACK,CAAC,CAACyH,KAAF,CAAQ9H,CAAC,CAAC8qB,OAAV,CAAD,GAAoBxqB,CAAC,CAACF,CAAC,CAAC28B,IAAH,EAAQ38B,CAAR,CAAtB;AAAiC,OAA5D;AAA8D;;AAAA,QAAII,CAAC,GAACD,CAAC,CAACP,CAAC,CAACm9B,EAAF,CAAKlE,GAAN,CAAP;AAAkB,WAAOz4B,CAAC,IAAEA,CAAC,CAAC,CAAD,CAAD,IAAM,CAAT,IAAYA,CAAC,CAAC,CAAD,CAAD,GAAK,EAAjB,KAAsB,CAACJ,CAAC,GAACA,CAAC,IAAE,EAAN,EAAU46B,YAAV,GAAuB,qBAAmB16B,CAAhE,GAAmES,CAA1E;AAA4E,GAApM;AAAqM,CADvhC,EACwhC,UAASf,CAAT,EAAW;AAACA,EAAAA,CAAC,CAAC4hB,OAAF,GAAU,QAAV;AAAmB,CADvjC,EACwjC,UAAS5hB,CAAT,EAAW;AAAC;;AAAaA,EAAAA,CAAC,CAAC4hB,OAAF,GAAU,UAAS5hB,CAAT,EAAW;AAAC,QAAII,CAAC,GAACJ,CAAC,CAAC+J,KAAF,CAAQ,oDAAR,CAAN;AAAoE,QAAG3J,CAAH,EAAK,OAAM,CAACA,CAAC,CAAC,CAAD,CAAF,EAAMA,CAAC,CAAC,CAAD,CAAP,EAAWA,CAAC,CAAC,CAAD,CAAZ,CAAN;AAAuB,GAAtH;AAAuH,CADxsC,EACysC,UAASJ,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC;;AAAa,MAAIV,CAAC,GAACU,CAAC,CAAC,CAAD,CAAP;AAAA,MAAWT,CAAC,GAACS,CAAC,CAAC,EAAD,CAAd;AAAA,MAAmBR,CAAC,GAACQ,CAAC,CAAC,EAAD,CAAtB;;AAA2Bf,EAAAA,CAAC,CAAC4hB,OAAF,GAAU,UAAS5hB,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAeP,CAAf,EAAiB;AAAC,aAASC,CAAT,CAAWA,CAAX,EAAayF,CAAb,EAAe;AAAClG,MAAAA,CAAC,CAAC82B,MAAF,CAASr2B,CAAT,EAAWL,CAAX,EAAa,UAASJ,CAAT,EAAWS,CAAX,EAAa;AAAC,YAAGT,CAAH,EAAKK,CAAC,CAACyH,KAAF,CAAQ9H,CAAC,CAAC8qB,OAAV,EAAL,KAA4B;AAAC,cAAGrqB,CAAC,CAACs8B,IAAF,CAAOt7B,MAAP,GAAc,CAAjB,EAAmB;AAAC,gBAAI0T,CAAC,GAAC1U,CAAC,CAACs8B,IAAF,CAAO,CAAP,CAAN;AAAA,gBAAgB3nB,CAAC,GAAC/U,CAAC,CAACiiC,KAAF,CAAQ;AAACxF,cAAAA,WAAW,EAAC;AAAb,aAAR,EAAwB/7B,CAAxB,CAAlB;AAA6C,mBAAOqU,CAAC,CAACm5B,MAAT,EAAgB,OAAOn5B,CAAC,CAAC24B,KAAzB;AAA+B,gBAAI14B,CAAC,GAAC9U,CAAC,CAACyJ,CAAC,CAACmzB,EAAF,CAAKlE,GAAN,CAAP;AAAkB,mBAAO5jB,CAAC,IAAEA,CAAC,CAAC,CAAD,CAAD,IAAM,CAAT,IAAYA,CAAC,CAAC,CAAD,CAAD,GAAK,EAAjB,KAAsBjV,CAAC,CAAC46B,YAAF,GAAe,qBAAmB16B,CAAxD,GAA2D,KAAK0J,CAAC,CAAC8sB,MAAF,CAASpwB,CAAC,CAACyO,CAAD,CAAV,EAAcC,CAAd,EAAgB,UAASpV,CAAT,EAAWI,CAAX,EAAa;AAAC,kBAAGJ,CAAH,EAAKK,CAAC,CAACyH,KAAF,CAAQ9H,CAAC,CAAC8qB,OAAV,EAAL,KAA4B;AAAC,oBAAI/pB,CAAC,GAAC,EAAN;;AAAS,oBAAGP,CAAC,CAACkvC,UAAL,EAAgB;AAAC,sBAAIpvC,CAAC,GAACE,CAAC,CAACmvC,QAAF,IAAY,iBAAlB;AAAoC5uC,kBAAAA,CAAC,CAAC+E,IAAF,CAAOzF,CAAC,CAACiiC,KAAF,CAAQ;AAACsN,oBAAAA,KAAK,EAAC;AAACpe,sBAAAA,KAAK,EAAClxB,CAAP;AAASuvC,sBAAAA,KAAK,EAACzvC,CAAC,CAAC48B;AAAjB;AAAP,mBAAR,EAAyC38B,CAAC,CAAC4jC,SAAF,CAAY9uB,CAAZ,CAAzC,CAAP;AAAiE;;AAAA9U,gBAAAA,CAAC,CAAC+C,IAAF,CAAOhD,CAAC,CAAC0vC,MAAT,EAAgB,UAAS9vC,CAAT,EAAWI,CAAX,EAAa;AAACC,kBAAAA,CAAC,CAAC+C,IAAF,CAAOpD,CAAP,EAAS,UAASA,CAAT,EAAWM,CAAX,EAAa;AAACS,oBAAAA,CAAC,CAAC+E,IAAF,CAAOzF,CAAC,CAACiiC,KAAF,CAAQ;AAACsN,sBAAAA,KAAK,EAAC;AAACA,wBAAAA,KAAK,EAACxvC,CAAP;AAASoxB,wBAAAA,KAAK,EAAClxB,CAAf;AAAiBuvC,wBAAAA,KAAK,EAAC7vC;AAAvB;AAAP,qBAAR,EAA0CK,CAAC,CAAC4jC,SAAF,CAAY9uB,CAAZ,CAA1C,CAAP;AAAkE,mBAAzF;AAA2F,iBAAzH;;AAA2H,qBAAI,IAAI5U,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACE,CAAC,CAACs8B,IAAF,CAAOt7B,MAArB,EAA4B,EAAElB,CAA9B;AAAgCQ,kBAAAA,CAAC,CAAC+E,IAAF,CAAOrF,CAAC,CAACs8B,IAAF,CAAOx8B,CAAP,CAAP;AAAhC;;AAAkD2F,gBAAAA,CAAC,CAACnF,CAAD,EAAGN,CAAH,CAAD;AAAO;AAAC,aAA/W,CAAvE;AAAwb;;AAAAyF,UAAAA,CAAC,CAAC,EAAD,CAAD;AAAM;AAAC,OAAzmB;AAA2mB;;AAAA,QAAIA,CAAC,GAAC3F,CAAC,CAACP,CAAC,CAACm9B,EAAF,CAAKlE,GAAN,CAAP;AAAkB,QAAG/yB,CAAC,IAAEA,CAAC,CAAC,CAAD,CAAD,IAAM,CAAT,IAAYA,CAAC,CAAC,CAAD,CAAD,GAAK,EAAjB,KAAsB,CAAC9F,CAAC,GAACA,CAAC,IAAE,EAAN,EAAU46B,YAAV,GAAuB,qBAAmB16B,CAAhE,GAAmE,CAACS,CAAC,CAACwtC,MAAzE,EAAgF,OAAOluC,CAAC,CAACyH,KAAF,CAAQ,sBAAR,CAAP;AAAuC,QAAIpB,CAAC,GAACrG,CAAC,CAAC2G,UAAF,CAAajG,CAAC,CAACwtC,MAAf,IAAuBxtC,CAAC,CAACwtC,MAAzB,GAAgC,UAASvuC,CAAT,EAAW;AAAC,aAAOA,CAAC,CAACe,CAAC,CAACwtC,MAAH,CAAR;AAAmB,KAArE;AAAsE,QAAG,CAACxtC,CAAC,CAACgtC,KAAN,EAAY,OAAO1tC,CAAC,CAACyH,KAAF,CAAQ,qBAAR,CAAP;AAAsC,QAAIkC,CAAC,GAACjJ,CAAC,CAACgtC,KAAR;AAAc,WAAOvtC,CAAC,GAACA,CAAC,IAAE,EAAL,EAAQC,CAAf;AAAiB,GAAv7B;AAAw7B,CADzrE,CAA/L,CAtGjvF,EAuG4mKmI,MAAM,CAACmnC,QAAP,GAAgB;AAACC,EAAAA,cAAc,EAAC,EAAhB;AAAmB9/B,EAAAA,IAAI,EAAC,cAASlQ,CAAT,EAAW;AAAC,SAAKiwC,aAAL,CAAmBjwC,CAAnB;;AAAsB,QAAII,CAAC,GAAC,KAAK8vC,KAAL,CAAWlwC,CAAX,CAAN;;AAAoBI,IAAAA,CAAC,GAACJ,CAAC,CAACmwC,SAAF,CAAY/vC,CAAZ,CAAD,GAAgB,KAAKgwC,cAAL,CAAoBpwC,CAApB,CAAjB;AAAwC,GAAtH;AAAuHkwC,EAAAA,KAAK,EAAC,eAASlwC,CAAT,EAAW;AAAC,WAAO,KAAKgwC,cAAL,CAAoBhwC,CAAC,CAACgf,GAAtB,CAAP;AAAkC,GAA3K;AAA4KixB,EAAAA,aAAa,EAAC,uBAASjwC,CAAT,EAAW;AAAC,QAAG,CAACA,CAAC,CAACgf,GAAN,EAAU,MAAK,aAAL;AAAmB,QAAG,CAAChf,CAAC,CAACy0B,GAAN,EAAU,MAAK,aAAL;AAAmB,QAAG,CAACz0B,CAAC,CAACmwC,SAAN,EAAgB,MAAK,kBAAL;AAAwB,GAAxS;AAAySC,EAAAA,cAAc,EAAC,wBAASpwC,CAAT,EAAW;AAAC,QAAII,CAAC,GAAC,IAAN;AAAW8uB,IAAAA,CAAC,CAACmhB,IAAF,CAAO;AAACC,MAAAA,QAAQ,EAACtwC,CAAC,CAACswC,QAAF,IAAY,MAAtB;AAA6B7b,MAAAA,GAAG,EAACz0B,CAAC,CAACy0B,GAAnC;AAAuC8b,MAAAA,OAAO,EAAC,iBAASxvC,CAAT,EAAW;AAAC,YAAIV,CAAC,GAACU,CAAN;AAAQ,sBAAY,OAAOf,CAAC,CAACwwC,qBAArB,KAA6CnwC,CAAC,GAACL,CAAC,CAACwwC,qBAAF,CAAwBzvC,CAAxB,CAA/C,GAA2EX,CAAC,CAAC4vC,cAAF,CAAiBhwC,CAAC,CAACgf,GAAnB,IAAwB3e,CAAnG,EAAqGL,CAAC,CAACmwC,SAAF,CAAY9vC,CAAZ,CAArG;AAAoH;AAAvL,KAAP;AAAiM;AAAhhB,CAvG5nK,EAuG8oLuI,MAAM,CAAC6nC,WAAP,GAAmB;AAAChvC,EAAAA,MAAM,EAAC,CAAR;AAAUivC,EAAAA,QAAQ,EAAC,oBAAU;AAAC,SAAI,IAAI1wC,CAAC,GAAC,CAAC,CAAC,IAAIirB,IAAJ,EAAF,EAAYsE,QAAZ,GAAuB5oB,KAAvB,CAA6B,EAA7B,EAAiCgqC,OAAjC,EAAN,EAAiDvwC,CAAC,GAAC,EAAnD,EAAsDW,CAAC,GAAC,CAA5D,EAA8DA,CAAC,GAAC,KAAKU,MAArE,EAA4E,EAAEV,CAA9E,EAAgF;AAACX,MAAAA,CAAC,IAAEJ,CAAC,CAAC,KAAK4wC,aAAL,CAAmB,CAAnB,EAAqB5wC,CAAC,CAACyB,MAAF,GAAS,CAA9B,CAAD,CAAJ;AAAuC;;AAAA,WAAOrB,CAAP;AAAS,GAA/J;AAAgKwwC,EAAAA,aAAa,EAAC,uBAAS5wC,CAAT,EAAWI,CAAX,EAAa;AAAC,WAAOqN,IAAI,CAACmkB,KAAL,CAAWnkB,IAAI,CAACyiB,MAAL,MAAe9vB,CAAC,GAACJ,CAAF,GAAI,CAAnB,CAAX,IAAkCA,CAAzC;AAA2C;AAAvO,CAvGjqL,EAuG04L,YAAU;AAAC,MAAIA,CAAC,GAAC,CAAC,CAAP;AAAA,MAASI,CAAC,GAAC,MAAMY,IAAN,CAAW,YAAU;AAAC;AAAM,GAA5B,IAA8B,YAA9B,GAA2C,IAAtD;AAA2D,OAAK6vC,KAAL,GAAW,YAAU,CAAE,CAAvB,EAAwBA,KAAK,CAAClvC,MAAN,GAAa,UAASZ,CAAT,EAAW;AAAC,aAASV,CAAT,GAAY;AAAC,OAACL,CAAD,IAAI,KAAKqrB,IAAT,IAAe,KAAKA,IAAL,CAAUpmB,KAAV,CAAgB,IAAhB,EAAqBR,SAArB,CAAf;AAA+C;;AAAA,QAAInE,CAAC,GAAC,KAAKsF,SAAX;AAAqB5F,IAAAA,CAAC,GAAC,CAAC,CAAH;AAAK,QAAIO,CAAC,GAAC,IAAI,IAAJ,EAAN;;AAAe,SAAI,IAAIC,CAAR,IAAaR,CAAC,GAAC,CAAC,CAAH,EAAKe,CAAlB;AAAoBR,MAAAA,CAAC,CAACC,CAAD,CAAD,GAAK,cAAY,OAAOO,CAAC,CAACP,CAAD,CAApB,IAAyB,cAAY,OAAOF,CAAC,CAACE,CAAD,CAA7C,IAAkDJ,CAAC,CAACY,IAAF,CAAOD,CAAC,CAACP,CAAD,CAAR,CAAlD,GAA+D,UAASR,CAAT,EAAWI,CAAX,EAAa;AAAC,eAAO,YAAU;AAAC,cAAIW,CAAC,GAAC,KAAKkG,MAAX;AAAkB,eAAKA,MAAL,GAAY3G,CAAC,CAACN,CAAD,CAAb;AAAiB,cAAIK,CAAC,GAACD,CAAC,CAAC6E,KAAF,CAAQ,IAAR,EAAaR,SAAb,CAAN;AAA8B,iBAAO,KAAKwC,MAAL,GAAYlG,CAAZ,EAAcV,CAArB;AAAuB,SAA1G;AAA2G,OAAzH,CAA0HG,CAA1H,EAA4HO,CAAC,CAACP,CAAD,CAA7H,CAA/D,GAAiMO,CAAC,CAACP,CAAD,CAAvM;AAApB;;AAA+N,WAAOH,CAAC,CAACuF,SAAF,GAAYrF,CAAZ,EAAcF,CAAC,CAACuF,SAAF,CAAYwB,WAAZ,GAAwB/G,CAAtC,EAAwCA,CAAC,CAACsB,MAAF,GAAS8C,SAAS,CAAC6uB,MAA3D,EAAkEjzB,CAAzE;AAA2E,GAAhc;AAAic,CAAvgB,EAvG14L,EAuGo5MuI,MAAM,CAACkoC,OAAP,GAAe,YAAU;AAAC;;AAAa,WAAS9wC,CAAT,CAAWA,CAAX,EAAa;AAAC,QAAII,CAAC,GAAC,CAACJ,CAAC,CAAC6B,OAAF,IAAW7B,CAAC,CAAC4M,KAAd,CAAN;AAA2B,WAAO5M,CAAC,CAACmb,QAAF,IAAY,OAAKnb,CAAC,CAAC6B,OAAnB,IAA4BzB,CAAC,CAAC0F,IAAF,CAAO,EAAP,CAA5B,EAAuC9F,CAAC,CAAC6rC,OAAF,IAAW,OAAK7rC,CAAC,CAAC6B,OAAlB,IAA2BzB,CAAC,CAAC0F,IAAF,CAAO,EAAP,CAAlE,EAA6E9F,CAAC,CAAC4rC,MAAF,IAAU,OAAK5rC,CAAC,CAAC6B,OAAjB,IAA0BzB,CAAC,CAAC0F,IAAF,CAAO,EAAP,CAAvG,EAAkH9F,CAAC,CAAC8rC,OAAF,IAAW,OAAK9rC,CAAC,CAAC6B,OAAlB,IAA2BzB,CAAC,CAAC0F,IAAF,CAAO,EAAP,CAA7I,EAAwJ1F,CAAC,CAAC4V,IAAF,EAAxJ,EAAiK5V,CAAC,CAAC+J,IAAF,CAAO,GAAP,CAAxK;AAAoL;;AAAA,WAAS/J,CAAT,CAAWJ,CAAX,EAAa;AAAC,WAAOkG,CAAC,CAAClG,CAAD,CAAD,GAAKkG,CAAC,CAAClG,CAAD,CAAN,GAAUA,CAAC,CAACioC,WAAF,GAAgBld,UAAhB,CAA2B,CAA3B,CAAjB;AAA+C;;AAAA,WAAShqB,CAAT,CAAWf,CAAX,EAAa;AAAC,SAAI,IAAIe,CAAC,GAACf,CAAC,CAAC2G,KAAF,CAAQ,GAAR,CAAN,EAAmBtG,CAAC,GAAC,EAArB,EAAwBC,CAAC,GAAC,CAA9B,EAAgCA,CAAC,GAACS,CAAC,CAACU,MAApC,EAA2CnB,CAAC,EAA5C;AAA+CD,MAAAA,CAAC,CAACyF,IAAF,CAAO1F,CAAC,CAACW,CAAC,CAACT,CAAD,CAAF,CAAR;AAA/C;;AAA+D,WAAOD,CAAC,CAAC2V,IAAF,IAAS3V,CAAC,CAAC8J,IAAF,CAAO,GAAP,CAAhB;AAA4B;;AAAA,WAAS9J,CAAT,CAAWL,CAAX,EAAa;AAAC,SAAI,IAAII,CAAC,GAAC,EAAN,EAASC,CAAC,GAACL,CAAC,CAAC2G,KAAF,CAAQ,GAAR,CAAX,EAAwBrG,CAAC,GAAC,CAA9B,EAAgCA,CAAC,GAACD,CAAC,CAACoB,MAApC,EAA2CnB,CAAC,EAA5C;AAA+CF,MAAAA,CAAC,CAAC0F,IAAF,CAAO/E,CAAC,CAACV,CAAC,CAACC,CAAD,CAAF,CAAR;AAA/C;;AAA+D,WAAOF,CAAP;AAAS;;AAAA,WAASE,CAAT,CAAWN,CAAX,EAAaI,CAAb,EAAe;AAAC,QAAGI,CAAC,CAACJ,CAAD,CAAJ,EAAQ;AAAC,WAAI,IAAIW,CAAC,GAACP,CAAC,CAACJ,CAAD,CAAP,EAAWC,CAAC,GAAC,CAAjB,EAAmBA,CAAC,GAACU,CAAC,CAACU,MAAvB,EAA8BpB,CAAC,EAA/B;AAAkCU,QAAAA,CAAC,CAACV,CAAD,CAAD,CAAKL,CAAL;AAAlC;;AAA0C,UAAGS,CAAC,CAACL,CAAD,CAAD,IAAMJ,CAAT,EAAW,OAAOG,MAAM,CAAC4K,KAAP,CAAa/K,CAAb,EAAgBooC,eAAhB,IAAkC,CAAC,CAA1C;AAA4C;AAAC;;AAAA,WAAS7nC,CAAT,CAAWH,CAAX,EAAa;AAAC,WAAOE,CAAC,CAACF,CAAD,EAAGJ,CAAC,CAACI,CAAD,CAAJ,CAAR;AAAiB;;AAAA,MAAII,CAAC,GAAC,EAAN;AAAA,MAASC,CAAC,GAAC,EAAX;AAAA,MAAcyF,CAAC,GAAC;AAAC6qC,IAAAA,SAAS,EAAC,CAAX;AAAaC,IAAAA,GAAG,EAAC,CAAjB;AAAmBC,IAAAA,KAAK,EAAC,EAAzB;AAA4B,cAAS,EAArC;AAAwC3nC,IAAAA,KAAK,EAAC,EAA9C;AAAiD4nC,IAAAA,IAAI,EAAC,EAAtD;AAAyDC,IAAAA,OAAO,EAAC,EAAjE;AAAoEC,IAAAA,GAAG,EAAC,EAAxE;AAA2E,QAAG,EAA9E;AAAiFC,IAAAA,QAAQ,EAAC,EAA1F;AAA6FC,IAAAA,GAAG,EAAC,EAAjG;AAAoGC,IAAAA,MAAM,EAAC,EAA3G;AAA8GC,IAAAA,KAAK,EAAC,EAApH;AAAuHC,IAAAA,MAAM,EAAC,EAA9H;AAAiIC,IAAAA,QAAQ,EAAC,EAA1I;AAA6IC,IAAAA,GAAG,EAAC,EAAjJ;AAAoJC,IAAAA,IAAI,EAAC,EAAzJ;AAA4J3/B,IAAAA,IAAI,EAAC,EAAjK;AAAoK4/B,IAAAA,EAAE,EAAC,EAAvK;AAA0K7+B,IAAAA,KAAK,EAAC,EAAhL;AAAmL8+B,IAAAA,IAAI,EAAC,EAAxL;AAA2LC,IAAAA,GAAG,EAAC,EAA/L;AAAkMC,IAAAA,IAAI,EAAC,EAAvM;AAA0MC,IAAAA,OAAO,EAAC,EAAlN;AAAqN,SAAI,GAAzN;AAA6N,SAAI,GAAjO;AAAqO,SAAI,GAAzO;AAA6O,SAAI,GAAjP;AAAqP,SAAI,GAAzP;AAA6P,SAAI,GAAjQ;AAAqQ,SAAI,GAAzQ;AAA6Q,SAAI,GAAjR;AAAqR,UAAK,GAA1R;AAA8R,SAAI,GAAlS;AAAsS,SAAI;AAA1S,GAAhB;AAA+T,SAAM,CAAC,CAAD,KAAKptC,SAAS,CAACqtC,UAAV,CAAqBtY,OAArB,CAA6B,KAA7B,CAAL,KAA2C1zB,CAAC,CAACirC,OAAF,GAAU,EAArD,GAAyDjiB,CAAC,CAAChsB,QAAD,CAAD,CAAYud,EAAZ,CAAe,SAAf,EAAyBlgB,CAAzB,CAAzD,EAAqF;AAAC6E,IAAAA,IAAI,EAAC,cAASpF,CAAT,EAAWI,CAAX,EAAaW,CAAb,EAAe;AAAC,WAAI,IAAIT,CAAC,GAACD,CAAC,CAACL,CAAD,CAAP,EAAWO,CAAC,GAACD,CAAC,CAACmB,MAAF,GAAS,CAA1B,EAA4BlB,CAAC,IAAE,CAA/B,EAAiCA,CAAC,EAAlC;AAAqCJ,QAAAA,MAAM,CAAC0S,OAAP,CAAerS,CAAC,CAACF,CAAC,CAACC,CAAD,CAAF,CAAhB,MAA0BC,CAAC,CAACF,CAAC,CAACC,CAAD,CAAF,CAAD,GAAQ,EAAlC,GAAsCC,CAAC,CAACF,CAAC,CAACC,CAAD,CAAF,CAAD,CAAQuF,IAAR,CAAa1F,CAAb,CAAtC,EAAsDK,CAAC,CAACH,CAAC,CAACC,CAAD,CAAF,CAAD,GAAQ,CAAC,CAACQ,CAAhE;AAArC;AAAuG,KAA7H;AAA8HoxC,IAAAA,UAAU,EAAC,oBAASnyC,CAAT,EAAW;AAAC,aAAOI,CAAC,CAACJ,CAAD,CAAR;AAAY,KAAjK;AAAkKoyC,IAAAA,aAAa,EAAC,uBAAShyC,CAAT,EAAW;AAAC,aAAM,YAAU,OAAOA,CAAjB,GAAmBW,CAAC,CAACX,CAAD,CAApB,GAAwBJ,CAAC,CAACI,CAAD,CAA/B;AAAmC,KAA/N;AAAgOiyC,IAAAA,uBAAuB,EAAC,iCAASjyC,CAAT,EAAWC,CAAX,EAAa;AAAC,aAAOL,CAAC,CAACI,CAAD,CAAD,KAAOW,CAAC,CAACV,CAAD,CAAf;AAAmB,KAAzR;AAA0R6K,IAAAA,OAAO,EAAC,iBAASlL,CAAT,EAAWI,CAAX,EAAa;AAACE,MAAAA,CAAC,CAACN,CAAD,EAAGI,CAAH,CAAD;AAAO;AAAvT,GAA3F;AAAoZ,CAA91C,EAvGn6M","sourcesContent":["/*! jQuery UI - v1.11.3 - 2015-03-05\n* http://jqueryui.com\n* Includes: core.js, widget.js, mouse.js, draggable.js, droppable.js, resizable.js, sortable.js\n* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */\n!function(t){\"function\"==typeof define&&define.amd?define([\"jquery\"],t):t(jQuery)}(function(t){function e(e,n){var s,o,r,a=e.nodeName.toLowerCase();return\"area\"===a?(o=(s=e.parentNode).name,!(!e.href||!o||\"map\"!==s.nodeName.toLowerCase())&&(!!(r=t(\"img[usemap='#\"+o+\"']\")[0])&&i(r))):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:\"a\"===a&&e.href||n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return\"hidden\"===t.css(this,\"visibility\")}).length}var n,s,o,r;\n/*!\n * jQuery UI Core 1.11.3\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\nt.ui=t.ui||{},t.extend(t.ui,{version:\"1.11.3\",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css(\"position\"),n=\"absolute\"===i,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!n||\"static\"!==e.css(\"position\"))&&s.test(e.css(\"overflow\")+e.css(\"overflow-y\")+e.css(\"overflow-x\"))}).eq(0);return\"fixed\"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:(n=0,function(){return this.each(function(){this.id||(this.id=\"ui-id-\"+ ++n)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\\d+$/.test(this.id)&&t(this).removeAttr(\"id\")})}}),t.extend(t.expr[\":\"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,\"tabindex\")))},tabbable:function(i){var n=t.attr(i,\"tabindex\"),s=isNaN(n);return(s||n>=0)&&e(i,!s)}}),t(\"<a>\").outerWidth(1).jquery||t.each([\"Width\",\"Height\"],function(e,i){function n(e,i,n,o){return t.each(s,function(){i-=parseFloat(t.css(e,\"padding\"+this))||0,n&&(i-=parseFloat(t.css(e,\"border\"+this+\"Width\"))||0),o&&(i-=parseFloat(t.css(e,\"margin\"+this))||0)}),i}var s=\"Width\"===i?[\"Left\",\"Right\"]:[\"Top\",\"Bottom\"],o=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn[\"inner\"+i]=function(e){return e===undefined?r[\"inner\"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+\"px\")})},t.fn[\"outer\"+i]=function(e,s){return\"number\"!=typeof e?r[\"outer\"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,s)+\"px\")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t(\"<a>\").data(\"a-b\",\"a\").removeData(\"a-b\").data(\"a-b\")&&(t.fn.removeData=(s=t.fn.removeData,function(e){return arguments.length?s.call(this,t.camelCase(e)):s.call(this)})),t.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:(r=t.fn.focus,function(e,i){return\"number\"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):r.apply(this,arguments)}),disableSelection:(o=\"onselectstart\"in document.createElement(\"div\")?\"selectstart\":\"mousedown\",function(){return this.bind(o+\".ui-disableSelection\",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(\".ui-disableSelection\")},zIndex:function(e){if(e!==undefined)return this.css(\"zIndex\",e);if(this.length)for(var i,n,s=t(this[0]);s.length&&s[0]!==document;){if((\"absolute\"===(i=s.css(\"position\"))||\"relative\"===i||\"fixed\"===i)&&(n=parseInt(s.css(\"zIndex\"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var s,o=t.ui[e].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i,n){var s,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;s<o.length;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,i)}};\n/*!\n * jQuery UI Widget 1.11.3\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/jQuery.widget/\n */\nvar a=0,h=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{(n=t._data(s,\"events\"))&&n.remove&&t(s).triggerHandler(\"remove\")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,o,r,a,h={},l=e.split(\".\")[0];return e=e.split(\".\")[1],s=l+\"-\"+e,n||(n=i,i=t.Widget),t.expr[\":\"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(n,function(e,n){var s,o;t.isFunction(n)?h[e]=(s=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=s,this._superApply=o,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}):h[e]=n}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},h,{constructor:r,namespace:l,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+\".\"+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,n,s=h.call(arguments,1),o=0,r=s.length;o<r;o++)for(i in s[o])n=s[o][i],s[o].hasOwnProperty(i)&&n!==undefined&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(s){var o=\"string\"==typeof s,r=h.call(arguments,1),a=this;return o?this.each(function(){var i,o=t.data(this,n);return\"instance\"===s?(a=o,!1):o?t.isFunction(o[s])&&\"_\"!==s.charAt(0)?(i=o[s].apply(o,r))!==o&&i!==undefined?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0:t.error(\"no such method '\"+s+\"' for \"+e+\" widget instance\"):t.error(\"cannot call methods on \"+e+\" prior to initialization; attempted to call method '\"+s+\"'\")}):(r.length&&(s=t.widget.extend.apply(null,[s].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(s||{}),e._init&&e._init()):t.data(this,n,new i(s,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:\"widget\",widgetEventPrefix:\"\",defaultElement:\"<div>\",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=a++,this.eventNamespace=\".\"+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger(\"create\",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr(\"aria-disabled\").removeClass(this.widgetFullName+\"-disabled ui-state-disabled\"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if(\"string\"==typeof e)if(r={},e=(n=e.split(\".\")).shift(),n.length){for(s=r[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(e=n.pop(),1===arguments.length)return s[e]===undefined?null:s[e];s[e]=i}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,\"disabled\"===t&&(this.widget().toggleClass(this.widgetFullName+\"-disabled\",!!e),e&&(this.hoverable.removeClass(\"ui-state-hover\"),this.focusable.removeClass(\"ui-state-focus\"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,o=this;\"boolean\"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,r){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass(\"ui-state-disabled\"))return(\"string\"==typeof r?o[r]:r).apply(o,arguments)}\"string\"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var h=n.match(/^([\\w:-]*)\\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?s.delegate(c,l,a):i.bind(l,a)})},_off:function(e,i){i=(i||\"\").split(\" \").join(this.eventNamespace+\" \")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return(\"string\"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass(\"ui-state-hover\")},mouseleave:function(e){t(e.currentTarget).removeClass(\"ui-state-hover\")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass(\"ui-state-focus\")},focusout:function(e){t(e.currentTarget).removeClass(\"ui-state-focus\")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:\"fadeIn\",hide:\"fadeOut\"},function(e,i){t.Widget.prototype[\"_\"+e]=function(n,s,o){\"string\"==typeof s&&(s={effect:s});var r,a=s?!0===s||\"number\"==typeof s?i:s.effect||i:e;\"number\"==typeof(s=s||{})&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}});t.widget;\n/*!\n * jQuery UI Mouse 1.11.3\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/mouse/\n */var l=!1;t(document).mouseup(function(){l=!1});t.widget(\"ui.mouse\",{version:\"1.11.3\",options:{cancel:\"input,textarea,button,select,option\",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind(\"mousedown.\"+this.widgetName,function(t){return e._mouseDown(t)}).bind(\"click.\"+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+\".preventClickEvent\"))return t.removeData(i.target,e.widgetName+\".preventClickEvent\"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind(\".\"+this.widgetName),this._mouseMoveDelegate&&this.document.unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!l){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,s=!(\"string\"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!s&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+\".preventClickEvent\")&&t.removeData(e.target,this.widgetName+\".preventClickEvent\"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).bind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),e.preventDefault(),l=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind(\"mousemove.\"+this.widgetName,this._mouseMoveDelegate).unbind(\"mouseup.\"+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+\".preventClickEvent\",!0),this._mouseStop(e)),l=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});\n/*!\n * jQuery UI Draggable 1.11.3\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/draggable/\n */t.widget(\"ui.draggable\",t.ui.mouse,{version:\"1.11.3\",widgetEventPrefix:\"drag\",options:{addClasses:!0,appendTo:\"parent\",axis:!1,connectToSortable:!1,containment:!1,cursor:\"auto\",cursorAt:!1,grid:!1,handle:!1,helper:\"original\",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:\"default\",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:\"both\",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){\"original\"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass(\"ui-draggable\"),this.options.disabled&&this.element.addClass(\"ui-draggable-disabled\"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),\"handle\"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(\".ui-draggable-dragging\")?this.destroyOnClear=!0:(this.element.removeClass(\"ui-draggable ui-draggable-dragging ui-draggable-disabled\"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),!(this.helper||i.disabled||t(e.target).closest(\".ui-resizable-handle\").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===i.iframeFix?\"iframe\":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t(\"<div>\").css(\"position\",\"absolute\").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&\"body\"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(n){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass(\"ui-draggable-dragging\"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css(\"position\"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return\"fixed\"===t(this).css(\"position\")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger(\"start\",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo(\"absolute\"),!i){var n=this._uiHash();if(!1===this._trigger(\"drag\",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+\"px\",this.helper[0].style.top=this.position.top+\"px\",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),\"invalid\"===this.options.revert&&!n||\"valid\"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger(\"stop\",e)&&i._clear()}):!1!==this._trigger(\"stop\",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(\".ui-draggable-dragging\")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass(\"ui-draggable-handle\")},_removeHandleClassName:function(){this.handleElement.removeClass(\"ui-draggable-handle\")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),s=n?t(i.helper.apply(this.element[0],[e])):\"clone\"===i.helper?this.element.clone().removeAttr(\"id\"):this.element;return s.parents(\"body\").length||s.appendTo(\"parent\"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css(\"position\"))||s.css(\"position\",\"absolute\"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css(\"position\"))||(this.element[0].style.position=\"relative\")},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css(\"marginLeft\"),10)||0,top:parseInt(this.element.css(\"marginTop\"),10)||0,right:parseInt(this.element.css(\"marginRight\"),10)||0,bottom:parseInt(this.element.css(\"marginBottom\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options,o=this.document[0];this.relativeContainer=null,s.containment?\"window\"!==s.containment?\"document\"!==s.containment?s.containment.constructor!==Array?(\"parent\"===s.containment&&(s.containment=this.helper[0].parentNode),(n=(i=t(s.containment))[0])&&(e=/(scroll|auto)/.test(i.css(\"overflow\")),this.containment=[(parseInt(i.css(\"borderLeftWidth\"),10)||0)+(parseInt(i.css(\"paddingLeft\"),10)||0),(parseInt(i.css(\"borderTopWidth\"),10)||0)+(parseInt(i.css(\"paddingTop\"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css(\"borderRightWidth\"),10)||0)-(parseInt(i.css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css(\"borderBottomWidth\"),10)||0)-(parseInt(i.css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=s.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i=\"absolute\"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-(\"fixed\"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-(\"fixed\"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,s,o,r=this.options,a=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),r.grid&&(s=r.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,l=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-r.grid[1]:s+r.grid[1]:s,o=r.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o),\"y\"===r.axis&&(h=this.originalPageX),\"x\"===r.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass(\"ui-draggable-dragging\"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){\"y\"!==this.options.axis&&\"auto\"!==this.helper.css(\"right\")&&(this.helper.width(this.helper.width()),this.helper.css(\"right\",\"auto\")),\"x\"!==this.options.axis&&\"auto\"!==this.helper.css(\"bottom\")&&(this.helper.height(this.helper.height()),this.helper.css(\"bottom\",\"auto\"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo(\"absolute\"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add(\"draggable\",\"connectToSortable\",{start:function(e,i,n){var s=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable(\"instance\");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger(\"activate\",e,s))})},stop:function(e,i,n){var s=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css(\"position\"),top:t.placeholder.css(\"top\"),left:t.placeholder.css(\"left\")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger(\"deactivate\",e,s))})},drag:function(e,i,n){t.each(n.sortables,function(){var s=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(s=!1),s})),s?(o.isOver||(o.isOver=1,o.currentItem=i.helper.appendTo(o.element).data(\"ui-sortable-item\",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger(\"toSortable\",e),n.dropped=o.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger(\"out\",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger(\"fromSortable\",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add(\"draggable\",\"cursor\",{start:function(e,i,n){var s=t(\"body\"),o=n.options;s.css(\"cursor\")&&(o._cursor=s.css(\"cursor\")),s.css(\"cursor\",o.cursor)},stop:function(e,i,n){var s=n.options;s._cursor&&t(\"body\").css(\"cursor\",s._cursor)}}),t.ui.plugin.add(\"draggable\",\"opacity\",{start:function(e,i,n){var s=t(i.helper),o=n.options;s.css(\"opacity\")&&(o._opacity=s.css(\"opacity\")),s.css(\"opacity\",o.opacity)},stop:function(e,i,n){var s=n.options;s._opacity&&t(i.helper).css(\"opacity\",s._opacity)}}),t.ui.plugin.add(\"draggable\",\"scroll\",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&\"HTML\"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var s=n.options,o=!1,r=n.scrollParentNotHidden[0],a=n.document[0];r!==a&&\"HTML\"!==r.tagName?(s.axis&&\"x\"===s.axis||(n.overflowOffset.top+r.offsetHeight-e.pageY<s.scrollSensitivity?r.scrollTop=o=r.scrollTop+s.scrollSpeed:e.pageY-n.overflowOffset.top<s.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-s.scrollSpeed)),s.axis&&\"y\"===s.axis||(n.overflowOffset.left+r.offsetWidth-e.pageX<s.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+s.scrollSpeed:e.pageX-n.overflowOffset.left<s.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-s.scrollSpeed))):(s.axis&&\"x\"===s.axis||(e.pageY-t(a).scrollTop()<s.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<s.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+s.scrollSpeed))),s.axis&&\"y\"===s.axis||(e.pageX-t(a).scrollLeft()<s.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<s.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+s.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add(\"draggable\",\"snap\",{start:function(e,i,n){var s=n.options;n.snapElements=[],t(s.snap.constructor!==String?s.snap.items||\":data(ui-draggable)\":s.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var s,o,r,a,h,l,c,u,p,d,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(p=n.snapElements.length-1;p>=0;p--)l=(h=n.snapElements[p].left-n.margins.left)+n.snapElements[p].width,u=(c=n.snapElements[p].top-n.margins.top)+n.snapElements[p].height,v<h-m||g>l+m||_<c-m||y>u+m||!t.contains(n.snapElements[p].item.ownerDocument,n.snapElements[p].item)?(n.snapElements[p].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[p].item})),n.snapElements[p].snapping=!1):(\"inner\"!==f.snapMode&&(s=Math.abs(c-_)<=m,o=Math.abs(u-y)<=m,r=Math.abs(h-v)<=m,a=Math.abs(l-g)<=m,s&&(i.position.top=n._convertPositionTo(\"relative\",{top:c-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo(\"relative\",{top:u,left:0}).top),r&&(i.position.left=n._convertPositionTo(\"relative\",{top:0,left:h-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo(\"relative\",{top:0,left:l}).left)),d=s||o||r||a,\"outer\"!==f.snapMode&&(s=Math.abs(c-y)<=m,o=Math.abs(u-_)<=m,r=Math.abs(h-g)<=m,a=Math.abs(l-v)<=m,s&&(i.position.top=n._convertPositionTo(\"relative\",{top:c,left:0}).top),o&&(i.position.top=n._convertPositionTo(\"relative\",{top:u-n.helperProportions.height,left:0}).top),r&&(i.position.left=n._convertPositionTo(\"relative\",{top:0,left:h}).left),a&&(i.position.left=n._convertPositionTo(\"relative\",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[p].snapping&&(s||o||r||a||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[p].item})),n.snapElements[p].snapping=s||o||r||a||d)}}),t.ui.plugin.add(\"draggable\",\"stack\",{start:function(e,i,n){var s,o=n.options,r=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css(\"zIndex\"),10)||0)-(parseInt(t(i).css(\"zIndex\"),10)||0)});r.length&&(s=parseInt(t(r[0]).css(\"zIndex\"),10)||0,t(r).each(function(e){t(this).css(\"zIndex\",s+e)}),this.css(\"zIndex\",s+r.length))}}),t.ui.plugin.add(\"draggable\",\"zIndex\",{start:function(e,i,n){var s=t(i.helper),o=n.options;s.css(\"zIndex\")&&(o._zIndex=s.css(\"zIndex\")),s.css(\"zIndex\",o.zIndex)},stop:function(e,i,n){var s=n.options;s._zIndex&&t(i.helper).css(\"zIndex\",s._zIndex)}});t.ui.draggable;\n/*!\n * jQuery UI Droppable 1.11.3\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/droppable/\n */t.widget(\"ui.droppable\",{version:\"1.11.3\",widgetEventPrefix:\"drop\",options:{accept:\"*\",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:\"default\",tolerance:\"intersect\",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this.element.addClass(\"ui-droppable\")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass(\"ui-droppable ui-droppable-disabled\")},_setOption:function(e,i){if(\"accept\"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if(\"scope\"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger(\"activate\",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger(\"deactivate\",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger(\"over\",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"out\",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,s=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(\":data(ui-droppable)\").not(\".ui-draggable-dragging\").each(function(){var i=t(this).droppable(\"instance\");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e))return s=!0,!1}),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger(\"drop\",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,n,s){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,r=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,h=r+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,p=c+i.proportions().height;switch(n){case\"fit\":return l<=o&&a<=u&&c<=r&&h<=p;case\"intersect\":return l<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<u&&c<r+e.helperProportions.height/2&&h-e.helperProportions.height/2<p;case\"pointer\":return t(s.pageY,c,i.proportions().height)&&t(s.pageX,l,i.proportions().width);case\"touch\":return(r>=c&&r<=p||h>=c&&h<=p||r<c&&h>p)&&(o>=l&&o<=u||a>=l&&a<=u||o<l&&a>u);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{\"default\":[]},prepareOffsets:function(e,i){var n,s,o=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,a=(e.currentItem||e.element).find(\":data(ui-droppable)\").addBack();t:for(n=0;n<o.length;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(s=0;s<a.length;s++)if(a[s]===o[n].element[0]){o[n].proportions().height=0;continue t}o[n].visible=\"none\"!==o[n].element.css(\"display\"),o[n].visible&&(\"mousedown\"===r&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions({width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil(\"body\").bind(\"scroll.droppable\",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,o,r=t.ui.intersect(e,this,this.options.tolerance,i),a=!r&&this.isover?\"isout\":r&&!this.isover?\"isover\":null;a&&(this.options.greedy&&(s=this.options.scope,(o=this.element.parents(\":data(ui-droppable)\").filter(function(){return t(this).droppable(\"instance\").options.scope===s})).length&&((n=t(o[0]).droppable(\"instance\")).greedyChild=\"isover\"===a)),n&&\"isover\"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this[\"isout\"===a?\"isover\":\"isout\"]=!1,this[\"isover\"===a?\"_over\":\"_out\"].call(this,i),n&&\"isout\"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil(\"body\").unbind(\"scroll.droppable\"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}};t.ui.droppable;\n/*!\n * jQuery UI Resizable 1.11.3\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/resizable/\n */t.widget(\"ui.resizable\",t.ui.mouse,{version:\"1.11.3\",widgetEventPrefix:\"resize\",options:{alsoResize:!1,animate:!1,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:\"e,s,se\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if(\"hidden\"===t(e).css(\"overflow\"))return!1;var n=i&&\"left\"===i?\"scrollLeft\":\"scrollTop\",s=!1;return e[n]>0||(e[n]=1,s=e[n]>0,e[n]=0,s)},_create:function(){var e,i,n,s,o=this,r=this.options;if(this.element.addClass(\"ui-resizable\"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||\"ui-resizable-helper\":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t(\"<div class='ui-wrapper' style='overflow: hidden;'></div>\").css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")})),this.element=this.element.parent().data(\"ui-resizable\",this.element.resizable(\"instance\")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(\"marginLeft\"),marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(\"resize\"),this.originalElement.css(\"resize\",\"none\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"})),this.originalElement.css({margin:this.originalElement.css(\"margin\")}),this._proportionallyResize()),this.handles=r.handles||(t(\".ui-resizable-handle\",this.element).length?{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"}:\"e,s,se\"),this.handles.constructor===String)for(\"all\"===this.handles&&(this.handles=\"n,e,s,w,se,sw,ne,nw\"),e=this.handles.split(\",\"),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),(s=t(\"<div class='ui-resizable-handle \"+(\"ui-resizable-\"+n)+\"'></div>\")).css({zIndex:r.zIndex}),\"se\"===n&&s.addClass(\"ui-icon ui-icon-gripsmall-diagonal-se\"),this.handles[n]=\".ui-resizable-\"+n,this.element.append(s);this._renderAxis=function(e){var i,n,s,o;for(i in e=e||this.element,this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=[\"padding\",/ne|nw|n/.test(i)?\"Top\":/se|sw|s/.test(i)?\"Bottom\":/^e$/.test(i)?\"Right\":\"Left\"].join(\"\"),e.css(s,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(\".ui-resizable-handle\",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=s&&s[1]?s[1]:\"se\")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass(\"ui-resizable-autohide\").mouseenter(function(){r.disabled||(t(this).removeClass(\"ui-resizable-autohide\"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass(\"ui-resizable-autohide\"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\").removeData(\"resizable\").removeData(\"ui-resizable\").unbind(\".resizable\").find(\".ui-resizable-handle\").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css(\"position\"),width:e.outerWidth(),height:e.outerHeight(),top:e.css(\"top\"),left:e.css(\"left\")}).insertAfter(e),e.remove()),this.originalElement.css(\"resize\",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(e){var i,n,s,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css(\"left\")),n=this._num(this.helper.css(\"top\")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=\"number\"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(\".ui-resizable-\"+this.axis).css(\"cursor\"),t(\"body\").css(\"cursor\",\"auto\"===s?this.axis+\"-resize\":s),r.addClass(\"ui-resizable-resizing\"),this._propagate(\"start\",e),!0},_mouseDrag:function(e){var i,n,s=this.originalMousePosition,o=this.axis,r=e.pageX-s.left||0,a=e.pageY-s.top||0,h=this._change[o];return this._updatePrevProperties(),!!h&&(i=h.apply(this,[e,r,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate(\"resize\",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger(\"resize\",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,s,o,r,a,h,l=this.options,c=this;return this._helper&&(s=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],\"left\")?0:c.sizeDiff.height,o=n?0:c.sizeDiff.width,r={width:c.helper.width()-o,height:c.helper.height()-s},a=parseInt(c.element.css(\"left\"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css(\"top\"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(r,{top:h,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t(\"body\").css(\"cursor\",\"auto\"),this.element.removeClass(\"ui-resizable-resizing\"),this._propagate(\"stop\",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+\"px\"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+\"px\"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+\"px\"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+\"px\"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,s,o,r=this.options;o={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:Infinity,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:Infinity},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),s<o.maxHeight&&(o.maxHeight=s)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),\"sw\"===n&&(t.left=e.left+(i.width-t.width),t.top=null),\"nw\"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,r=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),o&&l&&(t.left=a-e.minWidth),n&&l&&(t.left=a-e.maxWidth),r&&c&&(t.top=h-e.minHeight),s&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css(\"borderTopWidth\"),t.css(\"borderRightWidth\"),t.css(\"borderBottomWidth\"),t.css(\"borderLeftWidth\")],s=[t.css(\"paddingTop\"),t.css(\"paddingRight\"),t.css(\"paddingBottom\"),t.css(\"paddingLeft\")];e<4;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(s[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t(\"<div style='overflow:hidden;'></div>\"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:\"absolute\",left:this.elementOffset.left+\"px\",top:this.elementOffset.top+\"px\",zIndex:++i.zIndex}),this.helper.appendTo(\"body\").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),\"resize\"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add(\"resizable\",\"animate\",{stop:function(e){var i=t(this).resizable(\"instance\"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),r=o&&i._hasScroll(s[0],\"left\")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,h={width:i.size.width-a,height:i.size.height-r},l=parseInt(i.element.css(\"left\"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css(\"top\"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css(\"width\"),10),height:parseInt(i.element.css(\"height\"),10),top:parseInt(i.element.css(\"top\"),10),left:parseInt(i.element.css(\"left\"),10)};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate(\"resize\",e)}})}}),t.ui.plugin.add(\"resizable\",\"containment\",{start:function(){var e,i,n,s,o,r,a,h=t(this).resizable(\"instance\"),l=h.options,c=h.element,u=l.containment,p=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;p&&(h.containerElement=t(p),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(p),i=[],t([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(t,n){i[t]=h._num(e.css(\"padding\"+n))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=h.containerOffset,s=h.containerSize.height,o=h.containerSize.width,r=h._hasScroll(p,\"left\")?p.scrollWidth:o,a=h._hasScroll(p)?p.scrollHeight:s,h.parentData={element:p,left:n.left,top:n.top,width:r,height:a}))},resize:function(e){var i,n,s,o,r=t(this).resizable(\"instance\"),a=r.options,h=r.containerOffset,l=r.position,c=r._aspectRatio||e.shiftKey,u={top:0,left:0},p=r.containerElement,d=!0;p[0]!==document&&/static/.test(p.css(\"position\"))&&(u=h),l.left<(r._helper?h.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-h.left:r.position.left-u.left),c&&(r.size.height=r.size.width/r.aspectRatio,d=!1),r.position.left=a.helper?h.left:0),l.top<(r._helper?h.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-h.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio,d=!1),r.position.top=r._helper?h.top:0),s=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css(\"position\")),s&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-u.left:r.offset.left-h.left)),n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-u.top:r.offset.top-h.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,c&&(r.size.height=r.size.width/r.aspectRatio,d=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,c&&(r.size.width=r.size.height*r.aspectRatio,d=!1)),d||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var e=t(this).resizable(\"instance\"),i=e.options,n=e.containerOffset,s=e.containerPosition,o=e.containerElement,r=t(e.helper),a=r.offset(),h=r.outerWidth()-e.sizeDiff.width,l=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css(\"position\"))&&t(this).css({left:a.left-s.left-n.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css(\"position\"))&&t(this).css({left:a.left-s.left-n.left,width:h,height:l})}}),t.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(){var e=t(this).resizable(\"instance\").options,i=function(e){t(e).each(function(){var e=t(this);e.data(\"ui-resizable-alsoresize\",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css(\"left\"),10),top:parseInt(e.css(\"top\"),10)})})};\"object\"!=typeof e.alsoResize||e.alsoResize.parentNode?i(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],i(e.alsoResize)):t.each(e.alsoResize,function(t){i(t)})},resize:function(e,i){var n=t(this).resizable(\"instance\"),s=n.options,o=n.originalSize,r=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},h=function(e,n){t(e).each(function(){var e=t(this),s=t(this).data(\"ui-resizable-alsoresize\"),o={},r=n&&n.length?n:e.parents(i.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];t.each(r,function(t,e){var i=(s[e]||0)+(a[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};\"object\"!=typeof s.alsoResize||s.alsoResize.nodeType?h(s.alsoResize):t.each(s.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData(\"resizable-alsoresize\")}}),t.ui.plugin.add(\"resizable\",\"ghost\",{start:function(){var e=t(this).resizable(\"instance\"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:\"block\",position:\"relative\",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass(\"ui-resizable-ghost\").addClass(\"string\"==typeof i.ghost?i.ghost:\"\"),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable(\"instance\");e.ghost&&e.ghost.css({position:\"relative\",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable(\"instance\");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add(\"resizable\",\"grid\",{resize:function(){var e,i=t(this).resizable(\"instance\"),n=i.options,s=i.size,o=i.originalSize,r=i.originalPosition,a=i.axis,h=\"number\"==typeof n.grid?[n.grid,n.grid]:n.grid,l=h[0]||1,c=h[1]||1,u=Math.round((s.width-o.width)/l)*l,p=Math.round((s.height-o.height)/c)*c,d=o.width+u,f=o.height+p,m=n.maxWidth&&n.maxWidth<d,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>d,y=n.minHeight&&n.minHeight>f;n.grid=h,v&&(d+=l),y&&(f+=c),m&&(d-=l),g&&(f-=c),/^(se|s|e)$/.test(a)?(i.size.width=d,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=d,i.size.height=f,i.position.top=r.top-p):/^(sw)$/.test(a)?(i.size.width=d,i.size.height=f,i.position.left=r.left-u):((f-c<=0||d-l<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=r.top-p):(f=c-e.height,i.size.height=f,i.position.top=r.top+o.height-f),d-l>0?(i.size.width=d,i.position.left=r.left-u):(d=l-e.width,i.size.width=d,i.position.left=r.left+o.width-d))}});t.ui.resizable,t.widget(\"ui.sortable\",t.ui.mouse,{version:\"1.11.3\",widgetEventPrefix:\"sort\",ready:!1,options:{appendTo:\"parent\",axis:!1,connectWith:!1,containment:!1,cursor:\"auto\",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:\"original\",items:\"> *\",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:\"default\",tolerance:\"intersect\",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css(\"float\"))||/inline|table-cell/.test(t.css(\"display\"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass(\"ui-sortable\"),this.refresh(),this.floating=!!this.items.length&&(\"x\"===t.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),\"handle\"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(\".ui-sortable-handle\").removeClass(\"ui-sortable-handle\"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass(\"ui-sortable-handle\")})},_destroy:function(){this.element.removeClass(\"ui-sortable ui-sortable-disabled\").find(\".ui-sortable-handle\").removeClass(\"ui-sortable-handle\"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+\"-item\");return this},_mouseCapture:function(e,i){var n=null,s=!1,o=this;return!this.reverting&&(!this.options.disabled&&\"static\"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+\"-item\")===o)return n=t(this),!1}),t.data(e.target,o.widgetName+\"-item\")===o&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find(\"*\").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var s,o,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css(\"position\",\"absolute\"),this.cssPosition=this.helper.css(\"position\"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&\"auto\"!==r.cursor&&(o=this.document.find(\"body\"),this.storedCursor=o.css(\"cursor\"),o.css(\"cursor\",r.cursor),this.storedStylesheet=t(\"<style>*{ cursor: \"+r.cursor+\" !important; }</style>\").appendTo(o)),r.opacity&&(this.helper.css(\"opacity\")&&(this._storedOpacity=this.helper.css(\"opacity\")),this.helper.css(\"opacity\",r.opacity)),r.zIndex&&(this.helper.css(\"zIndex\")&&(this._storedZIndex=this.helper.css(\"zIndex\")),this.helper.css(\"zIndex\",r.zIndex)),this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger(\"start\",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger(\"activate\",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass(\"ui-sortable-helper\"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,o,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo(\"absolute\"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&\"HTML\"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),e.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo(\"absolute\"),this.options.axis&&\"y\"===this.options.axis||(this.helper[0].style.left=this.position.left+\"px\"),this.options.axis&&\"x\"===this.options.axis||(this.helper[0].style.top=this.position.top+\"px\"),i=this.items.length-1;i>=0;i--)if(s=(n=this.items[i]).item[0],(o=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===o?\"next\":\"prev\"]()[0]===s||t.contains(this.placeholder[0],s)||\"semi-dynamic\"===this.options.type&&t.contains(this.element[0],s))){if(this.direction=1===o?\"down\":\"up\",\"pointer\"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger(\"change\",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger(\"sort\",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,r={};o&&\"x\"!==o||(r.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&\"y\"!==o||(r.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),\"original\"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger(\"deactivate\",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger(\"out\",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),\"original\"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||\"id\")||\"\").match(e.expression||/(.+)[\\-=_](.+)/);i&&n.push((e.key||i[1]+\"[]\")+\"=\"+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+\"=\"),n.join(\"&\")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||\"id\")||\"\")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=t.left,r=o+t.width,a=t.top,h=a+t.height,l=this.offset.click.top,c=this.offset.click.left,u=\"x\"===this.options.axis||n+l>a&&n+l<h,p=\"y\"===this.options.axis||e+c>o&&e+c<r,d=u&&p;return\"pointer\"===this.options.tolerance||this.options.forcePointerForContainers||\"pointer\"!==this.options.tolerance&&this.helperProportions[this.floating?\"width\":\"height\"]>t[this.floating?\"width\":\"height\"]?d:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e=\"x\"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i=\"y\"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&i,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!n&&(this.floating?o&&\"right\"===o||\"down\"===s?2:1:s&&(\"down\"===s?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?\"right\"===s&&i||\"left\"===s&&!i:n&&(\"down\"===n&&e||\"up\"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?\"down\":\"up\")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?\"right\":\"left\")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){a.push(this)}var n,s,o,r,a=[],h=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(s=(o=t(l[n],this.document[0])).length-1;s>=0;s--)(r=t.data(o[s],this.widgetFullName))&&r!==this&&!r.options.disabled&&h.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),r]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(\".ui-sortable-helper\").not(\".ui-sortable-placeholder\"),this]),n=h.length-1;n>=0;n--)h[n][0].each(i);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(\":data(\"+this.widgetName+\"-item)\");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,o,r,a,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(n=(s=t(p[i],this.document[0])).length-1;n>=0;n--)(o=t.data(s[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(r=u[i][1],n=0,l=(a=u[i][0]).length;n<l;n++)(h=t(a[n])).data(this.widgetName+\"-item\",r),c.push({item:h,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,s,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t(\"<\"+n+\">\",e.document[0]).addClass(i||e.currentItem[0].className+\" ui-sortable-placeholder\").removeClass(\"ui-sortable-helper\");return\"tr\"===n?e.currentItem.children().each(function(){t(\"<td>&#160;</td>\",e.document[0]).attr(\"colspan\",t(this).attr(\"colspan\")||1).appendTo(s)}):\"img\"===n&&s.attr(\"src\",e.currentItem.attr(\"src\")),i||s.css(\"visibility\",\"hidden\"),s},update:function(t,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css(\"paddingTop\")||0,10)-parseInt(e.currentItem.css(\"paddingBottom\")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css(\"paddingLeft\")||0,10)-parseInt(e.currentItem.css(\"paddingRight\")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,n,s,o,r,a,h,l,c,u,p=null,d=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(p&&t.contains(this.containers[i].element[0],p.element[0]))continue;p=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger(\"out\",e,this._uiHash(this)),this.containers[i].containerCache.over=0)\n;if(p)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger(\"over\",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(s=1e4,o=null,r=(c=p.floating||this._isFloating(this.currentItem))?\"left\":\"top\",a=c?\"width\":\"height\",u=c?\"clientX\":\"clientY\",n=this.items.length-1;n>=0;n--)t.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(h=this.items[n].item.offset()[r],l=!1,e[u]-h>this.items[n][a]/2&&(l=!0),Math.abs(e[u]-h)<s&&(s=Math.abs(e[u]-h),o=this.items[n],this.direction=l?\"up\":\"down\"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger(\"over\",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger(\"change\",e,this._uiHash()),this.containers[d]._trigger(\"change\",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger(\"over\",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):\"clone\"===i.helper?this.currentItem.clone():this.currentItem;return n.parents(\"body\").length||t(\"parent\"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css(\"position\"),top:this.currentItem.css(\"top\"),left:this.currentItem.css(\"left\")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){\"string\"==typeof e&&(e=e.split(\" \")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),\"left\"in e&&(this.offset.click.left=e.left+this.margins.left),\"right\"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),\"top\"in e&&(this.offset.click.top=e.top+this.margins.top),\"bottom\"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return\"absolute\"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&\"html\"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css(\"borderTopWidth\"),10)||0),left:e.left+(parseInt(this.offsetParent.css(\"borderLeftWidth\"),10)||0)}},_getRelativeOffset:function(){if(\"relative\"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css(\"top\"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css(\"left\"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css(\"marginLeft\"),10)||0,top:parseInt(this.currentItem.css(\"marginTop\"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;\"parent\"===s.containment&&(s.containment=this.helper[0].parentNode),\"document\"!==s.containment&&\"window\"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,\"document\"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(\"document\"===s.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n=\"hidden\"!==t(e).css(\"overflow\"),this.containment=[i.left+(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)+(parseInt(t(e).css(\"paddingLeft\"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css(\"borderTopWidth\"),10)||0)+(parseInt(t(e).css(\"paddingTop\"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css(\"borderLeftWidth\"),10)||0)-(parseInt(t(e).css(\"paddingRight\"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css(\"borderTopWidth\"),10)||0)-(parseInt(t(e).css(\"paddingBottom\"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n=\"absolute\"===e?1:-1,s=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,o=e.pageX,r=e.pageY,a=\"absolute\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(a[0].tagName);return\"relative\"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/s.grid[1])*s.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollTop():h?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(\"fixed\"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],\"down\"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){function i(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}this.reverting=!1;var n,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)\"auto\"!==this._storedCSS[n]&&\"static\"!==this._storedCSS[n]||(this._storedCSS[n]=\"\");this.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger(\"receive\",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(\".ui-sortable-helper\")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger(\"update\",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger(\"remove\",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger(\"receive\",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger(\"update\",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||s.push(i(\"deactivate\",this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(i(\"out\",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find(\"body\").css(\"cursor\",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css(\"opacity\",this._storedOpacity),this._storedZIndex&&this.helper.css(\"zIndex\",\"auto\"===this._storedZIndex?\"\":this._storedZIndex),this.dragging=!1,e||this._trigger(\"beforeStop\",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<s.length;n++)s[n].call(this,t);this._trigger(\"stop\",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})\n/*!\n * jQuery UI Sortable 1.11.3\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/sortable/\n */}),\n/*!\n * EventEmitter v4.2.11 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - http://oli.me.uk/\n * @preserve\n */\nfunction(){\"use strict\";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,s=this,o=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),o=\"object\"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===e(s[n],i)&&s[n].push(o?i:{listener:i,once:!1});return this},n.on=i(\"addListener\"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i(\"addOnceListener\"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,s,o=this.getListenersAsObject(t);for(s in o)o.hasOwnProperty(s)&&-1!==(n=e(o[s],i))&&o[s].splice(n,1);return this},n.off=i(\"removeListener\"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,o=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if(\"object\"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&(\"function\"==typeof s?o.call(this,n,s):r.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if(\"string\"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i(\"removeEvent\"),n.emitEvent=function(t,e){var i,n,s,o=this.getListenersAsObject(t);for(s in o)if(o.hasOwnProperty(s))for(n=o[s].length;n--;)!0===(i=o[s][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i(\"emitEvent\"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty(\"_onceReturnValue\")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=o,t},\"function\"==typeof define&&define.amd?define(function(){return t}):\"object\"==typeof module&&module.exports?module.exports=t:s.EventEmitter=t}.call(this),\n/*!\n * eventie v1.0.6\n * event binding helper\n *   eventie.bind( elem, 'click', myFn )\n *   eventie.unbind( elem, 'click', myFn )\n * MIT license\n */\nfunction(t){\"use strict\";function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent(\"on\"+i,t[i+n])});var s=function(){};i.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(s=function(t,e,i){t.detachEvent(\"on\"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=undefined}});var o={bind:n,unbind:s};\"function\"==typeof define&&define.amd?define(o):\"object\"==typeof exports?module.exports=o:t.eventie=o}(window),\n/*!\n * Unipointer v1.1.0\n * base class for doing one thing with pointer event\n * MIT license\n */\nfunction(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define([\"eventEmitter/EventEmitter\",\"eventie/eventie\"],function(i,n){return e(t,i,n)}):\"object\"==typeof exports?module.exports=e(t,require(\"wolfy87-eventemitter\"),require(\"eventie\")):t.Unipointer=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){\"use strict\";function n(){}function s(){}s.prototype=new e,s.prototype.bindStartEvent=function(t){this._bindStartEvent(t,!0)},s.prototype.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},s.prototype._bindStartEvent=function(e,n){var s=(n=n===undefined||!!n)?\"bind\":\"unbind\";t.navigator.pointerEnabled?i[s](e,\"pointerdown\",this):t.navigator.msPointerEnabled?i[s](e,\"MSPointerDown\",this):(i[s](e,\"mousedown\",this),i[s](e,\"touchstart\",this))},s.prototype.handleEvent=function(t){var e=\"on\"+t.type;this[e]&&this[e](t)},s.prototype.getTouch=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},s.prototype.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},s.prototype.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},s.prototype.onMSPointerDown=s.prototype.onpointerdown=function(t){this._pointerDown(t,t)},s.prototype._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=e.pointerId!==undefined?e.pointerId:e.identifier,this.pointerDown(t,e))},s.prototype.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent(\"pointerDown\",[t,e])};var o={mousedown:[\"mousemove\",\"mouseup\"],touchstart:[\"touchmove\",\"touchend\",\"touchcancel\"],pointerdown:[\"pointermove\",\"pointerup\",\"pointercancel\"],MSPointerDown:[\"MSPointerMove\",\"MSPointerUp\",\"MSPointerCancel\"]};return s.prototype._bindPostStartEvents=function(e){if(e){for(var n=o[e.type],s=e.preventDefault?t:document,r=0,a=n.length;r<a;r++){var h=n[r];i.bind(s,h,this)}this._boundPointerEvents={events:n,node:s}}},s.prototype._unbindPostStartEvents=function(){var t=this._boundPointerEvents;if(t&&t.events){for(var e=0,n=t.events.length;e<n;e++){var s=t.events[e];i.unbind(t.node,s,this)}delete this._boundPointerEvents}},s.prototype.onmousemove=function(t){this._pointerMove(t,t)},s.prototype.onMSPointerMove=s.prototype.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},s.prototype.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},s.prototype._pointerMove=function(t,e){this.pointerMove(t,e)},s.prototype.pointerMove=function(t,e){this.emitEvent(\"pointerMove\",[t,e])},s.prototype.onmouseup=function(t){this._pointerUp(t,t)},s.prototype.onMSPointerUp=s.prototype.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},s.prototype.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},s.prototype._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},s.prototype.pointerUp=function(t,e){this.emitEvent(\"pointerUp\",[t,e])},s.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},s.prototype.pointerDone=n,s.prototype.onMSPointerCancel=s.prototype.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},s.prototype.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},s.prototype._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},s.prototype.pointerCancel=function(t,e){this.emitEvent(\"pointerCancel\",[t,e])},s.getPointerPoint=function(t){return{x:t.pageX!==undefined?t.pageX:t.clientX,y:t.pageY!==undefined?t.pageY:t.clientY}},s}),\n/*!\n * Unidragger v1.1.5\n * Draggable base class\n * MIT license\n */\nfunction(t,e){\"use strict\";\"function\"==typeof define&&define.amd?define([\"eventie/eventie\",\"unipointer/unipointer\"],function(i,n){return e(t,i,n)}):\"object\"==typeof exports?module.exports=e(t,require(\"eventie\"),require(\"unipointer\")):t.Unidragger=e(t,t.eventie,t.Unipointer)}(window,function(t,e,i){\"use strict\";function n(){}function s(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function o(){}function r(){return!1}o.prototype=new i,o.prototype.bindHandles=function(){this._bindHandles(!0)},o.prototype.unbindHandles=function(){this._bindHandles(!1)};var a=t.navigator;o.prototype._bindHandles=function(t){var i;t=t===undefined||!!t,i=a.pointerEnabled?function(e){e.style.touchAction=t?\"none\":\"\"}:a.msPointerEnabled?function(e){e.style.msTouchAction=t?\"none\":\"\"}:function(){t&&h(r)};for(var n=t?\"bind\":\"unbind\",s=0,o=this.handles.length;s<o;s++){var r=this.handles[s];this._bindStartEvent(r,t),i(r),e[n](r,\"click\",this)}};var h=\"attachEvent\"in document.documentElement?function(t){\"IMG\"==t.nodeName&&(t.ondragstart=r);for(var e=t.querySelectorAll(\"img\"),i=0,n=e.length;i<n;i++){e[i].ondragstart=r}}:n;o.prototype.pointerDown=function(i,n){if(\"INPUT\"==i.target.nodeName&&\"range\"==i.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(i,n);var s=document.activeElement;s&&s.blur&&s.blur(),this._bindPostStartEvents(i),this.pointerDownScroll=o.getScrollPosition(),e.bind(t,\"scroll\",this),this.emitEvent(\"pointerDown\",[i,n])},o.prototype._dragPointerDown=function(t,e){this.pointerDownPoint=i.getPointerPoint(e);var n=\"touchstart\"==t.type,o=t.target.nodeName;n||\"SELECT\"==o||s(t)},o.prototype.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent(\"pointerMove\",[t,e,i]),this._dragMove(t,e,i)},o.prototype._dragPointerMove=function(t,e){var n=i.getPointerPoint(e),s={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(s)&&this._dragStart(t,e),s},o.prototype.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},o.prototype.pointerUp=function(t,e){this.emitEvent(\"pointerUp\",[t,e]),this._dragPointerUp(t,e)},o.prototype._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i.prototype.pointerDone=function(){e.unbind(t,\"scroll\",this)},o.prototype._dragStart=function(t,e){this.isDragging=!0,this.dragStartPoint=o.getPointerPoint(e),this.isPreventingClicks=!0,this.dragStart(t,e)},o.prototype.dragStart=function(t,e){this.emitEvent(\"dragStart\",[t,e])},o.prototype._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},o.prototype.dragMove=function(t,e,i){s(t),this.emitEvent(\"dragMove\",[t,e,i])},o.prototype._dragEnd=function(t,e){this.isDragging=!1;var i=this;setTimeout(function(){delete i.isPreventingClicks}),this.dragEnd(t,e)},o.prototype.dragEnd=function(t,e){this.emitEvent(\"dragEnd\",[t,e])},o.prototype.pointerDone=function(){e.unbind(t,\"scroll\",this),delete this.pointerDownScroll},o.prototype.onclick=function(t){this.isPreventingClicks&&s(t)},o.prototype._staticClick=function(t,e){if(!this.isIgnoringMouseUp||\"mouseup\"!=t.type){var i=t.target.nodeName;if(\"INPUT\"!=i&&\"TEXTAREA\"!=i||t.target.focus(),this.staticClick(t,e),\"mouseup\"!=t.type){this.isIgnoringMouseUp=!0;var n=this;setTimeout(function(){delete n.isIgnoringMouseUp},400)}}},o.prototype.staticClick=function(t,e){this.emitEvent(\"staticClick\",[t,e])},o.prototype.onscroll=function(){var t=o.getScrollPosition(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},o.getPointerPoint=function(t){return{x:t.pageX!==undefined?t.pageX:t.clientX,y:t.pageY!==undefined?t.pageY:t.clientY}};var l=t.pageYOffset!==undefined;return o.getScrollPosition=function(){return{x:l?t.pageXOffset:document.body.scrollLeft,y:l?t.pageYOffset:document.body.scrollTop}},o.getPointerPoint=i.getPointerPoint,o}),function(t){var e;\"undefined\"!=typeof window?e=window:\"undefined\"!=typeof self&&(e=self),e.ALGOLIA_MIGRATION_LAYER=t()}(function(){return function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var h=\"function\"==typeof require&&require;if(!a&&h)return h(r,!0);if(o)return o(r,!0);var l=new Error(\"Cannot find module '\"+r+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return s(i||t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var o=\"function\"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e){function i(t,e){for(var i in e)t.setAttribute(i,e[i])}function n(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error(\"Failed to load \"+this.src),t)}}function s(t,e){t.onreadystatechange=function(){\"complete\"!=this.readyState&&\"loaded\"!=this.readyState||(this.onreadystatechange=null,e(null,t))}}e.exports=function(t,e,o){var r=document.head||document.getElementsByTagName(\"head\")[0],a=document.createElement(\"script\");\"function\"==typeof e&&(o=e,e={}),e=e||{},o=o||function(){},a.type=e.type||\"text/javascript\",a.charset=e.charset||\"utf8\",a.async=!(\"async\"in e&&!e.async),a.src=t,e.attrs&&i(a,e.attrs),e.text&&(a.text=\"\"+e.text),(\"onload\"in a?n:s)(a,o),a.onload||n(a,o),r.appendChild(a)}},{}],2:[function(t,e){\"use strict\";function i(t){for(var e=new RegExp(\"cdn\\\\.jsdelivr\\\\.net/algoliasearch/latest/\"+t.replace(\".\",\"\\\\.\")+\"(?:\\\\.min)?\\\\.js$\"),i=document.getElementsByTagName(\"script\"),n=!1,s=0,o=i.length;s<o;s++)if(i[s].src&&e.test(i[s].src)){n=!0;break}return n}e.exports=i},{}],3:[function(t,e){\"use strict\";function i(e){var i=t(1),s=\"//cdn.jsdelivr.net/algoliasearch/2/\"+e+\".min.js\",o=\"-- AlgoliaSearch `latest` warning --\\nWarning, you are using the `latest` version string from jsDelivr to load the AlgoliaSearch library.\\nUsing `latest` is no more recommended, you should load //cdn.jsdelivr.net/algoliasearch/2/algoliasearch.min.js\\n\\nAlso, we updated the AlgoliaSearch JavaScript client to V3. If you want to upgrade,\\nplease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\\n-- /AlgoliaSearch  `latest` warning --\";window.console&&(window.console.warn?window.console.warn(o):window.console.log&&window.console.log(o));try{document.write(\"<script>window.ALGOLIA_SUPPORTS_DOCWRITE = true</script>\"),!0===window.ALGOLIA_SUPPORTS_DOCWRITE?(document.write('<script src=\"'+s+'\"></script>'),n(\"document.write\")()):i(s,n(\"DOMElement\"))}catch(r){i(s,n(\"DOMElement\"))}}function n(t){return function(){var e=\"AlgoliaSearch: loaded V2 script using \"+t;window.console&&window.console.log&&window.console.log(e)}}e.exports=i},{1:1}],4:[function(t,e){\"use strict\";function i(){var t=\"-- AlgoliaSearch V2 => V3 error --\\nYou are trying to use a new version of the AlgoliaSearch JavaScript client with an old notation.\\nPlease read our migration guide at https://github.com/algolia/algoliasearch-client-js/wiki/Migration-guide-from-2.x.x-to-3.x.x\\n-- /AlgoliaSearch V2 => V3 error --\";window.AlgoliaSearch=function(){throw new Error(t)},window.AlgoliaSearchHelper=function(){throw new Error(t)},window.AlgoliaExplainResults=function(){throw new Error(t)}}e.exports=i},{}],5:[function(t){\"use strict\";function e(e){var i=t(2),n=t(3),s=t(4);i(e)?n(e):s()}e(\"algoliasearch\")},{2:2,3:3,4:4}]},{},[5])(5)}),function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).algoliasearch=t()}}(function(){var t;return function e(t,i,n){function s(r,a){if(!i[r]){if(!t[r]){var h=\"function\"==typeof require&&require;if(!a&&h)return h(r,!0);if(o)return o(r,!0);var l=new Error(\"Cannot find module '\"+r+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var c=i[r]={exports:{}};t[r][0].call(c.exports,function(e){var i=t[r][1][e];return s(i||e)},c,c.exports,e,t,i,n)}return i[r].exports}for(var o=\"function\"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){(function(n){function s(){return!(\"undefined\"==typeof window||!window.process||\"renderer\"!==window.process.type)||\"undefined\"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||\"undefined\"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||\"undefined\"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}function o(t){var e=this.useColors;if(t[0]=(e?\"%c\":\"\")+this.namespace+(e?\" %c\":\" \")+t[0]+(e?\"%c \":\" \")+\"+\"+i.humanize(this.diff),e){var n=\"color: \"+this.color;t.splice(1,0,n,\"color: inherit\");var s=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){\"%%\"!==t&&(\"%c\"===t&&(o=++s))}),t.splice(o,0,n)}}function r(){return\"object\"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?i.storage.removeItem(\"debug\"):i.storage.debug=t}catch(e){}}function h(){var t;try{t=i.storage.debug}catch(e){}return!t&&void 0!==n&&\"env\"in n&&(t=n.env.DEBUG),t}function l(){try{return window.localStorage}catch(t){}}(i=e.exports=t(2)).log=r,i.formatArgs=o,i.save=a,i.load=h,i.useColors=s,i.storage=\"undefined\"!=typeof chrome&&\"undefined\"!=typeof chrome.storage?chrome.storage.local:l(),i.colors=[\"lightseagreen\",\"forestgreen\",\"goldenrod\",\"dodgerblue\",\"darkorchid\",\"crimson\"],i.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return\"[UnexpectedJSONParseError]: \"+e.message}},i.enable(h())}).call(this,t(12))},{12:12,2:2}],2:[function(t,e,i){function n(t){var e,n=0;for(e in t)n=(n<<5)-n+t.charCodeAt(e),n|=0;return i.colors[Math.abs(n)%i.colors.length]}function s(t){function e(){if(e.enabled){var t=e,n=+new Date,s=n-(l||n);t.diff=s,t.prev=l,t.curr=n,l=n;for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];o[0]=i.coerce(o[0]),\"string\"!=typeof o[0]&&o.unshift(\"%O\");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(e,n){if(\"%%\"===e)return e;a++;var s=i.formatters[n];if(\"function\"==typeof s){var r=o[a];e=s.call(t,r),o.splice(a,1),a--}return e}),i.formatArgs.call(t,o),(e.log||i.log||console.log.bind(console)).apply(t,o)}}return e.namespace=t,e.enabled=i.enabled(t),e.useColors=i.useColors(),e.color=n(t),\"function\"==typeof i.init&&i.init(e),e}function o(t){i.save(t),i.names=[],i.skips=[];for(var e=(\"string\"==typeof t?t:\"\").split(/[\\s,]+/),n=e.length,s=0;s<n;s++)e[s]&&(\"-\"===(t=e[s].replace(/\\*/g,\".*?\"))[0]?i.skips.push(new RegExp(\"^\"+t.substr(1)+\"$\")):i.names.push(new RegExp(\"^\"+t+\"$\")))}function r(){i.enable(\"\")}function a(t){var e,n;for(e=0,n=i.skips.length;e<n;e++)if(i.skips[e].test(t))return!1;for(e=0,n=i.names.length;e<n;e++)if(i.names[e].test(t))return!0;return!1}function h(t){return t instanceof Error?t.stack||t.message:t}var l;(i=e.exports=s.debug=s[\"default\"]=s).coerce=h,i.disable=r,i.enable=o,i.enabled=a,i.humanize=t(9),i.names=[],i.skips=[],i.formatters={}},{9:9}],3:[function(e,i,n){(function(s,o){!function(e,s){\"object\"==typeof n&&void 0!==i?i.exports=s():\"function\"==typeof t&&t.amd?t(s):e.ES6Promise=s()}(this,function(){\"use strict\";function t(t){var e=typeof t;return null!==t&&(\"object\"===e||\"function\"===e)}function i(t){return\"function\"==typeof t}function n(t){X=t}function r(t){Q=t}function a(){return function(){return s.nextTick(p)}}function h(){return void 0!==V?function(){V(p)}:u()}function l(){var t=0,e=new G(p),i=document.createTextNode(\"\");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=p,function(){return t.port2.postMessage(0)}}function u(){var t=setTimeout;return function(){return t(p,1)}}function p(){for(var t=0;t<B;t+=2){(0,et[t])(et[t+1]),et[t]=void 0,et[t+1]=void 0}B=0}function d(){try{var t=e(\"vertx\");return V=t.runOnLoop||t.runOnContext,h()}catch(n){return u()}}function f(t,e){var i=arguments,n=this,s=new this.constructor(g);void 0===s[nt]&&j(s);var o=n._state;return o?function(){var t=i[o-1];Q(function(){return O(o,s,t,n._result)})}():E(n,s,t,e),s}function m(t){var e=this;if(t&&\"object\"==typeof t&&t.constructor===e)return t;var i=new e(g);return C(i,t),i}function g(){}function v(){return new TypeError(\"You cannot resolve a promise with itself\")}function y(){return new TypeError(\"A promises callback cannot return that same promise.\")}function _(t){try{return t.then}catch(e){return at.error=e,at}}function b(t,e,i,n){try{t.call(e,i,n)}catch(s){return s}}function w(t,e,i){Q(function(t){var n=!1,s=b(i,e,function(i){n||(n=!0,e!==i?C(t,i):S(t,i))},function(e){n||(n=!0,I(t,e))},\"Settle: \"+(t._label||\" unknown promise\"));!n&&s&&(n=!0,I(t,s))},t)}function x(t,e){e._state===ot?S(t,e._result):e._state===rt?I(t,e._result):E(e,void 0,function(e){return C(t,e)},function(e){return I(t,e)})}function P(t,e,n){e.constructor===t.constructor&&n===f&&e.constructor.resolve===m?x(t,e):n===at?(I(t,at.error),at.error=null):void 0===n?S(t,e):i(n)?w(t,e,n):S(t,e)}function C(e,i){e===i?I(e,v()):t(i)?P(e,i,_(i)):S(e,i)}function T(t){t._onerror&&t._onerror(t._result),A(t)}function S(t,e){t._state===st&&(t._result=e,t._state=ot,0!==t._subscribers.length&&Q(A,t))}function I(t,e){t._state===st&&(t._state=rt,t._result=e,Q(T,t))}function E(t,e,i,n){var s=t._subscribers,o=s.length;t._onerror=null,s[o]=e,s[o+ot]=i,s[o+rt]=n,0===o&&t._state&&Q(A,t)}function A(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,s=void 0,o=t._result,r=0;r<e.length;r+=3)n=e[r],s=e[r+i],n?O(i,n,s,o):s(o);t._subscribers.length=0}}function R(){this.error=null}function k(t,e){try{return t(e)}catch(i){return ht.error=i,ht}}function O(t,e,n,s){var o=i(n),r=void 0,a=void 0,h=void 0,l=void 0;if(o){if((r=k(n,s))===ht?(l=!0,a=r.error,r.error=null):h=!0,e===r)return void I(e,y())}else r=s,h=!0;e._state!==st||(o&&h?C(e,r):l?I(e,a):t===ot?S(e,r):t===rt&&I(e,r))}function D(t,e){try{e(function(e){C(t,e)},function(e){I(t,e)})}catch(i){I(t,i)}}function N(){return lt++}function j(t){t[nt]=lt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function z(t,e){this._instanceConstructor=t,this.promise=new t(g),this.promise[nt]||j(this.promise),K(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&S(this.promise,this._result))):I(this.promise,H())}function H(){return new Error(\"Array Methods must be provided an Array\")}function L(t){return new z(this,t).promise}function U(t){var e=this;return new e(K(t)?function(i,n){for(var s=t.length,o=0;o<s;o++)e.resolve(t[o]).then(i,n)}:function(t,e){return e(new TypeError(\"You must pass an array to race.\"))})}function M(t){var e=new this(g);return I(e,t),e}function q(){throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\")}function $(){throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\")}function W(t){this[nt]=N(),this._result=this._state=void 0,this._subscribers=[],g!==t&&(\"function\"!=typeof t&&q(),this instanceof W?D(this,t):$())}function F(){var t=void 0;if(void 0!==o)t=o;else if(\"undefined\"!=typeof self)t=self;else try{t=Function(\"return this\")()}catch(e){throw new Error(\"polyfill failed because global object is unavailable in this environment\")}var i=t.Promise;if(i){var n=null;try{n=Object.prototype.toString.call(i.resolve())}catch(e){}if(\"[object Promise]\"===n&&!i.cast)return}t.Promise=W}var K=Array.isArray?Array.isArray:function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},B=0,V=void 0,X=void 0,Q=function(t,e){et[B]=t,et[B+1]=e,2===(B+=2)&&(X?X(p):it())},Y=\"undefined\"!=typeof window?window:void 0,J=Y||{},G=J.MutationObserver||J.WebKitMutationObserver,Z=\"undefined\"==typeof self&&void 0!==s&&\"[object process]\"==={}.toString.call(s),tt=\"undefined\"!=typeof Uint8ClampedArray&&\"undefined\"!=typeof importScripts&&\"undefined\"!=typeof MessageChannel,et=new Array(1e3),it=void 0;it=Z?a():G?l():tt?c():void 0===Y&&\"function\"==typeof e?d():u();var nt=Math.random().toString(36).substring(16),st=void 0,ot=1,rt=2,at=new R,ht=new R,lt=0;return z.prototype._enumerate=function(t){for(var e=0;this._state===st&&e<t.length;e++)this._eachEntry(t[e],e)},z.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===m){var s=_(t);if(s===f&&t._state!==st)this._settledAt(t._state,e,t._result);else if(\"function\"!=typeof s)this._remaining--,this._result[e]=t;else if(i===W){var o=new i(g);P(o,t,s),this._willSettleAt(o,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},z.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===st&&(this._remaining--,t===rt?I(n,i):this._result[e]=i),0===this._remaining&&S(n,this._result)},z.prototype._willSettleAt=function(t,e){var i=this;E(t,void 0,function(t){return i._settledAt(ot,e,t)},function(t){return i._settledAt(rt,e,t)})},W.all=L,W.race=U,W.resolve=m,W.reject=M,W._setScheduler=n,W._setAsap=r,W._asap=Q,W.prototype={constructor:W,then:f,\"catch\":function(t){return this.then(null,t)}},W.polyfill=F,W.Promise=W,W})}).call(this,e(12),\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{12:12}],4:[function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return\"function\"==typeof t}function s(t){return\"number\"==typeof t}function o(t){return\"object\"==typeof t&&null!==t}function r(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!s(t)||t<0||isNaN(t))throw TypeError(\"n must be a positive number\");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,s,a,h,l;if(this._events||(this._events={}),\"error\"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified \"error\" event. ('+e+\")\");throw c.context=e,c}if(r(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(o(i))for(a=Array.prototype.slice.call(arguments,1),s=(l=i.slice()).length,h=0;h<s;h++)l[h].apply(this,a);return!0},i.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&((s=r(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[t].length),\"function\"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),s||(s=!0,e.apply(this,arguments))}if(!n(e))throw TypeError(\"listener must be a function\");var s=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,s,r,a;if(!n(e))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[t])return this;if(r=(i=this._events[t]).length,s=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit(\"removeListener\",t,e);else if(o(i)){for(a=r;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){s=a;break}if(s<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(s,1),this._events.removeListener&&this.emit(\"removeListener\",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)\"removeListener\"!==e&&this.removeAllListeners(e);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},{}],5:[function(t,e){var i=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(t,e,s){if(\"[object Function]\"!==n.call(e))throw new TypeError(\"iterator must be a function\");var o=t.length;if(o===+o)for(var r=0;r<o;r++)e.call(s,t[r],r,t);else for(var a in t)i.call(t,a)&&e.call(s,t[a],a,t)}},{}],6:[function(t,e){(function(t){var i;i=\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:{},e.exports=i}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],7:[function(t,e){\"function\"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],8:[function(t,e){var i={}.toString;e.exports=Array.isArray||function(t){return\"[object Array]\"==i.call(t)}},{}],9:[function(t,e){function i(t){if(!((t=String(t)).length>100)){var e=/^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var i=parseFloat(e[1]);switch((e[2]||\"ms\").toLowerCase()){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return i*c;case\"days\":case\"day\":case\"d\":return i*l;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return i*h;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return i*a;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return i*r;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return i;default:return}}}}function n(t){return t>=l?Math.round(t/l)+\"d\":t>=h?Math.round(t/h)+\"h\":t>=a?Math.round(t/a)+\"m\":t>=r?Math.round(t/r)+\"s\":t+\"ms\"}function s(t){return o(t,l,\"day\")||o(t,h,\"hour\")||o(t,a,\"minute\")||o(t,r,\"second\")||t+\" ms\"}function o(t,e,i){if(!(t<e))return t<1.5*e?Math.floor(t/e)+\" \"+i:Math.ceil(t/e)+\" \"+i+\"s\"}var r=1e3,a=60*r,h=60*a,l=24*h,c=365.25*l;e.exports=function(t,e){e=e||{};var o=typeof t;if(\"string\"===o&&t.length>0)return i(t);if(\"number\"===o&&!1===isNaN(t))return e.long?s(t):n(t);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(t))}},{}],10:[function(t,e){\"use strict\";var i=Object.prototype.hasOwnProperty,n=Object.prototype.toString,s=Array.prototype.slice,o=t(11),r=Object.prototype.propertyIsEnumerable,a=!r.call({toString:null},\"toString\"),h=r.call(function(){},\"prototype\"),l=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],c=function(t){var e=t.constructor;return e&&e.prototype===t},u={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(\"undefined\"==typeof window)return!1;for(var t in window)try{if(!u[\"$\"+t]&&i.call(window,t)&&null!==window[t]&&\"object\"==typeof window[t])try{c(window[t])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(t){if(\"undefined\"==typeof window||!p)return c(t);try{return c(t)}catch(e){return!1}},f=function(t){var e=null!==t&&\"object\"==typeof t,s=\"[object Function]\"===n.call(t),r=o(t),c=e&&\"[object String]\"===n.call(t),u=[];if(!e&&!s&&!r)throw new TypeError(\"Object.keys called on a non-object\");var p=h&&s;if(c&&t.length>0&&!i.call(t,0))for(var f=0;f<t.length;++f)u.push(String(f));if(r&&t.length>0)for(var m=0;m<t.length;++m)u.push(String(m));else for(var g in t)p&&\"prototype\"===g||!i.call(t,g)||u.push(String(g));if(a)for(var v=d(t),y=0;y<l.length;++y)v&&\"constructor\"===l[y]||!i.call(t,l[y])||u.push(l[y]);return u};f.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||\"\").length}(1,2)){var t=Object.keys;Object.keys=function(e){return t(o(e)?s.call(e):e)}}}else Object.keys=f;return Object.keys||f},e.exports=f},{11:11}],11:[function(t,e){\"use strict\";var i=Object.prototype.toString;e.exports=function(t){var e=i.call(t),n=\"[object Arguments]\"===e;return n||(n=\"[object Array]\"!==e&&null!==t&&\"object\"==typeof t&&\"number\"==typeof t.length&&t.length>=0&&\"[object Function]\"===i.call(t.callee)),n}},{}],12:[function(t,e){function i(){throw new Error(\"setTimeout has not been defined\")}function n(){throw new Error(\"clearTimeout has not been defined\")}function s(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function r(){m&&d&&(m=!1,d.length?f=d.concat(f):g=-1,f.length&&a())}function a(){if(!m){var t=s(r);m=!0;for(var e=f.length;e;){for(d=f,f=[];++g<e;)d&&d[g].run();g=-1,e=f.length}d=null,m=!1,o(t)}}function h(t,e){this.fun=t,this.array=e}function l(){}var c,u,p=e.exports={};!function(){try{c=\"function\"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{u=\"function\"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}}();var d,f=[],m=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new h(t,e)),1!==f.length||m||s(a)},h.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},{}],13:[function(t,e){\"use strict\";function i(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var n=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};e.exports=function(t,e,r,a){return e=e||\"&\",r=r||\"=\",null===t&&(t=void 0),\"object\"==typeof t?i(o(t),function(o){var a=encodeURIComponent(n(o))+r;return s(t[o])?i(t[o],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[o]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):\"\"};var s=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},{}],14:[function(t,e){function i(){a.apply(this,arguments)}function n(){var t=\"Not implemented in this environment.\\nIf you feel this is a mistake, write to support@algolia.com\";throw new l.AlgoliaSearchError(t)}e.exports=i;var s=t(16),o=t(25),r=t(26),a=t(15),h=t(7),l=t(27);h(i,a),i.prototype.deleteIndex=function(t,e){return this._jsonRequest({method:\"DELETE\",url:\"/1/indexes/\"+encodeURIComponent(t),hostType:\"write\",callback:e})},i.prototype.moveIndex=function(t,e,i){var n={operation:\"move\",destination:e};return this._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(t)+\"/operation\",body:n,hostType:\"write\",callback:i})},i.prototype.copyIndex=function(t,e,i,n){var s={operation:\"copy\",destination:e},o=n;if(\"function\"==typeof i)o=i;else if(Array.isArray(i)&&i.length>0)s.scope=i;else if(void 0!==i)throw new Error(\"the scope given to `copyIndex` was not an array with settings, synonyms or rules\");return this._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(t)+\"/operation\",body:s,hostType:\"write\",callback:o})},i.prototype.getLogs=function(e,i,n){var s=t(24),o={};return\"object\"==typeof e?(o=s(e),n=i):0===arguments.length||\"function\"==typeof e?n=e:1===arguments.length||\"function\"==typeof i?(n=i,o.offset=e):(o.offset=e,o.length=i),void 0===o.offset&&(o.offset=0),void 0===o.length&&(o.length=10),this._jsonRequest({method:\"GET\",url:\"/1/logs?\"+this._getSearchParams(o,\"\"),hostType:\"read\",callback:n})},i.prototype.listIndexes=function(t,e){var i=\"\";return void 0===t||\"function\"==typeof t?e=t:i=\"?page=\"+t,this._jsonRequest({method:\"GET\",url:\"/1/indexes\"+i,hostType:\"read\",callback:e})},i.prototype.initIndex=function(t){return new s(this,t)},i.prototype.listUserKeys=o(function(t){return this.listApiKeys(t)},r(\"client.listUserKeys()\",\"client.listApiKeys()\")),i.prototype.listApiKeys=function(t){return this._jsonRequest({method:\"GET\",url:\"/1/keys\",hostType:\"read\",callback:t})},i.prototype.getUserKeyACL=o(function(t,e){return this.getApiKey(t,e)},r(\"client.getUserKeyACL()\",\"client.getApiKey()\")),i.prototype.getApiKey=function(t,e){return this._jsonRequest({method:\"GET\",url:\"/1/keys/\"+t,hostType:\"read\",callback:e})},i.prototype.deleteUserKey=o(function(t,e){return this.deleteApiKey(t,e)},r(\"client.deleteUserKey()\",\"client.deleteApiKey()\")),i.prototype.deleteApiKey=function(t,e){return this._jsonRequest({method:\"DELETE\",url:\"/1/keys/\"+t,hostType:\"write\",callback:e})},i.prototype.addUserKey=o(function(t,e,i){return this.addApiKey(t,e,i)},r(\"client.addUserKey()\",\"client.addApiKey()\")),i.prototype.addApiKey=function(e,i,n){var s=\"Usage: client.addApiKey(arrayOfAcls[, params, callback])\";if(!t(8)(e))throw new Error(s);1!==arguments.length&&\"function\"!=typeof i||(n=i,i=null);var o={acl:e};return i&&(o.validity=i.validity,o.maxQueriesPerIPPerHour=i.maxQueriesPerIPPerHour,o.maxHitsPerQuery=i.maxHitsPerQuery,o.indexes=i.indexes,o.description=i.description,i.queryParameters&&(o.queryParameters=this._getSearchParams(i.queryParameters,\"\")),o.referers=i.referers),this._jsonRequest({method:\"POST\",url:\"/1/keys\",body:o,hostType:\"write\",callback:n})},i.prototype.addUserKeyWithValidity=o(function(t,e,i){return this.addApiKey(t,e,i)},r(\"client.addUserKeyWithValidity()\",\"client.addApiKey()\")),i.prototype.updateUserKey=o(function(t,e,i,n){return this.updateApiKey(t,e,i,n)},r(\"client.updateUserKey()\",\"client.updateApiKey()\")),i.prototype.updateApiKey=function(e,i,n,s){var o=\"Usage: client.updateApiKey(key, arrayOfAcls[, params, callback])\";if(!t(8)(i))throw new Error(o);2!==arguments.length&&\"function\"!=typeof n||(s=n,n=null);var r={acl:i};return n&&(r.validity=n.validity,r.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,r.maxHitsPerQuery=n.maxHitsPerQuery,r.indexes=n.indexes,r.description=n.description,n.queryParameters&&(r.queryParameters=this._getSearchParams(n.queryParameters,\"\")),r.referers=n.referers),this._jsonRequest({method:\"PUT\",url:\"/1/keys/\"+e,body:r,hostType:\"write\",callback:s})},i.prototype.startQueriesBatch=o(function(){this._batch=[]},r(\"client.startQueriesBatch()\",\"client.search()\")),i.prototype.addQueryInBatch=o(function(t,e,i){this._batch.push({indexName:t,query:e,params:i})},r(\"client.addQueryInBatch()\",\"client.search()\")),i.prototype.sendQueriesBatch=o(function(t){return this.search(this._batch,t)},r(\"client.sendQueriesBatch()\",\"client.search()\")),i.prototype.batch=function(e,i){var n=\"Usage: client.batch(operations[, callback])\";if(!t(8)(e))throw new Error(n);return this._jsonRequest({method:\"POST\",url:\"/1/indexes/*/batch\",body:{requests:e},hostType:\"write\",callback:i})},i.prototype.assignUserID=function(t,e){if(!t.userID||!t.cluster)throw new l.AlgoliaSearchError(\"You have to provide both a userID and cluster\",t);return this._jsonRequest({method:\"POST\",url:\"/1/clusters/mapping\",hostType:\"write\",body:{cluster:t.cluster},callback:e,headers:{\"X-Algolia-User-ID\":t.userID}})},i.prototype.getTopUserID=function(t){\nreturn this._jsonRequest({method:\"GET\",url:\"/1/clusters/mapping/top\",hostType:\"read\",callback:t})},i.prototype.getUserID=function(t,e){if(!t.userID)throw new l.AlgoliaSearchError(\"You have to provide a userID\",{debugData:t});return this._jsonRequest({method:\"GET\",url:\"/1/clusters/mapping/\"+t.userID,hostType:\"read\",callback:e})},i.prototype.listClusters=function(t){return this._jsonRequest({method:\"GET\",url:\"/1/clusters\",hostType:\"read\",callback:t})},i.prototype.listUserIDs=function(t,e){return this._jsonRequest({method:\"GET\",url:\"/1/clusters/mapping\",body:t,hostType:\"read\",callback:e})},i.prototype.removeUserID=function(t,e){if(!t.userID)throw new l.AlgoliaSearchError(\"You have to provide a userID\",{debugData:t});return this._jsonRequest({method:\"DELETE\",url:\"/1/clusters/mapping\",hostType:\"write\",callback:e,headers:{\"X-Algolia-User-ID\":t.userID}})},i.prototype.searchUserIDs=function(t,e){return this._jsonRequest({method:\"POST\",url:\"/1/clusters/mapping/search\",body:t,hostType:\"read\",callback:e})},i.prototype.destroy=n,i.prototype.enableRateLimitForward=n,i.prototype.disableRateLimitForward=n,i.prototype.useSecuredAPIKey=n,i.prototype.disableSecuredAPIKey=n,i.prototype.generateSecuredApiKey=n},{15:15,16:16,24:24,25:25,26:26,27:27,7:7,8:8}],15:[function(t,e){(function(i){function n(e,i,n){var o=t(1)(\"algoliasearch\"),r=t(24),a=t(8),l=t(29),c=\"Usage: algoliasearch(applicationID, apiKey, opts)\";if(!0!==n._allowEmptyCredentials&&!e)throw new h.AlgoliaSearchError(\"Please provide an application ID. \"+c);if(!0!==n._allowEmptyCredentials&&!i)throw new h.AlgoliaSearchError(\"Please provide an API key. \"+c);this.applicationID=e,this.apiKey=i,this.hosts={read:[],write:[]},n=n||{},this._timeouts=n.timeouts||{connect:1e3,read:2e3,write:3e4},n.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=n.timeout);var u=n.protocol||\"https:\";if(/:$/.test(u)||(u+=\":\"),\"http:\"!==u&&\"https:\"!==u)throw new h.AlgoliaSearchError(\"protocol must be `http:` or `https:` (was `\"+n.protocol+\"`)\");if(this._checkAppIdData(),n.hosts)a(n.hosts)?(this.hosts.read=r(n.hosts),this.hosts.write=r(n.hosts)):(this.hosts.read=r(n.hosts.read),this.hosts.write=r(n.hosts.write));else{var p=l(this._shuffleResult,function(t){return e+\"-\"+t+\".algolianet.com\"}),d=(!1===n.dsn?\"\":\"-dsn\")+\".algolia.net\";this.hosts.read=[this.applicationID+d].concat(p),this.hosts.write=[this.applicationID+\".algolia.net\"].concat(p)}this.hosts.read=l(this.hosts.read,s(u)),this.hosts.write=l(this.hosts.write,s(u)),this.extraHeaders={},this.cache=n._cache||{},this._ua=n._ua,this._useCache=!(void 0!==n._useCache&&!n._cache)||n._useCache,this._useFallback=void 0===n.useFallback||n.useFallback,this._setTimeout=n._setTimeout,o(\"init done, %j\",this)}function s(t){return function(e){return t+\"//\"+e.toLowerCase()}}function o(t){if(void 0===Array.prototype.toJSON)return JSON.stringify(t);var e=Array.prototype.toJSON;delete Array.prototype.toJSON;var i=JSON.stringify(t);return Array.prototype.toJSON=e,i}function r(t){for(var e,i,n=t.length;0!==n;)i=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[i],t[i]=e;return t}function a(t){var e={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n;n=\"x-algolia-api-key\"===i||\"x-algolia-application-id\"===i?\"**hidden for security purposes**\":t[i],e[i]=n}return e}e.exports=n;var h=t(27),l=t(28),c=t(18),u=t(33),p=500,d=i.env.RESET_APP_DATA_TIMER&&parseInt(i.env.RESET_APP_DATA_TIMER,10)||12e4;n.prototype.initIndex=function(t){return new c(this,t)},n.prototype.setExtraHeader=function(t,e){this.extraHeaders[t.toLowerCase()]=e},n.prototype.getExtraHeader=function(t){return this.extraHeaders[t.toLowerCase()]},n.prototype.unsetExtraHeader=function(t){delete this.extraHeaders[t.toLowerCase()]},n.prototype.addAlgoliaAgent=function(t){-1===this._ua.indexOf(\";\"+t)&&(this._ua+=\";\"+t)},n.prototype._jsonRequest=function(e){function i(t,l){function p(t){var e=t&&t.body&&t.body.message&&t.body.status||t.statusCode||t&&t.body&&200;r(\"received response: statusCode: %s, computed statusCode: %d, headers: %j\",t.statusCode,e,t.headers);var i=2===Math.floor(e/100),o=new Date;if(v.push({currentHost:P,headers:a(s),content:n||null,contentLength:void 0!==n?n.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:x,endTime:o,duration:o-x,statusCode:e}),i)return d._useCache&&u&&(u[w]=t.responseText),t.body;if(4!==Math.floor(e/100))return f+=1,_();r(\"unrecoverable error\");var c=new h.AlgoliaSearchError(t.body&&t.body.message,{debugData:v,statusCode:e});return d._promise.reject(c)}function y(t){r(\"error: %s, stack: %s\",t.message,t.stack);var i=new Date;return v.push({currentHost:P,headers:a(s),content:n||null,contentLength:void 0!==n?n.length:null,method:l.method,timeouts:l.timeouts,url:l.url,startTime:x,endTime:i,duration:i-x}),t instanceof h.AlgoliaSearchError||(t=new h.Unknown(t&&t.message,t)),f+=1,t instanceof h.Unknown||t instanceof h.UnparsableJSON||f>=d.hosts[e.hostType].length&&(m||!g)?(t.debugData=v,d._promise.reject(t)):t instanceof h.RequestTimeout?b():_()}function _(){return r(\"retrying request\"),d._incrementHostIndex(e.hostType),i(t,l)}function b(){return r(\"retrying request with higher timeout\"),d._incrementHostIndex(e.hostType),d._incrementTimeoutMultipler(),l.timeouts=d._getTimeoutsForRequest(e.hostType),i(t,l)}d._checkAppIdData();var w,x=new Date;if(d._useCache&&(w=e.url),d._useCache&&n&&(w+=\"_body_\"+l.body),d._useCache&&u&&void 0!==u[w])return r(\"serving response from cache\"),d._promise.resolve(JSON.parse(u[w]));if(f>=d.hosts[e.hostType].length)return!g||m?(r(\"could not get any response\"),d._promise.reject(new h.AlgoliaSearchError(\"Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: \"+d.applicationID,{debugData:v}))):(r(\"switching to fallback\"),f=0,l.method=e.fallback.method,l.url=e.fallback.url,l.jsonBody=e.fallback.body,l.jsonBody&&(l.body=o(l.jsonBody)),s=d._computeRequestHeaders({additionalUA:c,headers:e.headers}),l.timeouts=d._getTimeoutsForRequest(e.hostType),d._setHostIndexByType(0,e.hostType),m=!0,i(d._request.fallback,l));var P=d._getHostByType(e.hostType),C=P+l.url,T={body:l.body,jsonBody:l.jsonBody,method:l.method,headers:s,timeouts:l.timeouts,debug:r};return r(\"method: %s, url: %s, headers: %j, timeouts: %d\",T.method,C,T.headers,T.timeouts),t===d._request.fallback&&r(\"using fallback\"),t.call(d,C,T).then(p,y)}this._checkAppIdData();var n,s,r=t(1)(\"algoliasearch:\"+e.url),c=e.additionalUA||\"\",u=e.cache,d=this,f=0,m=!1,g=d._useFallback&&d._request.fallback&&e.fallback;this.apiKey.length>p&&void 0!==e.body&&(void 0!==e.body.params||void 0!==e.body.requests)?(e.body.apiKey=this.apiKey,s=this._computeRequestHeaders({additionalUA:c,withApiKey:!1,headers:e.headers})):s=this._computeRequestHeaders({additionalUA:c,headers:e.headers}),void 0!==e.body&&(n=o(e.body)),r(\"request start\");var v=[],y=i(d._request,{url:e.url,method:e.method,body:n,jsonBody:e.body,timeouts:d._getTimeoutsForRequest(e.hostType)});return\"function\"!=typeof e.callback?y:void y.then(function(t){l(function(){e.callback(null,t)},d._setTimeout||setTimeout)},function(t){l(function(){e.callback(t)},d._setTimeout||setTimeout)})},n.prototype._getSearchParams=function(t,e){if(null==t)return e;for(var i in t)null!==i&&void 0!==t[i]&&t.hasOwnProperty(i)&&(e+=\"\"===e?\"\":\"&\",e+=i+\"=\"+encodeURIComponent(\"[object Array]\"===Object.prototype.toString.call(t[i])?o(t[i]):t[i]));return e},n.prototype._computeRequestHeaders=function(e){var i=t(5),n={\"x-algolia-agent\":e.additionalUA?this._ua+\";\"+e.additionalUA:this._ua,\"x-algolia-application-id\":this.applicationID};return!1!==e.withApiKey&&(n[\"x-algolia-api-key\"]=this.apiKey),this.userToken&&(n[\"x-algolia-usertoken\"]=this.userToken),this.securityTags&&(n[\"x-algolia-tagfilters\"]=this.securityTags),i(this.extraHeaders,function(t,e){n[e]=t}),e.headers&&i(e.headers,function(t,e){n[e]=t}),n},n.prototype.search=function(e,i,n){var s=t(8),o=t(29),r=\"Usage: client.search(arrayOfQueries[, callback])\";if(!s(e))throw new Error(r);\"function\"==typeof i?(n=i,i={}):void 0===i&&(i={});var a=this,h={requests:o(e,function(t){var e=\"\";return void 0!==t.query&&(e+=\"query=\"+encodeURIComponent(t.query)),{indexName:t.indexName,params:a._getSearchParams(t.params,e)}})},l=o(h.requests,function(t,e){return e+\"=\"+encodeURIComponent(\"/1/indexes/\"+encodeURIComponent(t.indexName)+\"?\"+t.params)}).join(\"&\"),c=\"/1/indexes/*/queries\";return void 0!==i.strategy&&(c+=\"?strategy=\"+i.strategy),this._jsonRequest({cache:this.cache,method:\"POST\",url:c,body:h,hostType:\"read\",fallback:{method:\"GET\",url:\"/1/indexes/*\",body:{params:l}},callback:n})},n.prototype.setSecurityTags=function(t){if(\"[object Array]\"===Object.prototype.toString.call(t)){for(var e=[],i=0;i<t.length;++i)if(\"[object Array]\"===Object.prototype.toString.call(t[i])){for(var n=[],s=0;s<t[i].length;++s)n.push(t[i][s]);e.push(\"(\"+n.join(\",\")+\")\")}else e.push(t[i]);t=e.join(\",\")}this.securityTags=t},n.prototype.setUserToken=function(t){this.userToken=t},n.prototype.clearCache=function(){this.cache={}},n.prototype.setRequestTimeout=function(t){t&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=t)},n.prototype.setTimeouts=function(t){this._timeouts=t},n.prototype.getTimeouts=function(){return this._timeouts},n.prototype._getAppIdData=function(){var t=u.get(this.applicationID);return null!==t&&this._cacheAppIdData(t),t},n.prototype._setAppIdData=function(t){return t.lastChange=(new Date).getTime(),this._cacheAppIdData(t),u.set(this.applicationID,t)},n.prototype._checkAppIdData=function(){var t=this._getAppIdData(),e=(new Date).getTime();return null===t||e-t.lastChange>d?this._resetInitialAppIdData(t):t},n.prototype._resetInitialAppIdData=function(t){var e=t||{};return e.hostIndexes={read:0,write:0},e.timeoutMultiplier=1,e.shuffleResult=e.shuffleResult||r([1,2,3]),this._setAppIdData(e)},n.prototype._cacheAppIdData=function(t){this._hostIndexes=t.hostIndexes,this._timeoutMultiplier=t.timeoutMultiplier,this._shuffleResult=t.shuffleResult},n.prototype._partialAppIdDataUpdate=function(e){var i=t(5),n=this._getAppIdData();return i(e,function(t,e){n[e]=t}),this._setAppIdData(n)},n.prototype._getHostByType=function(t){return this.hosts[t][this._getHostIndexByType(t)]},n.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},n.prototype._getHostIndexByType=function(t){return this._hostIndexes[t]},n.prototype._setHostIndexByType=function(e,i){var n=t(24)(this._hostIndexes);return n[i]=e,this._partialAppIdDataUpdate({hostIndexes:n}),e},n.prototype._incrementHostIndex=function(t){return this._setHostIndexByType((this._getHostIndexByType(t)+1)%this.hosts[t].length,t)},n.prototype._incrementTimeoutMultipler=function(){var t=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:t})},n.prototype._getTimeoutsForRequest=function(t){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[t]*this._timeoutMultiplier}}}).call(this,t(12))},{1:1,12:12,18:18,24:24,27:27,28:28,29:29,33:33,5:5,8:8}],16:[function(t,e){function i(){o.apply(this,arguments)}function n(t,e,i){function n(i,s){var o={page:i||0,hitsPerPage:e||100},r=s||[];return t(o).then(function(t){var e=t.hits,i=t.nbHits,s=e.map(function(t){return delete t._highlightResult,t}),a=r.concat(s);return a.length<i?n(o.page+1,a):a})}return n().then(function(t){return\"function\"==typeof i?void i(t):t})}var s=t(7),o=t(18),r=t(25),a=t(26),h=t(28),l=t(27),c=r(function(){},a(\"forwardToSlaves\",\"forwardToReplicas\"));e.exports=i,s(i,o),i.prototype.addObject=function(t,e,i){var n=this;return 1!==arguments.length&&\"function\"!=typeof e||(i=e,e=void 0),this.as._jsonRequest({method:void 0!==e?\"PUT\":\"POST\",url:\"/1/indexes/\"+encodeURIComponent(n.indexName)+(void 0!==e?\"/\"+encodeURIComponent(e):\"\"),body:t,hostType:\"write\",callback:i})},i.prototype.addObjects=function(e,i){var n=\"Usage: index.addObjects(arrayOfObjects[, callback])\";if(!t(8)(e))throw new Error(n);for(var s=this,o={requests:[]},r=0;r<e.length;++r){var a={action:\"addObject\",body:e[r]};o.requests.push(a)}return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(s.indexName)+\"/batch\",body:o,hostType:\"write\",callback:i})},i.prototype.partialUpdateObject=function(t,e,i){1!==arguments.length&&\"function\"!=typeof e||(i=e,e=void 0);var n=\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/\"+encodeURIComponent(t.objectID)+\"/partial\";return!1===e&&(n+=\"?createIfNotExists=false\"),this.as._jsonRequest({method:\"POST\",url:n,body:t,hostType:\"write\",callback:i})},i.prototype.partialUpdateObjects=function(e,i,n){1!==arguments.length&&\"function\"!=typeof i||(n=i,i=!0);var s=\"Usage: index.partialUpdateObjects(arrayOfObjects[, callback])\";if(!t(8)(e))throw new Error(s);for(var o=this,r={requests:[]},a=0;a<e.length;++a){var h={action:!0===i?\"partialUpdateObject\":\"partialUpdateObjectNoCreate\",objectID:e[a].objectID,body:e[a]};r.requests.push(h)}return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(o.indexName)+\"/batch\",body:r,hostType:\"write\",callback:n})},i.prototype.saveObject=function(t,e){var i=this;return this.as._jsonRequest({method:\"PUT\",url:\"/1/indexes/\"+encodeURIComponent(i.indexName)+\"/\"+encodeURIComponent(t.objectID),body:t,hostType:\"write\",callback:e})},i.prototype.saveObjects=function(e,i){var n=\"Usage: index.saveObjects(arrayOfObjects[, callback])\";if(!t(8)(e))throw new Error(n);for(var s=this,o={requests:[]},r=0;r<e.length;++r){var a={action:\"updateObject\",objectID:e[r].objectID,body:e[r]};o.requests.push(a)}return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(s.indexName)+\"/batch\",body:o,hostType:\"write\",callback:i})},i.prototype.deleteObject=function(t,e){if(\"function\"==typeof t||\"string\"!=typeof t&&\"number\"!=typeof t){var i=new l.AlgoliaSearchError(\"Cannot delete an object without an objectID\");return\"function\"==typeof(e=t)?e(i):this.as._promise.reject(i)}var n=this;return this.as._jsonRequest({method:\"DELETE\",url:\"/1/indexes/\"+encodeURIComponent(n.indexName)+\"/\"+encodeURIComponent(t),hostType:\"write\",callback:e})},i.prototype.deleteObjects=function(e,i){var n=t(8),s=t(29),o=\"Usage: index.deleteObjects(arrayOfObjectIDs[, callback])\";if(!n(e))throw new Error(o);var r=this,a={requests:s(e,function(t){return{action:\"deleteObject\",objectID:t,body:{objectID:t}}})};return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(r.indexName)+\"/batch\",body:a,hostType:\"write\",callback:i})},i.prototype.deleteByQuery=r(function(e,i,n){function s(t){if(0===t.nbHits)return t;var e=u(t.hits,function(t){return t.objectID});return p.deleteObjects(e).then(o).then(r)}function o(t){return p.waitTask(t.taskID)}function r(){return p.deleteByQuery(e,i)}function a(){h(function(){n(null)},d._setTimeout||setTimeout)}function l(t){h(function(){n(t)},d._setTimeout||setTimeout)}var c=t(24),u=t(29),p=this,d=p.as;1===arguments.length||\"function\"==typeof i?(n=i,i={}):i=c(i),i.attributesToRetrieve=\"objectID\",i.hitsPerPage=1e3,i.distinct=!1,this.clearCache();var f=this.search(e,i).then(s);return n?void f.then(a,l):f},a(\"index.deleteByQuery()\",\"index.deleteBy()\")),i.prototype.deleteBy=function(t,e){var i=this;return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(i.indexName)+\"/deleteByQuery\",body:{params:i.as._getSearchParams(t,\"\")},hostType:\"write\",callback:e})},i.prototype.browseAll=function(e,i){function n(t){var e;r._stopped||(e=void 0!==t?{cursor:t}:{params:l},a._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(h.indexName)+\"/browse\",hostType:\"read\",body:e,callback:s}))}function s(t,e){if(!r._stopped)return t?void r._error(t):(r._result(e),void 0===e.cursor?void r._end():void n(e.cursor))}\"object\"==typeof e&&(i=e,e=void 0);var o=t(30),r=new(t(17)),a=this.as,h=this,l=a._getSearchParams(o({},i||{},{query:e}),\"\");return n(),r},i.prototype.ttAdapter=r(function(t){var e=this;return function(i,n,s){var o;o=\"function\"==typeof s?s:n,e.search(i,t,function(t,e){return t?void o(t):void o(e.hits)})}},\"ttAdapter is not necessary anymore and will be removed in the next version,\\nhave a look at autocomplete.js (https://github.com/algolia/autocomplete.js)\"),i.prototype.waitTask=function(t,e){function i(){return c._jsonRequest({method:\"GET\",hostType:\"read\",url:\"/1/indexes/\"+encodeURIComponent(l.indexName)+\"/task/\"+t}).then(function(t){var e=o*++a*a;return e>r&&(e=r),\"published\"!==t.status?c._promise.delay(e).then(i):t})}function n(t){h(function(){e(null,t)},c._setTimeout||setTimeout)}function s(t){h(function(){e(t)},c._setTimeout||setTimeout)}var o=100,r=5e3,a=0,l=this,c=l.as,u=i();return e?void u.then(n,s):u},i.prototype.clearIndex=function(t){var e=this;return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(e.indexName)+\"/clear\",hostType:\"write\",callback:t})},i.prototype.getSettings=function(t,e){1===arguments.length&&\"function\"==typeof t&&(e=t,t={}),t=t||{};var i=encodeURIComponent(this.indexName);return this.as._jsonRequest({method:\"GET\",url:\"/1/indexes/\"+i+\"/settings?getVersion=2\"+(t.advanced?\"&advanced=\"+t.advanced:\"\"),hostType:\"read\",callback:e})},i.prototype.searchSynonyms=function(t,e){return\"function\"==typeof t?(e=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/synonyms/search\",body:t,hostType:\"read\",callback:e})},i.prototype.exportSynonyms=function(t,e){return n(this.searchSynonyms.bind(this),t,e)},i.prototype.saveSynonym=function(t,e,i){\"function\"==typeof e?(i=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&c();var n=e.forwardToSlaves||e.forwardToReplicas?\"true\":\"false\";return this.as._jsonRequest({method:\"PUT\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/synonyms/\"+encodeURIComponent(t.objectID)+\"?forwardToReplicas=\"+n,body:t,hostType:\"write\",callback:i})},i.prototype.getSynonym=function(t,e){return this.as._jsonRequest({method:\"GET\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/synonyms/\"+encodeURIComponent(t),hostType:\"read\",callback:e})},i.prototype.deleteSynonym=function(t,e,i){\"function\"==typeof e?(i=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&c();var n=e.forwardToSlaves||e.forwardToReplicas?\"true\":\"false\";return this.as._jsonRequest({method:\"DELETE\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/synonyms/\"+encodeURIComponent(t)+\"?forwardToReplicas=\"+n,hostType:\"write\",callback:i})},i.prototype.clearSynonyms=function(t,e){\"function\"==typeof t?(e=t,t={}):void 0===t&&(t={}),void 0!==t.forwardToSlaves&&c();var i=t.forwardToSlaves||t.forwardToReplicas?\"true\":\"false\";return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/synonyms/clear?forwardToReplicas=\"+i,hostType:\"write\",callback:e})},i.prototype.batchSynonyms=function(t,e,i){\"function\"==typeof e?(i=e,e={}):void 0===e&&(e={}),void 0!==e.forwardToSlaves&&c();var n=e.forwardToSlaves||e.forwardToReplicas?\"true\":\"false\";return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/synonyms/batch?forwardToReplicas=\"+n+\"&replaceExistingSynonyms=\"+(e.replaceExistingSynonyms?\"true\":\"false\"),hostType:\"write\",body:t,callback:i})},i.prototype.searchRules=function(t,e){return\"function\"==typeof t?(e=t,t={}):void 0===t&&(t={}),this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/rules/search\",body:t,hostType:\"read\",callback:e})},i.prototype.exportRules=function(t,e){return n(this.searchRules.bind(this),t,e)},i.prototype.saveRule=function(t,e,i){\"function\"==typeof e?(i=e,e={}):void 0===e&&(e={});var n=!0===e.forwardToReplicas?\"true\":\"false\";return this.as._jsonRequest({method:\"PUT\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/rules/\"+encodeURIComponent(t.objectID)+\"?forwardToReplicas=\"+n,body:t,hostType:\"write\",callback:i})},i.prototype.getRule=function(t,e){return this.as._jsonRequest({method:\"GET\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/rules/\"+encodeURIComponent(t),hostType:\"read\",callback:e})},i.prototype.deleteRule=function(t,e,i){\"function\"==typeof e?(i=e,e={}):void 0===e&&(e={});var n=!0===e.forwardToReplicas?\"true\":\"false\";return this.as._jsonRequest({method:\"DELETE\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/rules/\"+encodeURIComponent(t)+\"?forwardToReplicas=\"+n,hostType:\"write\",callback:i})},i.prototype.clearRules=function(t,e){\"function\"==typeof t?(e=t,t={}):void 0===t&&(t={});var i=!0===t.forwardToReplicas?\"true\":\"false\";return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/rules/clear?forwardToReplicas=\"+i,hostType:\"write\",callback:e})},i.prototype.batchRules=function(t,e,i){\"function\"==typeof e?(i=e,e={}):void 0===e&&(e={});var n=!0===e.forwardToReplicas?\"true\":\"false\";return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/rules/batch?forwardToReplicas=\"+n+\"&clearExistingRules=\"+(!0===e.clearExistingRules?\"true\":\"false\"),hostType:\"write\",body:t,callback:i})},i.prototype.setSettings=function(t,e,i){1!==arguments.length&&\"function\"!=typeof e||(i=e,e={}),void 0!==e.forwardToSlaves&&c();var n=e.forwardToSlaves||e.forwardToReplicas?\"true\":\"false\",s=this;return this.as._jsonRequest({method:\"PUT\",url:\"/1/indexes/\"+encodeURIComponent(s.indexName)+\"/settings?forwardToReplicas=\"+n,hostType:\"write\",body:t,callback:i})},i.prototype.listUserKeys=r(function(t){return this.listApiKeys(t)},a(\"index.listUserKeys()\",\"index.listApiKeys()\")),i.prototype.listApiKeys=function(t){var e=this;return this.as._jsonRequest({method:\"GET\",url:\"/1/indexes/\"+encodeURIComponent(e.indexName)+\"/keys\",hostType:\"read\",callback:t})},i.prototype.getUserKeyACL=r(function(t,e){return this.getApiKey(t,e)},a(\"index.getUserKeyACL()\",\"index.getApiKey()\")),i.prototype.getApiKey=function(t,e){var i=this;return this.as._jsonRequest({method:\"GET\",url:\"/1/indexes/\"+encodeURIComponent(i.indexName)+\"/keys/\"+t,hostType:\"read\",callback:e})},i.prototype.deleteUserKey=r(function(t,e){return this.deleteApiKey(t,e)},a(\"index.deleteUserKey()\",\"index.deleteApiKey()\")),i.prototype.deleteApiKey=function(t,e){var i=this;return this.as._jsonRequest({method:\"DELETE\",url:\"/1/indexes/\"+encodeURIComponent(i.indexName)+\"/keys/\"+t,hostType:\"write\",callback:e})},i.prototype.addUserKey=r(function(t,e,i){return this.addApiKey(t,e,i)},a(\"index.addUserKey()\",\"index.addApiKey()\")),i.prototype.addApiKey=function(e,i,n){var s=\"Usage: index.addApiKey(arrayOfAcls[, params, callback])\";if(!t(8)(e))throw new Error(s);1!==arguments.length&&\"function\"!=typeof i||(n=i,i=null);var o={acl:e};return i&&(o.validity=i.validity,o.maxQueriesPerIPPerHour=i.maxQueriesPerIPPerHour,o.maxHitsPerQuery=i.maxHitsPerQuery,o.description=i.description,i.queryParameters&&(o.queryParameters=this.as._getSearchParams(i.queryParameters,\"\")),o.referers=i.referers),this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/keys\",body:o,hostType:\"write\",callback:n})},i.prototype.addUserKeyWithValidity=r(function(t,e,i){return this.addApiKey(t,e,i)},a(\"index.addUserKeyWithValidity()\",\"index.addApiKey()\")),i.prototype.updateUserKey=r(function(t,e,i,n){return this.updateApiKey(t,e,i,n)},a(\"index.updateUserKey()\",\"index.updateApiKey()\")),i.prototype.updateApiKey=function(e,i,n,s){var o=\"Usage: index.updateApiKey(key, arrayOfAcls[, params, callback])\";if(!t(8)(i))throw new Error(o);2!==arguments.length&&\"function\"!=typeof n||(s=n,n=null);var r={acl:i};return n&&(r.validity=n.validity,r.maxQueriesPerIPPerHour=n.maxQueriesPerIPPerHour,r.maxHitsPerQuery=n.maxHitsPerQuery,r.description=n.description,n.queryParameters&&(r.queryParameters=this.as._getSearchParams(n.queryParameters,\"\")),r.referers=n.referers),this.as._jsonRequest({method:\"PUT\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/keys/\"+e,body:r,hostType:\"write\",callback:s})}},{17:17,18:18,24:24,25:25,26:26,27:27,28:28,29:29,30:30,7:7,8:8}],17:[function(t,e){\"use strict\";function i(){}e.exports=i,t(7)(i,t(4).EventEmitter),i.prototype.stop=function(){this._stopped=!0,this._clean()},i.prototype._end=function(){this.emit(\"end\"),this._clean()},i.prototype._error=function(t){this.emit(\"error\",t),this._clean()},i.prototype._result=function(t){this.emit(\"result\",t)},i.prototype._clean=function(){this.removeAllListeners(\"stop\"),this.removeAllListeners(\"end\"),this.removeAllListeners(\"error\"),this.removeAllListeners(\"result\")}},{4:4,7:7}],18:[function(t,e){function i(t,e){this.indexName=e,this.as=t,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var n=t(23),s=t(25),o=t(26);e.exports=i,i.prototype.clearCache=function(){this.cache={}},i.prototype.search=n(\"query\"),i.prototype.similarSearch=n(\"similarQuery\"),i.prototype.browse=function(e,i,n){var s,o,r=t(30),a=this;0===arguments.length||1===arguments.length&&\"function\"==typeof arguments[0]?(s=0,n=arguments[0],e=void 0):\"number\"==typeof arguments[0]?(s=arguments[0],\"number\"==typeof arguments[1]?o=arguments[1]:\"function\"==typeof arguments[1]&&(n=arguments[1],o=void 0),e=void 0,i=void 0):\"object\"==typeof arguments[0]?(\"function\"==typeof arguments[1]&&(n=arguments[1]),i=arguments[0],e=void 0):\"string\"==typeof arguments[0]&&\"function\"==typeof arguments[1]&&(n=arguments[1],i=void 0),i=r({},i||{},{page:s,hitsPerPage:o,query:e});var h=this.as._getSearchParams(i,\"\");return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(a.indexName)+\"/browse\",body:{params:h},hostType:\"read\",callback:n})},i.prototype.browseFrom=function(t,e){return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/browse\",body:{cursor:t},hostType:\"read\",callback:e})},i.prototype.searchForFacetValues=function(e,i){var n=t(24),s=t(31),o=\"Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])\";if(void 0===e.facetName||void 0===e.facetQuery)throw new Error(o);var r=e.facetName,a=s(n(e),function(t){return\"facetName\"===t}),h=this.as._getSearchParams(a,\"\");return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/facets/\"+encodeURIComponent(r)+\"/query\",hostType:\"read\",body:{params:h},callback:i})},i.prototype.searchFacet=s(function(t,e){return this.searchForFacetValues(t,e)},o(\"index.searchFacet(params[, callback])\",\"index.searchForFacetValues(params[, callback])\")),i.prototype._search=function(t,e,i,n){return this.as._jsonRequest({cache:this.cache,method:\"POST\",url:e||\"/1/indexes/\"+encodeURIComponent(this.indexName)+\"/query\",body:{params:t},hostType:\"read\",fallback:{method:\"GET\",url:\"/1/indexes/\"+encodeURIComponent(this.indexName),body:{params:t}},callback:i,additionalUA:n})},i.prototype.getObject=function(t,e,i){var n=this;1!==arguments.length&&\"function\"!=typeof e||(i=e,e=void 0);var s=\"\";if(void 0!==e){s=\"?attributes=\";for(var o=0;o<e.length;++o)0!==o&&(s+=\",\"),s+=e[o]}return this.as._jsonRequest({method:\"GET\",url:\"/1/indexes/\"+encodeURIComponent(n.indexName)+\"/\"+encodeURIComponent(t)+s,hostType:\"read\",callback:i})},i.prototype.getObjects=function(e,i,n){var s=t(8),o=t(29),r=\"Usage: index.getObjects(arrayOfObjectIDs[, callback])\";if(!s(e))throw new Error(r);var a=this;1!==arguments.length&&\"function\"!=typeof i||(n=i,i=void 0);var h={requests:o(e,function(t){var e={indexName:a.indexName,objectID:t};return i&&(e.attributesToRetrieve=i.join(\",\")),e})};return this.as._jsonRequest({method:\"POST\",url:\"/1/indexes/*/objects\",hostType:\"read\",body:h,callback:n})},i.prototype.as=null,i.prototype.indexName=null,i.prototype.typeAheadArgs=null,i.prototype.typeAheadValueOption=null},{23:23,24:24,25:25,26:26,29:29,30:30,31:31,8:8}],19:[function(t,e){\"use strict\";var i=t(14),n=t(20);e.exports=n(i)},{14:14,20:20}],20:[function(t,e){(function(i){\"use strict\";var n=t(6),s=n.Promise||t(3).Promise;e.exports=function(e,o){function r(e,i,n){return(n=t(24)(n||{}))._ua=n._ua||r.ua,new a(e,i,n)}function a(){e.apply(this,arguments)}var h=t(7),l=t(27),c=t(21),u=t(22),p=t(32);o=o||\"\",\"debug\"===i.env.NODE_ENV&&t(1).enable(\"algoliasearch*\"),r.version=t(34),r.ua=\"Algolia for vanilla JavaScript \"+o+r.version,r.initPlaces=p(r),n.__algolia={debug:t(1),algoliasearch:r};var d={hasXMLHttpRequest:\"XMLHttpRequest\"in n,hasXDomainRequest:\"XDomainRequest\"in n};return d.hasXMLHttpRequest&&(d.cors=\"withCredentials\"in new XMLHttpRequest),h(a,e),a.prototype._request=function(t,e){return new s(function(i,n){function s(){if(!f){var t;clearTimeout(p);try{t={body:JSON.parse(g.responseText),responseText:g.responseText,statusCode:g.status,headers:g.getAllResponseHeaders&&g.getAllResponseHeaders()||{}}}catch(e){t=new l.UnparsableJSON({more:g.responseText})}t instanceof l.UnparsableJSON?n(t):i(t)}}function o(t){f||(clearTimeout(p),n(new l.Network({more:t})))}function r(){f=!0,g.abort(),n(new l.RequestTimeout)}function a(){v=!0,clearTimeout(p),p=setTimeout(r,e.timeouts.complete)}function h(){v||a()}function u(){!v&&g.readyState>1&&a()}if(d.cors||d.hasXDomainRequest){t=c(t,e.headers);var p,f,m=e.body,g=d.cors?new XMLHttpRequest:new XDomainRequest,v=!1;p=setTimeout(r,e.timeouts.connect),g.onprogress=h,\"onreadystatechange\"in g&&(g.onreadystatechange=u),g.onload=s,g.onerror=o,g instanceof XMLHttpRequest?g.open(e.method,t,!0):g.open(e.method,t),d.cors&&(m&&(\"POST\"===e.method?g.setRequestHeader(\"content-type\",\"application/x-www-form-urlencoded\"):g.setRequestHeader(\"content-type\",\"application/json\")),g.setRequestHeader(\"accept\",\"application/json\")),g.send(m)}else n(new l.Network(\"CORS not supported\"))})},a.prototype._request.fallback=function(t,e){return t=c(t,e.headers),new s(function(i,n){u(t,e,function(t,e){return t?void n(t):void i(e)})})},a.prototype._promise={reject:function(t){return s.reject(t)},resolve:function(t){return s.resolve(t)},delay:function(t){return new s(function(e){setTimeout(e,t)})}},r}}).call(this,t(12))},{1:1,12:12,21:21,22:22,24:24,27:27,3:3,32:32,34:34,6:6,7:7}],21:[function(t,e){\"use strict\";function i(t,e){return(t+=/\\?/.test(t)?\"&\":\"?\")+n(e)}e.exports=i;var n=t(13)},{13:13}],22:[function(t,e){\"use strict\";function i(t,e,i){function o(){e.debug(\"JSONP: success\"),g||p||(g=!0,u||(e.debug(\"JSONP: Fail. Script loaded but did not call the callback\"),a(),i(new n.JSONPScriptFail)))}function r(){\"loaded\"!==this.readyState&&\"complete\"!==this.readyState||o()}function a(){clearTimeout(v),f.onload=null,f.onreadystatechange=null,f.onerror=null,d.removeChild(f)}function h(){try{delete window[m],delete window[m+\"_loaded\"]}catch(t){window[m]=window[m+\"_loaded\"]=void 0}}function l(){e.debug(\"JSONP: Script timeout\"),p=!0,a(),i(new n.RequestTimeout)}function c(){e.debug(\"JSONP: Script error\"),g||p||(a(),i(new n.JSONPScriptError))}if(\"GET\"===e.method){e.debug(\"JSONP: start\");var u=!1,p=!1;s+=1;var d=document.getElementsByTagName(\"head\")[0],f=document.createElement(\"script\"),m=\"algoliaJSONP_\"+s,g=!1;window[m]=function(t){return h(),p?void e.debug(\"JSONP: Late answer, ignoring\"):(u=!0,a(),void i(null,{body:t}))},t+=\"&callback=\"+m,e.jsonBody&&e.jsonBody.params&&(t+=\"&\"+e.jsonBody.params);var v=setTimeout(l,e.timeouts.complete);f.onreadystatechange=r,f.onload=o,f.onerror=c,f.async=!0,f.defer=!0,f.src=t,d.appendChild(f)}else i(new Error(\"Method \"+e.method+\" \"+t+\" is not supported by JSONP.\"))}e.exports=i;var n=t(27),s=0},{27:27}],23:[function(t,e){function i(t,e){return function(i,s,o){if(\"function\"==typeof i&&\"object\"==typeof s||\"object\"==typeof o)throw new n.AlgoliaSearchError(\"index.search usage is index.search(query, params, cb)\");0===arguments.length||\"function\"==typeof i?(o=i,i=\"\"):1!==arguments.length&&\"function\"!=typeof s||(o=s,s=void 0),\"object\"==typeof i&&null!==i?(s=i,i=void 0):null!=i||(i=\"\");var r,a=\"\";return void 0!==i&&(a+=t+\"=\"+encodeURIComponent(i)),void 0!==s&&(s.additionalUA&&(r=s.additionalUA,delete s.additionalUA),a=this.as._getSearchParams(s,a)),this._search(a,e,o,r)}}e.exports=i;var n=t(27)},{27:27}],24:[function(t,e){e.exports=function(t){return JSON.parse(JSON.stringify(t))}},{}],25:[function(t,e){e.exports=function(t,e){function i(){return n||(console.warn(e),n=!0),t.apply(this,arguments)}var n=!1;return i}},{}],26:[function(t,e){e.exports=function(t,e){return\"algoliasearch: `\"+t+\"` was replaced by `\"+e+\"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#\"+t.toLowerCase().replace(/[\\.\\(\\)]/g,\"\")}},{}],27:[function(t,e){\"use strict\";function i(e,i){var n=t(5),s=this;\"function\"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):s.stack=(new Error).stack||\"Cannot get a stacktrace, browser is too old\",this.name=\"AlgoliaSearchError\",this.message=e||\"Unknown error\",i&&n(i,function(t,e){s[e]=t})}function n(t,e){function n(){var n=Array.prototype.slice.call(arguments,0);\"string\"!=typeof n[0]&&n.unshift(e),i.apply(this,n),\nthis.name=\"AlgoliaSearch\"+t+\"Error\"}return s(n,i),n}var s=t(7);s(i,Error),e.exports={AlgoliaSearchError:i,UnparsableJSON:n(\"UnparsableJSON\",\"Could not parse the incoming response as JSON, see err.more for details\"),RequestTimeout:n(\"RequestTimeout\",\"Request timedout before getting a response\"),Network:n(\"Network\",\"Network issue, see err.more for details\"),JSONPScriptFail:n(\"JSONPScriptFail\",\"<script> was loaded but did not call our provided callback\"),JSONPScriptError:n(\"JSONPScriptError\",\"<script> unable to load due to an `error` event on it\"),Unknown:n(\"Unknown\",\"Unknown error occured\")}},{5:5,7:7}],28:[function(t,e){e.exports=function(t,e){e(t,0)}},{}],29:[function(t,e){var i=t(5);e.exports=function(t,e){var n=[];return i(t,function(i,s){n.push(e(i,s,t))}),n}},{5:5}],30:[function(t,e){var i=t(5);e.exports=function n(t){var e=Array.prototype.slice.call(arguments);return i(e,function(e){for(var i in e)e.hasOwnProperty(i)&&(\"object\"==typeof t[i]&&\"object\"==typeof e[i]?t[i]=n({},t[i],e[i]):void 0!==e[i]&&(t[i]=e[i]))}),t}},{5:5}],31:[function(t,e){e.exports=function(e,i){var n=t(10),s=t(5),o={};return s(n(e),function(t){!0!==i(t)&&(o[t]=e[t])}),o}},{10:10,5:5}],32:[function(t,e){function i(e){return function(i,s,o){var r=t(24);(o=o&&r(o)||{}).hosts=o.hosts||[\"places-dsn.algolia.net\",\"places-1.algolianet.com\",\"places-2.algolianet.com\",\"places-3.algolianet.com\"],0!==arguments.length&&\"object\"!=typeof i&&void 0!==i||(i=\"\",s=\"\",o._allowEmptyCredentials=!0);var a=e(i,s,o).initIndex(\"places\");return a.search=n(\"query\",\"/1/places/query\"),a.getObject=function(t,e){return this.as._jsonRequest({method:\"GET\",url:\"/1/places/\"+encodeURIComponent(t),hostType:\"read\",callback:e})},a}}e.exports=i;var n=t(23)},{23:23,24:24}],33:[function(t,e){(function(i){function n(t,e){return h(\"localStorage failed with\",e),r(),(a=c).get(t)}function s(t,e){return 1===arguments.length?a.get(t):a.set(t,e)}function o(){try{return\"localStorage\"in i&&null!==i.localStorage&&(i.localStorage[l]||i.localStorage.setItem(l,JSON.stringify({})),!0)}catch(t){return!1}}function r(){try{i.localStorage.removeItem(l)}catch(t){}}var a,h=t(1)(\"algoliasearch:src/hostIndexState.js\"),l=\"algoliasearch-client-js\",c={state:{},set:function(t,e){return this.state[t]=e,this.state[t]},get:function(t){return this.state[t]||null}},u={set:function(t,e){c.set(t,e);try{var s=JSON.parse(i.localStorage[l]);return s[t]=e,i.localStorage[l]=JSON.stringify(s),s[t]}catch(o){return n(t,o)}},get:function(t){try{return JSON.parse(i.localStorage[l])[t]||null}catch(e){return n(t,e)}}};a=o()?u:c,e.exports={get:s,set:s,supportsLocalStorage:o}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{1:1}],34:[function(t,e){\"use strict\";e.exports=\"3.26.0\"},{}]},{},[19])(19)}),function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};e.m=t,e.c=i,e.p=\"\",e(0)}([function(t,e,i){\"use strict\";t.exports=i(1)},function(t,e,i){\"use strict\";var n=i(2),s=i(3);n.element=s;var o=i(4);o.isArray=s.isArray,o.isFunction=s.isFunction,o.isObject=s.isPlainObject,o.bind=s.proxy,o.each=function(t,e){function i(t,i){return e(i,t)}s.each(t,i)},o.map=s.map,o.mixin=s.extend,o.Event=s.Event;var r,a,h,l=i(5),c=i(6);r=s.fn.autocomplete,a=\"aaAutocomplete\",h={initialize:function(t,e){function i(){var i,n=s(this),o=new c({el:n});i=new l({input:n,eventBus:o,dropdownMenuContainer:t.dropdownMenuContainer,hint:void 0===t.hint||!!t.hint,minLength:t.minLength,autoselect:t.autoselect,autoselectOnBlur:t.autoselectOnBlur,openOnFocus:t.openOnFocus,templates:t.templates,debug:t.debug,cssClasses:t.cssClasses,datasets:e,keyboardShortcuts:t.keyboardShortcuts,appendTo:t.appendTo,autoWidth:t.autoWidth}),n.data(a,i)}return e=o.isArray(e)?e:[].slice.call(arguments,1),t=t||{},this.each(i)},open:function(){function t(){var t;(t=s(this).data(a))&&t.open()}return this.each(t)},close:function(){function t(){var t;(t=s(this).data(a))&&t.close()}return this.each(t)},val:function(t){function e(){var e;(e=s(this).data(a))&&e.setVal(t)}return arguments.length?this.each(e):function(t){var e,i;return(e=t.data(a))&&(i=e.getVal()),i}(this.first())},destroy:function(){function t(){var t,e=s(this);(t=e.data(a))&&(t.destroy(),e.removeData(a))}return this.each(t)}},s.fn.autocomplete=function(t){var e;return h[t]&&\"initialize\"!==t?(e=this.filter(function(){return!!s(this).data(a)}),h[t].apply(e,[].slice.call(arguments,1))):h.initialize.apply(this,arguments)},s.fn.autocomplete.noConflict=function(){return s.fn.autocomplete=r,this},s.fn.autocomplete.sources=l.sources,s.fn.autocomplete.escapeHighlightedString=o.escapeHighlightedString,t.exports=s.fn.autocomplete},function(t){\"use strict\";t.exports={element:null}},function(t){t.exports=jQuery},function(t,e,i){\"use strict\";function n(t){return t.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\")}var s=i(2);t.exports={isArray:null,isFunction:null,isObject:null,bind:null,each:null,map:null,mixin:null,isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2]},escapeRegExChars:function(t){return t.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\")},isNumber:function(t){return\"number\"==typeof t},toStr:function(t){return null==t?\"\":t+\"\"},cloneDeep:function(t){var e=this.mixin({},t),i=this;return this.each(e,function(t,n){t&&(i.isArray(t)?e[n]=[].concat(t):i.isObject(t)&&(e[n]=i.cloneDeep(t)))}),e},error:function(t){throw new Error(t)},every:function(t,e){var i=!0;return t?(this.each(t,function(n,s){if(!(i=e.call(null,n,s,t)))return!1}),!!i):i},any:function(t,e){var i=!1;return t?(this.each(t,function(n,s){if(e.call(null,n,s,t))return i=!0,!1}),i):i},getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(t){if(this.isFunction(t))return t;var e=s.element(t);return\"SCRIPT\"===e.prop(\"tagName\")?function(){return e.text()}:function(){return String(t)}},defer:function(t){setTimeout(t,0)},noop:function(){},formatPrefix:function(t,e){return e?\"\":t+\"-\"},className:function(t,e,i){return(i?\"\":\".\")+t+e},escapeHighlightedString:function(t,e,i){e=e||\"<em>\";var s=document.createElement(\"div\");s.appendChild(document.createTextNode(e)),i=i||\"</em>\";var o=document.createElement(\"div\");o.appendChild(document.createTextNode(i));var r=document.createElement(\"div\");return r.appendChild(document.createTextNode(t)),r.innerHTML.replace(RegExp(n(s.innerHTML),\"g\"),e).replace(RegExp(n(o.innerHTML),\"g\"),i)}}},function(t,e,i){\"use strict\";function n(t){var e,i;if((t=t||{}).input||h.error(\"missing input\"),this.isActivated=!1,this.debug=!!t.debug,this.autoselect=!!t.autoselect,this.autoselectOnBlur=!!t.autoselectOnBlur,this.openOnFocus=!!t.openOnFocus,this.minLength=h.isNumber(t.minLength)?t.minLength:1,this.autoWidth=void 0===t.autoWidth||!!t.autoWidth,t.hint=!!t.hint,t.hint&&t.appendTo)throw new Error(\"[autocomplete.js] hint and appendTo options can't be used at the same time\");this.css=t.css=h.mixin({},f,t.appendTo?f.appendTo:{}),this.cssClasses=t.cssClasses=h.mixin({},f.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix=h.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),this.listboxId=t.listboxId=[this.cssClasses.root,\"listbox\",h.getUniqueId()].join(\"-\");var o=s(t);this.$node=o.wrapper;var r=this.$input=o.input;e=o.menu,i=o.hint,t.dropdownMenuContainer&&l.element(t.dropdownMenuContainer).css(\"position\",\"relative\").append(e.css(\"top\",\"0\")),r.on(\"blur.aa\",function(t){var i=document.activeElement;h.isMsie()&&(e[0]===i||e[0].contains(i))&&(t.preventDefault(),t.stopImmediatePropagation(),h.defer(function(){r.focus()}))}),e.on(\"mousedown.aa\",function(t){t.preventDefault()}),this.eventBus=t.eventBus||new c({el:r}),this.dropdown=new n.Dropdown({appendTo:t.appendTo,wrapper:this.$node,menu:e,datasets:t.datasets,templates:t.templates,cssClasses:t.cssClasses,minLength:this.minLength}).onSync(\"suggestionClicked\",this._onSuggestionClicked,this).onSync(\"cursorMoved\",this._onCursorMoved,this).onSync(\"cursorRemoved\",this._onCursorRemoved,this).onSync(\"opened\",this._onOpened,this).onSync(\"closed\",this._onClosed,this).onSync(\"shown\",this._onShown,this).onSync(\"empty\",this._onEmpty,this).onSync(\"redrawn\",this._onRedrawn,this).onAsync(\"datasetRendered\",this._onDatasetRendered,this),this.input=new n.Input({input:r,hint:i}).onSync(\"focused\",this._onFocused,this).onSync(\"blurred\",this._onBlurred,this).onSync(\"enterKeyed\",this._onEnterKeyed,this).onSync(\"tabKeyed\",this._onTabKeyed,this).onSync(\"escKeyed\",this._onEscKeyed,this).onSync(\"upKeyed\",this._onUpKeyed,this).onSync(\"downKeyed\",this._onDownKeyed,this).onSync(\"leftKeyed\",this._onLeftKeyed,this).onSync(\"rightKeyed\",this._onRightKeyed,this).onSync(\"queryChanged\",this._onQueryChanged,this).onSync(\"whitespaceChanged\",this._onWhitespaceChanged,this),this._bindKeyboardShortcuts(t),this._setLanguageDirection()}function s(t){var e,i,n,s;e=l.element(t.input),i=l.element(d.wrapper.replace(\"%ROOT%\",t.cssClasses.root)).css(t.css.wrapper),t.appendTo||\"block\"!==e.css(\"display\")||\"table\"!==e.parent().css(\"display\")||i.css(\"display\",\"table-cell\");var r=d.dropdown.replace(\"%PREFIX%\",t.cssClasses.prefix).replace(\"%DROPDOWN_MENU%\",t.cssClasses.dropdownMenu);n=l.element(r).css(t.css.dropdown).attr({role:\"listbox\",id:t.listboxId}),t.templates&&t.templates.dropdownMenu&&n.html(h.templatify(t.templates.dropdownMenu)()),(s=e.clone().css(t.css.hint).css(o(e))).val(\"\").addClass(h.className(t.cssClasses.prefix,t.cssClasses.hint,!0)).removeAttr(\"id name placeholder required\").prop(\"readonly\",!0).attr({\"aria-hidden\":\"true\",autocomplete:\"off\",spellcheck:\"false\",tabindex:-1}),s.removeData&&s.removeData(),e.data(a,{\"aria-autocomplete\":e.attr(\"aria-autocomplete\"),\"aria-expanded\":e.attr(\"aria-expanded\"),\"aria-owns\":e.attr(\"aria-owns\"),autocomplete:e.attr(\"autocomplete\"),dir:e.attr(\"dir\"),role:e.attr(\"role\"),spellcheck:e.attr(\"spellcheck\"),style:e.attr(\"style\"),type:e.attr(\"type\")}),e.addClass(h.className(t.cssClasses.prefix,t.cssClasses.input,!0)).attr({autocomplete:\"off\",spellcheck:!1,role:\"combobox\",\"aria-autocomplete\":t.datasets&&t.datasets[0]&&t.datasets[0].displayKey?\"both\":\"list\",\"aria-expanded\":\"false\",\"aria-label\":t.ariaLabel,\"aria-owns\":t.listboxId}).css(t.hint?t.css.input:t.css.inputWithNoHint);try{e.attr(\"dir\")||e.attr(\"dir\",\"auto\")}catch(t){}return(i=t.appendTo?i.appendTo(l.element(t.appendTo).eq(0)).eq(0):e.wrap(i).parent()).prepend(t.hint?s:null).append(n),{wrapper:i,input:e,hint:s,menu:n}}function o(t){return{backgroundAttachment:t.css(\"background-attachment\"),backgroundClip:t.css(\"background-clip\"),backgroundColor:t.css(\"background-color\"),backgroundImage:t.css(\"background-image\"),backgroundOrigin:t.css(\"background-origin\"),backgroundPosition:t.css(\"background-position\"),backgroundRepeat:t.css(\"background-repeat\"),backgroundSize:t.css(\"background-size\")}}function r(t,e){var i=t.find(h.className(e.prefix,e.input));h.each(i.data(a),function(t,e){void 0===t?i.removeAttr(e):i.attr(e,t)}),i.detach().removeClass(h.className(e.prefix,e.input,!0)).insertAfter(t),i.removeData&&i.removeData(a),t.remove()}var a=\"aaAttrs\",h=i(4),l=i(2),c=i(6),u=i(7),p=i(16),d=i(18),f=i(19);h.mixin(n.prototype,{_bindKeyboardShortcuts:function(t){if(t.keyboardShortcuts){var e=this.$input,i=[];h.each(t.keyboardShortcuts,function(t){\"string\"==typeof t&&(t=t.toUpperCase().charCodeAt(0)),i.push(t)}),l.element(document).keydown(function(t){var n=t.target||t.srcElement,s=n.tagName;if(!n.isContentEditable&&\"INPUT\"!==s&&\"SELECT\"!==s&&\"TEXTAREA\"!==s){var o=t.which||t.keyCode;-1!==i.indexOf(o)&&(e.focus(),t.stopPropagation(),t.preventDefault())}})}},_onSuggestionClicked:function(t,e){var i;(i=this.dropdown.getDatumForSuggestion(e))&&this._select(i)},_onCursorMoved:function(t,e){var i=this.dropdown.getDatumForCursor(),n=this.dropdown.getCurrentCursor().attr(\"id\");this.input.setActiveDescendant(n),i&&(e&&this.input.setInputValue(i.value,!0),this.eventBus.trigger(\"cursorchanged\",i.raw,i.datasetName))},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint(),this.eventBus.trigger(\"cursorremoved\")},_onDatasetRendered:function(){this._updateHint(),this.eventBus.trigger(\"updated\")},_onOpened:function(){this._updateHint(),this.input.expand(),this.eventBus.trigger(\"opened\")},_onEmpty:function(){this.eventBus.trigger(\"empty\")},_onRedrawn:function(){this.$node.css(\"top\",\"0px\"),this.$node.css(\"left\",\"0px\");var t=this.$input[0].getBoundingClientRect();this.autoWidth&&this.$node.css(\"width\",t.width+\"px\");var e=this.$node[0].getBoundingClientRect(),i=t.bottom-e.top;this.$node.css(\"top\",i+\"px\");var n=t.left-e.left;this.$node.css(\"left\",n+\"px\"),this.eventBus.trigger(\"redrawn\")},_onShown:function(){this.eventBus.trigger(\"shown\"),this.autoselect&&this.dropdown.cursorTopSuggestion()},_onClosed:function(){this.input.clearHint(),this.input.removeActiveDescendant(),this.input.collapse(),this.eventBus.trigger(\"closed\")},_onFocused:function(){if(this.isActivated=!0,this.openOnFocus){var t=this.input.getQuery();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open()}},_onBlurred:function(){var t,e;t=this.dropdown.getDatumForCursor(),e=this.dropdown.getDatumForTopSuggestion(),this.debug||(this.autoselectOnBlur&&t?this._select(t):this.autoselectOnBlur&&e?this._select(e):(this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()))},_onEnterKeyed:function(t,e){var i,n;i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion(),i?(this._select(i),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function(t,e){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){\"rtl\"===this.dir&&this._autocomplete()},_onRightKeyed:function(){\"ltr\"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t=this.input.getLanguageDirection();this.dir!==t&&(this.dir=t,this.$node.css(\"direction\",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,i,n,s;(t=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(e=this.input.getInputValue(),i=u.normalizeQuery(e),n=h.escapeRegExChars(i),(s=new RegExp(\"^(?:\"+n+\")(.+$)\",\"i\").exec(t.value))?this.input.setHint(e+s[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,i,n,s;e=this.input.getHint(),i=this.input.getQuery(),n=t||this.input.isCursorAtEnd(),e&&i!==e&&n&&((s=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(s.value),this.eventBus.trigger(\"autocompleted\",s.raw,s.datasetName))},_select:function(t){void 0!==t.value&&this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),!1===this.eventBus.trigger(\"selected\",t.raw,t.datasetName).isDefaultPrevented()&&(this.dropdown.close(),h.defer(h.bind(this.dropdown.empty,this.dropdown)))},open:function(){if(!this.isActivated){var t=this.input.getInputValue();t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty()}this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=h.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),r(this.$node,this.cssClasses),this.$node=null},getWrapper:function(){return this.dropdown.$container[0]}}),n.Dropdown=p,n.Input=u,n.sources=i(20),t.exports=n},function(t,e,i){\"use strict\";function n(t){t&&t.el||s.error(\"EventBus initialized without el\"),this.$el=o.element(t.el)}var s=i(4),o=i(2);s.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1),i=s.Event(\"autocomplete:\"+t);return this.$el.trigger(i,e),i}}),t.exports=n},function(t,e,i){\"use strict\";function n(t){var e,i,n,o,r=this;(t=t||{}).input||h.error(\"input is missing\"),e=h.bind(this._onBlur,this),i=h.bind(this._onFocus,this),n=h.bind(this._onKeydown,this),o=h.bind(this._onInput,this),this.$hint=l.element(t.hint),this.$input=l.element(t.input).on(\"blur.aa\",e).on(\"focus.aa\",i).on(\"keydown.aa\",n),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=h.noop),h.isMsie()?this.$input.on(\"keydown.aa keypress.aa cut.aa paste.aa\",function(t){a[t.which||t.keyCode]||h.defer(h.bind(r._onInput,r,t))}):this.$input.on(\"input.aa\",o),this.query=this.$input.val(),this.$overflowHelper=s(this.$input)}function s(t){return l.element('<pre aria-hidden=\"true\"></pre>').css({position:\"absolute\",visibility:\"hidden\",whiteSpace:\"pre\",fontFamily:t.css(\"font-family\"),fontSize:t.css(\"font-size\"),fontStyle:t.css(\"font-style\"),fontVariant:t.css(\"font-variant\"),fontWeight:t.css(\"font-weight\"),wordSpacing:t.css(\"word-spacing\"),letterSpacing:t.css(\"letter-spacing\"),textIndent:t.css(\"text-indent\"),textRendering:t.css(\"text-rendering\"),textTransform:t.css(\"text-transform\")}).insertAfter(t)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;a={9:\"tab\",27:\"esc\",37:\"left\",39:\"right\",13:\"enter\",38:\"up\",40:\"down\"};var h=i(4),l=i(2),c=i(8);n.normalizeQuery=function(t){return(t||\"\").replace(/^\\s*/g,\"\").replace(/\\s{2,}/g,\" \")},h.mixin(n.prototype,c,{_onBlur:function(){this.resetInputValue(),this.$input.removeAttr(\"aria-activedescendant\"),this.trigger(\"blurred\")},_onFocus:function(){this.trigger(\"focused\")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+\"Keyed\",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var i,n,s;switch(t){case\"tab\":n=this.getHint(),s=this.getInputValue(),i=n&&n!==s&&!r(e);break;case\"up\":case\"down\":i=!r(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case\"tab\":i=!r(e);break;default:i=!0}return i},_checkInputValue:function(){var t,e,i;i=!(!(e=o(t=this.getInputValue(),this.query))||!this.query)&&this.query.length!==t.length,this.query=t,e?i&&this.trigger(\"whitespaceChanged\",this.query):this.trigger(\"queryChanged\",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){void 0===t&&(t=this.query),this.$input.val(t),e?this.clearHint():this._checkInputValue()},expand:function(){this.$input.attr(\"aria-expanded\",\"true\")},collapse:function(){this.$input.attr(\"aria-expanded\",\"false\")},setActiveDescendant:function(t){this.$input.attr(\"aria-activedescendant\",t)},removeActiveDescendant:function(){this.$input.removeAttr(\"aria-activedescendant\")},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint(\"\")},clearHintIfInvalid:function(){var t,e,i;i=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),\"\"!==t&&i&&!this.hasOverflow()||this.clearHint()},getLanguageDirection:function(){return(this.$input.css(\"direction\")||\"ltr\").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,i;return t=this.$input.val().length,e=this.$input[0].selectionStart,h.isNumber(e)?e===t:!document.selection||((i=document.selection.createRange()).moveStart(\"character\",-t),t===i.text.length)},destroy:function(){this.$hint.off(\".aa\"),this.$input.off(\".aa\"),this.$hint=this.$input=this.$overflowHelper=null}}),t.exports=n},function(t,e,i){\"use strict\";function n(t,e,i,n){var s;if(!i)return this;for(e=e.split(u),i=n?l(i,n):i,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function s(t,e,i){return n.call(this,\"async\",t,e,i)}function o(t,e,i){return n.call(this,\"sync\",t,e,i)}function r(t){var e;if(!this._callbacks)return this;for(t=t.split(u);e=t.shift();)delete this._callbacks[e];return this}function a(t){var e,i,n,s,o;if(!this._callbacks)return this;for(t=t.split(u),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)s=h(i.sync,this,[e].concat(n)),o=h(i.async,this,[e].concat(n)),s()&&c(o);return this}function h(t,e,i){function n(){for(var n,s=0,o=t.length;!n&&s<o;s+=1)n=!1===t[s].apply(e,i);return!n}return n}function l(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var c=i(9),u=/\\s+/;t.exports={onSync:o,onAsync:s,off:r,trigger:a}},function(t,e,i){\"use strict\";function n(){a&&h&&(a=!1,h.length?p=h.concat(p):u=-1,p.length&&s())}function s(){if(!a){d=!1,a=!0;for(var t=p.length,e=setTimeout(n);t;){for(h=p,p=[];h&&++u<t;)h[u].run();u=-1,t=p.length}h=null,u=-1,a=!1,clearTimeout(e)}}function o(t,e){this.fun=t,this.array=e}function r(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new o(t,e)),d||a||(d=!0,l())}for(var a,h,l,c=[i(10),i(12),i(13),i(14),i(15)],u=-1,p=[],d=!1,f=-1,m=c.length;++f<m;)if(c[f]&&c[f].test&&c[f].test()){l=c[f].install(s);break}o.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},t.exports=r},function(t,e,i){(function(t){\"use strict\";e.test=function(){return void 0!==t&&!t.browser},e.install=function(e){return function(){t.nextTick(e)}}}).call(e,i(11))},function(t){function e(){throw new Error(\"setTimeout has not been defined\")}function i(){throw new Error(\"clearTimeout has not been defined\")}function n(t){if(l===setTimeout)return setTimeout(t,0);if((l===e||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(i){try{return l.call(null,t,0)}catch(i){return l.call(this,t,0)}}}function s(t){if(c===clearTimeout)return clearTimeout(t);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function o(){f&&p&&(f=!1,p.length?d=p.concat(d):m=-1,d.length&&r())}function r(){if(!f){var t=n(o);f=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,f=!1,s(t)}}function a(t,e){this.fun=t,this.array=e}function h(){}var l,c,u=t.exports={};!function(){try{l=\"function\"==typeof setTimeout?setTimeout:e}catch(t){l=e}try{c=\"function\"==typeof clearTimeout?clearTimeout:i}catch(t){c=i}}();var p,d=[],f=!1,m=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new a(t,e)),1!==d.length||f||n(r)},a.prototype.run=function(){this.fun.apply(null,this.array)},u.title=\"browser\",u.browser=!0,u.env={},u.argv=[],u.version=\"\",u.versions={},u.on=h,u.addListener=h,u.once=h,u.off=h,u.removeListener=h,u.removeAllListeners=h,u.emit=h,u.binding=function(){throw new Error(\"process.binding is not supported\")},u.cwd=function(){return\"/\"},u.chdir=function(){throw new Error(\"process.chdir is not supported\")},u.umask=function(){return 0}},function(t,e){(function(t){\"use strict\";var i=t.MutationObserver||t.WebKitMutationObserver;e.test=function(){return i},e.install=function(e){var n=0,s=new i(e),o=t.document.createTextNode(\"\");return s.observe(o,{characterData:!0}),function(){o.data=n=++n%2}}}).call(e,function(){return this}())},function(t,e){(function(t){\"use strict\";e.test=function(){return!t.setImmediate&&void 0!==t.MessageChannel},e.install=function(e){var i=new t.MessageChannel;return i.port1.onmessage=e,function(){i.port2.postMessage(0)}}}).call(e,function(){return this}())},function(t,e){(function(t){\"use strict\";e.test=function(){return\"document\"in t&&\"onreadystatechange\"in t.document.createElement(\"script\")},e.install=function(e){return function(){var i=t.document.createElement(\"script\");return i.onreadystatechange=function(){e(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},t.document.documentElement.appendChild(i),e}}}).call(e,function(){return this}())},function(t,e){\"use strict\";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},function(t,e,i){\"use strict\";function n(t){var e,i,n,a=this;(t=t||{}).menu||o.error(\"menu is required\"),o.isArray(t.datasets)||o.isObject(t.datasets)||o.error(\"1 or more datasets required\"),t.datasets||o.error(\"datasets is required\"),this.isOpen=!1,this.isEmpty=!0,this.minLength=t.minLength||0,this.templates={},this.appendTo=t.appendTo||!1,this.css=o.mixin({},l,t.appendTo?l.appendTo:{}),this.cssClasses=t.cssClasses=o.mixin({},l.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix||o.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix),e=o.bind(this._onSuggestionClick,this),i=o.bind(this._onSuggestionMouseEnter,this),n=o.bind(this._onSuggestionMouseLeave,this);var h=o.className(this.cssClasses.prefix,this.cssClasses.suggestion);this.$menu=r.element(t.menu).on(\"mouseenter.aa\",h,i).on(\"mouseleave.aa\",h,n).on(\"click.aa\",h,e),this.$container=t.appendTo?t.wrapper:this.$menu,t.templates&&t.templates.header&&(this.templates.header=o.templatify(t.templates.header),this.$menu.prepend(this.templates.header())),t.templates&&t.templates.empty&&(this.templates.empty=o.templatify(t.templates.empty),this.$empty=r.element('<div class=\"'+o.className(this.cssClasses.prefix,this.cssClasses.empty,!0)+'\"></div>'),this.$menu.append(this.$empty),this.$empty.hide()),this.datasets=o.map(t.datasets,function(e){return s(a.$menu,e,t.cssClasses)}),o.each(this.datasets,function(t){var e=t.getRoot();e&&0===e.parent().length&&a.$menu.append(e),t.onSync(\"rendered\",a._onRendered,a)}),t.templates&&t.templates.footer&&(this.templates.footer=o.templatify(t.templates.footer),this.$menu.append(this.templates.footer()));var c=this;r.element(window).resize(function(){c._redraw()})}function s(t,e,i){return new n.Dataset(o.mixin({$menu:t,cssClasses:i},e))}var o=i(4),r=i(2),a=i(8),h=i(17),l=i(19);o.mixin(n.prototype,a,{_onSuggestionClick:function(t){this.trigger(\"suggestionClicked\",r.element(t.currentTarget))},_onSuggestionMouseEnter:function(t){var e=r.element(t.currentTarget);if(!e.hasClass(o.className(this.cssClasses.prefix,this.cssClasses.cursor,!0))){this._removeCursor();var i=this;setTimeout(function(){i._setCursor(e,!1)},0)}},_onSuggestionMouseLeave:function(t){t.relatedTarget&&r.element(t.relatedTarget).closest(\".\"+o.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).length>0||(this._removeCursor(),this.trigger(\"cursorRemoved\"))},_onRendered:function(t,e){function i(t){return t.isEmpty()}function n(t){return t.templates&&t.templates.empty}if(this.isEmpty=o.every(this.datasets,i),this.isEmpty)if(e.length>=this.minLength&&this.trigger(\"empty\"),this.$empty)if(e.length<this.minLength)this._hide();else{var s=this.templates.empty({query:this.datasets[0]&&this.datasets[0].query});this.$empty.html(s),this.$empty.show(),this._show()}else o.any(this.datasets,n)?e.length<this.minLength?this._hide():this._show():this._hide();else this.isOpen&&(this.$empty&&(this.$empty.empty(),this.$empty.hide()),e.length>=this.minLength?this._show():this._hide());this.trigger(\"datasetRendered\")},_hide:function(){this.$container.hide()},_show:function(){this.$container.css(\"display\",\"block\"),this._redraw(),this.trigger(\"shown\")},_redraw:function(){this.isOpen&&this.appendTo&&this.trigger(\"redrawn\")},_getSuggestions:function(){return this.$menu.find(o.className(this.cssClasses.prefix,this.cssClasses.suggestion))},_getCursor:function(){return this.$menu.find(o.className(this.cssClasses.prefix,this.cssClasses.cursor)).first()},_setCursor:function(t,e){t.first().addClass(o.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).attr(\"aria-selected\",\"true\"),this.trigger(\"cursorMoved\",e)},_removeCursor:function(){this._getCursor().removeClass(o.className(this.cssClasses.prefix,this.cssClasses.cursor,!0)).removeAttr(\"aria-selected\")},_moveCursor:function(t){var e,i,n,s;if(this.isOpen){if(i=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1==(n=((n=e.index(i)+t)+1)%(e.length+1)-1))return void this.trigger(\"cursorRemoved\");n<-1&&(n=e.length-1),this._setCursor(s=e.eq(n),!0),this._ensureVisible(s)}},_ensureVisible:function(t){var e,i,n,s;i=(e=t.position().top)+t.height()+parseInt(t.css(\"margin-top\"),10)+parseInt(t.css(\"margin-bottom\"),10),n=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css(\"padding-top\"),10)+parseInt(this.$menu.css(\"padding-bottom\"),10),e<0?this.$menu.scrollTop(n+e):s<i&&this.$menu.scrollTop(n+(i-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger(\"closed\"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger(\"opened\"))},setLanguageDirection:function(t){this.$menu.css(\"ltr\"===t?this.css.ltr:this.css.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:h.extractDatum(t),value:h.extractValue(t),datasetName:h.extractDatasetName(t)}),e},getCurrentCursor:function(){return this._getCursor().first()},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},cursorTopSuggestion:function(){this._setCursor(this._getSuggestions().first(),!1)},update:function(t){function e(e){e.update(t)}o.each(this.datasets,e)},empty:function(){function t(t){t.clear()}o.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(\".aa\"),this.$menu=null,o.each(this.datasets,t)}}),n.Dataset=h,t.exports=n},function(t,e,i){\"use strict\";function n(t){(t=t||{}).templates=t.templates||{},t.source||c.error(\"missing source\"),t.name&&!r(t.name)&&c.error(\"invalid dataset name: \"+t.name),this.query=null,this._isEmpty=!0,this.highlight=!!t.highlight,this.name=void 0===t.name||null===t.name?c.getUniqueId():t.name,this.source=t.source,this.displayFn=s(t.display||t.displayKey),this.templates=o(t.templates,this.displayFn),this.css=c.mixin({},d,t.appendTo?d.appendTo:{}),this.cssClasses=t.cssClasses=c.mixin({},d.defaultClasses,t.cssClasses||{}),this.cssClasses.prefix=t.cssClasses.formattedPrefix||c.formatPrefix(this.cssClasses.prefix,this.cssClasses.noPrefix);var e=c.className(this.cssClasses.prefix,this.cssClasses.dataset);this.$el=t.$menu&&t.$menu.find(e+\"-\"+this.name).length>0?u.element(t.$menu.find(e+\"-\"+this.name)[0]):u.element(p.dataset.replace(\"%CLASS%\",this.name).replace(\"%PREFIX%\",this.cssClasses.prefix).replace(\"%DATASET%\",this.cssClasses.dataset)),this.$menu=t.$menu,this.clearCachedSuggestions()}function s(t){function e(e){return e[t]}return t=t||\"value\",c.isFunction(t)?t:e}function o(t,e){function i(t){return\"<p>\"+e(t)+\"</p>\"}return{empty:t.empty&&c.templatify(t.empty),header:t.header&&c.templatify(t.header),footer:t.footer&&c.templatify(t.footer),suggestion:t.suggestion||i}}function r(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var a=\"aaDataset\",h=\"aaValue\",l=\"aaDatum\",c=i(4),u=i(2),p=i(18),d=i(19),f=i(8);n.extractDatasetName=function(t){return u.element(t).data(a)},n.extractValue=function(t){return u.element(t).data(h)},n.extractDatum=function(t){var e=u.element(t).data(l);return\"string\"==typeof e&&(e=JSON.parse(e)),e},c.mixin(n.prototype,f,{_render:function(t,e){function i(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!0}].concat(e),d.templates.empty.apply(this,e)}function n(){function t(t){var e,i=p.suggestion.replace(\"%PREFIX%\",o.cssClasses.prefix).replace(\"%SUGGESTION%\",o.cssClasses.suggestion);return(e=u.element(i).attr({role:\"option\",\nid:[\"option\",Math.floor(1e8*Math.random())].join(\"-\")}).append(d.templates.suggestion.apply(this,[t].concat(s)))).data(a,d.name),e.data(h,d.displayFn(t)||void 0),e.data(l,JSON.stringify(t)),e.children().each(function(){u.element(this).css(o.css.suggestionChild)}),e}var i,n,s=[].slice.call(arguments,0),o=this,r=p.suggestions.replace(\"%PREFIX%\",this.cssClasses.prefix).replace(\"%SUGGESTIONS%\",this.cssClasses.suggestions);return i=u.element(r).css(this.css.suggestions),n=c.map(e,t),i.append.apply(i,n),i}function s(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!r}].concat(e),d.templates.header.apply(this,e)}function o(){var e=[].slice.call(arguments,0);return e=[{query:t,isEmpty:!r}].concat(e),d.templates.footer.apply(this,e)}if(this.$el){var r,d=this,f=[].slice.call(arguments,2);this.$el.empty(),r=e&&e.length,this._isEmpty=!r,!r&&this.templates.empty?this.$el.html(i.apply(this,f)).prepend(d.templates.header?s.apply(this,f):null).append(d.templates.footer?o.apply(this,f):null):r&&this.$el.html(n.apply(this,f)).prepend(d.templates.header?s.apply(this,f):null).append(d.templates.footer?o.apply(this,f):null),this.$menu&&this.$menu.addClass(this.cssClasses.prefix+(r?\"with\":\"without\")+\"-\"+this.name).removeClass(this.cssClasses.prefix+(r?\"without\":\"with\")+\"-\"+this.name),this.trigger(\"rendered\",t)}},getRoot:function(){return this.$el},update:function(t){function e(e){if(!this.canceled&&t===this.query){var i=[].slice.call(arguments,1);this.cacheSuggestions(t,e,i),this._render.apply(this,[t,e].concat(i))}}this.query=t,this.canceled=!1,this.shouldFetchFromCache(t)?e.apply(this,[this.cachedSuggestions].concat(this.cachedRenderExtraArgs)):this.source(t,e.bind(this))},cacheSuggestions:function(t,e,i){this.cachedQuery=t,this.cachedSuggestions=e,this.cachedRenderExtraArgs=i},shouldFetchFromCache:function(t){return this.cachedQuery===t&&this.cachedSuggestions&&this.cachedSuggestions.length},clearCachedSuggestions:function(){delete this.cachedQuery,delete this.cachedSuggestions,delete this.cachedRenderExtraArgs},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger(\"rendered\",\"\")},isEmpty:function(){return this._isEmpty},destroy:function(){this.clearCachedSuggestions(),this.$el=null}}),t.exports=n},function(t){\"use strict\";t.exports={wrapper:'<span class=\"%ROOT%\"></span>',dropdown:'<span class=\"%PREFIX%%DROPDOWN_MENU%\"></span>',dataset:'<div class=\"%PREFIX%%DATASET%-%CLASS%\"></div>',suggestions:'<span class=\"%PREFIX%%SUGGESTIONS%\"></span>',suggestion:'<div class=\"%PREFIX%%SUGGESTION%\"></div>'}},function(t,e,i){\"use strict\";var n=i(4),s={wrapper:{position:\"relative\",display:\"inline-block\"},hint:{position:\"absolute\",top:\"0\",left:\"0\",borderColor:\"transparent\",boxShadow:\"none\",opacity:\"1\"},input:{position:\"relative\",verticalAlign:\"top\",backgroundColor:\"transparent\"},inputWithNoHint:{position:\"relative\",verticalAlign:\"top\"},dropdown:{position:\"absolute\",top:\"100%\",left:\"0\",zIndex:\"100\",display:\"none\"},suggestions:{display:\"block\"},suggestion:{whiteSpace:\"nowrap\",cursor:\"pointer\"},suggestionChild:{whiteSpace:\"normal\"},ltr:{left:\"0\",right:\"auto\"},rtl:{left:\"auto\",right:\"0\"},defaultClasses:{root:\"algolia-autocomplete\",prefix:\"aa\",noPrefix:!1,dropdownMenu:\"dropdown-menu\",input:\"input\",hint:\"hint\",suggestions:\"suggestions\",suggestion:\"suggestion\",cursor:\"cursor\",dataset:\"dataset\",empty:\"empty\"},appendTo:{wrapper:{position:\"absolute\",zIndex:\"100\",display:\"none\"},input:{},inputWithNoHint:{},dropdown:{display:\"block\"}}};n.isMsie()&&n.mixin(s.input,{backgroundImage:\"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"}),n.isMsie()&&n.isMsie()<=7&&n.mixin(s.input,{marginTop:\"-1px\"}),t.exports=s},function(t,e,i){\"use strict\";t.exports={hits:i(21),popularIn:i(24)}},function(t,e,i){\"use strict\";var n=i(4),s=i(22),o=i(23);t.exports=function(t,e){function i(i,s){t.search(i,e,function(t,e){t?n.error(t.message):s(e.hits,e)})}var r=o(t.as._ua);return r&&r[0]>=3&&r[1]>20&&((e=e||{}).additionalUA=\"autocomplete.js \"+s),i}},function(t){t.exports=\"0.29.0\"},function(t){\"use strict\";t.exports=function(t){var e=t.match(/Algolia for vanilla JavaScript (\\d+\\.)(\\d+\\.)(\\d+)/);if(e)return[e[1],e[2],e[3]]}},function(t,e,i){\"use strict\";var n=i(4),s=i(22),o=i(23);t.exports=function(t,e,i,r){function a(a,h){t.search(a,e,function(t,a){if(t)n.error(t.message);else{if(a.hits.length>0){var u=a.hits[0],p=n.mixin({hitsPerPage:0},i);delete p.source,delete p.index;var d=o(c.as._ua);return d&&d[0]>=3&&d[1]>20&&(e.additionalUA=\"autocomplete.js \"+s),void c.search(l(u),p,function(t,e){if(t)n.error(t.message);else{var i=[];if(r.includeAll){var s=r.allTitle||\"All departments\";i.push(n.mixin({facet:{value:s,count:e.nbHits}},n.cloneDeep(u)))}n.each(e.facets,function(t,e){n.each(t,function(t,s){i.push(n.mixin({facet:{facet:e,value:s,count:t}},n.cloneDeep(u)))})});for(var o=1;o<a.hits.length;++o)i.push(a.hits[o]);h(i,a)}})}h([])}})}var h=o(t.as._ua);if(h&&h[0]>=3&&h[1]>20&&((e=e||{}).additionalUA=\"autocomplete.js \"+s),!i.source)return n.error(\"Missing 'source' key\");var l=n.isFunction(i.source)?i.source:function(t){return t[i.source]};if(!i.index)return n.error(\"Missing 'index' key\");var c=i.index;return r=r||{},a}}]),window.CacheGet={_inMemoryStore:{},find:function(t){this._validateOpts(t);var e=this._find(t);e?t.onSuccess(e):this._fetchAndCache(t)},_find:function(t){return this._inMemoryStore[t.key]},_validateOpts:function(t){if(!t.key)throw\"Invalid key\";if(!t.url)throw\"Invalid URL\";if(!t.onSuccess)throw\"Invalid callback\"},_fetchAndCache:function(t){var e=this;$.ajax({dataType:t.dataType||\"text\",url:t.url,success:function(i){var n=i;\"function\"==typeof t.createCacheableResult&&(n=t.createCacheableResult(i)),e._inMemoryStore[t.key]=n,t.onSuccess(n)}})}},window.IDGenerator={length:8,generate:function(){for(var t=(+new Date).toString().split(\"\").reverse(),e=\"\",i=0;i<this.length;++i){e+=t[this._getRandomInt(0,t.length-1)]}return e},_getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},function(){var t=!1,e=/xyz/.test(function(){\"xyz\"})?/\\b_super\\b/:/.*/;this.Class=function(){},Class.extend=function(i){function n(){!t&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;t=!0;var o=new this;for(var r in t=!1,i)o[r]=\"function\"==typeof i[r]&&\"function\"==typeof s[r]&&e.test(i[r])?function(t,e){return function(){var i=this._super;this._super=s[t];var n=e.apply(this,arguments);return this._super=i,n}}(r,i[r]):i[r];return n.prototype=o,n.prototype.constructor=n,n.extend=arguments.callee,n}}(),window.Keytrap=function(){\"use strict\";function t(t){var e=[t.keyCode||t.which];return t.shiftKey&&16!==t.keyCode&&e.push(16),t.ctrlKey&&17!==t.keyCode&&e.push(17),t.altKey&&18!==t.keyCode&&e.push(18),t.metaKey&&91!==t.keyCode&&e.push(91),e.sort(),e.join(\"+\")}function e(t){return h[t]?h[t]:t.toUpperCase().charCodeAt(0)}function i(t){for(var i=t.split(\"+\"),n=[],s=0;s<i.length;s++)n.push(e(i[s]));return n.sort(),n.join(\"+\")}function n(t){for(var e=[],n=t.split(\",\"),s=0;s<n.length;s++)e.push(i(n[s]));return e}function s(t,e){if(r[e]){for(var i=r[e],n=0;n<i.length;n++)i[n](t);if(a[e]&&t)return jQuery.Event(t).stopPropagation(),!1}}function o(e){return s(e,t(e))}var r={},a={},h={backspace:8,tab:9,enter:13,\"return\":13,shift:16,ctrl:17,comctrl:17,alt:18,\"\":18,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:46,meta:91,command:91,\";\":186,\"=\":187,\",\":188,\"-\":189,\".\":190,\"/\":191,\"`\":192,\"[\":219,\"\\\\\":220,\"]\":221,'\"':222};return-1!==navigator.appVersion.indexOf(\"Mac\")&&(h.comctrl=91),$(document).on(\"keydown\",o),{bind:function(t,e,i){for(var s=n(t),o=s.length-1;o>=0;o--)jQuery.isArray(r[s[o]])||(r[s[o]]=[]),r[s[o]].push(e),a[s[o]]=!!i},getKeyCode:function(t){return e(t)},getKeyEventID:function(e){return\"string\"==typeof e?i(e):t(e)},keyEventMatchesKeyCombo:function(e,n){return t(e)===i(n)},trigger:function(t,e){s(t,e)}}}();"]}]}