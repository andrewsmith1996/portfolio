{"remainingRequest":"/Users/andrew/Projects/Andrew/portfolio/node_modules/babel-loader/lib/index.js!/Users/andrew/Projects/Andrew/portfolio/node_modules/eslint-loader/index.js??ref--13-0!/Users/andrew/Projects/Andrew/portfolio/src/assets/images/projects/Gooey Menu_files/index-30d5a6a4baf63d2669095d1502c0169d4aa8e4867abd4a6e84bc489e621f475b.js","dependencies":[{"path":"/Users/andrew/Projects/Andrew/portfolio/src/assets/images/projects/Gooey Menu_files/index-30d5a6a4baf63d2669095d1502c0169d4aa8e4867abd4a6e84bc489e621f475b.js","mtime":1578559904066},{"path":"/Users/andrew/Projects/Andrew/portfolio/node_modules/cache-loader/dist/cjs.js","mtime":1578559901126},{"path":"/Users/andrew/Projects/Andrew/portfolio/node_modules/babel-loader/lib/index.js","mtime":1578559901059},{"path":"/Users/andrew/Projects/Andrew/portfolio/node_modules/eslint-loader/index.js","mtime":1578559901695}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuY29uc3RydWN0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuc2xpY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Quc2V0LXByb3RvdHlwZS1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3ViIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiKTsKCnZhciBfdHlwZW9mID0gcmVxdWlyZSgiL1VzZXJzL2FuZHJldy9Qcm9qZWN0cy9BbmRyZXcvcG9ydGZvbGlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpOwoKcmVxdWlyZSgicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIik7Cgp2YXIgX2FzeW5jVG9HZW5lcmF0b3IgPSByZXF1aXJlKCIvVXNlcnMvYW5kcmV3L1Byb2plY3RzL0FuZHJldy9wb3J0Zm9saW8vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciIpOwoKLyohCiAqIEJhckRyYWdnZXIKICogZHJhZ2dhYmxlIGJhciBlbGVtZW50IGluIGJldHdlZW4gcGFuZWxzCiAqIGhhcyBEcmFnZ2FiaWxseSBldmVudHMgaHR0cDovL2RyYWdnYWJpbGx5LmRlc2FuZHJvLmNvbS8KICovCmZ1bmN0aW9uIEJhckRyYWdnZXIoZSkgewogIHRoaXMuaGFuZGxlcyA9IFtlXSwgdGhpcy5iaW5kSGFuZGxlcygpOwp9CgpmdW5jdGlvbiBzb3J0QnlPcmRlcihlLCB0KSB7CiAgcmV0dXJuIGUub3JkZXIgLSB0Lm9yZGVyOwp9Cgp2YXIgTG92ZSA9IHsKICBfc2F2ZUxvdmVUb0RCRnVuYzogbnVsbCwKICBUSFJPVFRMRV9ERUxBWTogNTAwLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICBfLmV4dGVuZCh0aGlzLCBBSkFYVXRpbCksIHRoaXMudXNlciA9IHdpbmRvdy5fX3VzZXIsIHRoaXMuX2JpbmRUb0RPTSgpLCB0aGlzLl9jcmVhdGVTYXZlTG92ZVRvREJGdW5jKCk7CiAgfSwKICBfY3JlYXRlU2F2ZUxvdmVUb0RCRnVuYzogZnVuY3Rpb24gX2NyZWF0ZVNhdmVMb3ZlVG9EQkZ1bmMoKSB7CiAgICB0aGlzLl9zYXZlTG92ZVRvREJGdW5jID0gXy50aHJvdHRsZSh0aGlzLl9zYXZlTG92ZUNoYW5nZSwgdGhpcy5USFJPVFRMRV9ERUxBWSwgewogICAgICBsZWFkaW5nOiAhMSwKICAgICAgdHJhaWxpbmc6ICEwCiAgICB9KTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICAkKCJib2R5Iikub24oImNsaWNrIiwgJ2FbaWQqPSJsb3Zlc18iXSwgYnV0dG9uW2lkKj0ibG92ZXNfIl0sIHNwYW5baWQqPSJsb3Zlc18iXScsICQucHJveHkodGhpcy5fb25IZWFydENsaWNrLCB0aGlzKSk7CiAgfSwKICBfb25IZWFydENsaWNrOiBmdW5jdGlvbiBfb25IZWFydENsaWNrKGUpIHsKICAgIGlmIChlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuX3VzZXJOZWVkc1RvTG9naW4oKSkgcmV0dXJuIHRoaXMuX3JlZGlyZWN0VG9Mb2dpbigpOwogICAgdmFyIHQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCIubG92ZXMiKTsKCiAgICB0aGlzLl9oZWFydEl0ZW0odCk7CiAgfSwKICBfdXNlck5lZWRzVG9Mb2dpbjogZnVuY3Rpb24gX3VzZXJOZWVkc1RvTG9naW4oKSB7CiAgICByZXR1cm4gMSA9PT0gdGhpcy51c2VyLmlkOwogIH0sCiAgX3JlZGlyZWN0VG9Mb2dpbjogZnVuY3Rpb24gX3JlZGlyZWN0VG9Mb2dpbigpIHsKICAgIHdpbmRvdy5sb2NhdGlvbiA9ICIvbG9naW4/dHlwZT1sb3ZlIjsKICB9LAogIF9oZWFydEl0ZW06IGZ1bmN0aW9uIF9oZWFydEl0ZW0oZSkgewogICAgdmFyIHQgPSB0aGlzLl9nZXROZXh0TGV2ZWwoZSk7CgogICAgdGhpcy5fc2hvd0FzSGVhcnRlZChlLCB0KSwgdGhpcy5fc2F2ZUxvdmVUb0RCRnVuYyhlLmRhdGEoIml0ZW0iKSwgZS5kYXRhKCJoYXNoaWQiKSwgdCk7CiAgfSwKICBfZ2V0TmV4dExldmVsOiBmdW5jdGlvbiBfZ2V0TmV4dExldmVsKGUpIHsKICAgIHZhciB0ID0gdGhpcy5fZmluZFRleHRMb3ZlTGV2ZWwoZS5hdHRyKCJjbGFzcyIpKTsKCiAgICByZXR1cm4gdGhpcy5fbmV4dExvdmVMZXZlbCh0KTsKICB9LAogIF9maW5kVGV4dExvdmVMZXZlbDogZnVuY3Rpb24gX2ZpbmRUZXh0TG92ZUxldmVsKGUpIHsKICAgIHZhciB0ID0gZS5tYXRjaCgvbG92ZWQtKFxkKS8pOwogICAgcmV0dXJuIHQgPyAxICogdFsxXSA6IDA7CiAgfSwKICBfbmV4dExvdmVMZXZlbDogZnVuY3Rpb24gX25leHRMb3ZlTGV2ZWwoZSkgewogICAgcmV0dXJuIDMgPT09IGUgPyAwIDogZSArIDE7CiAgfSwKICBfc2hvd0FzSGVhcnRlZDogZnVuY3Rpb24gX3Nob3dBc0hlYXJ0ZWQoZSwgdCkgewogICAgdGhpcy5fc2hvd1N0YW5kYXJkSGVhcnRBc0hlYXJ0ZWQoZSwgdCk7CiAgfSwKICBfc2hvd1N0YW5kYXJkSGVhcnRBc0hlYXJ0ZWQ6IGZ1bmN0aW9uIF9zaG93U3RhbmRhcmRIZWFydEFzSGVhcnRlZChlLCB0KSB7CiAgICB2YXIgbiA9IGUuZGF0YSgiaGFzaGlkIiksCiAgICAgICAgcyA9ICQoIltkYXRhLWhhc2hpZD0nIiArIG4gKyAiJ10iKTsKICAgICQuZWFjaChzLCBmdW5jdGlvbiAoZSwgbikgewogICAgICB2YXIgcyA9ICQobik7CgogICAgICBpZiAoIXMuaGFzQ2xhc3MoImNvdW50IikpIHsKICAgICAgICB2YXIgaSA9IHMuaGFzQ2xhc3MoInNpbmdsZS1zdGF0IikgPyBzIDogJCgiLmhlYXJ0LWJ1dHRvbiIpOwogICAgICAgIGkucmVtb3ZlQ2xhc3MoImxvdmVkLTEgbG92ZWQtMiBsb3ZlZC0zIGxvdmVkLTAiKS5hdHRyKCJhcmlhLXByZXNzZWQiLCAhMSkuYWRkQ2xhc3MoImxvdmVkLSIgKyB0KSwgMCAhPT0gdCAmJiBpLmF0dHIoImFyaWEtcHJlc3NlZCIsICEwKSwgTG92ZS5fdXBkYXRlTG92ZUNvdW50KGksIHQpOwogICAgICB9CiAgICB9KTsKICB9LAogIF91cGRhdGVMb3ZlQ291bnQ6IGZ1bmN0aW9uIF91cGRhdGVMb3ZlQ291bnQoZSwgdCkgewogICAgdmFyIG4gPSBlLmZpbmQoInNwYW4uY291bnQiKSwKICAgICAgICBzID0gdGhpcy5fZ2V0VmFsdWVUb0FkZFRvQ291bnQodCk7CgogICAgbi5odG1sKHRoaXMuX2dldExvdmVDb3VudChuLCBzKSk7CiAgfSwKICBfZ2V0VmFsdWVUb0FkZFRvQ291bnQ6IGZ1bmN0aW9uIF9nZXRWYWx1ZVRvQWRkVG9Db3VudChlKSB7CiAgICByZXR1cm4gMCA9PT0gZSA/IC0xIDogMSA9PT0gZSA/IDEgOiAwOwogIH0sCiAgX2dldExvdmVDb3VudDogZnVuY3Rpb24gX2dldExvdmVDb3VudChlLCB0KSB7CiAgICB2YXIgbiA9IGUuaHRtbCgpOwoKICAgIGlmIChuKSB7CiAgICAgIHZhciBzID0gMSAqIG4ucmVwbGFjZSgvWywuIF0vZywgIiIpLAogICAgICAgICAgaSA9IGlzTmFOKHMpID8gMCA6IHM7CiAgICAgIHJldHVybiAoaSArPSB0KSA+IDAgPyB0aGlzLl9kZWxpbWl0KGkpIDogIiI7CiAgICB9CgogICAgcmV0dXJuICIiOwogIH0sCiAgX2RlbGltaXQ6IGZ1bmN0aW9uIF9kZWxpbWl0KGUsIHQpIHsKICAgIHJldHVybiB0ID0gdCB8fCAiLCIsIGUudG9TdHJpbmcoKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCB0KTsKICB9LAogIF9zYXZlTG92ZUNoYW5nZTogZnVuY3Rpb24gX3NhdmVMb3ZlQ2hhbmdlKGUsIHQsIG4pIHsKICAgIHZhciBzID0gIi9sb3ZlLyIgKyBbZSwgdCwgbl0uam9pbigiLyIpOwogICAgdGhpcy5wb3N0KHMsIHt9LCBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuX2RvbmVTYXZlTG92ZUNoYW5nZShlKTsKICAgIH0pOwogIH0sCiAgX2RvbmVTYXZlTG92ZUNoYW5nZTogZnVuY3Rpb24gX2RvbmVTYXZlTG92ZUNoYW5nZShlKSB7CiAgICAidW5kZWZpbmVkIiAhPSB0eXBlb2YgSHViICYmIEh1Yi5wdWIoZSArICItaGVhcnRlZCIpOwogIH0KfTsKTG92ZS5pbml0KCksIHdpbmRvdy5VUkxCdWlsZGVyID0gewogIGdldFZpZXdVUkxTaW1wbGU6IGZ1bmN0aW9uIGdldFZpZXdVUkxTaW1wbGUoZSwgdCwgbikgewogICAgcmV0dXJuICJodHRwczovLyIuY29uY2F0KGRvY3VtZW50LmxvY2F0aW9uLmhvc3QpLmNvbmNhdCh0LCAiLyIpLmNvbmNhdChlLCAiLyIpLmNvbmNhdChuKTsKICB9Cn0sIHdpbmRvdy5Mb2NhbERhdGFMb2FkZXIgPSB7CiAgbGF0ZXN0T2JqZWN0OiBmdW5jdGlvbiBsYXRlc3RPYmplY3QoZSwgdCwgbikgewogICAgaWYgKCFuKSByZXR1cm4gZTsKICAgIGlmICgidW5kZWZpbmVkIiA9PT0gbikgcmV0dXJuIGU7CiAgICB2YXIgcyA9ICQucGFyc2VKU09OKG4pOwogICAgcmV0dXJuIHRoaXMuX2xvY2FsU3RvcmFnZU9iak5ld2VyKGUsIHQsIHMpID8gcyA6IGU7CiAgfSwKICBfbG9jYWxTdG9yYWdlT2JqTmV3ZXI6IGZ1bmN0aW9uIF9sb2NhbFN0b3JhZ2VPYmpOZXdlcihlLCB0LCBuKSB7CiAgICByZXR1cm4gdGhpcy5fZ2V0Q29tcGFyYWJsZUNsaWVudFRpbWUobiwgdCkgPiB0OwogIH0sCiAgX2dldENvbXBhcmFibGVDbGllbnRUaW1lOiBmdW5jdGlvbiBfZ2V0Q29tcGFyYWJsZUNsaWVudFRpbWUoZSwgdCkgewogICAgdmFyIG4gPSB0ICsgIiI7CiAgICByZXR1cm4gKyhlLmxhc3RfdXBkYXRlZCArICIiKS5zdWJzdHIoMCwgbi5sZW5ndGgpOwogIH0KfSwgJC5mbi5zZXJpYWxpemVPYmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGUgPSB7fSwKICAgICAgdCA9IHRoaXMuc2VyaWFsaXplQXJyYXkoKTsKICByZXR1cm4gJC5lYWNoKHQsIGZ1bmN0aW9uICgpIHsKICAgIGVbdGhpcy5uYW1lXSA/IChlW3RoaXMubmFtZV0ucHVzaCB8fCAoZVt0aGlzLm5hbWVdID0gW2VbdGhpcy5uYW1lXV0pLCBlW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICIiKSkgOiBlW3RoaXMubmFtZV0gPSB0aGlzLnZhbHVlIHx8ICIiOwogIH0pLCBlOwp9LCB3aW5kb3cuVXNlciA9IENsYXNzLmV4dGVuZCh7CiAgcmVjZW50U2NyaXB0czoge30sCiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIF8uZXh0ZW5kKHRoaXMsIF9fdXNlcik7CiAgfSwKICBpc1VzZXJMb2dnZWRJbjogZnVuY3Rpb24gaXNVc2VyTG9nZ2VkSW4oKSB7CiAgICByZXR1cm4gK3RoaXMuaWQgPiAxOwogIH0sCiAgc2F2ZUFjY29tcGxpc2htZW50OiBmdW5jdGlvbiBzYXZlQWNjb21wbGlzaG1lbnQoZSkgewogICAgd2luZG93Ll9fdXNlci5hbm9uIHx8IEFKQVhVdGlsLnBvc3QoIi9hY2NvbXBsaXNobWVudHMiLCB7CiAgICAgIG5hbWU6IGUKICAgIH0pOwogIH0sCiAgaXNBbm9uOiBmdW5jdGlvbiBpc0Fub24oKSB7CiAgICByZXR1cm4gK3RoaXMuaWQgPCAyOwogIH0sCiAgb3duc0l0ZW06IGZ1bmN0aW9uIG93bnNJdGVtKGUpIHsKICAgIHJldHVybiB0aGlzLmlkID09PSBlLnVzZXJfaWQgJiYgdGhpcy5jdXJyZW50X3RlYW1faWQgPT09IGUudGVhbV9pZDsKICB9LAogIHVwZGF0ZVVzZXI6IGZ1bmN0aW9uIHVwZGF0ZVVzZXIoZSkgewogICAgXy5leHRlbmQodGhpcywgZSk7CiAgfSwKICBhZGRSZWNlbnRTZWxlY3RlZFNjcmlwdDogZnVuY3Rpb24gYWRkUmVjZW50U2VsZWN0ZWRTY3JpcHQoZSkgewogICAgdGhpcy5yZWNlbnRTY3JpcHRzW2UubmFtZV0gPSBlOwogIH0KfSksIHdpbmRvdy5IdWIgPSB3aW5kb3cuSHViIHx8IHsKICBzdWI6IGZ1bmN0aW9uIHN1YihlLCB0KSB7CiAgICBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgdCkgdGhyb3cgImZuIE1VU1QgYmUgYSBmdW5jdGlvbiI7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdChlLCBlLmRldGFpbC5kYXRhKTsKICAgIH0pOwogIH0sCiAgcHViOiBmdW5jdGlvbiBwdWIoZSwgdCkgewogICAgdmFyIG4gPSBuZXcgQ3VzdG9tRXZlbnQoZSwgewogICAgICBkZXRhaWw6IHsKICAgICAgICBkYXRhOiB0CiAgICAgIH0KICAgIH0pOwogICAgd2luZG93LmRpc3BhdGNoRXZlbnQobik7CiAgfSwKICB1bnN1YjogZnVuY3Rpb24gdW5zdWIoZSwgdCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSwgdCk7CiAgfQp9LCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIGEub24oImNsaWNrIiwgdCk7CiAgfQoKICBmdW5jdGlvbiB0KGUpIHsKICAgIHZhciB0ID0gJChlLnRhcmdldCksCiAgICAgICAgcyA9IHQuY2xvc2VzdCgiLmlzLWRyb3Bkb3duIik7CgogICAgaWYgKHQuY2xvc2VzdCgiLm5ldy1wZW4tZnJvbS10ZW1wbGF0ZS1sYWJlbCIpLmxlbmd0aCB8fCAhcy5sZW5ndGgpIHsKICAgICAgdmFyIG8gPSB0LmNsb3Nlc3QoIltkYXRhLWRyb3Bkb3duXSIpOwogICAgICBvLmxlbmd0aCA/IG4oZSwgbykgOiBpKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBuKGUsIHQpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHZhciBuID0gdC5kYXRhKCJkcm9wZG93biIpLAogICAgICAgIGkgPSAkKG4pOwogICAgaS5oYXNDbGFzcygib3BlbiIpID8gKHQuYXR0cigiYXJpYS1leHBhbmRlZCIsICExKSwgaS5yZW1vdmVDbGFzcygib3BlbiIpKSA6ICh0LmF0dHIoImFyaWEtZXhwYW5kZWQiLCAhMCksIHMoaSwgdCksIGkuYWRkQ2xhc3MoIm9wZW4iKSksICQoIi5pcy1kcm9wZG93biIpLm5vdChpWzBdKS5yZW1vdmVDbGFzcygib3BlbiIpOwogIH0KCiAgZnVuY3Rpb24gcyhlLCB0KSB7CiAgICBpZiAoImNzcyIgIT09IGUuZGF0YSgiZHJvcGRvd24tcG9zaXRpb24iKSkgewogICAgICB2YXIgbiwKICAgICAgICAgIHMgPSB0Lm9mZnNldCgpLAogICAgICAgICAgaSA9ICJyaWdodCIgPT09IGUuZGF0YSgiZHJvcGRvd24tcG9zaXRpb24iKSwKICAgICAgICAgIG8gPSBpID8gInJpZ2h0IiA6ICJsZWZ0IjsKICAgICAgbiA9IGkgPyBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoIC0gcy5sZWZ0IC0gdC5vdXRlcldpZHRoKCkgOiBzLmxlZnQgLSBlLm91dGVyV2lkdGgoKSAvIDIgKyAyNSwgbiA9IE1hdGgubWF4KDEwLCBuKTsKICAgICAgdmFyIHIgPSB7fTsKICAgICAgcltvXSA9IG4sIGUuY3NzKHIpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaSgpIHsKICAgICQoIi5pcy1kcm9wZG93biIpLnJlbW92ZUNsYXNzKCJvcGVuIiksICQoIlthcmlhLWV4cGFuZGVkXSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCAhMSk7CiAgfQoKICBmdW5jdGlvbiBvKCkgewogICAgSHViLnN1Yigia2V5IiwgciksIEh1Yi5zdWIoInBvcHVwLW9wZW4iLCBpKSwgSHViLnN1YigicG9wdXAtY2xvc2UiLCBpKTsKICB9CgogIGZ1bmN0aW9uIHIoZSwgdCkgewogICAgImVzYyIgPT09IHQua2V5ICYmIGkoKTsKICB9CgogIENQLkRyb3Bkb3ducyA9IHt9OwogIHZhciBhID0gJCgiYm9keSIpOwogIENQLkRyb3Bkb3ducy5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgZSgpLCBvKCk7CiAgfSwgQ1AuRHJvcGRvd25zLmluaXQoKTsKfSgpLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIHQuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICBuW2VdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmNsZWFyKCk7CiAgICAgIH0pLCBuW2VdID0gW10sICQoIiNjbGVhci0iICsgZSArICItZXJyb3JzIikucmVtb3ZlKCk7CiAgICB9KTsKICB9CgogIHZhciB0ID0gWyJodG1sIiwgImNzcyIsICJqcyJdLAogICAgICBuID0gdC5yZWR1Y2UoZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBlW3RdID0gW10sIGU7CiAgfSwge30pLAogICAgICBzID0gImh0dHBzOi8vZ21xeGVoam81NC5leGVjdXRlLWFwaS51cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9wcm9kdWN0aW9uL2FuYWx5emUiLAogICAgICBpID0gMTUwMCwKICAgICAgbyA9CiAgLyojX19QVVJFX18qLwogIGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHQpIHsKICAgICAgdmFyIG4sIF9jLCBzLCBvLCB1OwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiByKHQpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIG4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jID0gYyh0LCBuKTsKICAgICAgICAgICAgICBzID0gX2MuY2FuQW5hbHl6ZTsKICAgICAgICAgICAgICBvID0gX2MubWVzc2FnZTsKCiAgICAgICAgICAgICAgaWYgKHMpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB2b2lkICQuc2hvd01lc3NhZ2UobywgaSkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGEodCkuc2hvd09yaWdpbmFsQ29kZSgpLCBlKCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIHJldHVybiB3KHQsIG4pOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICB1ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAwICE9PSB1Lmxlbmd0aCA/IGwodCwgdSwgbikgOiBkKHQpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIG8oX3gpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpLAogICAgICByID0KICAvKiNfX1BVUkVfXyovCiAgZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihlKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIENQLnBlbltlICsgIl9wcmVfcHJvY2Vzc29yIiA9PSAibm9uZSJdID8gQ1AucGVuW2VdIDogQ1AucGVuUHJvY2Vzc29yLmdldFByb2Nlc3NlZChlKSk7CgogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIHIoX3gyKSB7CiAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCksCiAgICAgIGEgPSBmdW5jdGlvbiBhKGUpIHsKICAgIHJldHVybiBDUFsiIi5jb25jYXQoZSwgIkVkaXRvciIpXTsKICB9LAogICAgICBjID0gZnVuY3Rpb24gYyhlLCB0KSB7CiAgICByZXR1cm4gdCA/ICJodG1sIiAhPT0gZSB8fCB1KCkgPyB7CiAgICAgIGNhbkFuYWx5emU6ICEwLAogICAgICBtZXNzYWdlOiBudWxsCiAgICB9IDogewogICAgICBjYW5BbmFseXplOiAhMSwKICAgICAgbWVzc2FnZTogIlNvcnJ5LCB3ZSBjYW4ndCBhbmFseXplIHNhZmVseSBiZWNhdXNlIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYHNyY2RvY2AgLi4uIDooIgogICAgfSA6IHsKICAgICAgY2FuQW5hbHl6ZTogITEsCiAgICAgIG1lc3NhZ2U6ICJObyBjb2RlIHRvIGFuYWx5emUuIEFsbCB3YXMgd2VsbC4uLiIKICAgIH07CiAgfSwKICAgICAgdSA9IGZ1bmN0aW9uIHUoKSB7CiAgICByZXR1cm4gInNyY2RvYyIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7CiAgfSwKICAgICAgZCA9IGZ1bmN0aW9uIGQoZSkgewogICAgJC5zaG93TWVzc2FnZSgiV2UgY291bGRuJ3QgZmluZCBhbnkgZXJyb3JzIGluIHlvdXIgIi5jb25jYXQoZS50b1VwcGVyQ2FzZSgpLCAiLiBSZWpvaWNlISIpLCBpKTsKICB9LAogICAgICBsID0gZnVuY3Rpb24gbChlLCB0LCBuKSB7CiAgICBDKGUsIG4pLCAiaHRtbCIgPT09IGUgPyBwKHQpIDogImNzcyIgPT09IGUgPyBmKHQpIDogImpzIiA9PT0gZSAmJiBfKHQpLCBoKGUsIHQpLCBiKGUpOwogIH0sCiAgICAgIGggPSBmdW5jdGlvbiBoKGUsIHQpIHsKICAgIHZhciBuID0gYShlKSwKICAgICAgICBzID0gbSh0WzBdKTsKICAgIG4uZWRpdG9yLnNjcm9sbEludG9WaWV3KHMpOwogIH0sCiAgICAgIHAgPSBmdW5jdGlvbiBwKGUpIHsKICAgIHZhciB0ID0gIlxuICAgICAgPGRpdiBjbGFzcz0naW5saW5lLWVkaXRvci1lcnJvciB5ZWxsb3cnPlxuICAgICAgICA8aDQgc3R5bGU9J2NvbG9yOiB3aGl0ZTsnJz5IVE1MIEluc3BlY3RvciB3YXJuaW5nczo8L2g0Pjx1bCBjbGFzcz0naHRtbC1lcnJvcnMnPlxuICAgICAgICA8dWw+Ii5jb25jYXQoZS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICJ1bnVzZWQtY2xhc3NlcyIgIT09IGUucnVsZTsKICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gIjxsaT4iLmNvbmNhdChfaHRtbEVudGl0aWVzKGUubWVzc2FnZSksICI8L2xpPiIpOwogICAgfSkuam9pbigiIiksICI8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgIiksCiAgICAgICAgcyA9IGEoImh0bWwiKS5lZGl0b3IuYWRkTGluZVdpZGdldCgwLCAkKHQpWzBdLCB7CiAgICAgIGNvdmVyR3V0dGVyOiAhMCwKICAgICAgbm9IU2Nyb2xsOiAhMCwKICAgICAgYWJvdmU6ICEwCiAgICB9KTsKICAgIG4uaHRtbC5wdXNoKHMpOwogIH0sCiAgICAgIGYgPSBmdW5jdGlvbiBmKGUpIHsKICAgIGUuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZygiY3NzIiwgIkNTUyBMaW50IiwgZSk7CiAgICB9KTsKICB9LAogICAgICBfID0gZnVuY3Rpb24gXyhlKSB7CiAgICBlLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGcoImpzIiwgIkpTIEhpbnQiLCBlKTsKICAgIH0pOwogIH0sCiAgICAgIGcgPSBmdW5jdGlvbiBnKGUsIHQsIHMpIHsKICAgIHZhciBpID0gX2h0bWxFbnRpdGllcyhzLm1lc3NhZ2UpLAogICAgICAgIG8gPSAiXG4gICAgICA8ZGl2IGNsYXNzPSdpbmxpbmUtZWRpdG9yLWVycm9yJz5cbiAgICAgICAgIi5jb25jYXQoaSwgIlxuICAgICAgICAoPGEgdGFyZ2V0PSdfYmxhbmsnXG4gICAgICAgICAgaHJlZj0naHR0cHM6Ly9nb29nbGUuY29tL3NlYXJjaD9xPSIpLmNvbmNhdCh0LCAiICIpLmNvbmNhdChpLCAiXCI+R29vZ2xlIGl0PC9hPilcIiArXG4gICAgICA8L2Rpdj4nXG4gICAgIiksCiAgICAgICAgciA9IGEoZSkuZWRpdG9yLmFkZExpbmVXaWRnZXQobShzKSwgJChvKVswXSwgewogICAgICBjb3Zlckd1dHRlcjogITAsCiAgICAgIG5vSFNjcm9sbDogITAKICAgIH0pOwoKICAgIG5bZV0ucHVzaChyKTsKICB9LAogICAgICBtID0gZnVuY3Rpb24gbShlKSB7CiAgICBpZiAoIWUpIHJldHVybiAwOwogICAgdmFyIHQgPSAoZS5saW5lIHx8IDApIC0gMTsKICAgIHJldHVybiB0ID4gLTEgPyB0IDogMDsKICB9LAogICAgICBiID0gZnVuY3Rpb24gYihlKSB7CiAgICAwICE9PSBuW2VdLmxlbmd0aCAmJiAkKCIjYW5hbHl6ZS0iLmNvbmNhdChlKSkucGFyZW50KCkuYWZ0ZXIodihlKSk7CiAgfSwKICAgICAgdiA9IGZ1bmN0aW9uIHYoZSkgewogICAgcmV0dXJuICJcbiAgICAgIDxsaT5cbiAgICAgIDxhIGhyZWY9JyMwJyBjbGFzcz0nY2xlYXItIi5jb25jYXQoZSwgIi1lcnJvcnMnIGlkPSdjbGVhci0iKS5jb25jYXQoZSwgIi1lcnJvcnMnPlxuICAgICAgQ2xlYXIgIikuY29uY2F0KGUudG9VcHBlckNhc2UoKSwgIiBFcnJvcnNcbiAgICAgIDwvYT5cbiAgICAgIDwvbGk+XG4gICAgIik7CiAgfSwKICAgICAgQyA9IGZ1bmN0aW9uIEModCwgbikgewogICAgdmFyIHMgPSBDUC5wZW5bdF0sCiAgICAgICAgaSA9IENQLnBlblsiIi5jb25jYXQodCwgIl9wcmVfcHJvY2Vzc29yIildLAogICAgICAgIG8gPSBhKHQpLAogICAgICAgIHIgPSAiI2JveC0iLmNvbmNhdCh0KSwKICAgICAgICBjID0gIiN2aWV3c291cmNlLSIuY29uY2F0KHQpOwogICAgIm5vbmUiICE9PSBpICYmIChvLmVkaXRvci5zZXRPcHRpb24oInJlYWRPbmx5IiwgITApLCAkKHIpLmFkZENsYXNzKCJ2aWV3LXByZXByb2MtZXJyb3JzIiksIG8uc2V0VmFsdWUobiksIG8udW5iaW5kT25DaGFuZ2UoKSwgeSh0KSwgJChjKS5vbmUoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAkKHIpLnJlbW92ZUNsYXNzKCJ2aWV3LXByZXByb2MtZXJyb3JzIiksIGUoKSwgby5zZXRWYWx1ZShzKSwgby5iaW5kVG9PbkNoYW5nZSgpLCBvLmVkaXRvci5zZXRPcHRpb24oInJlYWRPbmx5IiwgITEpOwogICAgfSkpOwogIH0sCiAgICAgIHkgPSBmdW5jdGlvbiB5KGUpIHsKICAgIHZhciB0ID0gewogICAgICB1aTogewogICAgICAgIGVkaXRvclZpZXdTb3VyY2U6IHt9CiAgICAgIH0KICAgIH07CiAgICBDUC51aS5lZGl0b3JWaWV3U291cmNlW2VdID0gITAsIEh1Yi5wdWIoInVpLWNoYW5nZSIsIHQpOwogICAgdmFyIG4gPSAkKCIudmlldy1jb21waWxlZC1idXR0b25bZGF0YS10eXBlPSciICsgZSArICInXSIpLmNsb3Nlc3QoIi5ib3giKS5kYXRhKCJwcmVwcm9jZXNzb3IiKTsKICAgICQoIi52aWV3LWNvbXBpbGVkLWJ1dHRvbltkYXRhLXR5cGU9JyIgKyBlICsgIiddIikudGV4dCgiVmlldyBVbmNvbXBpbGVkICIgKyBuKSwgJCgiLnZpZXctY29tcGlsZWQtYnV0dG9uW2RhdGEtdHlwZT0nIiArIGUgKyAiJ10iKS5hZGRDbGFzcygiYWN0aXZlIik7CiAgfSwKICAgICAgdyA9IGZ1bmN0aW9uIHcoZSwgdCkgewogICAgcmV0dXJuICJodG1sIiA9PT0gZSA/IFAodCkgOiAiY3NzIiA9PT0gZSB8fCAianMiID09PSBlID8gUyhlLCB0KSA6IHZvaWQgMDsKICB9LAogICAgICBQID0gZnVuY3Rpb24gUChlKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIG4gPSBbIjxzY3JpcHQgc3JjPSdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9odG1sLWluc3BlY3Rvci8wLjguMi9odG1sLWluc3BlY3Rvci5qcyc+PC9zY3JpcHQ+IiwgIjxzY3JpcHQ+d2luZG93Lmluc3BlY3QgPSBmdW5jdGlvbigpIHsgSFRNTEluc3BlY3Rvci5pbnNwZWN0KHtkb21Sb290OiBkb2N1bWVudC5ib2R5LGV4Y2x1ZGVSdWxlczogWyd1bm5lY2Vzc2FyeS1lbGVtZW50cyddLG9uQ29tcGxldGU6IGZ1bmN0aW9uKGVycm9ycykgeyB2YXIgY2xlYW5FcnJvcnMgPSBbXTsgZm9yKCB2YXIgaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpKyspIHsgY2xlYW5FcnJvcnMucHVzaCh7bWVzc2FnZTogZXJyb3JzW2ldLm1lc3NhZ2UsIHJ1bGU6IGVycm9yc1tpXS5ydWxlfSkgfTsgcGFyZW50LnBvc3RNZXNzYWdlKHt0eXBlOiAnaHRtbC1lcnJvcnMnLCBlcnJvcnM6IGNsZWFuRXJyb3JzfSwgJyonKX19KTt9Ozwvc2NyaXB0PiIsICI8c2NyaXB0PndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHsgaW5zcGVjdCgpOyB9PC9zY3JpcHQ+IiwgIjxzdHlsZT4iLCAiIiwgIjwvc3R5bGU+IiwgZV0uam9pbigiIiksCiAgICAgICAgICBzID0gZnVuY3Rpb24gcyhlKSB7CiAgICAgICAgaWYgKGUuZGF0YSAmJiAiaHRtbC1lcnJvcnMiID09PSBlLmRhdGEudHlwZSkgewogICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCBzLCAhMSk7CiAgICAgICAgICB2YXIgbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5oaWRkZW4taWZyYW1lIik7CiAgICAgICAgICBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksIHQoZS5kYXRhLmVycm9ycyk7CiAgICAgICAgfQogICAgICB9LAogICAgICAgICAgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwoKICAgICAgaS5zYW5kYm94ID0gImFsbG93LWZvcm1zIGFsbG93LXNjcmlwdHMiLCBpLmNsYXNzTmFtZSA9ICJoaWRkZW4taWZyYW1lIiwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLCBzLCAhMSksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaSksIGkuc3JjZG9jID0gbjsKICAgIH0pOwogIH0sCiAgICAgIFMgPSBmdW5jdGlvbiBTKGUsIHQpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAobikgewogICAgICAkLnBvc3QocywgewogICAgICAgIHR5cGU6IGUsCiAgICAgICAgY29udGVudDogdAogICAgICB9LCBuKTsKICAgIH0pOwogIH07CgogIHdpbmRvdy5BbmFseXplID0gewogICAgY2xlYXJFcnJvcnM6IGUsCiAgICBhbmFseXplQ29kZTogbwogIH07Cn0oKSwgd2luZG93LkNvZGVFZGl0b3JBbmFseXplID0gQ2xhc3MuZXh0ZW5kKHsKICBjbGVhcmluZ1Nob3J0Y3V0OiAhMSwKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgdGhpcy5iaW5kVUlBY3Rpb25zKCk7CiAgfSwKICBiaW5kVUlBY3Rpb25zOiBmdW5jdGlvbiBiaW5kVUlBY3Rpb25zKCkgewogICAgJCgiI2FuYWx5emUtaHRtbCIpLl9vbigiY2xpY2siLCB0aGlzLmFuYWx5emVIVE1MLCB0aGlzKSwgJCgiI2FuYWx5emUtY3NzIikuX29uKCJjbGljayIsIHRoaXMuYW5hbHl6ZUNTUywgdGhpcyksICQoIiNhbmFseXplLWpzIikuX29uKCJjbGljayIsIHRoaXMuYW5hbHl6ZUpTLCB0aGlzKSwgJChkb2N1bWVudCkub24oImNsaWNrIiwgIiNjbGVhci1odG1sLWVycm9ycyIsICQucHJveHkodGhpcy5jbGVhckhUTUxFcnJvcnMsIHRoaXMpKS5vbigiY2xpY2siLCAiI2NsZWFyLWNzcy1lcnJvcnMiLCAkLnByb3h5KHRoaXMuY2xlYXJDU1NFcnJvcnMsIHRoaXMpKS5vbigiY2xpY2siLCAiI2NsZWFyLWpzLWVycm9ycyIsICQucHJveHkodGhpcy5jbGVhckpTRXJyb3JzLCB0aGlzKSk7CiAgfSwKICBlbmFibGVDbGVhcmluZ1Nob3J0Y3V0OiBmdW5jdGlvbiBlbmFibGVDbGVhcmluZ1Nob3J0Y3V0KCkgewogICAgS2V5dHJhcC5iaW5kKCJjb21jdHJsK3NoaWZ0KzgiLCBmdW5jdGlvbiAoKSB7CiAgICAgIEFuYWx5emUuY2xlYXJFcnJvcnMoImh0bWwiKSwgQW5hbHl6ZS5jbGVhckVycm9ycygiY3NzIiksIEFuYWx5emUuY2xlYXJFcnJvcnMoImpzIik7CiAgICB9LCAhMCksIHRoaXMuY2xlYXJpbmdTaG9ydGN1dCA9ICEwOwogIH0sCiAgYW5hbHl6ZUhUTUw6IGZ1bmN0aW9uIGFuYWx5emVIVE1MKCkgewogICAgdGhpcy5faGlkZVBhbmVzT25Ub3BPZkVkaXRvcigpOwoKICAgIHZhciBlID0gdGhpczsKICAgIEFuYWx5emUuYW5hbHl6ZUNvZGUoImh0bWwiKSwgSHViLnB1YigicG9wdXAtY2xvc2UiKSwgITEgPT09IGUuY2xlYXJpbmdTaG9ydGN1dCAmJiBlLmVuYWJsZUNsZWFyaW5nU2hvcnRjdXQoKTsKICB9LAogIGFuYWx5emVDU1M6IGZ1bmN0aW9uIGFuYWx5emVDU1MoKSB7CiAgICB0aGlzLl9oaWRlUGFuZXNPblRvcE9mRWRpdG9yKCk7CgogICAgdmFyIGUgPSB0aGlzOwogICAgQW5hbHl6ZS5hbmFseXplQ29kZSgiY3NzIiksICExID09PSBlLmNsZWFyaW5nU2hvcnRjdXQgJiYgZS5lbmFibGVDbGVhcmluZ1Nob3J0Y3V0KCksIEh1Yi5wdWIoInBvcHVwLWNsb3NlIik7CiAgfSwKICBhbmFseXplSlM6IGZ1bmN0aW9uIGFuYWx5emVKUygpIHsKICAgIHRoaXMuX2hpZGVQYW5lc09uVG9wT2ZFZGl0b3IoKTsKCiAgICB2YXIgZSA9IHRoaXM7CiAgICBBbmFseXplLmFuYWx5emVDb2RlKCJqcyIpLCAhMSA9PT0gZS5jbGVhcmluZ1Nob3J0Y3V0ICYmIGUuZW5hYmxlQ2xlYXJpbmdTaG9ydGN1dCgpLCBIdWIucHViKCJwb3B1cC1jbG9zZSIpOwogIH0sCiAgY2xlYXJIVE1MRXJyb3JzOiBmdW5jdGlvbiBjbGVhckhUTUxFcnJvcnMoZSkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpLCBBbmFseXplLmNsZWFyRXJyb3JzKCJodG1sIiksIHRoaXMuX2hpZGVQYW5lc09uVG9wT2ZFZGl0b3IoKTsKICB9LAogIGNsZWFyQ1NTRXJyb3JzOiBmdW5jdGlvbiBjbGVhckNTU0Vycm9ycyhlKSB7CiAgICBlLnByZXZlbnREZWZhdWx0KCksIEFuYWx5emUuY2xlYXJFcnJvcnMoImNzcyIpLCB0aGlzLl9oaWRlUGFuZXNPblRvcE9mRWRpdG9yKCk7CiAgfSwKICBjbGVhckpTRXJyb3JzOiBmdW5jdGlvbiBjbGVhckpTRXJyb3JzKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKSwgQW5hbHl6ZS5jbGVhckVycm9ycygianMiKSwgdGhpcy5faGlkZVBhbmVzT25Ub3BPZkVkaXRvcigpOwogIH0sCiAgX2hpZGVQYW5lc09uVG9wT2ZFZGl0b3I6IGZ1bmN0aW9uIF9oaWRlUGFuZXNPblRvcE9mRWRpdG9yKCkgewogICAgJC5oaWRlTWVzc2FnZSgpLCBIdWIucHViKCJwb3B1cC1jbG9zZSIpOwogIH0KfSksIHdpbmRvdy5DTUVkaXRvclNldHRpbmdzID0gewogIGdldERlZmF1bHRFZGl0b3JDb25maWc6IGZ1bmN0aW9uIGdldERlZmF1bHRFZGl0b3JDb25maWcoZSwgdCwgbikgewogICAgcmV0dXJuIHsKICAgICAgdmFsdWU6IGUsCiAgICAgIHNob3dDdXJzb3JXaGVuU2VsZWN0aW5nOiAhMCwKICAgICAgY3Vyc29yU2Nyb2xsTWFyZ2luOiAzMCwKICAgICAgc2Nyb2xsYmFyU3R5bGU6IHRoaXMuX2dldFNjcm9sbGJhcnMobiksCiAgICAgIHRhYlNpemU6IHRoaXMuZ2V0VGFiU2l6ZSh0KSwKICAgICAgaW5kZW50VW5pdDogdGhpcy5nZXRUYWJTaXplKHQpLAogICAgICBpbmRlbnRXaXRoVGFiczogdGhpcy5nZXRJbmRlbnRXaXRoVGFicyh0KSwKICAgICAgbGluZU51bWJlcnM6IHQubGluZV9udW1iZXJzLAogICAgICBtYXRjaEJyYWNrZXRzOiB0Lm1hdGNoX2JyYWNrZXRzLAogICAgICBtYXRjaFRhZ3M6IHQubWF0Y2hfYnJhY2tldHMsCiAgICAgIGF1dG9jb21wbGV0ZTogdC5hdXRvY29tcGxldGUsCiAgICAgIGF1dG9DbG9zZUJyYWNrZXRzOiB0Lm1hdGNoX2JyYWNrZXRzLAogICAgICBsaW5lV3JhcHBpbmc6IHQubGluZV93cmFwcGluZywKICAgICAgZ3V0dGVyczogdGhpcy5fZ2V0R3V0dGVycyh0KSwKICAgICAgZm9sZEd1dHRlcjogdC5jb2RlX2ZvbGRpbmcsCiAgICAgIHNjcm9sbFBhc3RFbmQ6ICEwLAogICAgICBlbW1ldF9hY3RpdmU6IHQuZW1tZXRfYWN0aXZlLAogICAgICBlbW1ldDogdGhpcy5nZXRFbW1ldFNuaXBwZXRzKHQpLAogICAgICBtYXJrVGFnUGFpcnM6ICEwLAogICAgICBhdXRvUmVuYW1lVGFnczogITAKICAgIH07CiAgfSwKICBnZXRQb3N0RWRpdG9yQ29uZmlnOiBmdW5jdGlvbiBnZXRQb3N0RWRpdG9yQ29uZmlnKGUpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dDdXJzb3JXaGVuU2VsZWN0aW5nOiAhMCwKICAgICAgdGFiU2l6ZTogdGhpcy5nZXRUYWJTaXplKGUpLAogICAgICBpbmRlbnRVbml0OiB0aGlzLmdldFRhYlNpemUoZSksCiAgICAgIGluZGVudFdpdGhUYWJzOiB0aGlzLmdldEluZGVudFdpdGhUYWJzKGUpLAogICAgICBtYXRjaEJyYWNrZXRzOiBlLm1hdGNoX2JyYWNrZXRzLAogICAgICBhdXRvQ2xvc2VCcmFja2V0czogZS5tYXRjaF9icmFja2V0cywKICAgICAgbGluZVdyYXBwaW5nOiAhMAogICAgfTsKICB9LAogIF9nZXRTY3JvbGxiYXJzOiBmdW5jdGlvbiBfZ2V0U2Nyb2xsYmFycyhlKSB7CiAgICByZXR1cm4gZSA/IG51bGwgOiAic2ltcGxlIjsKICB9LAogIGdldFRhYlNpemU6IGZ1bmN0aW9uIGdldFRhYlNpemUoZSkgewogICAgcmV0dXJuIHBhcnNlSW50KGUudGFiX3NpemUsIDEwKTsKICB9LAogIGdldEluZGVudFdpdGhUYWJzOiBmdW5jdGlvbiBnZXRJbmRlbnRXaXRoVGFicyhlKSB7CiAgICByZXR1cm4gInRhYnMiID09PSBlLmluZGVudF93aXRoOwogIH0sCiAgZ2V0RW1tZXRTbmlwcGV0czogZnVuY3Rpb24gZ2V0RW1tZXRTbmlwcGV0cyhlKSB7CiAgICB2YXIgdCA9IGUuc25pcHBldHM7CiAgICByZXR1cm4gdCA/ICh0Lm1hcmt1cFNuaXBwZXRzID0gdGhpcy51bmVzY2FwZVNuaXBwZXQodC5tYXJrdXBTbmlwcGV0cyksIHQuc3R5bGVzaGVldFNuaXBwZXRzID0gdGhpcy51bmVzY2FwZVNuaXBwZXQodC5zdHlsZXNoZWV0U25pcHBldHMpLCB7CiAgICAgIGdsb2JhbHM6IHsKICAgICAgICBtYXJrdXA6IHsKICAgICAgICAgIHNuaXBwZXRzOiB0Lm1hcmt1cFNuaXBwZXRzCiAgICAgICAgfSwKICAgICAgICBzdHlsZXNoZWV0OiB7CiAgICAgICAgICBzbmlwcGV0czogdC5zdHlsZXNoZWV0U25pcHBldHMKICAgICAgICB9CiAgICAgIH0KICAgIH0pIDogewogICAgICBnbG9iYWxzOiB7CiAgICAgICAgbWFya3VwOiB7CiAgICAgICAgICBzbmlwcGV0czoge30KICAgICAgICB9LAogICAgICAgIHN0eWxlc2hlZXQ6IHsKICAgICAgICAgIHNuaXBwZXRzOiB7fQogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIHVuZXNjYXBlU25pcHBldDogZnVuY3Rpb24gdW5lc2NhcGVTbmlwcGV0KGUpIHsKICAgIGZvciAodmFyIHQgPSBlLCBuID0gT2JqZWN0LmtleXModCksIHMgPSAwOyBzIDwgbi5sZW5ndGg7IHMrKykgewogICAgICB0W25bc11dID0gdFtuW3NdXS5yZXBsYWNlKC9cXG4vZywgIlxuIikucmVwbGFjZSgvXFx0L2csICJcdCIpOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sCiAgX2dldEd1dHRlcnM6IGZ1bmN0aW9uIF9nZXRHdXR0ZXJzKGUpIHsKICAgIHJldHVybiAhMCA9PT0gZS5jb2RlX2ZvbGRpbmcgPyBbIkNvZGVNaXJyb3ItbGluZW51bWJlcnMiLCAiQ29kZU1pcnJvci1mb2xkZ3V0dGVyIl0gOiBbIiJdOwogIH0KfSwgd2luZG93LkJhc2VFZGl0b3JLZXlCaW5kaW5nc01peGluID0gewogIF9vbkNtVXBkYXRlS2V5QmluZGluZ3M6IGZ1bmN0aW9uIF9vbkNtVXBkYXRlS2V5QmluZGluZ3MoZSkgewogICAgc3dpdGNoIChlLmtleV9iaW5kaW5ncykgewogICAgICBjYXNlICJ2aW0iOgogICAgICAgIHRoaXMuZWRpdG9yLnNldE9wdGlvbigidmltTW9kZSIsICEwKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgInN1YmwiOgogICAgICAgIHRoaXMuZWRpdG9yLnNldE9wdGlvbigia2V5TWFwIiwgInN1YmxpbWUiKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhpcy5lZGl0b3Iuc2V0T3B0aW9uKCJrZXlNYXAiLCAiZXh0ZW5kZWRCYXNlIik7CiAgICB9CiAgfSwKICBfY2FuQWRqdXN0UmVuZGVyZWRMaW5lOiBmdW5jdGlvbiBfY2FuQWRqdXN0UmVuZGVyZWRMaW5lKGUpIHsKICAgIHJldHVybiAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIFR5cGVzVXRpbCB8fCAiaHRtbCIgPT09IFR5cGVzVXRpbC5jbU1vZGVUb1R5cGUoZS5nZXRPcHRpb24oIm1vZGUiKSkpICYmICJ1bmRlZmluZWQiICE9IHR5cGVvZiBDUC5wZW4gJiYgInRhYnMiICE9PSBDUC5wZW4uZWRpdG9yX3NldHRpbmdzLmluZGVudF93aXRoOwogIH0sCiAgX2luZGVudFdyYXBwZWRMaW5lczogZnVuY3Rpb24gX2luZGVudFdyYXBwZWRMaW5lcygpIHsKICAgIHZhciBlID0gdGhpcy5lZGl0b3IuZGVmYXVsdENoYXJXaWR0aCgpLAogICAgICAgIHQgPSAyLAogICAgICAgIG4gPSB0aGlzOwogICAgdGhpcy5lZGl0b3Iub24oInJlbmRlckxpbmUiLCBmdW5jdGlvbiAocywgaSwgbykgewogICAgICBpZiAobi5fY2FuQWRqdXN0UmVuZGVyZWRMaW5lKHMpKSB7CiAgICAgICAgdmFyIHIgPSBzLmdldE9wdGlvbigidGFiU2l6ZSIpLAogICAgICAgICAgICBhID0gQ29kZU1pcnJvci5jb3VudENvbHVtbihpLnRleHQsIG51bGwsIHIpICogZTsKICAgICAgICBvLnN0eWxlLnRleHRJbmRlbnQgPSAiLSIgKyBhICsgInB4Iiwgby5zdHlsZS5wYWRkaW5nTGVmdCA9IHQgKyBhICsgInB4IjsKICAgICAgfQogICAgfSk7CiAgfQp9LCB3aW5kb3cuQmFzZUVkaXRvciA9IENsYXNzLmV4dGVuZCh7CiAgZWRpdG9yOiAiIiwKICBfdmlld2luZ1NvdXJjZTogITEsCiAgX2NhbkRyaXZlOiAhMCwKICB0eXBlOiAiIiwKICB2YWx1ZTogIiIsCiAgaW5pdDogZnVuY3Rpb24gaW5pdChlLCB0KSB7CiAgICB0aGlzLnR5cGUgPSBlLCB0aGlzLnZhbHVlID0gdCwgdGhpcy5wYWdlVHlwZSA9IF9fcGFnZVR5cGUsIF8uZXh0ZW5kKHRoaXMsIEJhc2VFZGl0b3JWaWV3U291cmNlTWl4aW4pLCBfLmV4dGVuZCh0aGlzLCBCYXNlRWRpdG9yS2V5QmluZGluZ3NNaXhpbiksIHRoaXMuX2Jhc2VCaW5kVG9IdWIoKSwgdGhpcy5fYnVpbGRFZGl0b3IoKTsKICB9LAogIF9iYXNlQmluZFRvSHViOiBmdW5jdGlvbiBfYmFzZUJpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInBhZ2UtbG9hZGluZy1kb25lIiwgJC5wcm94eSh0aGlzLl9vblBhZ2VMb2FkaW5nRG9uZSwgdGhpcykpLCBIdWIuc3ViKCJlZGl0b3ItcmVmcmVzaCIsICQucHJveHkodGhpcy5yZWZyZXNoLCB0aGlzKSksIEh1Yi5zdWIoImtleSIsICQucHJveHkodGhpcy5fb25LZXksIHRoaXMpKSwgSHViLnN1YigiY20tdXBkYXRlLWtleWJpbmRpbmdzIiwgJC5wcm94eSh0aGlzLl9vbkNNVXBkYXRlS2V5YmluZGluZ3NFdmVudCwgdGhpcykpLCBIdWIuc3ViKCJwZW4tY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vbkJhc2VQZW5DaGFuZ2UsIHRoaXMpKSwgInByb2Zlc3NvciIgPT09IHdpbmRvdy5fX3BhZ2VUeXBlICYmIHRoaXMuX2Jhc2VCaW5kVG9IdWJQcm9mZXNzb3JNb2RlKCk7CiAgfSwKICBfYmFzZUJpbmRUb0h1YlByb2Zlc3Nvck1vZGU6IGZ1bmN0aW9uIF9iYXNlQmluZFRvSHViUHJvZmVzc29yTW9kZSgpIHsKICAgIEh1Yi5zdWIoInVpLWRpc2FibGUiLCAkLnByb3h5KHRoaXMuX2Rpc2FibGVVc2VyRnJvbURyaXZpbmcsIHRoaXMpKSwgSHViLnN1YigidWktZW5hYmxlIiwgJC5wcm94eSh0aGlzLl9lbmFibGVVc2VyVG9Ecml2ZSwgdGhpcykpOwogIH0sCiAgX29uQ01VcGRhdGVLZXliaW5kaW5nc0V2ZW50OiBmdW5jdGlvbiBfb25DTVVwZGF0ZUtleWJpbmRpbmdzRXZlbnQoKSB7CiAgICB0aGlzLl9vbkNtVXBkYXRlS2V5QmluZGluZ3Mod2luZG93Ll9faXRlbS5lZGl0b3Jfc2V0dGluZ3MpOwogIH0sCiAgX29uS2V5OiBmdW5jdGlvbiBfb25LZXkoZSwgdCkgewogICAgImVzYyIgPT09IHQua2V5ICYmICh0aGlzLmVkaXRvci5leGVjQ29tbWFuZCgiY2xlYXJTZWFyY2giKSwgdGhpcy5ydW5SZWZyZXNoKDIwMCkpOwogIH0sCiAgX29uQmFzZVBlbkNoYW5nZTogZnVuY3Rpb24gX29uQmFzZVBlbkNoYW5nZShlLCB0KSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJwZW4uZWRpdG9yX3NldHRpbmdzLmluZGVudF93aXRoIikgJiYgdGhpcy5lZGl0b3Iuc2V0T3B0aW9uKCJpbmRlbnRXaXRoVGFicyIsIENNRWRpdG9yU2V0dGluZ3MuZ2V0SW5kZW50V2l0aFRhYnModC5wZW4uZWRpdG9yX3NldHRpbmdzKSksIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5lZGl0b3Jfc2V0dGluZ3MudGFiX3NpemUiKSAmJiAodGhpcy5lZGl0b3Iuc2V0T3B0aW9uKCJ0YWJTaXplIiwgQ01FZGl0b3JTZXR0aW5ncy5nZXRUYWJTaXplKHQucGVuLmVkaXRvcl9zZXR0aW5ncykpLCB0aGlzLmVkaXRvci5zZXRPcHRpb24oImluZGVudFVuaXQiLCBDTUVkaXRvclNldHRpbmdzLmdldFRhYlNpemUodC5wZW4uZWRpdG9yX3NldHRpbmdzKSkpOwogIH0sCiAgX29uUGFnZUxvYWRpbmdEb25lOiBmdW5jdGlvbiBfb25QYWdlTG9hZGluZ0RvbmUoKSB7CiAgICB0aGlzLl9pbmRlbnRXcmFwcGVkTGluZXMoKSwgdGhpcy5ydW5SZWZyZXNoKDIwMCk7CiAgfSwKICBfYnVpbGRFZGl0b3I6IGZ1bmN0aW9uIF9idWlsZEVkaXRvcigpIHsKICAgIHRoaXMuZWRpdG9yID0gdGhpcy5fYnVpbGRDTUVkaXRvcih0aGlzLl9nZXRFZGl0b3JDb25maWcoKSk7CiAgICB2YXIgZSA9IHRoaXM7CiAgICB0aGlzLl90aHJvdHRsZWRSZWZyZXNoID0gXy50aHJvdHRsZShmdW5jdGlvbiAoKSB7CiAgICAgIGUuZWRpdG9yLnJlZnJlc2goKTsKICAgIH0sIDMwMCksIHRoaXMuX3NldE1vZGUoKSwgdGhpcy5fYmluZFRvSHViKCksIHRoaXMuX3NldEVkaXRvclR5cGVTcGVjaWZpY09wdGlvbnModGhpcy5fZ2V0RWRpdG9yQ29uZmlnKCkpLCB0aGlzLmJpbmRUb09uQ2hhbmdlKCksIHRoaXMuX2JpbmRBdXRvQ29tcGxldGUoKSwgdGhpcy5fc3luY0VkaXRvcldpdGhGaXJlcGFkKCk7CiAgfSwKICBfc3luY0VkaXRvcldpdGhGaXJlcGFkOiBmdW5jdGlvbiBfc3luY0VkaXRvcldpdGhGaXJlcGFkKCkgewogICAgImNvbGxhYiIgPT09IHdpbmRvdy5fX3BhZ2VUeXBlICYmIHRoaXMuX3N5bmNXaXRoQ29sbGFiKCksICJwcm9mZXNzb3IiID09PSB3aW5kb3cuX19wYWdlVHlwZSAmJiB0aGlzLl9zeW5jV2l0aFByb2Zlc3NvcigpOwogIH0sCiAgX3N5bmNXaXRoQ29sbGFiOiBmdW5jdGlvbiBfc3luY1dpdGhDb2xsYWIoKSB7CiAgICB2YXIgZSA9IHRoaXM7CiAgICB0aGlzLmZpcmVwYWQgPSBGaXJlcGFkLmZyb21Db2RlTWlycm9yKENQLmNvbGxhYlJvb20uZ2V0RmlyZWJhc2VFZGl0b3JSZWYodGhpcy50eXBlKSwgdGhpcy5lZGl0b3IsIHsKICAgICAgcmljaFRleHRTaG9ydGN1dHM6ICExLAogICAgICByaWNoVGV4dFRvb2xiYXI6ICExLAogICAgICBkZWZhdWx0VGV4dDogbnVsbCwKICAgICAgdXNlcklkOiBDUC5jb2xsYWJSb29tLnJ0RGF0YS51c2VyLmlkCiAgICB9KSwgdGhpcy5maXJlcGFkLm9uKCJyZWFkeSIsIGZ1bmN0aW9uICgpIHsKICAgICAgQ1AuY29sbGFiUm9vbS5vbkZpcmVwYWRSZWFkeShlLnR5cGUsIGUuZmlyZXBhZCwgZS52YWx1ZSk7CiAgICB9KSwgdGhpcy5maXJlcGFkLm9uKCJzeW5jZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICBDUC5jb2xsYWJSb29tLm9uRmlyZXBhZFN5bmNlZChlKTsKICAgIH0pOwogIH0sCiAgX3N5bmNXaXRoUHJvZmVzc29yOiBmdW5jdGlvbiBfc3luY1dpdGhQcm9mZXNzb3IoKSB7CiAgICB0aGlzLmZpcmVwYWQgPSBGaXJlcGFkLmZyb21Db2RlTWlycm9yKFByb2Zlc3NvclJvb20uZ2V0RmlyZWJhc2VFZGl0b3JSZWYodGhpcy50eXBlKSwgdGhpcy5lZGl0b3IsIHsKICAgICAgcmljaFRleHRTaG9ydGN1dHM6ICExLAogICAgICByaWNoVGV4dFRvb2xiYXI6ICExLAogICAgICBkZWZhdWx0VGV4dDogdGhpcy52YWx1ZSwKICAgICAgdXNlcklkOiBDUC51c2VyLnNlc3Npb25faGFzaCwKICAgICAgZGlzYWJsZVB1Ymxpc2hFZGl0b3JDaGFuZ2VzOiAicHJvZmVzc29yIiAhPT0gd2luZG93Ll9fcnREYXRhLnVzZXIucm9sZQogICAgfSk7CiAgfSwKICBfZ2V0RWRpdG9yQ29uZmlnOiBmdW5jdGlvbiBfZ2V0RWRpdG9yQ29uZmlnKCkgewogICAgdmFyIGUgPSBfLmV4dGVuZChDTUVkaXRvclNldHRpbmdzLmdldERlZmF1bHRFZGl0b3JDb25maWcodGhpcy5fZ2V0RWRpdG9yQ29uZmlnRGVmYXVsdFZhbHVlKCksIENQLnBlbi5lZGl0b3Jfc2V0dGluZ3MpLCB0aGlzLl9nZXRFZGl0b3JUeXBlU3BlY2lmaWNDb25maWcoKSk7CgogICAgcmV0dXJuIGUuZXh0cmFLZXlzID0gewogICAgICBUYWI6ICJyZXNwZWN0ZnVsVGFiIiwKICAgICAgRW50ZXI6ICJlbW1ldEluc2VydExpbmVCcmVhayIKICAgIH0sICJtYWMiID09PSBfX2Jyb3dzZXIucGxhdGZvcm0gPyBlLmV4dHJhS2V5c1siU2hpZnQtQ21kLUEiXSA9ICJlbW1ldFdyYXBXaXRoQWJicmV2aWF0aW9uIiA6IGUuZXh0cmFLZXlzWyJTaGlmdC1DdHJsLUEiXSA9ICJlbW1ldFdyYXBXaXRoQWJicmV2aWF0aW9uIiwgImpzIiAhPT0gdGhpcy50eXBlICYmICEwID09PSBlLmVtbWV0X2FjdGl2ZSAmJiAoZS5leHRyYUtleXMuVGFiID0gZnVuY3Rpb24gKGUpIHsKICAgICAgITAgIT09IGUuZXhlY0NvbW1hbmQoImVtbWV0RXhwYW5kQWJicmV2aWF0aW9uIikgJiYgZS5leGVjQ29tbWFuZCgicmVzcGVjdGZ1bFRhYiIpOwogICAgfSksIGU7CiAgfSwKICBfZ2V0RWRpdG9yQ29uZmlnRGVmYXVsdFZhbHVlOiBmdW5jdGlvbiBfZ2V0RWRpdG9yQ29uZmlnRGVmYXVsdFZhbHVlKCkgewogICAgcmV0dXJuICJjb2xsYWIiID09PSB3aW5kb3cuX19wYWdlVHlwZSB8fCAicHJvZmVzc29yIiA9PT0gd2luZG93Ll9fcGFnZVR5cGUgPyAiIiA6IHRoaXMudmFsdWU7CiAgfSwKICBfYnVpbGRDTUVkaXRvcjogZnVuY3Rpb24gX2J1aWxkQ01FZGl0b3IoZSkgewogICAgdmFyIHQgPSB0aGlzLl9nZXRUZXh0QXJlYUVsZW1lbnRUb1JlcGxhY2VXaXRoQ29kZU1pcnJvcigpOwoKICAgIHJldHVybiBDb2RlTWlycm9yKGZ1bmN0aW9uIChlKSB7CiAgICAgIHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZSwgdCk7CiAgICB9LCBlKTsKICB9LAogIF9nZXRUZXh0QXJlYUVsZW1lbnRUb1JlcGxhY2VXaXRoQ29kZU1pcnJvcjogZnVuY3Rpb24gX2dldFRleHRBcmVhRWxlbWVudFRvUmVwbGFjZVdpdGhDb2RlTWlycm9yKCkgewogICAgcmV0dXJuICQoIi5jb2RlLXdyYXAgIyIgKyB0aGlzLnR5cGUpWzBdOwogIH0sCiAgX2JpbmRBdXRvQ29tcGxldGU6IGZ1bmN0aW9uIF9iaW5kQXV0b0NvbXBsZXRlKCkgewogICAgdmFyIGUgPSB0aGlzLl9nZXRFZGl0b3JDb25maWcoKTsKCiAgICAhMCA9PT0gZS5hdXRvY29tcGxldGUgJiYgImh0bWwiICE9PSBlLnN5bnRheCAmJiB0aGlzLmVkaXRvci5vbigiaW5wdXRSZWFkIiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgIWUuc3RhdGUuY29tcGxldGlvbkFjdGl2ZSAmJiAiK2lucHV0IiA9PT0gdC5vcmlnaW4gJiYgMSA9PT0gdC50ZXh0Lmxlbmd0aCAmJiAvXlthLXpBLVpdKyQvLnRlc3QodC50ZXh0WzBdKSAmJiBDb2RlTWlycm9yLmNvbW1hbmRzLmF1dG9jb21wbGV0ZShlLCBudWxsLCB7CiAgICAgICAgY29tcGxldGVTaW5nbGU6ICExCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBfZGlzYWJsZVVzZXJGcm9tRHJpdmluZzogZnVuY3Rpb24gX2Rpc2FibGVVc2VyRnJvbURyaXZpbmcoKSB7CiAgICB0aGlzLl9jYW5Ecml2ZSA9ICExLCB0aGlzLmVkaXRvci5zZXRPcHRpb24oInJlYWRPbmx5IiwgITApOwogIH0sCiAgX2VuYWJsZVVzZXJUb0RyaXZlOiBmdW5jdGlvbiBfZW5hYmxlVXNlclRvRHJpdmUoKSB7CiAgICB0aGlzLl9jYW5Ecml2ZSA9ICEwLCB0aGlzLmVkaXRvci5zZXRPcHRpb24oInJlYWRPbmx5IiwgITEpOwogIH0sCiAgX3ByZVByb2Nlc3NvckNoYW5nZWQ6IGZ1bmN0aW9uIF9wcmVQcm9jZXNzb3JDaGFuZ2VkKGUpIHsKICAgIHRoaXMuX3R1cm5PZmZSZWFkT25seVZpZXcoKSwgdGhpcy5fY2hhbmdlTW9kZShlKTsKICB9LAogIF90dXJuT2ZmUmVhZE9ubHlWaWV3OiBmdW5jdGlvbiBfdHVybk9mZlJlYWRPbmx5VmlldygpIHsKICAgIHRoaXMuX3ZpZXdpbmdTb3VyY2UgJiYgdGhpcy5zaG93T3JpZ2luYWxDb2RlKCk7CiAgfSwKICB1bmJpbmRPbkNoYW5nZTogZnVuY3Rpb24gdW5iaW5kT25DaGFuZ2UoKSB7CiAgICB0aGlzLmVkaXRvci5vZmYoImNoYW5nZSIsIHRoaXMuX29uRWRpdG9yQ2hhbmdlLmJpbmQodGhpcykpOwogIH0sCiAgYmluZFRvT25DaGFuZ2U6IGZ1bmN0aW9uIGJpbmRUb09uQ2hhbmdlKCkgewogICAgdGhpcy5lZGl0b3Iub24oImNoYW5nZSIsIHRoaXMuX29uRWRpdG9yQ2hhbmdlLmJpbmQodGhpcykpOwogIH0sCiAgX29uRWRpdG9yQ2hhbmdlOiBmdW5jdGlvbiBfb25FZGl0b3JDaGFuZ2UoZSkgewogICAgaWYgKCF0aGlzLmVkaXRvci5nZXRPcHRpb24oInJlYWRPbmx5IikpIHsKICAgICAgdmFyIHQgPSB7CiAgICAgICAgb3JpZ2luOiAiY2xpZW50IiwKICAgICAgICBwZW46IHt9CiAgICAgIH07CiAgICAgIHQucGVuW3RoaXMudHlwZV0gPSBlLmdldFZhbHVlKCksIENQLml0ZW0uc2V0SXRlbVZhbHVlKHQpOwogICAgfQogIH0sCiAgZ2V0VmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkgewogICAgcmV0dXJuIHRoaXMuZWRpdG9yLmdldFZhbHVlKCk7CiAgfSwKICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUoZSkgewogICAgdGhpcy5lZGl0b3Iuc2V0VmFsdWUoZSk7CiAgfSwKICBfc2V0RWRpdG9yVmFsdWU6IGZ1bmN0aW9uIF9zZXRFZGl0b3JWYWx1ZShlKSB7CiAgICAiY29sbGFiIiAhPT0gd2luZG93Ll9fcGFnZVR5cGUgJiYgInByb2Zlc3NvciIgIT09IHdpbmRvdy5fX3BhZ2VUeXBlICYmICh0aGlzLnVuYmluZE9uQ2hhbmdlKCksIHRoaXMuZWRpdG9yLnNldFZhbHVlKGUpLCB0aGlzLmJpbmRUb09uQ2hhbmdlKCkpOwogIH0sCiAgX3NldE1vZGU6IGZ1bmN0aW9uIF9zZXRNb2RlKCkgewogICAgdmFyIGUgPSB0aGlzLl9nZXRCYXNpY1R5cGUoKSwKICAgICAgICB0ID0gQ1AucGVuW2UgKyAiX3ByZV9wcm9jZXNzb3IiXTsKCiAgICB0aGlzLl9jaGFuZ2VNb2RlKHQpOwogIH0sCiAgZ2V0TW9kZTogZnVuY3Rpb24gZ2V0TW9kZSgpIHsKICAgIHZhciBlID0gdGhpcy5fZ2V0QmFzaWNUeXBlKCksCiAgICAgICAgdCA9IENQLnBlbltlICsgIl9wcmVfcHJvY2Vzc29yIl07CgogICAgcmV0dXJuIEVkaXRvck1vZGVzLmdldENNTW9kZSh0LCBlKTsKICB9LAogIF9jaGFuZ2VNb2RlOiBmdW5jdGlvbiBfY2hhbmdlTW9kZShlKSB7CiAgICB0aGlzLmVkaXRvci5zZXRPcHRpb24oIm1vZGUiLCBFZGl0b3JNb2Rlcy5nZXRDTU1vZGUoZSwgdGhpcy5fZ2V0QmFzaWNUeXBlKCkpKTsKICB9LAogIF9nZXRCYXNpY1R5cGU6IGZ1bmN0aW9uIF9nZXRCYXNpY1R5cGUoKSB7CiAgICB0aHJvdyAiSW1wbGVtZW50IGluIHN1YmNsYXNzIjsKICB9LAogIGhhc0ZvY3VzOiBmdW5jdGlvbiBoYXNGb2N1cygpIHsKICAgIHJldHVybiB0aGlzLmVkaXRvci5oYXNGb2N1cygpOwogIH0sCiAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChlLCB0KSB7CiAgICB0aGlzLnJ1blJlZnJlc2godC5kZWxheSk7CiAgfSwKICBydW5SZWZyZXNoOiBmdW5jdGlvbiBydW5SZWZyZXNoKGUpIHsKICAgIGUgPiAwID8gc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5ydW5SZWZyZXNoKCk7CiAgICB9LCB0aGlzKSwgZSkgOiB0aGlzLl90aHJvdHRsZWRSZWZyZXNoKCk7CiAgfQp9KSwgd2luZG93LkJhc2VFZGl0b3JWaWV3U291cmNlTWl4aW4gPSB7CiAgc2hvd1NvdXJjZTogZnVuY3Rpb24gc2hvd1NvdXJjZSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZWRpdG9yRXJyb3JIYW5kbGVyLmNsZWFyUHJlcHJvY1dpZGdldHModGhpcy50eXBlKSwgQ1AucGVuUHJvY2Vzc29yLmdldFByb2Nlc3NlZCh0aGlzLnR5cGUpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgX3RoaXMudW5iaW5kT25DaGFuZ2UoKSwgX3RoaXMuX21ha2VFZGl0b3JSZWFkT25seSgpLCBfdGhpcy5fY2hhbmdlTW9kZU9uU2hvd1NvdXJjZSgpLCBfdGhpcy5fc2V0RWRpdG9yVmFsdWUoZSksIF90aGlzLl9yZW1vdmVFdmVudEZyb21FZGl0b3JVbmRvSGlzdG9yeSgpOwogICAgfSk7CiAgfSwKICBfY2hhbmdlTW9kZU9uU2hvd1NvdXJjZTogZnVuY3Rpb24gX2NoYW5nZU1vZGVPblNob3dTb3VyY2UoKSB7CiAgICB0aGlzLl9jaGFuZ2VNb2RlKCJub25lIik7CiAgfSwKICBfbWFrZUVkaXRvclJlYWRPbmx5OiBmdW5jdGlvbiBfbWFrZUVkaXRvclJlYWRPbmx5KCkgewogICAgJCgiI2JveC0iICsgdGhpcy50eXBlKS5hZGRDbGFzcygidmlldy1jb21waWxlZCIpLCAkKCIjdmlld3NvdXJjZS0iICsgdGhpcy50eXBlKS5hdHRyKCJ0aXRsZSIsIENvcHkucmV0dXJuVG9Tb3VyY2UpLCB0aGlzLmVkaXRvci5zZXRPcHRpb24oInJlYWRPbmx5IiwgITApOwogIH0sCiAgc2hvd09yaWdpbmFsQ29kZTogZnVuY3Rpb24gc2hvd09yaWdpbmFsQ29kZSgpIHsKICAgIHRoaXMuX3Nob3dPcmlnaW5hbENvZGUoKSwgdGhpcy5fY2hhbmdlTW9kZU9uU2hvd09yaWdpbmFsQ29kZSgpLCB0aGlzLl9tYWtlRWRpdGFibGUoKSwgdGhpcy5iaW5kVG9PbkNoYW5nZSgpLCB0aGlzLl9yZW1vdmVFdmVudEZyb21FZGl0b3JVbmRvSGlzdG9yeSgpOwogIH0sCiAgX2NoYW5nZU1vZGVPblNob3dPcmlnaW5hbENvZGU6IGZ1bmN0aW9uIF9jaGFuZ2VNb2RlT25TaG93T3JpZ2luYWxDb2RlKCkgewogICAgdGhpcy5fY2hhbmdlTW9kZShDUC5wZW4uZ2V0QXR0cmlidXRlKHRoaXMudHlwZSArICJfcHJlX3Byb2Nlc3NvciIpKTsKICB9LAogIF9yZW1vdmVFdmVudEZyb21FZGl0b3JVbmRvSGlzdG9yeTogZnVuY3Rpb24gX3JlbW92ZUV2ZW50RnJvbUVkaXRvclVuZG9IaXN0b3J5KCkgewogICAgdmFyIGUgPSB0aGlzLmVkaXRvci5nZXRIaXN0b3J5KCk7CiAgICBlLmRvbmUucG9wKCksIGUuZG9uZS5wb3AoKSwgdGhpcy5lZGl0b3Iuc2V0SGlzdG9yeShlKTsKICB9LAogIF9zaG93T3JpZ2luYWxDb2RlOiBmdW5jdGlvbiBfc2hvd09yaWdpbmFsQ29kZSgpIHsKICAgIHRoaXMuX3NldEVkaXRvclZhbHVlKENQLnBlblt0aGlzLnR5cGVdKTsKICB9LAogIF9tYWtlRWRpdGFibGU6IGZ1bmN0aW9uIF9tYWtlRWRpdGFibGUoKSB7CiAgICAkKCIjYm94LSIgKyB0aGlzLnR5cGUpLnJlbW92ZUNsYXNzKCJ2aWV3LWNvbXBpbGVkIHZpZXctcHJlcHJvYy1lcnJvcnMiKSwgJCgiI3ZpZXdzb3VyY2UtIiArIHRoaXMudHlwZSkuYXR0cigidGl0bGUiLCBDb3B5LnZpZXdTb3VyY2UpLCB0aGlzLl9jYW5Ecml2ZSAmJiB0aGlzLmVkaXRvci5zZXRPcHRpb24oInJlYWRPbmx5IiwgITEpOwogIH0KfSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoKSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIGgsICEwKTsKICB9CgogIGZ1bmN0aW9uIHQoKSB7CiAgICBBID0gJCgiLmNvbnNvbGUtZW50cmllcyIpLCBrID0gJCgiLmNvbnNvbGUtY29tbWFuZC1saW5lLWlucHV0IiksIE0gPSAkKCIuY29uc29sZS1jbGVhci1idXR0b24iKSwgTyA9IGsuZ2V0KDApOwogIH0KCiAgZnVuY3Rpb24gbigpIHsKICAgIGsub24oImtleWRvd24iLCBpKSwgay5vbigia2V5dXAgcHJvcGVydHljaGFuZ2UgaW5wdXQiLCB5KSwgTS5vbigiY2xpY2siLCB2KSwgay5vbmUoImZvY3VzIiwgQyk7CiAgfQoKICBmdW5jdGlvbiBzKCkgewogICAgSHViLnN1YigidWktZGlzYWJsZSIsIFMpLCBIdWIuc3ViKCJ1aS1lbmFibGUiLCBUKSwgSHViLnN1YigidWktY29uc29sZS1vcGVuZWQiLCBFKSwgSHViLnN1YigiY29uc29sZS1vcGVuZWQiLCB3KSwgSHViLnN1YigiY29uc29sZS1jbG9zZWQiLCBQKSwgSHViLnN1Yigic2VydmVyLWNvbnNvbGUtY2hhbmdlIiwgeCksIEh1Yi5zdWIoInNob3ctcHJvY2Vzc2luZy1sb2dzIiwgcik7CiAgfQoKICBmdW5jdGlvbiBpKGUpIHsKICAgIGlmICh5KCksIGUua2V5Q29kZSAmJiAhMCAhPT0gVSkgewogICAgICBzd2l0Y2ggKGUua2V5Q29kZSkgewogICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkpIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCksIHZvaWQgYSgpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzg6CiAgICAgICAgICBjKDEpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNDA6CiAgICAgICAgICBjKC0xKTsKICAgICAgfQoKICAgICAgInByb2Zlc3NvciIgPT09IFkgJiYgKGNsZWFyVGltZW91dChYKSwgWCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIG8oKTsKICAgICAgfSwgRykpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gbyhlKSB7CiAgICB2YXIgdCA9IHsKICAgICAgY29uc29sZTogewogICAgICAgIGNvbnNvbGVEYXRhOiBrLnZhbCgpCiAgICAgIH0KICAgIH07CiAgICBlID8gKHQuY29uc29sZS5jb21tYW5kID0gZSwgSHViLnB1YigiY29uc29sZS1jaGFuZ2UiLCB0KSkgOiBIdWIucHViKCJjb25zb2xlLWNoYW5nZSIsIHQpOwogIH0KCiAgZnVuY3Rpb24gcihlLCB0KSB7CiAgICB0LmxvZ3MuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICBmKHsKICAgICAgICAiZnVuY3Rpb24iOiBlLnR5cGUsCiAgICAgICAgYXJndW1lbnRzOiBbIkxpbmUgIiArIGUubGluZSArICIgIiArIGUudHlwZS50b1VwcGVyQ2FzZSgpICsgIjogIiArIGUubWVzc2FnZV0sCiAgICAgICAgY29tcGxleGl0eTogMQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYSgpIHsKICAgIHZhciBlID0gay52YWwoKTsKICAgICIiICE9PSBlICYmICgiY2xlYXIoKSIgIT09IGUgJiYgImNsZWFyKCk7IiAhPT0gZSA/IChkKGUpLCBrLnZhbCgiIiksIGcoZSksIHAoZSksICJwcm9mZXNzb3IiID09PSBZICYmIChjbGVhclRpbWVvdXQoWCksIG8oZSkpLCB5KCkpIDogbSgpKTsKICB9CgogIGZ1bmN0aW9uIGMoZSkgewogICAgMSA9PT0gZSAmJiAwID09PSBJICYmIChSID0gay52YWwoKSksIChJICs9IGUpIDwgMCAmJiAoSSA9IDApLCBJID4gRi5sZW5ndGggJiYgKEkgPSBGLmxlbmd0aCksIDAgPT09IEkgPyBrLnZhbChSKSA6IGsudmFsKEZbSSAtIDFdKSwgc2V0VGltZW91dCh1LCAwKTsKICB9CgogIGZ1bmN0aW9uIHUoKSB7CiAgICBpZiAoTy5zZXRTZWxlY3Rpb25SYW5nZSkgewogICAgICB2YXIgZSA9IDIgKiBrLnZhbCgpLmxlbmd0aDsKICAgICAgTy5zZXRTZWxlY3Rpb25SYW5nZShlLCBlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGQoZSkgewogICAgSSA9IDAsIEYudW5zaGlmdChlKSwgRi5sZW5ndGggPiBIICYmIEYucG9wKCk7CiAgfQoKICBmdW5jdGlvbiBsKCkgewogICAgdmFyIGUgPSAkKCIuY29uc29sZS1tZXNzYWdlIik7CiAgICBlLmxlbmd0aCA+IEggJiYgZS5zbGljZSgwLCBlLmxlbmd0aCAtIEgpLnJlbW92ZSgpLCBBLnNjcm9sbFRvcChBLmdldCgwKS5zY3JvbGxIZWlnaHQpOwogIH0KCiAgZnVuY3Rpb24gaChlKSB7CiAgICB2YXIgdCA9IGUuZGF0YTsKICAgIHQubGVuZ3RoICYmICJjb25zb2xlIiA9PT0gdFswXSAmJiAodFsxXVsiZnVuY3Rpb24iXSAmJiAiY2xlYXIiID09PSB0WzFdWyJmdW5jdGlvbiJdID8gbSgpIDogZih0WzFdKSk7CiAgfQoKICBmdW5jdGlvbiBwKGUpIHsKICAgIHZhciB0ID0gewogICAgICB0eXBlOiAiY29tbWFuZCIsCiAgICAgIGNvbW1hbmQ6IGUKICAgIH07CiAgICAkKCIucmVzdWx0LWlmcmFtZSIpLmdldCgwKS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHQsICIqIik7CiAgfQoKICBmdW5jdGlvbiBmKGUpIHsKICAgIGUuYXJndW1lbnRzICYmIChlLmFyZ3VtZW50cy5qb2luKCIgIikubGVuZ3RoID4geiAmJiAoZSA9IFcpLCAhMSA9PT0gTCA/IChWLnB1c2goZSksIFYubGVuZ3RoID4gQiAmJiAoVi5zaGlmdCgpLCBOID0gITApKSA6IF8oZSkpOwogIH0KCiAgZnVuY3Rpb24gXyhlKSB7CiAgICB2YXIgdCA9ICQoRCk7CiAgICBlWyJmdW5jdGlvbiJdICYmIHQuYWRkQ2xhc3MoZVsiZnVuY3Rpb24iXSk7CiAgICB2YXIgbiA9IGUuYXJndW1lbnRzLAogICAgICAgIHMgPSBlLmNvbXBsZXhpdHksCiAgICAgICAgaSA9IG4uam9pbigiICIpOwoKICAgIGlmIChzID4gMSkgewogICAgICBBLmFwcGVuZCh0KTsKICAgICAgdmFyIG8gPSBDb2RlTWlycm9yKHQuZ2V0KDApLCB7CiAgICAgICAgdmFsdWU6IGksCiAgICAgICAgZm9sZEd1dHRlcjogITAsCiAgICAgICAgcmVhZE9ubHk6ICJub2N1cnNvciIsCiAgICAgICAgZ3V0dGVyczogWyJDb2RlTWlycm9yLWZvbGRndXR0ZXIiXSwKICAgICAgICBtb2RlOiAiamF2YXNjcmlwdCIKICAgICAgfSk7CiAgICAgIGlmICgtMSAhPT0gaS5pbmRleE9mKCI6IGZ1bmN0aW9uIikpIGZvciAodmFyIHIgPSBvLmZpcnN0TGluZSgpLCBhID0gby5sYXN0TGluZSgpOyByIDw9IGE7IHIrKykgewogICAgICAgIG8uZm9sZENvZGUoQ29kZU1pcnJvci5Qb3MociwgMCksIG51bGwsICJmb2xkIik7CiAgICAgIH0KICAgIH0gZWxzZSB0Lmhhc0NsYXNzKCJlcnJvciIpID8gdC50ZXh0KGkpIDogQ29kZU1pcnJvci5ydW5Nb2RlKGksIHsKICAgICAgbmFtZTogImphdmFzY3JpcHQiLAogICAgICBqc29uOiAhMAogICAgfSwgdC5nZXQoMCkpLCBBLmFwcGVuZCh0KTsKCiAgICBsKCk7CiAgfQoKICBmdW5jdGlvbiBnKGUpIHsKICAgIHZhciB0ID0gJChEKTsKICAgIHQuYWRkQ2xhc3MoImVjaG8iKSwgdC50ZXh0KGUpLCBBLmFwcGVuZCh0KSwgbCgpOwogIH0KCiAgZnVuY3Rpb24gbSgpIHsKICAgIHYoKSwgay52YWwoIiIpLCBWID0gW10sIE4gPSAhMSwgc2V0VGltZW91dCh5LCAwKTsKICB9CgogIGZ1bmN0aW9uIGIoKSB7CiAgICAkKCIuY29uc29sZS1tZXNzYWdlIC5Db2RlTWlycm9yIikuZWFjaChmdW5jdGlvbiAoZSwgdCkgewogICAgICB0LkNvZGVNaXJyb3IucmVmcmVzaCgpOwogICAgfSksIGwoKTsKICB9CgogIGZ1bmN0aW9uIHYoKSB7CiAgICAkKCIuY29uc29sZS1tZXNzYWdlIikucmVtb3ZlKCk7CiAgfQoKICBmdW5jdGlvbiBDKCkgewogICAgdmFyIGUgPSBPLnZhbHVlOwogICAgTy52YWx1ZSA9ICIiLCBqID0gTy5zY3JvbGxIZWlnaHQsIE8udmFsdWUgPSBlOwogIH0KCiAgZnVuY3Rpb24geSgpIHsKICAgIGlmICgiIiA9PT0gJChPKS52YWwoKSkgTy5yb3dzID0gMTtlbHNlIHsKICAgICAgdmFyIGUsCiAgICAgICAgICB0ID0gMCB8IE8uZ2V0QXR0cmlidXRlKCJkYXRhLW1pbi1yb3dzIik7CiAgICAgIE8ucm93cyA9IHQsIGUgPSBNYXRoLmNlaWwoKE8uc2Nyb2xsSGVpZ2h0IC0gaikgLyAxNSksIE8ucm93cyA9IHQgKyBlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdygpIHsKICAgIEwgPSAhMCwgITAgPT09IE4gJiYgKF8oSiksIE4gPSAhMSk7CgogICAgZm9yICh2YXIgZSA9IDA7IGUgPCBWLmxlbmd0aDsgZSsrKSB7CiAgICAgIF8oVltlXSk7CiAgICB9CgogICAgViA9IFtdLCBzZXRUaW1lb3V0KGIsIDEpOwogIH0KCiAgZnVuY3Rpb24gUCgpIHsKICAgIEwgPSAhMTsKICB9CgogIGZ1bmN0aW9uIFMoKSB7CiAgICBrLmFkZENsYXNzKCJkaXNhYmxlZCIpLCBVID0gITA7CiAgfQoKICBmdW5jdGlvbiBUKCkgewogICAgay5yZW1vdmVDbGFzcygiZGlzYWJsZWQiKSwgVSA9ICExOwogIH0KCiAgZnVuY3Rpb24gRSgpIHsKICAgIGsuZm9jdXMoKTsKICB9CgogIGZ1bmN0aW9uIHgoZSwgdCkgewogICAgay52YWwodC5jb25zb2xlLmNvbnNvbGVEYXRhKSwgdC5jb25zb2xlLmNvbW1hbmQgJiYgKGcodC5jb25zb2xlLmNvbW1hbmQpLCBwKHQuY29uc29sZS5jb21tYW5kKSk7CiAgfQoKICBDUC5Db25zb2xlRWRpdG9yID0ge307CiAgdmFyIEEsCiAgICAgIGssCiAgICAgIE0sCiAgICAgIE8sCiAgICAgIEQgPSAiPHByZSBjbGFzcz0nY29uc29sZS1tZXNzYWdlIENvZGVNaXJyb3ItbGluZSc+PC9wcmU+IiwKICAgICAgRiA9IFtdLAogICAgICBIID0gMTAwLAogICAgICBJID0gLTEsCiAgICAgIFIgPSAiIiwKICAgICAgVSA9ICExLAogICAgICBqID0gMTUsCiAgICAgIEwgPSAhMSwKICAgICAgViA9IFtdLAogICAgICBCID0gMTEsCiAgICAgIE4gPSAhMSwKICAgICAgeiA9IDVlMywKICAgICAgVyA9IHsKICAgICJmdW5jdGlvbiI6ICJlcnJvciIsCiAgICBhcmd1bWVudHM6IFsiTG9nIFNraXBwZWQ6IFNvcnJ5LCB0aGlzIGxvZyB3YXMgdG9vIGxhcmdlIGZvciBvdXIgY29uc29sZS4gWW91IG1pZ2h0IG5lZWQgdG8gdXNlIHRoZSBicm93c2VyIGNvbnNvbGUgaW5zdGVhZC4iXSwKICAgIGNvbXBsZXhpdHk6IDEKICB9LAogICAgICBKID0gewogICAgImZ1bmN0aW9uIjogImVycm9yIiwKICAgIGFyZ3VtZW50czogWyJMb2dzIFRyaW1tZWQ6IFRvIGtlZXAgdGhpbmdzIGZhc3Qgd2Ugb25seSBzdG9yZWQgdGhlIGxhc3QgIiArIChCIC0gMSkgKyAiIG1lc3NhZ2VzIHdoaWxlIHRoZSBDb2RlUGVuIGNvbnNvbGUgd2FzIGNsb3NlZCwgdGhlIG90aGVycyB3aWxsIGJlIGluIHRoZSBicm93c2VyIGNvbnNvbGUuIl0sCiAgICBjb21wbGV4aXR5OiAxCiAgfSwKICAgICAgWSA9IF9fcGFnZVR5cGUsCiAgICAgIFggPSBudWxsLAogICAgICBHID0gMjUwOwoKICBDUC5Db25zb2xlRWRpdG9yLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICB0KCksIG4oKSwgcygpLCBlKCk7CiAgfTsKfSgpLCB3aW5kb3cuQ1NTRWRpdG9yID0gQmFzZUVkaXRvci5leHRlbmQoewogIF9nZXRCYXNpY1R5cGU6IGZ1bmN0aW9uIF9nZXRCYXNpY1R5cGUoKSB7CiAgICByZXR1cm4gImNzcyI7CiAgfSwKICBfYmluZFRvSHViOiBmdW5jdGlvbiBfYmluZFRvSHViKCkgewogICAgSHViLnN1YigicGVuLWNoYW5nZSIsICQucHJveHkodGhpcy5fb25QZW5DaGFuZ2UsIHRoaXMpKSwgSHViLnN1YigicGFnZS1sb2FkaW5nLWRvbmUiLCAkLnByb3h5KHRoaXMuX29uUGFnZUxvYWRpbmdEb25lLCB0aGlzKSk7CiAgfSwKICBfb25QZW5DaGFuZ2U6IGZ1bmN0aW9uIF9vblBlbkNoYW5nZShlLCB0KSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJwZW4uY3NzX3ByZV9wcm9jZXNzb3IiKSAmJiB0aGlzLl9wcmVQcm9jZXNzb3JDaGFuZ2VkKHQucGVuLmNzc19wcmVfcHJvY2Vzc29yKTsKICB9LAogIF9vblBhZ2VMb2FkaW5nRG9uZTogZnVuY3Rpb24gX29uUGFnZUxvYWRpbmdEb25lKCkgewogICAgdGhpcy5tb2JpbGUgJiYgc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5lZGl0b3IuZm9jdXMoKTsKICAgIH0sIHRoaXMpLCA0MDApOwogIH0sCiAgX2dldEVkaXRvclR5cGVTcGVjaWZpY0NvbmZpZzogZnVuY3Rpb24gX2dldEVkaXRvclR5cGVTcGVjaWZpY0NvbmZpZygpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGU6IHRoaXMuZ2V0TW9kZSgpLAogICAgICBzeW50YXg6ICJjc3MiCiAgICB9OwogIH0sCiAgX3NldEVkaXRvclR5cGVTcGVjaWZpY09wdGlvbnM6IGZ1bmN0aW9uIF9zZXRFZGl0b3JUeXBlU3BlY2lmaWNPcHRpb25zKGUpIHsKICAgIHZhciB0ID0ge307CiAgICBlLmV4dHJhS2V5cyAmJiAodCA9IGUuZXh0cmFLZXlzKSwgdFsiQ3RybC1TcGFjZSJdID0gImF1dG9jb21wbGV0ZSIsIHRoaXMuZWRpdG9yLnNldE9wdGlvbigiZXh0cmFLZXlzIiwgQ29kZU1pcnJvci5ub3JtYWxpemVLZXlNYXAodCkpOwogIH0sCiAgX2VtbWV0U3VwcG9ydGVkU3ludGF4ZXM6IGZ1bmN0aW9uIF9lbW1ldFN1cHBvcnRlZFN5bnRheGVzKCkgewogICAgcmV0dXJuIF8uZGlmZmVyZW5jZShfX3ByZXByb2Nlc3NvcnMuY3NzLnN5bnRheGVzLCBfX3ByZXByb2Nlc3NvcnMuY3NzLmV4Y2x1ZGVfZW1tZXRfc3ludGF4ZXMpOwogIH0KfSksIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBlKCkgewogICAgZm9yICh2YXIgZSA9ICQoIi5lZGl0b3ItZHJvcGRvd24iKSwgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7CiAgICAgIHQoZS5lcShuKSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0KGUpIHsKICAgIHZhciB0ID0gZS5kYXRhKCJkcm9wZG93bi10eXBlIik7CiAgICAkKCIubWF4aW1pemUiLCBlKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgIEh1Yi5wdWIoImVkaXRvci1leHBhbmQiLCB0KSwgSHViLnB1YigicG9wdXAtY2xvc2UiKTsKICAgIH0pLCAkKCIubWluaW1pemUiLCBlKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgIEh1Yi5wdWIoImVkaXRvci1jbG9zZSIsIHQpLCBIdWIucHViKCJwb3B1cC1jbG9zZSIpOwogICAgfSksICQoIi5mb2xkLWFsbC1idXR0b24iLCBlKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoZSkgewogICAgICAiY29sbGFiIiA9PT0gd2luZG93Ll9fcGFnZVR5cGUgPyBDUC5Db2RlRWRpdG9yc0ZvbGRWaWV3LmZvbGRBbGwoZSwgdCkgOiBIdWIucHViKCJmb2xkLWFsbCIsIHQpOwogICAgfSksICQoIi51bmZvbGQtYWxsLWJ1dHRvbiIsIGUpLm9uKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICJjb2xsYWIiID09PSB3aW5kb3cuX19wYWdlVHlwZSA/IENQLkNvZGVFZGl0b3JzRm9sZFZpZXcudW5mb2xkQWxsKGUsIHQpIDogSHViLnB1YigidW5mb2xkLWFsbCIsIHQpOwogICAgfSk7CiAgfQoKICBDUC5lZGl0b3JEcm9wRG93bnMgPSB7fSwgQ1AuZWRpdG9yRHJvcERvd25zLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBlKCk7CiAgfTsKfSgpOwp2YXIgVEVYVF9KQVZBU0NSSVBUID0gInRleHQvamF2YXNjcmlwdCI7CndpbmRvdy5FZGl0b3JNb2RlcyA9IHsKICBodG1sTW9kZXM6IHsKICAgIHRleHQ6ICJ0ZXh0IiwKICAgIG5vbmU6IHsKICAgICAgbmFtZTogImh0bWxtaXhlZCIsCiAgICAgIGh0bWxNb2RlOiAhMCwKICAgICAgdGFnczogewogICAgICAgIHNjcmlwdDogW1sidHlwZSIsIC9edGV4dFwveC10ZW1wbGF0ZSQvLCAiaHRtbG1peGVkIl0sIFsidHlwZSIsIC9eeC1zaGFkZXJcL3gtdmVydGV4JC8sICJ0ZXh0L3R5cGVzY3JpcHQiXSwgWyJ0eXBlIiwgL150ZXh0XC94LWhhbmRsZWJhcnMtdGVtcGxhdGUkLywgImh0bWxtaXhlZCJdLCBbInR5cGUiLCAvXnRleHRcL3BhcGVyc2NyaXB0JC8sIFRFWFRfSkFWQVNDUklQVF0sIFtudWxsLCBudWxsLCBURVhUX0pBVkFTQ1JJUFRdXQogICAgICB9CiAgICB9LAogICAgaHRtbDogewogICAgICBuYW1lOiAiaHRtbG1peGVkIiwKICAgICAgaHRtbE1vZGU6ICEwLAogICAgICB0YWdzOiB7CiAgICAgICAgc2NyaXB0OiBbWyJ0eXBlIiwgL150ZXh0XC94LXRlbXBsYXRlJC8sICJodG1sbWl4ZWQiXSwgWyJ0eXBlIiwgL154LXNoYWRlclwveC12ZXJ0ZXgkLywgInRleHQvdHlwZXNjcmlwdCJdLCBbInR5cGUiLCAvXnRleHRcL3gtaGFuZGxlYmFycy10ZW1wbGF0ZSQvLCAiaHRtbG1peGVkIl0sIFsidHlwZSIsIC9eeC10ZXh0XC9wYXBlcnNjcmlwdCQvLCBURVhUX0pBVkFTQ1JJUFRdLCBbbnVsbCwgbnVsbCwgVEVYVF9KQVZBU0NSSVBUXV0KICAgICAgfQogICAgfSwKICAgIGhhbWw6ICJoYW1sIiwKICAgIHNsaW06ICJhcHBsaWNhdGlvbi94LXNsaW0iLAogICAgbWFya2Rvd246ICJtYXJrZG93biIsCiAgICBwdWc6ICJwdWciCiAgfSwKICBodG1sTG9hZGVyTW9kZXM6IHsKICAgIHRleHQ6ICJ0ZXh0IiwKICAgIG5vbmU6ICJ4bWwiLAogICAgaHRtbDogInhtbCIsCiAgICBoYW1sOiAiaGFtbCIsCiAgICBzbGltOiAiYXBwbGljYXRpb24veC1zbGltIiwKICAgIG1hcmtkb3duOiAibWFya2Rvd24iLAogICAgcHVnOiAicHVnIgogIH0sCiAgY3NzTW9kZXM6IHsKICAgIG5vbmU6ICJ0ZXh0L2NzcyIsCiAgICBjc3M6ICJ0ZXh0L2NzcyIsCiAgICBwb3N0Y3NzOiAidGV4dC9jc3MiLAogICAgc2NzczogInRleHQveC1zY3NzIiwKICAgIHN0eWx1czogInRleHQveC1zdHlsIiwKICAgIGxlc3M6ICJ0ZXh0L3gtbGVzcyIsCiAgICBzYXNzOiAidGV4dC94LXNhc3MiCiAgfSwKICBqc01vZGVzOiB7CiAgICBub25lOiBURVhUX0pBVkFTQ1JJUFQsCiAgICBqczogVEVYVF9KQVZBU0NSSVBULAogICAgY29mZmVlc2NyaXB0OiAidGV4dC94LWNvZmZlZXNjcmlwdCIsCiAgICBsaXZlc2NyaXB0OiAidGV4dC94LWxpdmVzY3JpcHQiLAogICAgdHlwZXNjcmlwdDogInRleHQvdHlwZXNjcmlwdCIsCiAgICBiYWJlbDogInRleHQvanN4IgogIH0sCiAgZ2V0TG9hZGVyTW9kZTogZnVuY3Rpb24gZ2V0TG9hZGVyTW9kZShlLCB0KSB7CiAgICByZXR1cm4gImh0bWwiID09PSB0ID8gZSBpbiB0aGlzLmh0bWxMb2FkZXJNb2RlcyA/ICJtb2RlXyIgKyB0aGlzLmh0bWxMb2FkZXJNb2Rlc1tlXSA6ICJtb2RlX3RleHQiIDogImNzcyIgPT09IHQgPyBlIGluIHRoaXMuY3NzTW9kZXMgPyAibW9kZV8iICsgdGhpcy5jc3NNb2Rlc1tlXSA6ICJtb2RlX3RleHQiIDogImpzIiA9PT0gdCA/IGUgaW4gdGhpcy5qc01vZGVzID8gIm1vZGVfIiArIHRoaXMuanNNb2Rlc1tlXSA6ICJtb2RlX3RleHQiIDogdm9pZCAwOwogIH0sCiAgZ2V0Q01Nb2RlOiBmdW5jdGlvbiBnZXRDTU1vZGUoZSwgdCkgewogICAgcmV0dXJuICJodG1sIiA9PT0gdCA/IGUgaW4gdGhpcy5odG1sTW9kZXMgPyB0aGlzLmh0bWxNb2Rlc1tlXSA6ICJ0ZXh0IiA6ICJjc3MiID09PSB0ID8gZSBpbiB0aGlzLmNzc01vZGVzID8gdGhpcy5jc3NNb2Rlc1tlXSA6ICJ0ZXh0IiA6ICJqcyIgPT09IHQgPyBlIGluIHRoaXMuanNNb2RlcyA/IHsKICAgICAgbmFtZTogdGhpcy5qc01vZGVzW2VdLAogICAgICBnbG9iYWxWYXJzOiAhMAogICAgfSA6ICJ0ZXh0IiA6IHZvaWQgMDsKICB9Cn0sIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBlKCkgewogICAgaWYgKF9fdXNlciAmJiBfX2l0ZW0gJiYgMSAhPT0gX191c2VyLmlkICYmIF9fdXNlci5pZCA9PT0gX19pdGVtLnVzZXJfaWQpIHsKICAgICAgdmFyIGUgPSBfX2l0ZW0uc2x1Z19oYXNoLAogICAgICAgICAgbiA9IENQTG9jYWxTdG9yYWdlLmdldEl0ZW0oZSArICItZWRpdG9yLWZvbGRpbmciKTsKCiAgICAgIGlmIChuKSB7CiAgICAgICAgdmFyIHMgPSBKU09OLnBhcnNlKG4pOwogICAgICAgIHMuaHRtbCAmJiB0KHMuaHRtbCwgQ1AuaHRtbEVkaXRvci5lZGl0b3IpLCBzLmNzcyAmJiB0KHMuY3NzLCBDUC5jc3NFZGl0b3IuZWRpdG9yKSwgcy5qcyAmJiB0KHMuanMsIENQLmpzRWRpdG9yLmVkaXRvcik7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHQoZSwgdCkgewogICAgZS5tYXJrcyAmJiAkLmVhY2goZS5tYXJrcywgZnVuY3Rpb24gKGUsIG4pIHsKICAgICAgdC5mb2xkQ29kZShuKTsKICAgIH0pOwogIH0KCiAgQ1AuQ29kZUVkaXRvcnNGb2xkRXZlbnRzID0ge30sIENQLkNvZGVFZGl0b3JzRm9sZEV2ZW50cy5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgZSgpOwogIH07Cn0oKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoKSB7CiAgICBIdWIuc3ViKCJmb2xkLWFsbCIsIENQLkNvZGVFZGl0b3JzRm9sZFZpZXcuZm9sZEFsbCksIEh1Yi5zdWIoInVuZm9sZC1hbGwiLCBDUC5Db2RlRWRpdG9yc0ZvbGRWaWV3LnVuZm9sZEFsbCksIEh1Yi5zdWIoInBlbi1zYXZlZCIsIHQpOwogIH0KCiAgZnVuY3Rpb24gdCgpIHsKICAgIGlmIChfX3VzZXIgJiYgX19pdGVtICYmIDEgIT09IF9fdXNlci5pZCAmJiBfX3VzZXIuaWQgPT09IF9faXRlbS51c2VyX2lkKSB7CiAgICAgIHZhciBlID0gX19pdGVtLnNsdWdfaGFzaCwKICAgICAgICAgIHQgPSBuKENQLmh0bWxFZGl0b3IuZWRpdG9yKSwKICAgICAgICAgIHMgPSBuKENQLmNzc0VkaXRvci5lZGl0b3IpLAogICAgICAgICAgaSA9IG4oQ1AuanNFZGl0b3IuZWRpdG9yKTsKICAgICAgQ1BMb2NhbFN0b3JhZ2Uuc2V0SXRlbShlICsgIi1lZGl0b3ItZm9sZGluZyIsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBodG1sOiB0LAogICAgICAgIGNzczogcywKICAgICAgICBqczogaQogICAgICB9KSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBuKGUpIHsKICAgIHZhciB0ID0gZS5nZXREb2MoKS5nZXRBbGxNYXJrcygpLAogICAgICAgIG4gPSB7CiAgICAgIG1hcmtzOiBbXQogICAgfTsKICAgIGlmICh0Lmxlbmd0aCkgZm9yICh2YXIgcyA9IHQubGVuZ3RoIC0gMTsgcyA+PSAwOyBzLS0pIHsKICAgICAgdFtzXS5jb2xsYXBzZWQgJiYgInJhbmdlIiA9PT0gdFtzXS50eXBlICYmIG4ubWFya3MucHVzaCh0W3NdLmZpbmQoKS5mcm9tKTsKICAgIH0KICAgIHJldHVybiBuOwogIH0KCiAgQ1AuQ29kZUVkaXRvcnNGb2xkVmlldyA9IHt9LCBDUC5Db2RlRWRpdG9yc0ZvbGRWaWV3LmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBlKCk7CiAgfSwgQ1AuQ29kZUVkaXRvcnNGb2xkVmlldy5mb2xkQWxsID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIENvZGVNaXJyb3IuY29tbWFuZHMuZm9sZEFsbChDUFt0ICsgIkVkaXRvciJdLmVkaXRvcik7CiAgfSwgQ1AuQ29kZUVkaXRvcnNGb2xkVmlldy51bmZvbGRBbGwgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgQ29kZU1pcnJvci5jb21tYW5kcy51bmZvbGRBbGwoQ1BbdCArICJFZGl0b3IiXS5lZGl0b3IpOwogIH0sIENQLkNvZGVFZGl0b3JzRm9sZFZpZXcuaW5pdCgpOwp9KCksIHdpbmRvdy5IVE1MRWRpdG9yID0gQmFzZUVkaXRvci5leHRlbmQoewogIF9nZXRCYXNpY1R5cGU6IGZ1bmN0aW9uIF9nZXRCYXNpY1R5cGUoKSB7CiAgICByZXR1cm4gImh0bWwiOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInBlbi1jaGFuZ2UiLCAkLnByb3h5KHRoaXMuX29uUGVuQ2hhbmdlLCB0aGlzKSk7CiAgfSwKICBfb25QZW5DaGFuZ2U6IGZ1bmN0aW9uIF9vblBlbkNoYW5nZShlLCB0KSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJwZW4uaHRtbF9wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5fcHJlUHJvY2Vzc29yQ2hhbmdlZCh0LnBlbi5odG1sX3ByZV9wcm9jZXNzb3IpOwogIH0sCiAgX2dldEVkaXRvclR5cGVTcGVjaWZpY0NvbmZpZzogZnVuY3Rpb24gX2dldEVkaXRvclR5cGVTcGVjaWZpY0NvbmZpZygpIHsKICAgIHZhciBlID0gITA7CiAgICByZXR1cm4gX19wYWdlVHlwZSAmJiAiZW1iZWQiID09PSBfX3BhZ2VUeXBlICYmIChlID0gITEpLCB7CiAgICAgIG1vZGU6IHRoaXMuZ2V0TW9kZSgpLAogICAgICBzeW50YXg6ICJodG1sIiwKICAgICAgcHJvZmlsZTogInhodG1sIiwKICAgICAgYXV0b2ZvY3VzOiBlCiAgICB9OwogIH0sCiAgX2NvbXBsZXRlQWZ0ZXI6IGZ1bmN0aW9uIF9jb21wbGV0ZUFmdGVyKGUsIHQpIHsKICAgIHJldHVybiB0ICYmICF0KCkgfHwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGUuc3RhdGUuY29tcGxldGlvbkFjdGl2ZSB8fCBlLnNob3dIaW50KHsKICAgICAgICBjb21wbGV0ZVNpbmdsZTogITEKICAgICAgfSk7CiAgICB9LCAxMDApLCBDb2RlTWlycm9yLlBhc3M7CiAgfSwKICBfY29tcGxldGVJZkFmdGVyTHQ6IGZ1bmN0aW9uIF9jb21wbGV0ZUlmQWZ0ZXJMdChlKSB7CiAgICByZXR1cm4gdGhpcy5fY29tcGxldGVBZnRlcihlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0ID0gZS5nZXRDdXJzb3IoKTsKICAgICAgcmV0dXJuICI8IiA9PT0gZS5nZXRSYW5nZShDb2RlTWlycm9yLlBvcyh0LmxpbmUsIHQuY2ggLSAxKSwgdCk7CiAgICB9KTsKICB9LAogIF9jb21wbGV0ZUlmSW5UYWc6IGZ1bmN0aW9uIF9jb21wbGV0ZUlmSW5UYWcoZSkgewogICAgcmV0dXJuIHRoaXMuX2NvbXBsZXRlQWZ0ZXIoZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCA9IGUuZ2V0VG9rZW5BdChlLmdldEN1cnNvcigpKTsKICAgICAgcmV0dXJuICEhKCJzdHJpbmciICE9PSB0LnR5cGUgfHwgL1snIl0vLnRlc3QodC5zdHJpbmcuY2hhckF0KHQuc3RyaW5nLmxlbmd0aCAtIDEpKSAmJiAxICE9PSB0LnN0cmluZy5sZW5ndGgpICYmIENvZGVNaXJyb3IuaW5uZXJNb2RlKGUuZ2V0TW9kZSgpLCB0LnN0YXRlKS5zdGF0ZS50YWdOYW1lOwogICAgfSk7CiAgfSwKICBfc2V0RWRpdG9yVHlwZVNwZWNpZmljT3B0aW9uczogZnVuY3Rpb24gX3NldEVkaXRvclR5cGVTcGVjaWZpY09wdGlvbnMoZSkgewogICAgdmFyIHQgPSB7fTsKICAgIGUuZXh0cmFLZXlzICYmICh0ID0gZS5leHRyYUtleXMpLCB0ID0gQ29kZU1pcnJvci5ub3JtYWxpemVLZXlNYXAodCksICEwID09PSBlLmF1dG9jb21wbGV0ZSAmJiAodFsiQ3RybC1TcGFjZSJdID0gImF1dG9jb21wbGV0ZSIsIHRbIic8JyJdID0gdGhpcy5fY29tcGxldGVBZnRlci5iaW5kKHRoaXMpLCB0WyInLyciXSA9IHRoaXMuX2NvbXBsZXRlSWZBZnRlckx0LmJpbmQodGhpcyksIHRbIicgJyJdID0gdGhpcy5fY29tcGxldGVJZkluVGFnLmJpbmQodGhpcyksIHRbIic9JyJdID0gdGhpcy5fY29tcGxldGVJZkluVGFnLmJpbmQodGhpcykpLCB0aGlzLmVkaXRvci5zZXRPcHRpb24oImV4dHJhS2V5cyIsIHQpOwogIH0KfSksIHdpbmRvdy5KU0VkaXRvciA9IEJhc2VFZGl0b3IuZXh0ZW5kKHsKICBfZ2V0QmFzaWNUeXBlOiBmdW5jdGlvbiBfZ2V0QmFzaWNUeXBlKCkgewogICAgcmV0dXJuICJqcyI7CiAgfSwKICBfYmluZFRvSHViOiBmdW5jdGlvbiBfYmluZFRvSHViKCkgewogICAgSHViLnN1YigicGVuLWNoYW5nZSIsICQucHJveHkodGhpcy5fb25QZW5DaGFuZ2UsIHRoaXMpKTsKICB9LAogIF9vblBlbkNoYW5nZTogZnVuY3Rpb24gX29uUGVuQ2hhbmdlKGUsIHQpIHsKICAgIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5qc19wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5fcHJlUHJvY2Vzc29yQ2hhbmdlZCh0LnBlbi5qc19wcmVfcHJvY2Vzc29yKTsKICB9LAogIF9nZXRFZGl0b3JUeXBlU3BlY2lmaWNDb25maWc6IGZ1bmN0aW9uIF9nZXRFZGl0b3JUeXBlU3BlY2lmaWNDb25maWcoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiB0aGlzLmdldE1vZGUoKQogICAgfTsKICB9LAogIF9zZXRFZGl0b3JUeXBlU3BlY2lmaWNPcHRpb25zOiBmdW5jdGlvbiBfc2V0RWRpdG9yVHlwZVNwZWNpZmljT3B0aW9ucygpIHsKICAgIHRoaXMuZWRpdG9yLnNldE9wdGlvbigiZXh0cmFLZXlzIiwgQ29kZU1pcnJvci5ub3JtYWxpemVLZXlNYXAoewogICAgICBUYWI6ICJyZXNwZWN0ZnVsVGFiIiwKICAgICAgIkN0cmwtU3BhY2UiOiAiYXV0b2NvbXBsZXRlIgogICAgfSkpOwogIH0KfSksIENQLmNvZGVFZGl0b3JSZXNpemVDb250cm9sbGVyID0gewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLm1vZGVsID0gQ1AuQ29kZUVkaXRvclJlc2l6ZU1vZGVsLCB0aGlzLmV2ZW50cyA9IENQLkNvZGVFZGl0b3JzUmVzaXplRXZlbnRzLCB0aGlzLnZpZXcgPSBDUC5Db2RlRWRpdG9yc1Jlc2l6ZVZpZXcsIHRoaXMubW9kZWwuaW5pdCgpLCB0aGlzLmV2ZW50cy5pbml0KHRoaXMpLCB0aGlzLnZpZXcuaW5pdCh0aGlzLm1vZGVsKTsKICB9LAogIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGUpIHsKICAgIHRoaXMubW9kZWwudG9nZ2xlKGUpOwogIH0sCiAgb3BlbjogZnVuY3Rpb24gb3BlbihlKSB7CiAgICB0aGlzLm1vZGVsLm9wZW4oZSk7CiAgfSwKICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoZSkgewogICAgdGhpcy5tb2RlbC5jbG9zZShlKTsKICB9LAogIGV4cGFuZDogZnVuY3Rpb24gZXhwYW5kKGUpIHsKICAgIHRoaXMubW9kZWwuZXhwYW5kKGUpOwogIH0sCiAgcmVzZXRTaXplczogZnVuY3Rpb24gcmVzZXRTaXplcygpIHsKICAgIHRoaXMubW9kZWwucmVzZXRTaXplcygpOwogIH0sCiAgc3luY1dpdGhTZXJ2ZXI6IGZ1bmN0aW9uIHN5bmNXaXRoU2VydmVyKGUpIHsKICAgIHRoaXMubW9kZWwuc3luY1dpdGhTZXJ2ZXIoZSk7CiAgfSwKICB1cGRhdGVFZGl0b3JTaXplczogZnVuY3Rpb24gdXBkYXRlRWRpdG9yU2l6ZXMoZSkgewogICAgdGhpcy5tb2RlbC51cGRhdGVFZGl0b3JTaXplcyhlKTsKICB9LAogIGdldE9wZW5FZGl0b3JDb3VudDogZnVuY3Rpb24gZ2V0T3BlbkVkaXRvckNvdW50KCkgewogICAgcmV0dXJuIHRoaXMubW9kZWwuZ2V0T3BlbkVkaXRvckNvdW50KCk7CiAgfSwKICBnZXRFZGl0b3JQb3NpdGlvbnM6IGZ1bmN0aW9uIGdldEVkaXRvclBvc2l0aW9ucygpIHsKICAgIHJldHVybiB0aGlzLm1vZGVsLmdldEVkaXRvclBvc2l0aW9ucygpOwogIH0sCiAgb25XaW5kb3dSZXNpemU6IGZ1bmN0aW9uIG9uV2luZG93UmVzaXplKCkgewogICAgdGhpcy52aWV3Lm9uV2luZG93UmVzaXplKCk7CiAgfQp9LCB3aW5kb3cuRW5hYmxlRGlzYWJsZURyaXZlciA9IHsKICBfY2FuRHJpdmU6ICEwLAogIGJpbmRUb0VuYWJsZURpc2FibGVIdWJFdmVudHM6IGZ1bmN0aW9uIGJpbmRUb0VuYWJsZURpc2FibGVIdWJFdmVudHMoKSB7CiAgICBIdWIuc3ViKCJ1aS1kaXNhYmxlIiwgJC5wcm94eSh0aGlzLl9kaXNhYmxlVXNlckZyb21Ecml2aW5nLCB0aGlzKSksIEh1Yi5zdWIoInVpLWVuYWJsZSIsICQucHJveHkodGhpcy5fZW5hYmxlVXNlclRvRHJpdmUsIHRoaXMpKTsKICB9LAogIF9kaXNhYmxlVXNlckZyb21Ecml2aW5nOiBmdW5jdGlvbiBfZGlzYWJsZVVzZXJGcm9tRHJpdmluZygpIHsKICAgIHRoaXMuX2NhbkRyaXZlID0gITEsIHRoaXMuX2Rpc2FibGVVSUVsZW1lbnRzKCk7CiAgfSwKICBfZGlzYWJsZVVJRWxlbWVudHM6IGZ1bmN0aW9uIF9kaXNhYmxlVUlFbGVtZW50cygpIHsKICAgIHRoaXMuX2dldEFsbFVJRWxlbWVudHMgJiYgdGhpcy5fZGlzYWJsZUFsbEVsZW1lbnRzKHRoaXMuX2dldEFsbFVJRWxlbWVudHMoKSk7CiAgfSwKICBfZGlzYWJsZUFsbEVsZW1lbnRzOiBmdW5jdGlvbiBfZGlzYWJsZUFsbEVsZW1lbnRzKGUpIHsKICAgIF8uZm9yRWFjaChlLCBmdW5jdGlvbiAoZSkgewogICAgICBlICYmIGUuYXR0cigiZGlzYWJsZWQiLCAhMCk7CiAgICB9KTsKICB9LAogIF9lbmFibGVVc2VyVG9Ecml2ZTogZnVuY3Rpb24gX2VuYWJsZVVzZXJUb0RyaXZlKCkgewogICAgdGhpcy5fY2FuRHJpdmUgPSAhMCwgdGhpcy5fZW5hYmxlVUlFbGVtZW50cygpOwogIH0sCiAgX2VuYWJsZVVJRWxlbWVudHM6IGZ1bmN0aW9uIF9lbmFibGVVSUVsZW1lbnRzKCkgewogICAgdGhpcy5fZ2V0QWxsVUlFbGVtZW50cyAmJiB0aGlzLl9lbmFibGVBbGxFbGVtZW50cyh0aGlzLl9nZXRBbGxVSUVsZW1lbnRzKCkpOwogIH0sCiAgX2VuYWJsZUFsbEVsZW1lbnRzOiBmdW5jdGlvbiBfZW5hYmxlQWxsRWxlbWVudHMoZSkgewogICAgXy5mb3JFYWNoKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGUgJiYgZS5hdHRyKCJkaXNhYmxlZCIsICExKTsKICAgIH0pOwogIH0KfSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoKSB7CiAgICBIdWIuc3ViKCJzZXJ2ZXItdWktY2hhbmdlIiwgdCksIEh1Yi5zdWIoInVpLWNoYW5nZSIsIG4pLCBIdWIuc3ViKCJlZGl0b3Itc2l6ZXMtY2hhbmdlIiwgbyksIEh1Yi5zdWIoImVkaXRvci1leHBhbmQiLCBpKSwgSHViLnN1YigiZWRpdG9yLWNsb3NlIiwgYyksIEh1Yi5zdWIoImVkaXRvci1yZXNldC1zaXplcyIsIHIpOwogIH0KCiAgZnVuY3Rpb24gdChlLCB0KSB7CiAgICAiZWRpdG9yU2l6ZXMiIGluIHQudWkgJiYgbC5zeW5jV2l0aFNlcnZlcih0KTsKICB9CgogIGZ1bmN0aW9uIG4oZSwgdCkgewogICAgdC51aSAmJiB0LnVpLmVkaXRvclNpemVzICYmIHMoKTsKICB9CgogIGZ1bmN0aW9uIHMoKSB7CiAgICBDUC5Db2RlRWRpdG9yc1Jlc2l6ZUV2ZW50cy5fY2FuRHJpdmUgJiYgbC5tb2RlbC5UT1BfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9ICQoIiNib3gtIiArIGUpLAogICAgICAgICAgbiA9IENQLnVpLmVkaXRvclNpemVzW2VdLAogICAgICAgICAgcyA9IDAgPT09IG47CiAgICAgIHQuZmluZCgiLmVkaXRvci1hY3Rpb25zLXJpZ2h0IGJ1dHRvbiIpLm5vdCgiLmNsb3NlLWVkaXRvci1idXR0b24iKS5hdHRyKCJkaXNhYmxlZCIsIHMpLCBzID0gMCA9PT0gbiB8fCAxID09PSBuLCB0LmZpbmQoIi5jbG9zZS1lZGl0b3ItYnV0dG9uIikuYXR0cigiZGlzYWJsZWQiLCBzKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gaShlLCB0KSB7CiAgICBDUC5Db2RlRWRpdG9yc1Jlc2l6ZUV2ZW50cy5fY2FuRHJpdmUgJiYgbC5leHBhbmQodCk7CiAgfQoKICBmdW5jdGlvbiBvKGUsIHQpIHsKICAgIGwudXBkYXRlRWRpdG9yU2l6ZXModCk7CiAgfQoKICBmdW5jdGlvbiByKCkgewogICAgQ1AuQ29kZUVkaXRvcnNSZXNpemVFdmVudHMuX2NhbkRyaXZlICYmIGwucmVzZXRTaXplcygpOwogIH0KCiAgZnVuY3Rpb24gYSgpIHsKICAgICQod2luZG93KS5vbigicmVzaXplIiwgdSk7CiAgfQoKICBmdW5jdGlvbiBjKGUsIHQpIHsKICAgIENQLkNvZGVFZGl0b3JzUmVzaXplRXZlbnRzLl9jYW5Ecml2ZSAmJiBsLmNsb3NlKHQpOwogIH0KCiAgZnVuY3Rpb24gdSgpIHsKICAgIGNsZWFyVGltZW91dChoKSwgaCA9IHNldFRpbWVvdXQoZCwgMTAwKTsKICB9CgogIGZ1bmN0aW9uIGQoKSB7CiAgICBsLm9uV2luZG93UmVzaXplKCk7CiAgfQoKICB2YXIgbCwgaDsKICBDUC5Db2RlRWRpdG9yc1Jlc2l6ZUV2ZW50cyA9IHsKICAgIF9jYW5Ecml2ZTogITAKICB9OwogIHZhciBwID0gJCgiLnRvcC1ib3hlcyAuY2xvc2UtZWRpdG9yLWJ1dHRvbiIpOwogIF8uZXh0ZW5kKENQLkNvZGVFZGl0b3JzUmVzaXplRXZlbnRzLCBFbmFibGVEaXNhYmxlRHJpdmVyKSwgQ1AuQ29kZUVkaXRvcnNSZXNpemVFdmVudHMuX2dldEFsbFVJRWxlbWVudHMgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gW3BdOwogIH0sIENQLkNvZGVFZGl0b3JzUmVzaXplRXZlbnRzLmluaXQgPSBmdW5jdGlvbiAodCkgewogICAgbCA9IHQsIHRoaXMuYmluZFRvRW5hYmxlRGlzYWJsZUh1YkV2ZW50cygpLCBhKCksIGUoKSwgcygpOwogIH07Cn0oKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoZSkgewogICAgaWYgKC0xID09PSBDUC5Db2RlRWRpdG9yUmVzaXplTW9kZWwuVE9QX1RZUEVTLmluZGV4T2YoZSkpIHRocm93ICJCYWQgZWRpdG9yIHR5cGU6ICciICsgZSArICInIjsKICB9CgogIGZ1bmN0aW9uIHQoKSB7CiAgICB2YXIgZSA9IHsKICAgICAgdWk6IHsKICAgICAgICBlZGl0b3JTaXplczogQ1AudWkuZWRpdG9yU2l6ZXMKICAgICAgfQogICAgfTsKICAgIEh1Yi5wdWIoInVpLWNoYW5nZSIsIGUpOwogIH0KCiAgZnVuY3Rpb24gbigpIHsKICAgIHZhciBlID0gMDsKICAgIHJldHVybiB0aGlzLlRPUF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBuID0gQ1AudWkuZWRpdG9yU2l6ZXNbdF07CiAgICAgIGUgKz0gMCAhPT0gbiA/IDEgOiAwOwogICAgfSksIGU7CiAgfQoKICBDUC5Db2RlRWRpdG9yUmVzaXplTW9kZWwgPSB7CiAgICBUT1BfVFlQRVM6IFsiaHRtbCIsICJjc3MiLCAianMiXSwKICAgIElOSVRJQUxfQ09OU09MRV9TSVpFUzogewogICAgICAwOiAiY2xvc2VkIiwKICAgICAgMTogMSAvIDMsCiAgICAgIDI6IDEKICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgZSA9IENvZGVFZGl0b3JzVXRpbC5nZXRRdWVyeVN0cmluZygiZWRpdG9ycyIpOwoKICAgICAgaWYgKGUgJiYgIjExMSIgIT09IGUgJiYgIjExMTAiICE9PSBlKSB7CiAgICAgICAgIjAwMCIgPT09IGUuc3Vic3RyaW5nKDAsIDMpICYmIChlID0gIjExMSIgKyBlLmNoYXJBdCgzKSk7CiAgICAgICAgdmFyIHQgPSBlLnN1YnN0cmluZygwLCAzKS5zcGxpdCgiIiksCiAgICAgICAgICAgIG4gPSAwOwogICAgICAgIHQuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgbiArPSBwYXJzZUludChlLCAxMCk7CiAgICAgICAgfSksIHRoaXMuVE9QX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKHQsIHMpIHsKICAgICAgICAgIENQLnVpLmVkaXRvclNpemVzW3RdID0gZVtzXSAvIG47CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHMgPSBlLnNsaWNlKDMsIDQpLAogICAgICAgICAgICBpID0gdGhpcy5JTklUSUFMX0NPTlNPTEVfU0laRVNbc10gfHwgImNsb3NlZCI7CiAgICAgICAgQ1AudWkuZWRpdG9yU2l6ZXMuY29uc29sZSA9IGk7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZSh0KSB7CiAgICAgIGUodCksIHRoaXNbMCA9PT0gQ1AudWkuZWRpdG9yU2l6ZXNbdF0gPyAib3BlbiIgOiAiY2xvc2UiXSh0KTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UobikgewogICAgICBlKG4pOwogICAgICB2YXIgcyA9IENQLnVpLmVkaXRvclNpemVzW25dOwoKICAgICAgaWYgKDAgIT09IHMgJiYgMSAhPT0gcykgewogICAgICAgIENQLnVpLmVkaXRvclNpemVzW25dID0gMDsKICAgICAgICB2YXIgaSA9IDA7CiAgICAgICAgdGhpcy5UT1BfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSBDUC51aS5lZGl0b3JTaXplc1tlXTsKICAgICAgICAgIGkgKz0gdDsKICAgICAgICB9KSwgdGhpcy5UT1BfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgQ1AudWkuZWRpdG9yU2l6ZXNbZV0gPSBDUC51aS5lZGl0b3JTaXplc1tlXSAvIGk7CiAgICAgICAgfSksIHQoKTsKICAgICAgfQogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4ocykgewogICAgICBpZiAoZShzKSwgMCA9PT0gQ1AudWkuZWRpdG9yU2l6ZXNbc10pIHsKICAgICAgICB2YXIgaSA9IDEgLyAobigpICsgMSk7CiAgICAgICAgdGhpcy5UT1BfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSBlID09PSBzOwogICAgICAgICAgQ1AudWkuZWRpdG9yU2l6ZXNbZV0gPSB0ID8gaSA6IENQLnVpLmVkaXRvclNpemVzW2VdICogKDEgLSBpKTsKICAgICAgICB9KSwgdCgpOwogICAgICB9CiAgICB9LAogICAgZXhwYW5kOiBmdW5jdGlvbiBleHBhbmQobikgewogICAgICBlKG4pLCB0aGlzLlRPUF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgQ1AudWkuZWRpdG9yU2l6ZXNbZV0gPSBlID09PSBuID8gMSA6IDA7CiAgICAgIH0pLCB0KCk7CiAgICB9LAogICAgc3luY1dpdGhTZXJ2ZXI6IGZ1bmN0aW9uIHN5bmNXaXRoU2VydmVyKGUpIHsKICAgICAgdGhpcy51cGRhdGVFZGl0b3JTaXplcyhlLnVpLmVkaXRvclNpemVzKTsKICAgIH0sCiAgICB1cGRhdGVFZGl0b3JTaXplczogZnVuY3Rpb24gdXBkYXRlRWRpdG9yU2l6ZXMoZSkgewogICAgICBmb3IgKHZhciBuIGluIGUpIHsKICAgICAgICBDUC51aS5lZGl0b3JTaXplc1tuXSA9IGVbbl07CiAgICAgIH0KCiAgICAgIHQoKSwgSHViLnB1Yigic2F2ZS1lZGl0b3Itc2l6ZXMiKTsKICAgIH0sCiAgICBnZXRFZGl0b3JQb3NpdGlvbnM6IGZ1bmN0aW9uIGdldEVkaXRvclBvc2l0aW9ucygpIHsKICAgICAgdmFyIGUgPSBbXSwKICAgICAgICAgIHQgPSAwOwogICAgICByZXR1cm4gdGhpcy5UT1BfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAobikgewogICAgICAgIGUucHVzaCh0KTsKICAgICAgICB2YXIgcyA9IENQLnVpLmVkaXRvclNpemVzW25dOwogICAgICAgIHQgKz0gczsKICAgICAgfSksIGU7CiAgICB9LAogICAgcmVzZXRTaXplczogZnVuY3Rpb24gcmVzZXRTaXplcygpIHsKICAgICAgdmFyIGUgPSB7fSwKICAgICAgICAgIHQgPSB0aGlzLlRPUF9UWVBFUy5sZW5ndGg7CiAgICAgIHRoaXMuVE9QX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKG4pIHsKICAgICAgICBlW25dID0gMSAvIHQ7CiAgICAgIH0pLCB0aGlzLnVwZGF0ZUVkaXRvclNpemVzKGUpOwogICAgfQogIH07Cn0oKSwgQmFyRHJhZ2dlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFVuaWRyYWdnZXIucHJvdG90eXBlKSwgQmFyRHJhZ2dlci5wcm90b3R5cGUuc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiAoZSwgdCkgewogIHRoaXMuZW1pdEV2ZW50KCJzdGF0aWNDbGljayIsIFtlLCB0XSksIHRoaXMuZGlkRmlyc3RDbGljayA/ICh0aGlzLmVtaXRFdmVudCgiZG91YmxlQ2xpY2siLCBbZSwgdF0pLCBkZWxldGUgdGhpcy5kaWRGaXJzdENsaWNrLCBjbGVhclRpbWVvdXQodGhpcy5kb3VibGVDbGlja1RpbWVvdXQpKSA6ICh0aGlzLmRpZEZpcnN0Q2xpY2sgPSAhMCwgdGhpcy5kb3VibGVDbGlja1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIGRlbGV0ZSB0aGlzLmRpZEZpcnN0Q2xpY2s7CiAgfS5iaW5kKHRoaXMpLCBCYXJEcmFnZ2VyLkRPVUJMRV9DTElDS19USU1FKSk7Cn0sIEJhckRyYWdnZXIuRE9VQkxFX0NMSUNLX1RJTUUgPSAzNTAsCi8qIQogKiBnZXRTdHlsZVByb3BlcnR5IHYxLjAuNAogKiBvcmlnaW5hbCBieSBrYW5nYXgKICogaHR0cDovL3BlcmZlY3Rpb25raWxscy5jb20vZmVhdHVyZS10ZXN0aW5nLWNzcy1wcm9wZXJ0aWVzLwogKiBNSVQgbGljZW5zZQogKi8KZnVuY3Rpb24gKGUpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIHQoZSkgewogICAgaWYgKGUpIHsKICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBzW2VdKSByZXR1cm4gZTsKICAgICAgdmFyIHQ7CiAgICAgIGUgPSBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZS5zbGljZSgxKTsKCiAgICAgIGZvciAodmFyIGkgPSAwLCBvID0gbi5sZW5ndGg7IGkgPCBvOyBpKyspIHsKICAgICAgICBpZiAodCA9IG5baV0gKyBlLCAic3RyaW5nIiA9PSB0eXBlb2Ygc1t0XSkgcmV0dXJuIHQ7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciBuID0gIldlYmtpdCBNb3ogbXMgTXMgTyIuc3BsaXQoIiAiKSwKICAgICAgcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTsKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdDsKICB9KSA6ICJvYmplY3QiID09ICh0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZXhwb3J0cykpID8gbW9kdWxlLmV4cG9ydHMgPSB0IDogZS5nZXRTdHlsZVByb3BlcnR5ID0gdDsKfSh3aW5kb3cpLAovKiEKICogdHJpZ2dlclRyYW5zaXRpb24KICogQ1NTIFRyYW5zaXRpb24gaGVscGVyLiBVc2UgaXQgbGlrZToKICogdHJpZ2dlclRyYW5zaXRpb24oZWxlbSwgeyB3aWR0aDogMTAwcHh9LCAnMC44cycgKQogKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoZSwgciwgYSwgYykgewogICAgdmFyIHUgPSAhMTsKCiAgICBmb3IgKHZhciBkIGluIHIpIHsKICAgICAgaWYgKG8uc3R5bGVbZF0gPSByW2RdLCAhKHUgPSBlLnN0eWxlW2RdID09PSBvLnN0eWxlW2RdKSkgYnJlYWs7CiAgICB9CgogICAgaWYgKCF1KSB7CiAgICAgIHZhciBsID0gW107CgogICAgICBmb3IgKGQgaW4gcikgewogICAgICAgIGwucHVzaChkKTsKICAgICAgfQoKICAgICAgZS5zdHlsZVtuXSA9IGwuam9pbigiIiksIGUuc3R5bGVbc10gPSBhIHx8ICIwLjRzIiwgZS5hZGRFdmVudExpc3RlbmVyKGksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdChlLCBjKTsKICAgICAgfSwgITEpOwogICAgICBlLm9mZnNldEhlaWdodDsKCiAgICAgIGZvciAoZCBpbiByKSB7CiAgICAgICAgZS5zdHlsZVtkXSA9IHJbZF07CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHQoZSwgbykgewogICAgZS50YXJnZXQuc3R5bGVbbl0gPSBudWxsLCBlLnRhcmdldC5zdHlsZVtzXSA9IG51bGwsIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoaSwgdCwgITEpLCBvICYmIG8oKTsKICB9CgogIHZhciBuID0gZ2V0U3R5bGVQcm9wZXJ0eSgidHJhbnNpdGlvblByb3BlcnR5IiksCiAgICAgIHMgPSBnZXRTdHlsZVByb3BlcnR5KCJ0cmFuc2l0aW9uRHVyYXRpb24iKSwKICAgICAgaSA9IHsKICAgIFdlYmtpdFRyYW5zaXRpb25Qcm9wZXJ0eTogIndlYmtpdFRyYW5zaXRpb25FbmQiLAogICAgTW96VHJhbnNpdGlvblByb3BlcnR5OiAidHJhbnNpdGlvbmVuZCIsCiAgICBPVHJhbnNpdGlvblByb3BlcnR5OiAib3RyYW5zaXRpb25lbmQiLAogICAgdHJhbnNpdGlvblByb3BlcnR5OiAidHJhbnNpdGlvbmVuZCIKICB9W25dLAogICAgICBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgd2luZG93LnRyaWdnZXJUcmFuc2l0aW9uID0gZTsKfSgpLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIHQoKSwgTy5lYWNoKG4pLCBNLmZpbmQoIi5wb3dlcnMtZHJhZy1oYW5kbGUiKS5lYWNoKG4pLCBNLmVhY2goZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSAkKHQpLmZpbmQoIi5ib3gtdGl0bGUiKS5jbG9uZSgpOwogICAgICBuLmFkZENsYXNzKCJib3gtdGl0bGUtLXJlc2l6ZXIiKSwgTy5lcShlKS5hcHBlbmQobik7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHQoKSB7CiAgICBDID0gTy53aWR0aCgpLCB5ID0gTy5vdXRlckhlaWdodCgpLCB3ID0gRi5vdXRlckhlaWdodCgpOwogIH0KCiAgZnVuY3Rpb24gbihlLCB0KSB7CiAgICB2YXIgbiA9IG5ldyBCYXJEcmFnZ2VyKHQpOwogICAgbi5pbmRleCA9IGUsIG4ub24oImRvdWJsZUNsaWNrIiwgciksIGUgPiAwICYmIChuLm9uKCJkcmFnU3RhcnQiLCBzKSwgbi5vbigiZHJhZ01vdmUiLCBpKSwgbi5vbigiZHJhZ0VuZCIsIG8pKTsKICB9CgogIGZ1bmN0aW9uIHMoKSB7CiAgICBsKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gaShlLCB0LCBuKSB7CiAgICBwKHRoaXMsIG4pOwogIH0KCiAgZnVuY3Rpb24gbygpIHsKICAgIGYodGhpcyk7CiAgfQoKICBmdW5jdGlvbiByKCkgewogICAgXyh0aGlzKTsKICB9CgogIGZ1bmN0aW9uIGEoKSB7CiAgICBIdWIuc3ViKCJ1aS1jaGFuZ2UiLCBjKTsKICB9CgogIGZ1bmN0aW9uIGMoZSwgdCkgewogICAgdC51aSAmJiAodC51aS5lZGl0b3JTaXplcyAmJiB1KGUsIHQpLCB0LnVpLmxheW91dCAmJiBkKCkpOwogIH0KCiAgZnVuY3Rpb24gdShlLCB0KSB7CiAgICBDUC5Db2RlRWRpdG9yc1Jlc2l6ZVZpZXcuc2V0RWRpdG9yU2l6ZXModC51aS5lZGl0b3JTaXplcywgITApLCBiKCksIEh1Yi5wdWIoImVkaXRvci1yZWZyZXNoIiwgewogICAgICBkZWxheTogMTAKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gZCgpIHsKICAgIE0ud2lkdGgoIiIpLmhlaWdodCgiIiksIEEud2lkdGgoIiIpLmhlaWdodCgiIiksIHQoKSwgQ1AuQ29kZUVkaXRvcnNSZXNpemVWaWV3LnNldEVkaXRvclNpemVzKENQLnVpLmVkaXRvclNpemVzLCAhMSk7CiAgfQoKICBmdW5jdGlvbiBsKGUpIHsKICAgIENQLmNvZGVFZGl0b3JSZXNpemVDb250cm9sbGVyLmV2ZW50cyAmJiBDUC5jb2RlRWRpdG9yUmVzaXplQ29udHJvbGxlci5ldmVudHMuX2NhbkRyaXZlICYmICFUICYmIChQID0gdi5nZXRFZGl0b3JQb3NpdGlvbnMoKSwgUyA9IFBbZS5pbmRleF0sIFQgPSBlLCBoKCkpOwogIH0KCiAgZnVuY3Rpb24gaCgpIHsKICAgIHggPSAidG9wIiA9PT0gQ1AudWkubGF5b3V0ID8gQS5pbm5lcldpZHRoKCkgLSBDICogSCA6IEEuaW5uZXJIZWlnaHQoKSAtICh5ICsgdykgKiBIOwogIH0KCiAgZnVuY3Rpb24gcChlLCB0KSB7CiAgICBpZiAoQ1AuY29kZUVkaXRvclJlc2l6ZUNvbnRyb2xsZXIuZXZlbnRzLl9jYW5Ecml2ZSAmJiBlID09PSBUKSB7CiAgICAgIHZhciBuID0gInRvcCIgPT09IENQLnVpLmxheW91dCA/ICJ4IiA6ICJ5IiwKICAgICAgICAgIHMgPSBTICsgdFtuXSAvIHg7CiAgICAgIHMgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBzKSksIFBbZS5pbmRleF0gPSBzLCBQLmZvckVhY2goZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgICBuIDwgZS5pbmRleCA/IFBbbl0gPSBNYXRoLm1pbih0LCBzKSA6IG4gPiBlLmluZGV4ICYmIChQW25dID0gTWF0aC5tYXgodCwgcykpOwogICAgICB9KTsKICAgICAgdmFyIGkgPSB7fTsKICAgICAgUC5mb3JFYWNoKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4gPSBQW3QgKyAxXSwKICAgICAgICAgICAgcyA9IChuID0gbiA9PT0gdW5kZWZpbmVkID8gMSA6IG4pIC0gZSwKICAgICAgICAgICAgbyA9IHYuVE9QX1RZUEVTW3RdOwogICAgICAgIGlbb10gPSBzOwogICAgICB9KSwgRSA9IGksIENQLkNvZGVFZGl0b3JzUmVzaXplVmlldy5zZXRFZGl0b3JTaXplcyhpLCAhMSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBmKGUpIHsKICAgIENQLmNvZGVFZGl0b3JSZXNpemVDb250cm9sbGVyLmV2ZW50cy5fY2FuRHJpdmUgJiYgZSA9PT0gVCAmJiAoSHViLnB1YigiZWRpdG9yLXNpemVzLWNoYW5nZSIsIEUpLCBIdWIucHViKCJlZGl0b3ItcmVmcmVzaCIsIHsKICAgICAgZGVsYXk6IDAKICAgIH0pLCBUID0gbnVsbCwgRSA9IG51bGwpOwogIH0KCiAgZnVuY3Rpb24gXyhlKSB7CiAgICB2YXIgdCA9IHYuVE9QX1RZUEVTW2UuaW5kZXhdOwogICAgMSA9PT0gQ1AudWkuZWRpdG9yU2l6ZXNbdF0gPyBIdWIucHViKCJlZGl0b3ItcmVzZXQtc2l6ZXMiKSA6IEh1Yi5wdWIoImVkaXRvci1leHBhbmQiLCB0KTsKICB9CgogIGZ1bmN0aW9uIGcoZSwgdCkgewogICAgdmFyIG4gPSBBLmlubmVyV2lkdGgoKTsKICAgIGUuZWRpdG9yICYmIEEuaGVpZ2h0KGUuZWRpdG9yICogKGsuaGVpZ2h0KCkgLSBELmhlaWdodCgpKSk7CiAgICB2YXIgcyA9IDEgLSBDICogSCAvIG47CiAgICB2LlRPUF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uIChpLCBvKSB7CiAgICAgIHZhciByID0gZVtpXSwKICAgICAgICAgIGEgPSBNW29dLAogICAgICAgICAgYyA9IHsKICAgICAgICB3aWR0aDogMTAwICogKHIgKj0gcykgKyAiJSIKICAgICAgfTsKICAgICAgdCA/IHRyaWdnZXJUcmFuc2l0aW9uKGEsIGMpIDogJChhKS5jc3MoYyk7CiAgICAgIHZhciB1ID0gT1tvXSwKICAgICAgICAgIGQgPSByICogbiA8IDE1MDsKICAgICAgJCh1KVtkID8gImFkZENsYXNzIiA6ICJyZW1vdmVDbGFzcyJdKCJpcy1ob3Jpei1za2lubnkiKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbShlLCB0KSB7CiAgICB2YXIgbiA9IHkgKyB3OwogICAgZS5lZGl0b3IgJiYgQS53aWR0aChlLmVkaXRvciAqIHdpbmRvdy5pbm5lcldpZHRoKSwgdi5UT1BfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAocywgaSkgewogICAgICB2YXIgbyA9IGVbc10sCiAgICAgICAgICByID0gTVtpXSwKICAgICAgICAgIGEgPSB7CiAgICAgICAgaGVpZ2h0OiAiY2FsYygoMTAwJSAtICgzICogIiArIG4gKyAicHgpKSAqICIgKyBvICsgIiArICIgKyB3ICsgInB4KSIKICAgICAgfTsKICAgICAgdCA/IHRyaWdnZXJUcmFuc2l0aW9uKHIsIGEpIDogJChyKS5jc3MoYSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGIoKSB7CiAgICB2YXIgZSA9IHYuVE9QX1RZUEVTLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gQ1AudWkuZWRpdG9yU2l6ZXNbZV0gPiAwID8gIjEiIDogIjAiOwogICAgfSk7CiAgICBlID0gZS5qb2luKCIiKTsKICAgIHZhciB0ID0gSVtDUC51aS5lZGl0b3JTaXplcy5jb25zb2xlXTsKICAgIHQgPT09IHVuZGVmaW5lZCAmJiAodCA9ICIxIiksIGUgKz0gdDsKICAgIHZhciBuID0gd2luZG93LmxvY2F0aW9uLAogICAgICAgIHMgPSBuLnByb3RvY29sICsgIi8vIiArIG4uaG9zdCArIG4ucGF0aG5hbWUgKyAoIjExMTAiID09PSBlID8gIiIgOiAiP2VkaXRvcnM9IiArIGUpOwogICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoIiIsICIiLCBzKTsKICB9CgogIENQLkNvZGVFZGl0b3JzUmVzaXplVmlldyA9IHt9OwogIHZhciB2LAogICAgICBDLAogICAgICB5LAogICAgICB3LAogICAgICBQLAogICAgICBTLAogICAgICBULAogICAgICBFLAogICAgICB4LAogICAgICBBID0gJCgiLnRvcC1ib3hlcyIpLAogICAgICBrID0gJCgiLnBhZ2Utd3JhcCIpLAogICAgICBNID0gQS5maW5kKCIuYm94IiksCiAgICAgIE8gPSAkKCIuZWRpdG9yLXJlc2l6ZXIiKSwKICAgICAgRCA9ICQoIiNyZXNpemVyIiksCiAgICAgIEYgPSAkKCIuYm94IC5wb3dlcnMiKSwKICAgICAgSCA9IE0ubGVuZ3RoOwogIENQLkNvZGVFZGl0b3JzUmVzaXplVmlldy5pbml0ID0gZnVuY3Rpb24gKHQpIHsKICAgIHYgPSB0LCBlKCk7CiAgICB2YXIgbiA9IENQLkNvZGVFZGl0b3JzU2l6ZVN0b3JhZ2UuZ2V0RWRpdG9yU2l6ZXMoKTsKICAgIG4gJiYgKENQLnVpLmVkaXRvclNpemVzID0gSlNPTi5wYXJzZShuKSksIENQLkNvZGVFZGl0b3JzUmVzaXplVmlldy5zZXRFZGl0b3JTaXplcyhDUC51aS5lZGl0b3JTaXplcywgITEpLCBhKCk7CiAgfSwgQ1AuQ29kZUVkaXRvcnNSZXNpemVWaWV3LnNldEVkaXRvclNpemVzID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICJ0b3AiID09PSBDUC51aS5sYXlvdXQgPyBnKGUsIHQpIDogbShlLCB0KTsKICB9OwogIHZhciBJID0gewogICAgY2xvc2VkOiAiMCIsCiAgICAxOiAiMiIKICB9OwoKICBDUC5Db2RlRWRpdG9yc1Jlc2l6ZVZpZXcub25XaW5kb3dSZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAidG9wIiA9PT0gQ1AudWkubGF5b3V0ICYmIENQLkNvZGVFZGl0b3JzUmVzaXplVmlldy5zZXRFZGl0b3JTaXplcyhDUC51aS5lZGl0b3JTaXplcywgITEpOwogIH07Cn0oKSwgQ1AuQ29kZUVkaXRvcnNTaXplU3RvcmFnZSA9IHsKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgSHViLnN1Yigic2F2ZS1lZGl0b3Itc2l6ZXMiLCB0aGlzLnNhdmVFZGl0b3JTaXplcyk7CiAgfSwKICBzYXZlRWRpdG9yU2l6ZXM6IGZ1bmN0aW9uIHNhdmVFZGl0b3JTaXplcyhlLCB0KSB7CiAgICBpZiAoX191c2VyICYmIF9faXRlbSAmJiAoMCAhPT0gX19pdGVtLmlkIHx8IHQpICYmIDEgIT09IF9fdXNlci5pZCAmJiBfX3VzZXIuaWQgPT09IF9faXRlbS51c2VyX2lkKSB7CiAgICAgIHZhciBuID0gdCB8fCBfX2l0ZW0uc2x1Z19oYXNoOwogICAgICBDUC51aS5lZGl0b3JTaXplcy50aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCksIENQTG9jYWxTdG9yYWdlLnNldEl0ZW0obiArICItZWRpdG9yIiwgSlNPTi5zdHJpbmdpZnkoQ1AudWkuZWRpdG9yU2l6ZXMpKTsKICAgIH0KICB9LAogIGdldEVkaXRvclNpemVzOiBmdW5jdGlvbiBnZXRFZGl0b3JTaXplcygpIHsKICAgIGlmIChfX2l0ZW0pIHJldHVybiBDUExvY2FsU3RvcmFnZS5nZXRJdGVtKF9faXRlbS5zbHVnX2hhc2ggKyAiLWVkaXRvciIpOwogIH0KfSwgQ1AuQ29kZUVkaXRvcnNTaXplU3RvcmFnZS5pbml0KCksCi8qIQogKiB0cmlnZ2VyVHJhbnNpdGlvbgogKiBDU1MgVHJhbnNpdGlvbiBoZWxwZXIuIFVzZSBpdCBsaWtlOgogKiB0cmlnZ2VyVHJhbnNpdGlvbihlbGVtLCB7IHdpZHRoOiAxMDBweH0sICcwLjhzJyApCiAqLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZShlLCByLCBhKSB7CiAgICB2YXIgYyA9ICExOwoKICAgIGZvciAodmFyIHUgaW4gcikgewogICAgICBpZiAoby5zdHlsZVt1XSA9IHJbdV0sICEoYyA9IGUuc3R5bGVbdV0gPT09IG8uc3R5bGVbdV0pKSBicmVhazsKICAgIH0KCiAgICBpZiAoIWMpIHsKICAgICAgdmFyIGQgPSBbXTsKCiAgICAgIGZvciAodSBpbiByKSB7CiAgICAgICAgZC5wdXNoKHUpOwogICAgICB9CgogICAgICBlLnN0eWxlW25dID0gZC5qb2luKCIiKSwgZS5zdHlsZVtzXSA9IGEgfHwgIjAuNHMiLCBlLmFkZEV2ZW50TGlzdGVuZXIoaSwgdCwgITEpOwogICAgICBlLm9mZnNldEhlaWdodDsKCiAgICAgIGZvciAodSBpbiByKSB7CiAgICAgICAgZS5zdHlsZVt1XSA9IHJbdV07CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHQoZSkgewogICAgZS50YXJnZXQuc3R5bGVbbl0gPSBudWxsLCBlLnRhcmdldC5zdHlsZVtzXSA9IG51bGwsIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoaSwgdCwgITEpOwogIH0KCiAgdmFyIG4gPSBnZXRTdHlsZVByb3BlcnR5KCJ0cmFuc2l0aW9uUHJvcGVydHkiKSwKICAgICAgcyA9IGdldFN0eWxlUHJvcGVydHkoInRyYW5zaXRpb25EdXJhdGlvbiIpLAogICAgICBpID0gewogICAgV2Via2l0VHJhbnNpdGlvblByb3BlcnR5OiAid2Via2l0VHJhbnNpdGlvbkVuZCIsCiAgICBNb3pUcmFuc2l0aW9uUHJvcGVydHk6ICJ0cmFuc2l0aW9uZW5kIiwKICAgIE9UcmFuc2l0aW9uUHJvcGVydHk6ICJvdHJhbnNpdGlvbmVuZCIsCiAgICB0cmFuc2l0aW9uUHJvcGVydHk6ICJ0cmFuc2l0aW9uZW5kIgogIH1bbl0sCiAgICAgIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB3aW5kb3cudHJpZ2dlclRyYW5zaXRpb24gPSBlOwp9KCksIHdpbmRvdy5Db2RlRWRpdG9yc1RpZHlDb250cm9sbGVyID0gQ2xhc3MuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgdGhpcy5tb2RlbCA9IG5ldyBDb2RlRWRpdG9yVGlkeU1vZGVsKCksIHRoaXMuZXZlbnRzID0gbmV3IENvZGVFZGl0b3JzVGlkeUV2ZW50cyh0aGlzKSwgdGhpcy52aWV3ID0gbmV3IENvZGVFZGl0b3JzVGlkeVZpZXcodGhpcy5tb2RlbCk7CiAgfSwKICBiZWF1dGlmeTogZnVuY3Rpb24gYmVhdXRpZnkoZSkgewogICAgdGhpcy5tb2RlbC5iZWF1dGlmeShlKTsKICB9LAogIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoZSwgdCkgewogICAgdGhpcy52aWV3LmRpc2FibGUoZSwgdCk7CiAgfQp9KSwgd2luZG93LkNvZGVFZGl0b3JzVGlkeUV2ZW50cyA9IENsYXNzLmV4dGVuZCh7CiAgJHRpZHlDb2RlQnV0dG9uczogJCgiLnRpZHktY29kZS1idXR0b24iKSwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMuY29udHJvbGxlciA9IGUsIHRoaXMuX2JpbmRUb0RPTSgpOwogIH0sCiAgX2JpbmRUb0RPTTogZnVuY3Rpb24gX2JpbmRUb0RPTSgpIHsKICAgIHRoaXMuJHRpZHlDb2RlQnV0dG9ucy5fb24oImNsaWNrIiwgdGhpcy5fb25UaWR5Q2xpY2ssIHRoaXMpOwogIH0sCiAgX29uVGlkeUNsaWNrOiBmdW5jdGlvbiBfb25UaWR5Q2xpY2soZSwgdCkgewogICAgdGhpcy5jb250cm9sbGVyLmJlYXV0aWZ5KHQuZGF0YSgidHlwZSIpKSwgSHViLnB1YigicG9wdXAtY2xvc2UiKTsKICB9Cn0pLCB3aW5kb3cuQ29kZUVkaXRvclRpZHlNb2RlbCA9IENsYXNzLmV4dGVuZCh7CiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHRoaXMuQkVBVVRJRllfTEFNQkRBX1VSTCA9ICJodHRwczovL2dtcXhlaGpvNTQuZXhlY3V0ZS1hcGkudXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vcHJvZHVjdGlvbi9iZWF1dGlmeSI7CiAgfSwKICBiZWF1dGlmeTogZnVuY3Rpb24gYmVhdXRpZnkoZSkgewogICAgdmFyIHQgPSBDUFtlICsgIkVkaXRvciJdLmVkaXRvci5nZXRTZWxlY3Rpb24oKSwKICAgICAgICBuID0gQ1AucGVuW2VdLAogICAgICAgIHMgPSAiIiAhPT0gdDsKICAgIHMgJiYgKG4gPSB0KSwgImpzIiA9PT0gZSAmJiAidHlwZXNjcmlwdCIgPT09IENQLnBlbi5qc19wcmVfcHJvY2Vzc29yICYmIChlID0gInR5cGVzY3JpcHQiKSwgImNzcyIgIT09IGUgfHwgInNjc3MiICE9PSBDUC5wZW4uY3NzX3ByZV9wcm9jZXNzb3IgJiYgImxlc3MiICE9PSBDUC5wZW4uY3NzX3ByZV9wcm9jZXNzb3IgfHwgKGUgPSBDUC5wZW4uY3NzX3ByZV9wcm9jZXNzb3IpLCAkLnBvc3QodGhpcy5CRUFVVElGWV9MQU1CREFfVVJMLCB7CiAgICAgIHR5cGU6IGUsCiAgICAgIGNvbnRlbnQ6IG4sCiAgICAgIHRhYlNpemU6IHRoaXMuX2dldEluZGVudFdpZHRoKCksCiAgICAgIGluZGVudFdpdGg6IHRoaXMuX2dldEluZGVudENoYXIoKQogICAgfSwgJC5wcm94eShmdW5jdGlvbiAodCkgewogICAgICB0aGlzLl9iZWF1dGlmeUxhbWJkYUNhbGxiYWNrKGUsIHMsIHQpOwogICAgfSwgdGhpcykpOwogIH0sCiAgX2JlYXV0aWZ5TGFtYmRhQ2FsbGJhY2s6IGZ1bmN0aW9uIF9iZWF1dGlmeUxhbWJkYUNhbGxiYWNrKGUsIHQsIG4pIHsKICAgICJ0eXBlc2NyaXB0IiA9PT0gZSAmJiAoZSA9ICJqcyIpLCAibGVzcyIgIT09IGUgJiYgInNjc3MiICE9PSBlIHx8IChlID0gImNzcyIpOwogICAgdmFyIHMgPSBDUFtlICsgIkVkaXRvciJdLmVkaXRvcjsKICAgIHQgPyAocy5yZXBsYWNlU2VsZWN0aW9uKG4sICJhcm91bmQiKSwgImpzIiA9PT0gZSAmJiBzLmV4ZWNDb21tYW5kKCJpbmRlbnRBdXRvIikpIDogcy5zZXRWYWx1ZShuKTsKICB9LAogIF9nZXRJbmRlbnRXaWR0aDogZnVuY3Rpb24gX2dldEluZGVudFdpZHRoKCkgewogICAgcmV0dXJuICJ0YWJzIiA9PT0gQ1AucGVuLmVkaXRvcl9zZXR0aW5ncy5pbmRlbnRfd2l0aCA/IDEgOiBwYXJzZUludChDUC5wZW4uZWRpdG9yX3NldHRpbmdzLnRhYl9zaXplLCAxMCk7CiAgfSwKICBfZ2V0SW5kZW50Q2hhcjogZnVuY3Rpb24gX2dldEluZGVudENoYXIoKSB7CiAgICByZXR1cm4gInRhYnMiID09PSBDUC5wZW4uZWRpdG9yX3NldHRpbmdzLmluZGVudF93aXRoID8gIlx0IiA6ICIgIjsKICB9Cn0pLCB3aW5kb3cuQ29kZUVkaXRvcnNUaWR5VmlldyA9IENsYXNzLmV4dGVuZCh7CiAgJGh0bWxUaWR5QnV0dG9uOiAkKCIjaHRtbC10aWR5LWNvZGUtYnV0dG9uIiksCiAgJGNzc1RpZHlCdXR0b246ICQoIiNjc3MtdGlkeS1jb2RlLWJ1dHRvbiIpLAogICRqc1RpZHlCdXR0b246ICQoIiNqcy10aWR5LWNvZGUtYnV0dG9uIiksCiAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICB0aGlzLmRhdGEgPSBlLCBfLmV4dGVuZCh0aGlzLCBFbmFibGVEaXNhYmxlRHJpdmVyKSwgdGhpcy5iaW5kVG9FbmFibGVEaXNhYmxlSHViRXZlbnRzKCksIHRoaXMuX2JpbmRUb0h1YigpLCB0aGlzLl9zeW5jU3RhdGVPZlRpZHlCdXR0b25zKENQLnBlbik7CiAgfSwKICBfYmluZFRvSHViOiBmdW5jdGlvbiBfYmluZFRvSHViKCkgewogICAgdmFyIGUgPSB0aGlzOwogICAgSHViLnN1YigicGVuLWNoYW5nZSIsIGZ1bmN0aW9uICh0LCBuKSB7CiAgICAgIGUuX3N5bmNTdGF0ZU9mVGlkeUJ1dHRvbnMobi5wZW4pOwogICAgfSk7CiAgfSwKICBfc3luY1N0YXRlT2ZUaWR5QnV0dG9uczogZnVuY3Rpb24gX3N5bmNTdGF0ZU9mVGlkeUJ1dHRvbnMoZSkgewogICAgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZShlLCAiaHRtbF9wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5faGlkZVNob3dUaWR5QnV0dG9uKGUuaHRtbF9wcmVfcHJvY2Vzc29yLCBbIm5vbmUiXSwgdGhpcy4kaHRtbFRpZHlCdXR0b24pLCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKGUsICJjc3NfcHJlX3Byb2Nlc3NvciIpICYmIHRoaXMuX2hpZGVTaG93VGlkeUJ1dHRvbihlLmNzc19wcmVfcHJvY2Vzc29yLCBbIm5vbmUiLCAic2NzcyIsICJsZXNzIiwgInBvc3Rjc3MiXSwgdGhpcy4kY3NzVGlkeUJ1dHRvbiksIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUoZSwgImpzX3ByZV9wcm9jZXNzb3IiKSAmJiB0aGlzLl9oaWRlU2hvd1RpZHlCdXR0b24oZS5qc19wcmVfcHJvY2Vzc29yLCBbIm5vbmUiLCAiYmFiZWwiLCAidHlwZXNjcmlwdCJdLCB0aGlzLiRqc1RpZHlCdXR0b24pOwogIH0sCiAgX2hpZGVTaG93VGlkeUJ1dHRvbjogZnVuY3Rpb24gX2hpZGVTaG93VGlkeUJ1dHRvbihlLCB0LCBuKSB7CiAgICBfLmluY2x1ZGUodCwgZSkgPyBuLnJlbW92ZUNsYXNzKCJoaWRlIikgOiBuLmFkZENsYXNzKCJoaWRlIik7CiAgfSwKICBfZ2V0QWxsVUlFbGVtZW50czogZnVuY3Rpb24gX2dldEFsbFVJRWxlbWVudHMoKSB7CiAgICByZXR1cm4gW3RoaXMuJGh0bWxUaWR5QnV0dG9uLCB0aGlzLiRjc3NUaWR5QnV0dG9uLCB0aGlzLiRqc1RpZHlCdXR0b25dOwogIH0sCiAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZShlLCB0KSB7CiAgICB2YXIgbjsKCiAgICBzd2l0Y2ggKGUpIHsKICAgICAgY2FzZSAiY3NzIjoKICAgICAgICBuID0gdGhpcy4kY3NzVGlkeUJ1dHRvbjsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgImh0bWwiOgogICAgICAgIG4gPSB0aGlzLiRodG1sVGlkeUJ1dHRvbjsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgImpzIjoKICAgICAgICBuID0gdGhpcy4kanNUaWR5QnV0dG9uOwogICAgfQoKICAgIHQgPyBuLmFkZENsYXNzKCJkaXNhYmxlZCIpIDogbi5yZW1vdmVDbGFzcygiZGlzYWJsZWQiKTsKICB9Cn0pLCB3aW5kb3cuVHJhbnNpdGlvbnNVdGlsID0gQ2xhc3MuZXh0ZW5kKHsKICBfdHJhbnNpdGlvbkVsOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmYWtlZWxlbWVudCIpLAogIF90cmFuc2l0aW9uczogewogICAgdHJhbnNpdGlvbjogInRyYW5zaXRpb25lbmQiLAogICAgT1RyYW5zaXRpb246ICJvVHJhbnNpdGlvbkVuZCIsCiAgICBNb3pUcmFuc2l0aW9uOiAidHJhbnNpdGlvbmVuZCIsCiAgICBXZWJraXRUcmFuc2l0aW9uOiAid2Via2l0VHJhbnNpdGlvbkVuZCIKICB9LAogIGdldEJyb3dzZXJUcmFuc2l0aW9uRXZlbnROYW1lOiBmdW5jdGlvbiBnZXRCcm93c2VyVHJhbnNpdGlvbkV2ZW50TmFtZSgpIHsKICAgIGZvciAodmFyIGUgaW4gdGhpcy5fdHJhbnNpdGlvbnMpIHsKICAgICAgaWYgKHRoaXMuX3RyYW5zaXRpb25FbC5zdHlsZVtlXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fdHJhbnNpdGlvbnNbZV07CiAgICB9CiAgfQp9KSwgd2luZG93LkNvZGVFZGl0b3JzQ1NTVHJhbnNpdGlvbkhhbmRsZXIgPSBDbGFzcy5leHRlbmQoewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLl9iaW5kVG9ET00oKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICB2YXIgZSA9IF8udGhyb3R0bGUoZnVuY3Rpb24gKCkgewogICAgICBIdWIucHViKCJlZGl0b3ItcmVmcmVzaCIsIHsKICAgICAgICBkZWxheTogMTAKICAgICAgfSk7CiAgICB9LCAzMDApOwoKICAgICQoIiNib3gtaHRtbCwgI2JveC1jc3MgI2JveC1qcyIpLm9uKHRoaXMuX2dldEJyb3dzZXJUcmFuc2l0aW9uRXZlbnROYW1lKCksIGUpOwogIH0sCiAgX2dldEJyb3dzZXJUcmFuc2l0aW9uRXZlbnROYW1lOiBmdW5jdGlvbiBfZ2V0QnJvd3NlclRyYW5zaXRpb25FdmVudE5hbWUoKSB7CiAgICByZXR1cm4gbmV3IFRyYW5zaXRpb25zVXRpbCgpLmdldEJyb3dzZXJUcmFuc2l0aW9uRXZlbnROYW1lKCk7CiAgfQp9KSwgd2luZG93LkNvZGVFZGl0b3JzVXRpbCA9IHsKICBnZXRFZGl0b3JCeVR5cGU6IGZ1bmN0aW9uIGdldEVkaXRvckJ5VHlwZShlKSB7CiAgICByZXR1cm4gImh0bWwiID09PSBlID8gQ1AuaHRtbEVkaXRvciA6ICJjc3MiID09PSBlID8gQ1AuY3NzRWRpdG9yIDogQ1AuanNFZGl0b3I7CiAgfSwKICBnZXRRdWVyeVN0cmluZzogZnVuY3Rpb24gZ2V0UXVlcnlTdHJpbmcoZSkgewogICAgdmFyIHQgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoOwogICAgaWYgKHQpIGZvciAodmFyIG4gPSB0LnN1YnN0cmluZygxKS5zcGxpdCgiJiIpLCBzID0gMCwgaSA9IG4ubGVuZ3RoOyBzIDwgaTsgcysrKSB7CiAgICAgIHZhciBvID0gbltzXS5zcGxpdCgiPSIpOwogICAgICBpZiAob1swXSA9PT0gZSkgcmV0dXJuIG9bMV07CiAgICB9CiAgfQp9LCB3aW5kb3cuQ29kZUVkaXRvcnNWaWV3U291cmNlQ29udHJvbGxlciA9IENsYXNzLmV4dGVuZCh7CiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHRoaXMubW9kZWwgPSBuZXcgQ29kZUVkaXRvcnNWaWV3U291cmNlTW9kZWwoKSwgdGhpcy5ldmVudHMgPSBuZXcgQ29kZUVkaXRvcnNWaWV3U291cmNlRXZlbnRzKHRoaXMpLCB0aGlzLnZpZXcgPSBuZXcgQ29kZUVkaXRvcnNWaWV3U291cmNlVmlldygpOwogIH0sCiAgdG9nZ2xlVmlld1NvdXJjZTogZnVuY3Rpb24gdG9nZ2xlVmlld1NvdXJjZShlKSB7CiAgICB0aGlzLm1vZGVsLnRvZ2dsZVZpZXdTb3VyY2UoZSk7CiAgfSwKICBzZXRWaWV3U291cmNlVG9GYWxzZTogZnVuY3Rpb24gc2V0Vmlld1NvdXJjZVRvRmFsc2UoZSkgewogICAgdGhpcy5tb2RlbC5zZXRWaWV3U291cmNlVG9GYWxzZShlKTsKICB9LAogIHN5bmNXaXRoU2VydmVyOiBmdW5jdGlvbiBzeW5jV2l0aFNlcnZlcihlKSB7CiAgICB0aGlzLm1vZGVsLnN5bmNXaXRoU2VydmVyKGUpOwogIH0KfSksIHdpbmRvdy5Db2RlRWRpdG9yc1ZpZXdTb3VyY2VFdmVudHMgPSBDbGFzcy5leHRlbmQoewogIF9jYW5Ecml2ZTogITAsCiAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICB0aGlzLmNvbnRyb2xsZXIgPSBlLCB0aGlzLl9iaW5kVG9ET00oKSwgdGhpcy5fYmluZFRvSHViKCk7CiAgfSwKICBfYmluZFRvRE9NOiBmdW5jdGlvbiBfYmluZFRvRE9NKCkgewogICAgJCgiLnZpZXctY29tcGlsZWQtYnV0dG9uIikuX29uKCJjbGljayIsIHRoaXMuX3RvZ2dsZVZpZXdTb3VyY2UsIHRoaXMpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInVpLWRpc2FibGUiLCAkLnByb3h5KHRoaXMuX2Rpc2FibGVVc2VyRnJvbURyaXZpbmcsIHRoaXMpKSwgSHViLnN1YigidWktZW5hYmxlIiwgJC5wcm94eSh0aGlzLl9lbmFibGVVc2VyVG9Ecml2ZSwgdGhpcykpLCBIdWIuc3ViKCJwZW4tY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblBlbkNoYW5nZSwgdGhpcykpLCBIdWIuc3ViKCJzZXJ2ZXItdWktY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblNlcnZlclVJQ2hhbmdlLCB0aGlzKSksIEh1Yi5zdWIoImxpdmVfY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9wZW5Qcm9jZXNzZWQsIHRoaXMpKTsKICB9LAogIF9kaXNhYmxlVXNlckZyb21Ecml2aW5nOiBmdW5jdGlvbiBfZGlzYWJsZVVzZXJGcm9tRHJpdmluZygpIHsKICAgIHRoaXMuX2NhbkRyaXZlID0gITE7CiAgfSwKICBfZW5hYmxlVXNlclRvRHJpdmU6IGZ1bmN0aW9uIF9lbmFibGVVc2VyVG9Ecml2ZSgpIHsKICAgIHRoaXMuX2NhbkRyaXZlID0gITA7CiAgfSwKICBfb25TZXJ2ZXJVSUNoYW5nZTogZnVuY3Rpb24gX29uU2VydmVyVUlDaGFuZ2UoZSwgdCkgewogICAgImVkaXRvclZpZXdTb3VyY2UiIGluIHQudWkgJiYgdGhpcy5jb250cm9sbGVyLnN5bmNXaXRoU2VydmVyKHQpOwogIH0sCiAgX3RvZ2dsZVZpZXdTb3VyY2U6IGZ1bmN0aW9uIF90b2dnbGVWaWV3U291cmNlKGUsIHQpIHsKICAgIHRoaXMuX2NhbkRyaXZlICYmIHRoaXMuY29udHJvbGxlci50b2dnbGVWaWV3U291cmNlKHsKICAgICAgdHlwZTogdGhpcy5fZ2V0VHlwZSh0KQogICAgfSk7CiAgfSwKICBfZ2V0VHlwZTogZnVuY3Rpb24gX2dldFR5cGUoZSkgewogICAgcmV0dXJuICQoZSkuZGF0YSgidHlwZSIpLnRvTG93ZXJDYXNlKCk7CiAgfSwKICBfb25QZW5DaGFuZ2U6IGZ1bmN0aW9uIF9vblBlbkNoYW5nZShlLCB0KSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJwZW4uaHRtbF9wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5jb250cm9sbGVyLnNldFZpZXdTb3VyY2VUb0ZhbHNlKHsKICAgICAgdHlwZTogImh0bWwiCiAgICB9KSwgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZSh0LCAicGVuLmNzc19wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5jb250cm9sbGVyLnNldFZpZXdTb3VyY2VUb0ZhbHNlKHsKICAgICAgdHlwZTogImNzcyIKICAgIH0pLCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJwZW4uanNfcHJlX3Byb2Nlc3NvciIpICYmIHRoaXMuY29udHJvbGxlci5zZXRWaWV3U291cmNlVG9GYWxzZSh7CiAgICAgIHR5cGU6ICJqcyIKICAgIH0pOwogIH0sCiAgX3BlblByb2Nlc3NlZDogZnVuY3Rpb24gX3BlblByb2Nlc3NlZCgpIHsKICAgIGZvciAodmFyIGUgPSBbImh0bWwiLCAiY3NzIiwgImpzIl0sIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykgewogICAgICB2YXIgbiA9IGVbdF07CiAgICAgIENQLnVpLmVkaXRvclZpZXdTb3VyY2Vbbl0gJiYgKHRoaXMuY29udHJvbGxlci50b2dnbGVWaWV3U291cmNlKHsKICAgICAgICB0eXBlOiBuCiAgICAgIH0pLCB0aGlzLmNvbnRyb2xsZXIudG9nZ2xlVmlld1NvdXJjZSh7CiAgICAgICAgdHlwZTogbgogICAgICB9KSk7CiAgICB9CiAgfQp9KSwgd2luZG93LkNvZGVFZGl0b3JzVmlld1NvdXJjZU1vZGVsID0gQ2xhc3MuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KCkge30sCiAgdG9nZ2xlVmlld1NvdXJjZTogZnVuY3Rpb24gdG9nZ2xlVmlld1NvdXJjZShlKSB7CiAgICB2YXIgdCA9ICF0aGlzLl9nZXRTb3VyY2UoZS50eXBlKTsKICAgIHRoaXMuX3NldFNvdXJjZShlLnR5cGUsIHQpLCB0aGlzLl9wdWJsaXNoQ2hhbmdlRXZlbnQoZSk7CiAgfSwKICBzZXRWaWV3U291cmNlVG9GYWxzZTogZnVuY3Rpb24gc2V0Vmlld1NvdXJjZVRvRmFsc2UoZSkgewogICAgdGhpcy5fc2V0U291cmNlKGUudHlwZSwgITEpLCB0aGlzLl9wdWJsaXNoQ2hhbmdlRXZlbnQoZSk7CiAgfSwKICBfZ2V0U291cmNlOiBmdW5jdGlvbiBfZ2V0U291cmNlKGUpIHsKICAgIHJldHVybiBDUC51aS5lZGl0b3JWaWV3U291cmNlW2VdOwogIH0sCiAgX3NldFNvdXJjZTogZnVuY3Rpb24gX3NldFNvdXJjZShlLCB0KSB7CiAgICBDUC51aS5lZGl0b3JWaWV3U291cmNlW2VdID0gdDsKICB9LAogIHN5bmNXaXRoU2VydmVyOiBmdW5jdGlvbiBzeW5jV2l0aFNlcnZlcihlKSB7CiAgICBmb3IgKHZhciB0IGluIGUudWkuZWRpdG9yVmlld1NvdXJjZSkgewogICAgICBDUC51aS5lZGl0b3JWaWV3U291cmNlW3RdID0gZS51aS5lZGl0b3JWaWV3U291cmNlW3RdLCB0aGlzLl9wdWJsaXNoQ2hhbmdlRXZlbnQoewogICAgICAgIHR5cGU6IHQKICAgICAgfSk7CiAgICB9CiAgfSwKICBfcHVibGlzaENoYW5nZUV2ZW50OiBmdW5jdGlvbiBfcHVibGlzaENoYW5nZUV2ZW50KGUpIHsKICAgIHZhciB0ID0gewogICAgICB1aTogewogICAgICAgIGVkaXRvclZpZXdTb3VyY2U6IHt9CiAgICAgIH0KICAgIH07CiAgICB0LnVpLmVkaXRvclZpZXdTb3VyY2VbZS50eXBlXSA9IHRoaXMuX2dldFNvdXJjZShlLnR5cGUpLCBIdWIucHViKCJ1aS1jaGFuZ2UiLCB0KTsKICB9Cn0pOwp2YXIgVklFV19DT01QSUxFRF9QUkVGSVggPSAiLnZpZXctY29tcGlsZWQtYnV0dG9uW2RhdGEtdHlwZT0nIjsKd2luZG93LkNvZGVFZGl0b3JzVmlld1NvdXJjZVZpZXcgPSBDbGFzcy5leHRlbmQoewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLl9iaW5kVG9IdWIoKSwgXy5leHRlbmQodGhpcywgRW5hYmxlRGlzYWJsZURyaXZlciksIHRoaXMuYmluZFRvRW5hYmxlRGlzYWJsZUh1YkV2ZW50cygpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInVpLWNoYW5nZSIsICQucHJveHkodGhpcy5fb25VSUNoYW5nZSwgdGhpcykpOwogIH0sCiAgX29uVUlDaGFuZ2U6IGZ1bmN0aW9uIF9vblVJQ2hhbmdlKGUsIHQpIHsKICAgIGlmICh0LnVpICYmIHQudWkuZWRpdG9yVmlld1NvdXJjZSkgZm9yICh2YXIgbiBpbiB0LnVpLmVkaXRvclZpZXdTb3VyY2UpIHsKICAgICAgdGhpcy5fdG9nZ2xlVmlld1NvdXJjZShuLCB0LnVpLmVkaXRvclZpZXdTb3VyY2Vbbl0sIHQpOwogICAgfQogIH0sCiAgX3RvZ2dsZVZpZXdTb3VyY2U6IGZ1bmN0aW9uIF90b2dnbGVWaWV3U291cmNlKGUsIHQpIHsKICAgIHZhciBuID0gQ29kZUVkaXRvcnNVdGlsLmdldEVkaXRvckJ5VHlwZShlKTsKCiAgICBpZiAodCkgewogICAgICBuLnNob3dTb3VyY2UoKTsKICAgICAgdmFyIHMgPSAkKFZJRVdfQ09NUElMRURfUFJFRklYICsgZSArICInXSIpLmNsb3Nlc3QoIi5ib3giKS5kYXRhKCJwcmVwcm9jZXNzb3IiKTsKICAgICAgJChWSUVXX0NPTVBJTEVEX1BSRUZJWCArIGUgKyAiJ10iKS50ZXh0KCJWaWV3IFVuY29tcGlsZWQgIiArICgiTm9uZSIgIT09IHMgPyBzIDogIiIpKSwgJChWSUVXX0NPTVBJTEVEX1BSRUZJWCArIGUgKyAiJ10iKS5hZGRDbGFzcygiYWN0aXZlIiksIENQLmNvZGVFZGl0b3JUaWR5Q29udHJvbGxlci5kaXNhYmxlKGUsICEwKTsKICAgIH0gZWxzZSAkKFZJRVdfQ09NUElMRURfUFJFRklYICsgZSArICInXSIpLnRleHQoIlZpZXcgQ29tcGlsZWQgIiArIGUudG9VcHBlckNhc2UoKSksIG4uc2hvd09yaWdpbmFsQ29kZSgpLCAkKFZJRVdfQ09NUElMRURfUFJFRklYICsgZSArICInXSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSwgQ1AuY29kZUVkaXRvclRpZHlDb250cm9sbGVyLmRpc2FibGUoZSwgITEpOwogIH0sCiAgX2dldEFsbFVJRWxlbWVudHM6IGZ1bmN0aW9uIF9nZXRBbGxVSUVsZW1lbnRzKCkgewogICAgcmV0dXJuIFskKCIudmlldy1jb21waWxlZC1idXR0b24iKV07CiAgfQp9KSwgd2luZG93LlByb2ZpbGVkID0gQ2xhc3MuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgXy5leHRlbmQodGhpcywgX19wcm9maWxlZCk7CiAgfSwKICBpc1VzZXJQcm9maWxlZDogZnVuY3Rpb24gaXNVc2VyUHJvZmlsZWQoZSkgewogICAgcmV0dXJuICF0aGlzLmlzX3RlYW0gJiYgZS51c2VybmFtZSA9PT0gdGhpcy51c2VybmFtZTsKICB9Cn0pLCB3aW5kb3cuVUkgPSB7CiAgYnVpbGREZWZhdWx0VUlEYXRhOiBmdW5jdGlvbiBidWlsZERlZmF1bHRVSURhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmZvOiAiY2xvc2VkIiwKICAgICAgbGF5b3V0OiB3aW5kb3cuX19sYXlvdXRUeXBlIHx8ICJ0b3AiLAogICAgICBlZGl0b3JWaWV3U291cmNlOiB7CiAgICAgICAgaHRtbDogITEsCiAgICAgICAgY3NzOiAhMSwKICAgICAgICBqczogITEKICAgICAgfSwKICAgICAgZWRpdG9yU2l6ZXM6IHsKICAgICAgICBodG1sOiAxIC8gMywKICAgICAgICBjc3M6IDEgLyAzLAogICAgICAgIGpzOiAxIC8gMywKICAgICAgICBjb25zb2xlOiAiY2xvc2VkIgogICAgICB9LAogICAgICBzZXR0aW5nczogewogICAgICAgIHBhbmU6ICJjbG9zZWQiLAogICAgICAgIHRhYjogImRldGFpbHMiLAogICAgICAgIGNzczogewogICAgICAgICAgYWRkb25zOiAiY2xvc2VkIgogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9Cn0sIHdpbmRvdy5QZW5Db25zdGFudHMgPSB7CiAgVFlQRVM6IFsiaHRtbCIsICJjc3MiLCAianMiXQp9LCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZShlLCBzKSB7CiAgICAkLmhpZGVNb2RhbCgpLCB0KGUpLCBuKHMpLCBDUC5wZW4uc2F2ZSgpOwogIH0KCiAgZnVuY3Rpb24gdChlKSB7CiAgICAkKCJtZXRhW25hbWU9J2NzcmYtdG9rZW4nXSIpLmF0dHIoImNvbnRlbnQiLCBlKTsKICB9CgogIGZ1bmN0aW9uIG4oZSkgewogICAgd2luZG93Ll9fdXNlciA9IGUsIENQLnVzZXIudXBkYXRlVXNlcihlKTsKICB9CgogIGZ1bmN0aW9uIHMoZSkgewogICAgcmV0dXJuICEhZS5vcmlnaW4ubWF0Y2god2luZG93Ll9fQ1BEQVRBLmhvc3QpICYmICJsb2dnZWQtaW50by1jb2RlcGVuIiA9PT0gZS5kYXRhLnR5cGU7CiAgfQoKICBmdW5jdGlvbiBpKCkgewogICAgJC5zaG93TW9kYWwoX2Z1bGxVUkwoIi9hY2NvdW50cy9hbm9uLyIpLCAibW9kYWwtc2lnbnVwIik7CiAgfQoKICBfb25NZXNzYWdlKGZ1bmN0aW9uICh0KSB7CiAgICBzKHQpICYmIGUodC5kYXRhLmNzcmYsIHQuZGF0YS51c2VyKTsKICB9KSwgd2luZG93LkNQLmxvZ2luSGFuZGxlciA9IHsKICAgIHNob3dBbm9ueW1vdXNVc2VyU2lnbnVwTW9kYWw6IGkKICB9Owp9KCksIHdpbmRvdy5QZW4gPSBDbGFzcy5leHRlbmQoewogIGlkOiAiIiwKICB0aXRsZTogIiIsCiAgZGVzY3JpcHRpb246ICIiLAogIHNsdWdfaGFzaDogIiIsCiAgaHRtbDogIiIsCiAgY3NzOiAiIiwKICBqczogIiIsCiAgcGFyZW50OiAwLAogICJwcml2YXRlIjogITEsCiAgdGVtcGxhdGU6ICExLAogIGh0bWxfcHJlX3Byb2Nlc3NvcjogIm5vbmUiLAogIGh0bWxfY2xhc3NlczogIiIsCiAgaGVhZDogIiIsCiAgY3NzX3ByZV9wcm9jZXNzb3I6ICJub25lIiwKICBjc3NfcHJlZml4OiAibmVpdGhlciIsCiAgY3NzX3N0YXJ0ZXI6ICJuZWl0aGVyIiwKICBqc19wcmVfcHJvY2Vzc29yOiAibm9uZSIsCiAgbnBtX3BhY2thZ2VzOiBbXSwKICBlZGl0b3Jfc2V0dGluZ3M6IHt9LAogIG5ld1RhZ3M6IFtdLAogIHJlc291cmNlczogW10sCiAgdGFnczogW10sCiAgc2F2ZV9kaXNhYmxlZDogITEsCiAgYXV0b3NhdmluZ05vdzogITEsCiAgbGFzdF91cGRhdGVkOiAiIiwKICB1cGRhdGVkX2F0OiAiIiwKICBlcnJvckNvZGU6ICIiLAogIHNhdmVBdHRlbXB0czogMCwKICBNQVhfU0FWRV9BVFRFTVBUUzogNCwKICBTQVZFX0FUVEVNUFRfVElNRU9VVDogMWU0LAogIGxhc3RTYXZlZFBlbjoge30sCiAgcmVkaXJlY3RpbmdUb1NhdmVkVVJMOiAhMSwKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgXy5leHRlbmQodGhpcywgQUpBWFV0aWwpLCBfLmV4dGVuZCh0aGlzLCBQZW5SZXNvdXJjZXNEYXRhKSwgXy5leHRlbmQodGhpcywgUGVuTnBtUGFja2FnZXMpLCB0aGlzLl9sb2FkU3RvcmVkRGF0YSgpLCB0aGlzLl9lbnN1cmVEYXRhSXNWYWxpZCgpOwogIH0sCiAgX2xvYWRTdG9yZWREYXRhOiBmdW5jdGlvbiBfbG9hZFN0b3JlZERhdGEoKSB7CiAgICBfLmV4dGVuZCh0aGlzLCBfX2l0ZW0sICEwKSwgdGhpcy5fZW5zdXJlUmVzb3VyY2VzVmFsaWQoKSwgdGhpcy5fbG9hZEFsbE5wbU1hbmlmZXN0cygpLCB0aGlzLmxhc3RTYXZlZFBlbiA9IHRoaXMuZ2V0U2F2ZWFibGVDb3B5T2ZQZW4oKTsKICB9LAogIF9lbnN1cmVEYXRhSXNWYWxpZDogZnVuY3Rpb24gX2Vuc3VyZURhdGFJc1ZhbGlkKCkgewogICAgdmFyIGUgPSBuZXcgUGVuVmFsaWRhdG9yKCk7CiAgICBlLm1ha2VQZW5WYWxpZCh0aGlzKSwgZS5tYWtlUGVuVmFsaWQodGhpcy5sYXN0U2F2ZWRQZW4pOwogIH0sCiAgc2V0SXRlbVZhbHVlOiBmdW5jdGlvbiBzZXRJdGVtVmFsdWUoZSkgewogICAgdmFyIHQgPSB0aGlzLl9jbG9uZU9iamVjdChlKTsKCiAgICBmb3IgKHZhciBuIGluIHQuaXRlbSAmJiAodC5wZW4gPSB0Lml0ZW0pLCB0LnBlbikgewogICAgICB0aGlzLl9zZXRWYWx1ZShuLCB0LnBlbltuXSk7CiAgICB9CgogICAgSHViLnB1YigicGVuLWNoYW5nZSIsIHRoaXMuX2Nsb25lT2JqZWN0KHQpKTsKICB9LAogIF9jbG9uZU9iamVjdDogZnVuY3Rpb24gX2Nsb25lT2JqZWN0KGUpIHsKICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKTsKICB9LAogIF9zZXRWYWx1ZTogZnVuY3Rpb24gX3NldFZhbHVlKGUsIHQpIHsKICAgIGlmIChfLmlzT2JqZWN0KHQpICYmICFfLmlzQXJyYXkodCkpIGZvciAodmFyIG4gaW4gdCkgewogICAgICB0aGlzW2VdW25dID0gdFtuXTsKICAgIH0gZWxzZSB0aGlzW2VdID0gdDsKCiAgICB0aGlzLl91cGRhdGVMYXN0VXBkYXRlZCgpOwogIH0sCiAgX3VwZGF0ZUxhc3RVcGRhdGVkOiBmdW5jdGlvbiBfdXBkYXRlTGFzdFVwZGF0ZWQoKSB7CiAgICB0aGlzLmxhc3RfdXBkYXRlZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogIH0sCiAgZ2V0TGFzdFVwZGF0ZWRBdDogZnVuY3Rpb24gZ2V0TGFzdFVwZGF0ZWRBdCgpIHsKICAgIHJldHVybiB0aGlzLmxhc3RfdXBkYXRlZCB8fCBuZXcgRGF0ZSh0aGlzLnVwZGF0ZWRfYXQpLmdldFRpbWUoKTsKICB9LAogIGdldEFjdGl2ZVNsdWdIYXNoOiBmdW5jdGlvbiBnZXRBY3RpdmVTbHVnSGFzaCgpIHsKICAgIHJldHVybiB0aGlzWyJwcml2YXRlIl0gPyB0aGlzLnNsdWdfaGFzaF9wcml2YXRlIDogdGhpcy5zbHVnX2hhc2g7CiAgfSwKICBnZXRUYWdzOiBmdW5jdGlvbiBnZXRUYWdzKCkgewogICAgcmV0dXJuIF8udW5pcShfLmNsb25lKHRoaXMudGFncykuY29uY2F0KF8uY2xvbmUodGhpcy5uZXdUYWdzKSkpOwogIH0sCiAgZ2V0QXR0cmlidXRlOiBmdW5jdGlvbiBnZXRBdHRyaWJ1dGUoZSkgewogICAgcmV0dXJuIHRoaXNbZV07CiAgfSwKICBuZXdQZW46IGZ1bmN0aW9uIG5ld1BlbigpIHsKICAgIHdpbmRvdy5sb2NhdGlvbiA9ICIvcGVuIjsKICB9LAogIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICB0aGlzLnNhdmVfZGlzYWJsZWQgfHwgKENQLnVzZXIuYW5vbiA/IHdpbmRvdy5DUC5sb2dpbkhhbmRsZXIuc2hvd0Fub255bW91c1VzZXJTaWdudXBNb2RhbCgpIDogdGhpcy5fY2FuU2F2ZSgpID8gdGhpcy5fc2hvdWxkRm9ya1BlbigpID8gdGhpcy5fZm9ya1BlbigpIDogdGhpcy5fc2F2ZVBlblRvREIoKSA6IEh1Yi5wdWIoInBlbi1lcnJvcnMiLCB0aGlzLmVycm9yQ29kZSkpOwogIH0sCiAgZm9ya1BlbkluQ3VycmVudFN0YXRlOiBmdW5jdGlvbiBmb3JrUGVuSW5DdXJyZW50U3RhdGUoKSB7CiAgICB0aGlzLnNhdmVfZGlzYWJsZWQgfHwgKENQLnVzZXIuYW5vbiA/IHdpbmRvdy5DUC5sb2dpbkhhbmRsZXIuc2hvd0Fub255bW91c1VzZXJTaWdudXBNb2RhbCgpIDogdGhpcy5fY2FuU2F2ZSgpID8gdGhpcy5fZm9ya1BlbighMCkgOiBIdWIucHViKCJwZW4tZXJyb3JzIiwgdGhpcy5lcnJvckNvZGUpKTsKICB9LAogIF9zaG91bGRGb3JrUGVuOiBmdW5jdGlvbiBfc2hvdWxkRm9ya1BlbigpIHsKICAgIHJldHVybiB0aGlzLl9pc1Blbk93bmVkQnlBbm90aGVyVXNlcigpOwogIH0sCiAgc2F2ZUFzUHJpdmF0ZTogZnVuY3Rpb24gc2F2ZUFzUHJpdmF0ZSgpIHsKICAgIHRoaXMuX2NhblNhdmUoKSA/ICh0aGlzWyJwcml2YXRlIl0gPSAhMCwgdGhpcy5fc2F2ZVBlblRvREIoKSkgOiBIdWIucHViKCJwZW4tZXJyb3JzIiwgdGhpcy5lcnJvckNvZGUpOwogIH0sCiAgTUFYX1BFTl9TSVpFOiAxZTYsCiAgX2NhblNhdmU6IGZ1bmN0aW9uIF9jYW5TYXZlKCkgewogICAgcmV0dXJuICFDUC51c2VyLmlzVXNlckxvZ2dlZEluKCkgJiYgdGhpcy5faXNQcm9mZXNzb3JPckNvbGxhYlNlc3Npb24oKSA/ICh0aGlzLmVycm9yQ29kZSA9ICJhbm9uLWNhbm5vdC1zYXZlLWR1cmluZy1ydC1zZXNzaW9uIiwgITEpIDogIShKU09OLnN0cmluZ2lmeSh0aGlzLmdldFNhdmVhYmxlQ29weU9mUGVuKCkpLmxlbmd0aCA+IHRoaXMuTUFYX1BFTl9TSVpFKSB8fCAodGhpcy5lcnJvckNvZGUgPSAicGVuLXRvby1sYXJnZSIsICExKTsKICB9LAogIF9pc1Byb2Zlc3Nvck9yQ29sbGFiU2Vzc2lvbjogZnVuY3Rpb24gX2lzUHJvZmVzc29yT3JDb2xsYWJTZXNzaW9uKCkgewogICAgcmV0dXJuICJwcm9mZXNzb3IiID09PSBfX3BhZ2VUeXBlIHx8ICJjb2xsYWIiID09PSBfX3BhZ2VUeXBlOwogIH0sCiAgX2ZvcmtQZW46IGZ1bmN0aW9uIF9mb3JrUGVuKGUpIHsKICAgIGlmIChlIHx8IHRoaXMuX3Nob3VsZFNhdmVQZW5Ub0RCKCkpIHsKICAgICAgdmFyIHQgPSB0aGlzLmdldENvcHlPZlNhdmVhYmxlUGVuKCk7CiAgICAgIHQuZm9yayA9ICEwLCB0aGlzLnBvc3QoIi9wZW4vc2F2ZSIsIHsKICAgICAgICBwZW46IEpTT04uc3RyaW5naWZ5KHQpCiAgICAgIH0sIHRoaXMuZG9uZVNhdmUsIHRoaXMuZmFpbGVkU2F2ZSwgdGhpcy5lcnJvcmVkU2F2ZSk7CiAgICB9IGVsc2UgdGhpcy5zZW5kUHNldWRvU2F2ZWRTaWduYWwoKTsKICB9LAogIF9zYXZlUGVuVG9EQjogZnVuY3Rpb24gX3NhdmVQZW5Ub0RCKCkgewogICAgdGhpcy5fc2hvdWxkU2F2ZVBlblRvREIoKSA/IHRoaXMucG9zdCgiL3Blbi9zYXZlIiwgewogICAgICBwZW46IHRoaXMuX2dldFNhdmVhYmxlUGVuKCkKICAgIH0sIHRoaXMuZG9uZVNhdmUsIHRoaXMuZmFpbGVkU2F2ZSwgdGhpcy5lcnJvcmVkU2F2ZSkgOiB0aGlzLnNlbmRQc2V1ZG9TYXZlZFNpZ25hbCgpOwogIH0sCiAgX2dldFNhdmVhYmxlUGVuOiBmdW5jdGlvbiBfZ2V0U2F2ZWFibGVQZW4oKSB7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRDb3B5T2ZTYXZlYWJsZVBlbigpKTsKICB9LAogIGdldENvcHlPZlNhdmVhYmxlUGVuOiBmdW5jdGlvbiBnZXRDb3B5T2ZTYXZlYWJsZVBlbigpIHsKICAgIHJldHVybiB0aGlzLl91cGRhdGVTYXZlYWJsZVRhZ3NQcmlvclRvU2F2ZSgpLCB0aGlzLmdldFNhdmVhYmxlQ29weU9mUGVuKCk7CiAgfSwKICBfc2hvdWxkU2F2ZVBlblRvREI6IGZ1bmN0aW9uIF9zaG91bGRTYXZlUGVuVG9EQigpIHsKICAgIHJldHVybiB0aGlzLmhhc1BlbkNoYW5nZWQoKSB8fCB0aGlzLl9pc0JsYW5rTmV3UGVuKCkgfHwgdGhpcy5faXNQZW5Pd25lZEJ5QW5vdGhlclVzZXIoKTsKICB9LAogIF9pc0JsYW5rTmV3UGVuOiBmdW5jdGlvbiBfaXNCbGFua05ld1BlbigpIHsKICAgIHJldHVybiAiIiA9PT0gdGhpcy5zbHVnX2hhc2g7CiAgfSwKICBfdXBkYXRlU2F2ZWFibGVUYWdzUHJpb3JUb1NhdmU6IGZ1bmN0aW9uIF91cGRhdGVTYXZlYWJsZVRhZ3NQcmlvclRvU2F2ZSgpIHsKICAgIHRoaXMudGFncyA9IHRoaXMuZ2V0VGFncygpLCB0aGlzLm5ld1RhZ3MgPSBbXTsKICB9LAogIHNlbmRQc2V1ZG9TYXZlZFNpZ25hbDogZnVuY3Rpb24gc2VuZFBzZXVkb1NhdmVkU2lnbmFsKCkgewogICAgSHViLnB1YigicGVuLXNhdmVkIiwge30pOwogIH0sCiAgZG9uZVNhdmU6IGZ1bmN0aW9uIGRvbmVTYXZlKGUpIHsKICAgIHRoaXMuc2F2ZUF0dGVtcHRzID0gMDsKCiAgICB2YXIgdCA9IHRoaXMuX2dldERpZmZQZW4odGhpcywgdGhpcy5sYXN0U2F2ZWRQZW4pOwoKICAgIGlmICh0aGlzLmxhc3RTYXZlZFBlbiA9IHRoaXMuZ2V0U2F2ZWFibGVDb3B5T2ZQZW4oKSwgdGhpcy5ucG1fcGFja2FnZXMgPSBfLm1lcmdlKHRoaXMubnBtX3BhY2thZ2VzLCBlLm5wbV9wYWNrYWdlcyksIGUubmV3X3Blbl9zYXZlZCkgewogICAgICBpZiAodGhpcy5faXNQcm9mZXNzb3JPckNvbGxhYlNlc3Npb24oKSkgewogICAgICAgIHZhciBuID0gewogICAgICAgICAgbmV3UGVuOiAhMCwKICAgICAgICAgIHVybDogZS5yZWRpcmVjdF91cmwsCiAgICAgICAgICBwZW46IHQKICAgICAgICB9OwogICAgICAgIEh1Yi5wdWIoInBlbi1zYXZlZCIsIG4pOwogICAgICB9IGVsc2UgSHViLnB1Yigic2F2ZS1lZGl0b3Itc2l6ZXMiLCBlLnNsdWdfaGFzaCksIHRoaXMucmVkaXJlY3RpbmdUb1NhdmVkVVJMID0gITAsIHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMuX2dldEZ1bGxSZWRpcmVjdFVSTChlKTsKICAgIH0gZWxzZSBIdWIucHViKCJwZW4tc2F2ZWQiLCB7CiAgICAgIHBlbjogdCwKICAgICAgbGFzdF9zYXZlZF90aW1lX2FnbzogZS5sYXN0X3NhdmVkX3RpbWVfYWdvCiAgICB9KTsKICB9LAogIF9nZXRGdWxsUmVkaXJlY3RVUkw6IGZ1bmN0aW9uIF9nZXRGdWxsUmVkaXJlY3RVUkwoZSkgewogICAgdmFyIHQgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNwbGl0KCI/Iik7CiAgICByZXR1cm4gdC5sZW5ndGggPiAxID8gdGhpcy5fc3RyaXBRdWVzdGlvbk1hcmtJblVSTChlLnJlZGlyZWN0X3VybCArICI/IiArIHRoaXMuX3N0cmlwVGVtcGxhdGVRdWVyeVBhcnQodFsxXSkpIDogZS5yZWRpcmVjdF91cmw7CiAgfSwKICBfc3RyaXBUZW1wbGF0ZVF1ZXJ5UGFydDogZnVuY3Rpb24gX3N0cmlwVGVtcGxhdGVRdWVyeVBhcnQoZSkgewogICAgcmV0dXJuIChlIHx8ICIiKS5yZXBsYWNlKC90ZW1wbGF0ZT1cdysvLCAiIik7CiAgfSwKICBfc3RyaXBRdWVzdGlvbk1hcmtJblVSTDogZnVuY3Rpb24gX3N0cmlwUXVlc3Rpb25NYXJrSW5VUkwoZSkgewogICAgcmV0dXJuIGUucmVwbGFjZSgvXD8kLywgIiIpOwogIH0sCiAgZmFpbGVkU2F2ZTogZnVuY3Rpb24gZmFpbGVkU2F2ZShlKSB7CiAgICB0aGlzLnNob3dTdGFuZGFyZEVycm9yTWVzc2FnZShlKTsKICB9LAogIGVycm9yZWRTYXZlOiBmdW5jdGlvbiBlcnJvcmVkU2F2ZShlLCB0KSB7CiAgICBpZiAodGhpcy5zYXZlQXR0ZW1wdHMgPCB0aGlzLk1BWF9TQVZFX0FUVEVNUFRTKSB7CiAgICAgIHZhciBuID0gXy50ZW1wbGF0ZShDb3B5LmVycm9yc1sidW5hYmxlLXRvLXNhdmUtdHJ5LWFnYWluIl0sIHsKICAgICAgICB0aW1lOiBUaW1lVXRpbC5jb3VudFRvU3RyaW5nKHRoaXMuc2F2ZUF0dGVtcHRzICsgMSkKICAgICAgfSk7CgogICAgICAkLnNob3dNZXNzYWdlKG4sICJzdXBlci1zbG93IiksIHRoaXMuc2F2ZUF0dGVtcHRzICs9IDEsIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLl9zYXZlUGVuVG9EQiwgdGhpcyksIHRoaXMuU0FWRV9BVFRFTVBUX1RJTUVPVVQpOwogICAgfSBlbHNlIHRoaXMuc2F2ZUF0dGVtcHRzID0gMCwgdGhpcy5zaG93U3RhbmRhcmRFcnJvck1lc3NhZ2UoZSwgdCk7CiAgfSwKICBpc1VzZXJQZW5Pd25lcjogZnVuY3Rpb24gaXNVc2VyUGVuT3duZXIoKSB7CiAgICByZXR1cm4gIiIgPT09IHRoaXMuc2x1Z19oYXNoIHx8IChDUC5wcm9maWxlZC5pc190ZWFtID8gQ1AucHJvZmlsZWQuaWQgPT09IENQLnVzZXIuY3VycmVudF90ZWFtX2lkIDogQ1AudXNlci5pc0Fub24oKSA/IHRoaXMuc2Vzc2lvbl9oYXNoID09PSBDUC51c2VyLnNlc3Npb25faGFzaCA6IENQLnByb2ZpbGVkLmlkID09PSBDUC51c2VyLmlkKTsKICB9LAogIF9pc1Blbk93bmVkQnlBbm90aGVyVXNlcjogZnVuY3Rpb24gX2lzUGVuT3duZWRCeUFub3RoZXJVc2VyKCkgewogICAgcmV0dXJuICF0aGlzLmlzVXNlclBlbk93bmVyKCk7CiAgfSwKICBoYXNQZW5DaGFuZ2VkOiBmdW5jdGlvbiBoYXNQZW5DaGFuZ2VkKCkgewogICAgcmV0dXJuIF8uc2l6ZSh0aGlzLl9nZXREaWZmUGVuKHRoaXMsIHRoaXMubGFzdFNhdmVkUGVuKSkgPiAwOwogIH0sCiAgaGFzUGVuQ29udGVudENoYW5nZWQ6IGZ1bmN0aW9uIGhhc1BlbkNvbnRlbnRDaGFuZ2VkKCkgewogICAgdmFyIGUgPSB0aGlzLl9nZXREaWZmUGVuKHRoaXMsIHRoaXMubGFzdFNhdmVkUGVuKTsKCiAgICByZXR1cm4gZGVsZXRlIGUuZWRpdG9yX3NldHRpbmdzLCBfLnNpemUoZSkgPiAwOwogIH0sCiAgX2dldERpZmZQZW46IGZ1bmN0aW9uIF9nZXREaWZmUGVuKGUsIHQpIHsKICAgIHJldHVybiBfZGlmZk9iamVjdHModCwgZSk7CiAgfSwKICBnZXRTYXZlYWJsZUNvcHlPZlBlbjogZnVuY3Rpb24gZ2V0U2F2ZWFibGVDb3B5T2ZQZW4oKSB7CiAgICByZXR1cm4gd2luZG93Ll9jbG9uZURlZXAoXy5yZWR1Y2UodGhpcy5fZ2V0RGF0YVJlbGV2YW50QXR0cmlidXRlcygpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmIChlW3RdID0gdGhpc1t0XSwgIm5wbV9wYWNrYWdlcyIgPT09IHQpIHsKICAgICAgICB2YXIgbiA9IE9iamVjdC5rZXlzKHRoaXNbdF0pOwogICAgICAgIGVbdF0gPSBuLnJlZHVjZShmdW5jdGlvbiAoZSwgbikgewogICAgICAgICAgdmFyIHMgPSBfdGhpczJbdF1bbl07CiAgICAgICAgICByZXR1cm4gZVtuXSA9IHsKICAgICAgICAgICAgX2Rlc3Ryb3k6IHMuX2Rlc3Ryb3ksCiAgICAgICAgICAgIGlkOiBzLmlkLAogICAgICAgICAgICBuYW1lOiBuLAogICAgICAgICAgICB2ZXJzaW9uOiBzLnZlcnNpb24KICAgICAgICAgIH0sIGU7CiAgICAgICAgfSwge30pOwogICAgICB9CgogICAgICByZXR1cm4gZTsKICAgIH0sIHt9LCB0aGlzKSk7CiAgfSwKICBfZ2V0RGF0YVJlbGV2YW50QXR0cmlidXRlczogZnVuY3Rpb24gX2dldERhdGFSZWxldmFudEF0dHJpYnV0ZXMoKSB7CiAgICByZXR1cm4gWyJjc3MiLCAiY3NzX3ByZV9wcm9jZXNzb3IiLCAiY3NzX3ByZWZpeCIsICJjc3Nfc3RhcnRlciIsICJkZXNjcmlwdGlvbiIsICJlZGl0b3Jfc2V0dGluZ3MiLCAiaGVhZCIsICJodG1sIiwgImh0bWxfY2xhc3NlcyIsICJodG1sX3ByZV9wcm9jZXNzb3IiLCAiaWQiLCAianMiLCAianNfcHJlX3Byb2Nlc3NvciIsICJuZXdUYWdzIiwgIm5wbV9wYWNrYWdlcyIsICJwYXJlbnQiLCAicHJpdmF0ZSIsICJyZXNvdXJjZXMiLCAic2x1Z19oYXNoIiwgInNsdWdfaGFzaF9wcml2YXRlIiwgInRhZ3MiLCAidGVhbV9pZCIsICJ0ZW1wbGF0ZSIsICJ0aXRsZSIsICJ1c2VyX2lkIl07CiAgfSwKICBnZXRBdHRyaWJ1dGVzVGhhdEFmZmVjdFBlblByZXZpZXc6IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZXNUaGF0QWZmZWN0UGVuUHJldmlldygpIHsKICAgIHJldHVybiBbImNzcyIsICJjc3NfcHJlX3Byb2Nlc3NvciIsICJjc3NfcHJlZml4IiwgImNzc19zdGFydGVyIiwgImhlYWQiLCAiaHRtbCIsICJodG1sX2NsYXNzZXMiLCAiaHRtbF9wcmVfcHJvY2Vzc29yIiwgImpzIiwgImpzX3ByZV9wcm9jZXNzb3IiLCAibnBtX3BhY2thZ2VzIiwgInJlc291cmNlcyJdOwogIH0KfSksIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBlKCkgewogICAgcmV0dXJuICJwZW52ZXJzaW9uczoiICsgQ1AudXNlci5pZCArICI6IiArIENQLnBlbi5zbHVnX2hhc2g7CiAgfQoKICBmdW5jdGlvbiB0KCkgewogICAgdmFyIHQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKCkpOwogICAgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiB0ID8gSlNPTi5wYXJzZSh0KSA6IGQ7CiAgfQoKICBmdW5jdGlvbiBuKGUpIHsKICAgIHZhciBuID0gdCgpLAogICAgICAgIHMgPSBfZ2V0VW5peFRpbWVzdGFtcCgpOwoKICAgIHJldHVybiBuLm1vc3RSZWNlbnRVcGRhdGVkQXQgPSBzLCBuLnVwZGF0ZWRBdHMudW5zaGlmdChzKSwgbi51cGRhdGVkQXRzID0gbi51cGRhdGVkQXRzLnNsaWNlKDAsIHUpLCBuLnZlcnNpb25zLnVuc2hpZnQoZSksIG4udmVyc2lvbnMgPSBuLnZlcnNpb25zLnNsaWNlKDAsIHUpLCBuOwogIH0KCiAgZnVuY3Rpb24gcygpIHsKICAgIGlmICghJCgiLmhpc3RvcnkiKS5oYXNDbGFzcygiYWN0aXZlIikpIHsKICAgICAgdmFyIHQgPSBDUC5wZW4uZ2V0U2F2ZWFibGVDb3B5T2ZQZW4oKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZSgpLCBKU09OLnN0cmluZ2lmeShuKHQpKSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpKCkgewogICAgZm9yICh2YXIgZSA9IDAsIHQgPSBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBlIDwgdDsgKytlKSB7CiAgICAgIHZhciBuID0gbG9jYWxTdG9yYWdlLmtleShlKSwKICAgICAgICAgIHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShuKTsKCiAgICAgIGlmIChuICYmIG4ubWF0Y2goL15wZW52ZXJzaW9uczpcZCsvKSkgewogICAgICAgIGlmICgic3RyaW5nIiAhPSB0eXBlb2YgcykgY29udGludWU7CiAgICAgICAgdmFyIGkgPSBKU09OLnBhcnNlKHMpLAogICAgICAgICAgICBvID0gX2dldFVuaXhUaW1lc3RhbXAoKSAtIDMgKiBjOwogICAgICAgIGkubW9zdFJlY2VudFVwZGF0ZWRBdCA8IG8gJiYgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obik7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIG8oKSB7CiAgICByZXR1cm4gImNvbGxhYiIgIT09IHdpbmRvdy5fX3BhZ2VUeXBlICYmICJwcm9mZXNzb3IiICE9PSB3aW5kb3cuX19wYWdlVHlwZSAmJiBDUC5wZW4uaXNVc2VyUGVuT3duZXIoKSAmJiBsb2NhbFN0b3JhZ2U7CiAgfQoKICBmdW5jdGlvbiByKCkgewogICAgbygpICYmIChIdWIuc3ViKCJwZW4tY2hhbmdlIiwgbCksIHNldFRpbWVvdXQoaSwgMTUwMCkpOwogIH0KCiAgdmFyIGEgPSA2ZTMsCiAgICAgIGMgPSA4NjQwMCwKICAgICAgdSA9IDEwLAogICAgICBkID0gewogICAgbW9zdFJlY2VudFVwZGF0ZWRBdDogMCwKICAgIHVwZGF0ZWRBdHM6IFtdLAogICAgdmVyc2lvbnM6IFtdCiAgfSwKICAgICAgbCA9IF8uZGVib3VuY2UocywgYSwgewogICAgbGVhZGluZzogITEsCiAgICBtYXhXYWl0OiBhLAogICAgdHJhaWxpbmc6ICEwCiAgfSk7CgogIEh1Yi5zdWIoInBhZ2UtbG9hZGluZy1kb25lIiwgciksIHdpbmRvdy5wZW5Mb2NhbFN0b3JhZ2UgPSB7CiAgICBnZXRQZW5WZXJzaW9uc0RhdGE6IHQKICB9Owp9KCksIHdpbmRvdy5QZW5OcG1QYWNrYWdlcyA9IHsKICBhZGRQYWNrYWdlOiBmdW5jdGlvbiBhZGRQYWNrYWdlKGUsIHQpIHsKICAgIHRoaXMubnBtX3BhY2thZ2VzW2VdID0gewogICAgICBpZDogIiIsCiAgICAgIG5hbWU6IGUsCiAgICAgIHZlcnNpb246IHQsCiAgICAgIG1hbmlmZXN0OiBudWxsLAogICAgICBfZGVzdHJveTogITEKICAgIH0sIHRoaXMuX2xvYWROcG1NYW5pZmVzdChlLCB0KSwgdGhpcy5fcHVibGlzaE5wbVBhY2thZ2VzQ2hhbmdlKCk7CiAgfSwKICBnZXRBY3RpdmVOcG1QYWNrYWdlczogZnVuY3Rpb24gZ2V0QWN0aXZlTnBtUGFja2FnZXMoKSB7CiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLm5wbV9wYWNrYWdlcykuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAhMCAhPT0gZS5fZGVzdHJveTsKICAgIH0pOwogIH0sCiAgZ2V0QWN0aXZlTnBtUGFja2FnZXNBc0RlcGVuZGVuY2llczogZnVuY3Rpb24gZ2V0QWN0aXZlTnBtUGFja2FnZXNBc0RlcGVuZGVuY2llcygpIHsKICAgIHJldHVybiB0aGlzLmdldEFjdGl2ZU5wbVBhY2thZ2VzKCkucmVkdWNlKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBlW3QubmFtZV0gPSB7CiAgICAgICAgbWFuaWZlc3Q6IHQubWFuaWZlc3QsCiAgICAgICAgbmFtZTogdC5uYW1lLAogICAgICAgIHZlcnNpb246IHQudmVyc2lvbgogICAgICB9LCBlOwogICAgfSwge30pOwogIH0sCiAgcmVtb3ZlUGFja2FnZTogZnVuY3Rpb24gcmVtb3ZlUGFja2FnZShlKSB7CiAgICB0aGlzLm5wbV9wYWNrYWdlc1tlXS5fZGVzdHJveSA9ICEwLCB0aGlzLl9wdWJsaXNoTnBtUGFja2FnZXNDaGFuZ2UoKTsKICB9LAogIGlzQnVpbGRpbmdQYWNrYWdlczogZnVuY3Rpb24gaXNCdWlsZGluZ1BhY2thZ2VzKCkgewogICAgcmV0dXJuICEhT2JqZWN0LnZhbHVlcyh0aGlzLm5wbV9wYWNrYWdlcykuZmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbnVsbCA9PT0gZS5tYW5pZmVzdDsKICAgIH0pOwogIH0sCiAgX3B1Ymxpc2hOcG1QYWNrYWdlc0NoYW5nZTogZnVuY3Rpb24gX3B1Ymxpc2hOcG1QYWNrYWdlc0NoYW5nZSgpIHsKICAgIEh1Yi5wdWIoInBlbi1jaGFuZ2UiLCB7CiAgICAgIHBlbjogewogICAgICAgIG5wbV9wYWNrYWdlczogd2luZG93Ll9jbG9uZURlZXAodGhpcy5nZXRBY3RpdmVOcG1QYWNrYWdlcygpKQogICAgICB9CiAgICB9KTsKICB9LAogIF9sb2FkQWxsTnBtTWFuaWZlc3RzOiBmdW5jdGlvbiBfbG9hZEFsbE5wbU1hbmlmZXN0cygpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIE9iamVjdC52YWx1ZXModGhpcy5ucG1fcGFja2FnZXMpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgX3RoaXMzLl9sb2FkTnBtTWFuaWZlc3QoZS5uYW1lLCBlLnZlcnNpb24pOwogICAgfSk7CiAgfSwKICBfbG9hZE5wbU1hbmlmZXN0OiBmdW5jdGlvbiBfbG9hZE5wbU1hbmlmZXN0KGUsIHQpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHZhciBuID0gIiIuY29uY2F0KHdpbmRvdy5fX25wbV9iYXNlX3VybCwgIi8iKS5jb25jYXQoZSwgIi8iKS5jb25jYXQodCwgIi8iKS5jb25jYXQoZSwgIi5qc29uIik7CiAgICAkLmdldEpTT04obiwgZnVuY3Rpb24gKHQpIHsKICAgICAgX3RoaXM0Lm5wbV9wYWNrYWdlc1tlXS5tYW5pZmVzdCA9IHQsIF90aGlzNC5fcHVibGlzaE5wbVBhY2thZ2VzQ2hhbmdlKCk7CiAgICB9KTsKICB9Cn0sIHdpbmRvdy5QZW5VbnNhdmVkTWVzc2FnZSA9IENsYXNzLmV4dGVuZCh7CiAgJGVsOiAkKCI8ZGl2IC8+IiwgewogICAgImNsYXNzIjogInVuc2F2ZWQtZWRpdG9yLW1lc3NhZ2UiCiAgfSkuaHRtbCgnIHVuc2F2ZWQgY2hhbmdlcyA8c3BhbiBjbGFzcz0iZGlzbWlzcyI+PHN2ZyBjbGFzcz0iaWNvbi14Ij48dXNlIHhsaW5rOmhyZWY9IicgKyBfX3N2Z19zcHJpdGUgKyAnI3giPjwvdXNlPjwvc3ZnPjwvc3Bhbj4nKSwKICAkY291bnQ6ICQoIjxiPjA8L2I+IiksCiAgY3VycmVudENvdW50OiAwLAogIGNvdW50RGlzbWlzc2VkQXQ6IDAsCiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHRoaXMuc2hvdyA9ICQucHJveHkodGhpcy5zaG93LCB0aGlzKSwgdGhpcy5oaWRlID0gJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpLCB0aGlzLnVwZGF0ZSA9ICQucHJveHkodGhpcy51cGRhdGUsIHRoaXMpLCB0aGlzLiRlbC5jbGljayh0aGlzLmhpZGUpLnByZXBlbmQodGhpcy4kY291bnQpLCB0aGlzLl9tb3ZlID0gJC5wcm94eSh0aGlzLl9tb3ZlLCB0aGlzKSwgJCgiYm9keSIpLm9uKCJmb2N1c2luIiwgIi5ib3giLCBudWxsLCB0aGlzLl9tb3ZlKTsKICB9LAogIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGUpIHsKICAgIHRoaXMuY3VycmVudENvdW50ID0gZSwgZSB8fCAodGhpcy5jb3VudERpc21pc3NlZEF0ID0gMCksIChlIC0gdGhpcy5jb3VudERpc21pc3NlZEF0KSAlIDUgPT0gMCAmJiB0aGlzLnNob3coKSwgdGhpcy4kY291bnQudGV4dChlIDwgMTAwID8gZSA6ICIxMDArIik7CiAgfSwKICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgdGhpcy4kZWwuZGVsYXkoMTAwKS5hZGRDbGFzcygidmlzaWJsZSIpOwogIH0sCiAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgIHRoaXMuY291bnREaXNtaXNzZWRBdCA9IHRoaXMuY3VycmVudENvdW50LCB0aGlzLiRlbC5yZW1vdmVDbGFzcygidmlzaWJsZSIpOwogIH0sCiAgX21vdmU6IGZ1bmN0aW9uIF9tb3ZlKGUpIHsKICAgIHZhciB0ID0gJChlLnRhcmdldCA/IGUudGFyZ2V0IDogIi5Db2RlTWlycm9yLWZvY3VzZWQiKS5jbG9zZXN0KCIuYm94IikuZmluZCgiLmVkaXRvci1hY3Rpb25zLWxlZnQiKTsKICAgIHRoaXMuJGVsLnBhcmVudCgpLmlzKHQpIHx8IHQuZGVsYXkoMTAwKS5hcHBlbmQodGhpcy4kZWwpOwogIH0KfSksIHdpbmRvdy5QZW5BdXRvc2F2ZSA9IENsYXNzLmV4dGVuZCh7CiAgYXV0b1NhdmVGdW5jOiBudWxsLAogIEFVVE9TQVZFX1RJTUVSOiAyZTQsCiAgX3Nob3dlZFVzZXJBdXRvU2F2ZU9uTWVzc2FnZTogITEsCiAgX2hhc1VzZXJFdmVyU2F2ZWQ6ICExLAogIF9tb2JpbGU6ICExLAogIGxpdmVDaGFuZ2VzV09TYXZlOiAwLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLmF1dG9TYXZlRnVuYyA9IF8uZGVib3VuY2UodGhpcy5fc2F2ZVZpYUF1dG9TYXZlLCB0aGlzLkFVVE9TQVZFX1RJTUVSLCB7CiAgICAgIGxlYWRpbmc6ICExLAogICAgICB0cmFpbGluZzogITAKICAgIH0pLCB0aGlzLnVuc2F2ZWRNZXNzYWdlID0gbmV3IHdpbmRvdy5QZW5VbnNhdmVkTWVzc2FnZSgpLCB0aGlzLl9iaW5kVG9IdWIoKSwgdGhpcy5fc3RhcnRBdXRvU2F2ZSgpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoImxpdmVfY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vbkxpdmVDaGFuZ2UsIHRoaXMpKSwgSHViLnN1YigicGVuLXNhdmVkIiwgJC5wcm94eSh0aGlzLl9vblNhdmVkLCB0aGlzKSk7CiAgfSwKICBfc3RhcnRBdXRvU2F2ZTogZnVuY3Rpb24gX3N0YXJ0QXV0b1NhdmUoKSB7CiAgICB0aGlzLl9wZW5DYW5CZUF1dG9zYXZlZCgpICYmIHRoaXMuX2NvbmRpdGlvbmFsbHlTaG93QXV0b3NhdmluZ05vd01lc3NhZ2UoKTsKICB9LAogIF9vbkxpdmVDaGFuZ2U6IGZ1bmN0aW9uIF9vbkxpdmVDaGFuZ2UoKSB7CiAgICB0aGlzLl9wZW5DYW5CZUF1dG9zYXZlZCgpID8gdGhpcy5faGFuZGxlQXV0b1NhdmUoKSA6IHRoaXMuX2hhbmRsZU5vbkF1dG9TYXZlKCk7CiAgfSwKICBfaGFuZGxlQXV0b1NhdmU6IGZ1bmN0aW9uIF9oYW5kbGVBdXRvU2F2ZSgpIHsKICAgIHRoaXMuYXV0b1NhdmVGdW5jKCk7CiAgfSwKICBfc2F2ZVZpYUF1dG9TYXZlOiBmdW5jdGlvbiBfc2F2ZVZpYUF1dG9TYXZlKCkgewogICAgdGhpcy5fYXV0b1NhdmVQZW5SaWdodE5vdygpICYmIChDUC5wZW4uYXV0b3NhdmluZ05vdyA9ICEwLCBDUC5wZW4uc2F2ZSgpKTsKICB9LAogIF9hdXRvU2F2ZVBlblJpZ2h0Tm93OiBmdW5jdGlvbiBfYXV0b1NhdmVQZW5SaWdodE5vdygpIHsKICAgIHJldHVybiAhJCgiLmhpc3RvcnkiKS5oYXNDbGFzcygiYWN0aXZlIikgJiYgIUNQLnNldHRpbmdzQ29udHJvbGxlci5zZXR0aW5nc1BhbmVWaXNpYmxlKCk7CiAgfSwKICBfaGFuZGxlTm9uQXV0b1NhdmU6IGZ1bmN0aW9uIF9oYW5kbGVOb25BdXRvU2F2ZSgpIHsKICAgIGlmICghQ1AucGVuLmlzVXNlclBlbk93bmVyKCkgfHwgQ1AucGVuLnNhdmVfZGlzYWJsZWQpIHJldHVybiAhMTsKICAgIHRoaXMubGl2ZUNoYW5nZXNXT1NhdmUgKz0gMSwgdGhpcy51bnNhdmVkTWVzc2FnZS51cGRhdGUodGhpcy5saXZlQ2hhbmdlc1dPU2F2ZSk7CiAgICB2YXIgZSA9ICQoIiNzYXZlLCAjdXBkYXRlIik7CiAgICB0aGlzLmxpdmVDaGFuZ2VzV09TYXZlICUgMiA9PSAwICYmIGUucmVtb3ZlQ2xhc3MoInVuc2F2ZWQtd29iYmxlIHVuc2F2ZWQtZ3JvdyIpLCAodGhpcy5saXZlQ2hhbmdlc1dPU2F2ZSArIDEwKSAlIDIwID09IDAgJiYgZS5hZGRDbGFzcygidW5zYXZlZC13b2JibGUiKSwgdGhpcy5saXZlQ2hhbmdlc1dPU2F2ZSAlIDIwID09IDAgJiYgZS5hZGRDbGFzcygidW5zYXZlZC1ncm93IiksICh0aGlzLmxpdmVDaGFuZ2VzV09TYXZlICsgMTUpICUgMzAgPT0gMCAmJiAkLnNob3dNZXNzYWdlKCJUaGVyZSBoYXZlIGJlZW4gIiArIHRoaXMubGl2ZUNoYW5nZXNXT1NhdmUgKyAiIGNoYW5nZXMgd2l0aG91dCBhIHNhdmUuIFJlbWVtYmVyIHRvIHNhdmUgeW91ciB3b3JrISIsICJzbG93Iik7CiAgfSwKICBfb25TYXZlZDogZnVuY3Rpb24gX29uU2F2ZWQoKSB7CiAgICB0aGlzLmxpdmVDaGFuZ2VzV09TYXZlID0gMCwgdGhpcy5faGFzVXNlckV2ZXJTYXZlZCA9ICEwLCB0aGlzLl9zaG93UGVuU2F2ZWRNZXNzYWdlKCksIHRoaXMuX2NvbmRpdGlvbmFsbHlTaG93QXV0b3NhdmluZ05vd01lc3NhZ2UoKSwgdGhpcy51bnNhdmVkTWVzc2FnZS5oaWRlKCk7CiAgfSwKICBfc2hvd1BlblNhdmVkTWVzc2FnZTogZnVuY3Rpb24gX3Nob3dQZW5TYXZlZE1lc3NhZ2UoKSB7CiAgICBDUC5wZW4uYXV0b3NhdmluZ05vdyB8fCAkLnNob3dNZXNzYWdlKENvcHkucGVuVXBkYXRlZCksIENQLnBlbi5hdXRvc2F2aW5nTm93ID0gITE7CiAgfSwKICBfY29uZGl0aW9uYWxseVNob3dBdXRvc2F2aW5nTm93TWVzc2FnZTogZnVuY3Rpb24gX2NvbmRpdGlvbmFsbHlTaG93QXV0b3NhdmluZ05vd01lc3NhZ2UoKSB7CiAgICB0aGlzLl9zaG93ZWRVc2VyQXV0b1NhdmVPbk1lc3NhZ2UgfHwgdGhpcy5fcGVuQ2FuQmVBdXRvc2F2ZWQoKSAmJiB0aGlzLl9zaG93QXV0b1NhdmVPbk1lc3NhZ2UoKTsKICB9LAogIF9zaG93QXV0b1NhdmVPbk1lc3NhZ2U6IGZ1bmN0aW9uIF9zaG93QXV0b1NhdmVPbk1lc3NhZ2UoKSB7CiAgICB0aGlzLl9zaG93ZWRVc2VyQXV0b1NhdmVPbk1lc3NhZ2UgPSAhMCwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICQuc2hvd01lc3NhZ2UoQ29weS5hdXRvU2F2aW5nTm93LCAic2xvdyIpOwogICAgfSwgMTUwMCk7CiAgfSwKICBfcGVuQ2FuQmVBdXRvc2F2ZWQ6IGZ1bmN0aW9uIF9wZW5DYW5CZUF1dG9zYXZlZCgpIHsKICAgIHJldHVybiAhIXRoaXMuX3VzZXJJbml0aWF0ZWRTYXZlUHJldmlvdXNseSgpICYmIENQLnVzZXIuaXNVc2VyTG9nZ2VkSW4oKSAmJiBDUC5wZW4uZWRpdG9yX3NldHRpbmdzLmF1dG9fc2F2ZSAmJiBDUC5wZW4uZ2V0QWN0aXZlU2x1Z0hhc2goKS5sZW5ndGggPiAwICYmICF0aGlzLl9tb2JpbGU7CiAgfSwKICBfdXNlckluaXRpYXRlZFNhdmVQcmV2aW91c2x5OiBmdW5jdGlvbiBfdXNlckluaXRpYXRlZFNhdmVQcmV2aW91c2x5KCkgewogICAgcmV0dXJuIHRoaXMuX3JlZmVycmVkRnJvbU5ld1BlbigpIHx8IHRoaXMuX2hhc1VzZXJFdmVyU2F2ZWQ7CiAgfSwKICBfcmVmZXJyZWRGcm9tTmV3UGVuOiBmdW5jdGlvbiBfcmVmZXJyZWRGcm9tTmV3UGVuKCkgewogICAgcmV0dXJuICEhZG9jdW1lbnQucmVmZXJyZXIubWF0Y2goL1wvcGVuKFwvKT8kLyk7CiAgfQp9KSwgd2luZG93LlBlbkRlbGV0ZSA9IENsYXNzLmV4dGVuZCh7CiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIF8uZXh0ZW5kKHRoaXMsIEFKQVhVdGlsKSwgdGhpcy5fYmluZFRvRE9NKCk7CiAgfSwKICBfYmluZFRvRE9NOiBmdW5jdGlvbiBfYmluZFRvRE9NKCkgewogICAgdmFyIGUgPSB0aGlzOwogICAgJCgiYm9keSIpLm9uKCJjbGljayIsICIuZGVsZXRlLWJ1dHRvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgZS5fZGVsZXRlUGVuKCk7CiAgICB9KTsKICB9LAogIF9kZWxldGVQZW46IGZ1bmN0aW9uIF9kZWxldGVQZW4oKSB7CiAgICAkLnNob3dNb2RhbCgiL2FqYXgvY29uZmlybV9wZW5fZGVsZXRlIiwgIm1vZGFsLXdhcm5pbmciLCAkLnByb3h5KHRoaXMuX2RlbGV0ZVBlbk1vZGFsQ2FsbGJhY2ssIHRoaXMpKTsKICB9LAogIF9kZWxldGVQZW5Nb2RhbENhbGxiYWNrOiBmdW5jdGlvbiBfZGVsZXRlUGVuTW9kYWxDYWxsYmFjaygpIHsKICAgICQoIiNjb25maXJtLWRlbGV0ZSIpLl9vbigiY2xpY2siLCB0aGlzLl9jb25maXJtRGVsZXRlUGVuLCB0aGlzKTsKICB9LAogIF9jb25maXJtRGVsZXRlUGVuOiBmdW5jdGlvbiBfY29uZmlybURlbGV0ZVBlbigpIHsKICAgIHRoaXMuZGVsKCIvcGVuLyIgKyBDUC5wZW4uZ2V0QWN0aXZlU2x1Z0hhc2goKSwge30sIHRoaXMuX2RvbmVEZWxldGUpLCAkLnNob3dNZXNzYWdlKENvcHkuZGVsZXRpbmdQZW4sICJzdXBlci1zbG93Iik7CiAgfSwKICBfZG9uZURlbGV0ZTogZnVuY3Rpb24gX2RvbmVEZWxldGUoKSB7CiAgICBDUExvY2FsU3RvcmFnZS5zZXRJdGVtKCJwZW5fZGVsZXRlZCIsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgcGVuSUQ6IENQLnBlbi5pZCwKICAgICAgYWN0aXZlU2x1Z0hhc2g6IENQLnBlbi5nZXRBY3RpdmVTbHVnSGFzaCgpCiAgICB9KSksIENQLnBlblNhdmVyLnNraXBXYXJuaW5nID0gITAsIHdpbmRvdy5sb2NhdGlvbiA9ICIvZGFzaGJvYXJkIjsKICB9Cn0pLCB3aW5kb3cuUGVuUmVzb3VyY2VzRGF0YSA9IHsKICBNSU5fUkVTT1VSQ0VTOiAyLAogIHNldFJlc291cmNlOiBmdW5jdGlvbiBzZXRSZXNvdXJjZShlLCB0KSB7CiAgICB0aGlzLl9zZXRSZXNvdXJjZVVSTChfLmZpbmQodGhpcy5yZXNvdXJjZXMsIHsKICAgICAgdmlld19pZDogZQogICAgfSksIHQpLCB0aGlzLl9wb3N0UmVzb3VyY2VDaGFuZ2UoKTsKICB9LAogIHVwZGF0ZVJlc291cmNlc09yZGVyOiBmdW5jdGlvbiB1cGRhdGVSZXNvdXJjZXNPcmRlcihlLCB0KSB7CiAgICB0aGlzLl91cGRhdGVSZXNvdXJjZXNPcmRlcihlLCB0KSwgdGhpcy5fcG9zdFJlc291cmNlQ2hhbmdlKCk7CiAgfSwKICBhZGRFbXB0eVJlc291cmNlOiBmdW5jdGlvbiBhZGRFbXB0eVJlc291cmNlKGUpIHsKICAgIHRoaXMuX2FkZE5ld1Jlc291cmNlKGUsICIiKSwgdGhpcy5fcG9zdFJlc291cmNlQ2hhbmdlKCk7CiAgfSwKICBxdWlja0FkZFJlc291cmNlOiBmdW5jdGlvbiBxdWlja0FkZFJlc291cmNlKGUsIHQpIHsKICAgIHRoaXMuX3F1aWNrQWRkUmVzb3VyY2UoZSwgdCksIHRoaXMuX3Bvc3RSZXNvdXJjZUNoYW5nZSghMCk7CiAgfSwKICBkZWxldGVSZXNvdXJjZTogZnVuY3Rpb24gZGVsZXRlUmVzb3VyY2UoZSkgewogICAgdGhpcy5fZGVsZXRlUmVzb3VyY2UoZSksIHRoaXMuX3Bvc3RSZXNvdXJjZUNoYW5nZSgpOwogIH0sCiAgZ2V0UmVzb3VyY2VzQnlUeXBlOiBmdW5jdGlvbiBnZXRSZXNvdXJjZXNCeVR5cGUoZSkgewogICAgcmV0dXJuIF8uc2VsZWN0KHRoaXMucmVzb3VyY2VzLCB7CiAgICAgIHJlc291cmNlX3R5cGU6IGUKICAgIH0pOwogIH0sCiAgc2V0UGVuUmVzb3VyY2VzOiBmdW5jdGlvbiBzZXRQZW5SZXNvdXJjZXMoZSkgewogICAgdGhpcy5yZXNvdXJjZXMgPSBlLnBlbi5yZXNvdXJjZXMsIHRoaXMuX3Bvc3RSZXNvdXJjZUNoYW5nZSgpOwogIH0sCiAgX2Vuc3VyZVJlc291cmNlc1ZhbGlkOiBmdW5jdGlvbiBfZW5zdXJlUmVzb3VyY2VzVmFsaWQoKSB7CiAgICB0aGlzLl9lbnN1cmVNaW5OdW1iZXJPZlJlc291cmNlc0ZvckVhY2hUeXBlKCksIHRoaXMuX3N0b3JlUmVzb3VyY2VzQnlPcmRlcigpLCB0aGlzLl9lbnN1cmVSZXNvdXJjZXNIYXZlVmlld0lEcygpLCB0aGlzLl9lbnN1cmVSZXNvdXJjZXNIYXZlQWN0aW9ucygpOwogIH0sCiAgX2Vuc3VyZU1pbk51bWJlck9mUmVzb3VyY2VzRm9yRWFjaFR5cGU6IGZ1bmN0aW9uIF9lbnN1cmVNaW5OdW1iZXJPZlJlc291cmNlc0ZvckVhY2hUeXBlKCkgewogICAgdGhpcy5fZW5zdXJlTWluTnVtYmVyT2ZSZXNvdXJjZXNGb3JUeXBlKCJjc3MiKSwgdGhpcy5fZW5zdXJlTWluTnVtYmVyT2ZSZXNvdXJjZXNGb3JUeXBlKCJqcyIpOwogIH0sCiAgX2Vuc3VyZU1pbk51bWJlck9mUmVzb3VyY2VzRm9yVHlwZTogZnVuY3Rpb24gX2Vuc3VyZU1pbk51bWJlck9mUmVzb3VyY2VzRm9yVHlwZShlKSB7CiAgICBmb3IgKHZhciB0ID0gdGhpcy5NSU5fUkVTT1VSQ0VTIC0gdGhpcy5nZXRSZXNvdXJjZXNCeVR5cGUoZSkubGVuZ3RoLCBuID0gMDsgbiA8IHQ7IG4rKykgewogICAgICB0aGlzLnJlc291cmNlcy5wdXNoKHsKICAgICAgICByZXNvdXJjZV90eXBlOiBlLAogICAgICAgIG9yZGVyOiB0aGlzLmdldE5leHRNYXhPcmRlcihlKSwKICAgICAgICB1cmw6ICIiCiAgICAgIH0pOwogICAgfQogIH0sCiAgX2Vuc3VyZVJlc291cmNlc0hhdmVWaWV3SURzOiBmdW5jdGlvbiBfZW5zdXJlUmVzb3VyY2VzSGF2ZVZpZXdJRHMoKSB7CiAgICBfLmZvckVhY2godGhpcy5yZXNvdXJjZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgIF8uaXNVbmRlZmluZWQoZS52aWV3X2lkKSAmJiAoZS52aWV3X2lkID0gSURHZW5lcmF0b3IuZ2VuZXJhdGUoKSk7CiAgICB9KTsKICB9LAogIF9lbnN1cmVSZXNvdXJjZXNIYXZlQWN0aW9uczogZnVuY3Rpb24gX2Vuc3VyZVJlc291cmNlc0hhdmVBY3Rpb25zKCkgewogICAgXy5mb3JFYWNoKHRoaXMucmVzb3VyY2VzLCBmdW5jdGlvbiAoZSkgewogICAgICBfLmlzVW5kZWZpbmVkKGUuYWN0aW9uKSAmJiAoZS5hY3Rpb24gPSAiaW5jbHVkZV8iICsgZS5yZXNvdXJjZV90eXBlICsgIl91cmwiKTsKICAgIH0pOwogIH0sCiAgX3Bvc3RSZXNvdXJjZUNoYW5nZTogZnVuY3Rpb24gX3Bvc3RSZXNvdXJjZUNoYW5nZShlKSB7CiAgICB0aGlzLl91cGRhdGVMYXN0VXBkYXRlZCgpLCB0aGlzLl9lbnN1cmVSZXNvdXJjZXNWYWxpZCgpLCB0aGlzLl9wdWJsaXNoUmVzb3VyY2VQZW5DaGFuZ2UoZSk7CiAgfSwKICBfcXVpY2tBZGRSZXNvdXJjZTogZnVuY3Rpb24gX3F1aWNrQWRkUmVzb3VyY2UoZSwgdCkgewogICAgdmFyIG4gPSBfLmZpbmQodGhpcy5nZXRSZXNvdXJjZXNCeVR5cGUoZSksIHsKICAgICAgdXJsOiAiIgogICAgfSk7CgogICAgbiA/IHRoaXMuX3NldFJlc291cmNlVVJMKG4sIHQpIDogdGhpcy5fYWRkTmV3UmVzb3VyY2UoZSwgdCk7CiAgfSwKICBfc2V0UmVzb3VyY2VVUkw6IGZ1bmN0aW9uIF9zZXRSZXNvdXJjZVVSTChlLCB0KSB7CiAgICBlLnVybCA9IHQucmVwbGFjZSgvXHMrLywgIiIpOwogIH0sCiAgX3VwZGF0ZVJlc291cmNlc09yZGVyOiBmdW5jdGlvbiBfdXBkYXRlUmVzb3VyY2VzT3JkZXIoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IDAsIHMgPSB0aGlzLnJlc291cmNlcy5sZW5ndGg7IG4gPCBzOyBuKyspIHsKICAgICAgdGhpcy5yZXNvdXJjZXNbbl0ucmVzb3VyY2VfdHlwZSA9PT0gZSAmJiAodGhpcy5yZXNvdXJjZXNbbl0ub3JkZXIgPSB0W3RoaXMucmVzb3VyY2VzW25dLnZpZXdfaWRdKTsKICAgIH0KCiAgICB0aGlzLl9zdG9yZVJlc291cmNlc0J5T3JkZXIoKTsKICB9LAogIF9zdG9yZVJlc291cmNlc0J5T3JkZXI6IGZ1bmN0aW9uIF9zdG9yZVJlc291cmNlc0J5T3JkZXIoKSB7CiAgICB0aGlzLnJlc291cmNlcyA9IF8uc29ydEJ5KHRoaXMucmVzb3VyY2VzLCAib3JkZXIiKTsKICB9LAogIF9hZGROZXdSZXNvdXJjZTogZnVuY3Rpb24gX2FkZE5ld1Jlc291cmNlKGUsIHQpIHsKICAgIHRoaXMucmVzb3VyY2VzLnB1c2goewogICAgICByZXNvdXJjZV90eXBlOiBlLAogICAgICBvcmRlcjogdGhpcy5nZXROZXh0TWF4T3JkZXIoZSksCiAgICAgIHVybDogdCB8fCAiIiwKICAgICAgdmlld19pZDogSURHZW5lcmF0b3IuZ2VuZXJhdGUoKSwKICAgICAgYWN0aW9uOiAiaW5jbHVkZV8iICsgZSArICJfdXJsIgogICAgfSk7CiAgfSwKICBnZXROZXh0TWF4T3JkZXI6IGZ1bmN0aW9uIGdldE5leHRNYXhPcmRlcihlKSB7CiAgICBmb3IgKHZhciB0ID0gMCwgbiA9IDA7IG4gPCB0aGlzLnJlc291cmNlcy5sZW5ndGg7IG4rKykgewogICAgICB2YXIgcyA9IHRoaXMucmVzb3VyY2VzW25dOwogICAgICBlID09PSBzLnJlc291cmNlX3R5cGUgJiYgdCA8PSBzLm9yZGVyICYmICh0ID0gcy5vcmRlciArIDEpOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sCiAgX2RlbGV0ZVJlc291cmNlOiBmdW5jdGlvbiBfZGVsZXRlUmVzb3VyY2UoZSkgewogICAgdmFyIHQgPSBfLmZpbmRJbmRleCh0aGlzLnJlc291cmNlcywgewogICAgICB2aWV3X2lkOiBlCiAgICB9KTsKCiAgICB0aGlzLnJlc291cmNlcy5zcGxpY2UodCwgMSk7CiAgfSwKICBfcHVibGlzaFJlc291cmNlUGVuQ2hhbmdlOiBmdW5jdGlvbiBfcHVibGlzaFJlc291cmNlUGVuQ2hhbmdlKGUpIHsKICAgIEh1Yi5wdWIoInBlbi1jaGFuZ2UiLCB7CiAgICAgIG9yaWdpbjogImNsaWVudCIsCiAgICAgIHJlYmluZDogZSwKICAgICAgcGVuOiB7CiAgICAgICAgcmVzb3VyY2VzOiBfLmNsb25lRGVlcCh0aGlzLnJlc291cmNlcykKICAgICAgfQogICAgfSk7CiAgfQp9LCB3aW5kb3cuUGVuU2F2ZXIgPSBDbGFzcy5leHRlbmQoewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLnBhZ2VUeXBlID0gX19wYWdlVHlwZSwgdGhpcy5fd2FybkFib3V0TG9zdENoYW5nZXMoKTsKICB9LAogIHBvdGVudGlhbExvc3RXb3JrOiBmdW5jdGlvbiBwb3RlbnRpYWxMb3N0V29yaygpIHsKICAgIHJldHVybiB0aGlzLl9zaG91bGRXYXJuQWJvdXRMb3N0V29yaygpOwogIH0sCiAgX3dhcm5BYm91dExvc3RDaGFuZ2VzOiBmdW5jdGlvbiBfd2FybkFib3V0TG9zdENoYW5nZXMoKSB7CiAgICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSAkLnByb3h5KGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLnNraXBXYXJuaW5nKSByZXR1cm4gdGhpcy5fc2hvdWxkV2FybkFib3V0TG9zdFdvcmsoKSA/IENvcHkueW91SGF2ZVVuc2F2ZWRDaGFuZ2VzIDogdm9pZCAwOwogICAgfSwgdGhpcyk7CiAgfSwKICBfc2hvdWxkV2FybkFib3V0TG9zdFdvcms6IGZ1bmN0aW9uIF9zaG91bGRXYXJuQWJvdXRMb3N0V29yaygpIHsKICAgIHZhciBlID0gQ1AucGVuLmhhc1BlbkNvbnRlbnRDaGFuZ2VkKCk7CiAgICByZXR1cm4gInByb2Zlc3NvciIgPT09IHRoaXMucGFnZVR5cGUgPyBlICYmIHRoaXMuX2lzUHJvZmVzc29ySW5Qcm9mZXNzb3JSb29tKCkgOiAiY29sbGFiIiA9PT0gdGhpcy5wYWdlVHlwZSA/IGUgJiYgdGhpcy5faXNQZW5Pd25lckluQ29sbGFiUm9vbSgpIDogZSAmJiAhQ1AucGVuLnJlZGlyZWN0aW5nVG9TYXZlZFVSTCAmJiAhQ1AucGVuLnNhdmVfZGlzYWJsZWQ7CiAgfSwKICBfaXNQcm9mZXNzb3JJblByb2Zlc3NvclJvb206IGZ1bmN0aW9uIF9pc1Byb2Zlc3NvckluUHJvZmVzc29yUm9vbSgpIHsKICAgIHZhciBlID0gITE7CiAgICByZXR1cm4gInByb2Zlc3NvciIgPT09IHRoaXMucGFnZVR5cGUgJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIENQLnByb2Zlc3NvciAmJiAoZSA9ICEwKSwgZTsKICB9LAogIF9pc1Blbk93bmVySW5Db2xsYWJSb29tOiBmdW5jdGlvbiBfaXNQZW5Pd25lckluQ29sbGFiUm9vbSgpIHsKICAgIHJldHVybiAiY29sbGFiIiA9PT0gdGhpcy5wYWdlVHlwZSAmJiBDUC5wZW4uaXNVc2VyUGVuT3duZXIoKTsKICB9Cn0pLCB3aW5kb3cuTG9jYWxEYXRhVmFsaWRhdG9yID0gewogIG1ha2VPYmpWYWxpZDogZnVuY3Rpb24gbWFrZU9ialZhbGlkKGUsIHQpIHsKICAgIGZvciAodmFyIG4gaW4gZSkgewogICAgICB0W25dICYmIChlW25dID0gdGhpcy5fZ2V0VmFsaWRBdHRyaWJ1dGVWYWx1ZSh0LCBuLCBlW25dKSk7CiAgICB9CiAgfSwKICBfZ2V0VmFsaWRBdHRyaWJ1dGVWYWx1ZTogZnVuY3Rpb24gX2dldFZhbGlkQXR0cmlidXRlVmFsdWUoZSwgdCwgbikgewogICAgdmFyIHMgPSBlW3RdOwogICAgcmV0dXJuICJhcnJheSIgPT09IHNbInR5cGVvZiJdID8gdGhpcy5fZ2V0VmFsaWRBcnJheVR5cGUobiwgcykgOiBfLmlzQXJyYXkoc1sidHlwZW9mIl0pID8gdGhpcy5fZ2V0VmFsaWRBcnJheUF0dHJpYnV0ZVZhbHVlKG4sIHMpIDogIm9iamVjdCIgPT09IHNbInR5cGVvZiJdID8gdGhpcy5fZ2V0VmFsaWRPYmplY3RUeXBlKG4sIHMpIDogdGhpcy5fZ2V0VmFsaWRTaW1wbGVBdHRyaWJ1dGVWYWx1ZShuLCBzKTsKICB9LAogIF9nZXRWYWxpZE9iamVjdFR5cGU6IGZ1bmN0aW9uIF9nZXRWYWxpZE9iamVjdFR5cGUoZSwgdCkgewogICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHdpbmRvdy5fY2xvbmVEZWVwKHRbImRlZmF1bHQiXSksIGUpOwogIH0sCiAgX2dldFZhbGlkQXJyYXlUeXBlOiBmdW5jdGlvbiBfZ2V0VmFsaWRBcnJheVR5cGUoZSwgdCkgewogICAgcmV0dXJuIF8uaXNBcnJheShlKSA/IGUgOiB0WyJkZWZhdWx0Il07CiAgfSwKICBfZ2V0VmFsaWRBcnJheUF0dHJpYnV0ZVZhbHVlOiBmdW5jdGlvbiBfZ2V0VmFsaWRBcnJheUF0dHJpYnV0ZVZhbHVlKGUsIHQpIHsKICAgIHJldHVybiBfLmNvbnRhaW5zKHRbInR5cGVvZiJdLCBlKSA/IGUgOiB0WyJkZWZhdWx0Il07CiAgfSwKICBfZ2V0VmFsaWRTaW1wbGVBdHRyaWJ1dGVWYWx1ZTogZnVuY3Rpb24gX2dldFZhbGlkU2ltcGxlQXR0cmlidXRlVmFsdWUoZSwgdCkgewogICAgcmV0dXJuIF90eXBlb2YoZSkgPT09IHRbInR5cGVvZiJdID8gZSA6IHRbImRlZmF1bHQiXTsKICB9Cn0sIHdpbmRvdy5QZW5WYWxpZGF0b3IgPSBDbGFzcy5leHRlbmQoewogIGRhdGFBdHRyaWJ1dGVzOiB7CiAgICB0aXRsZTogewogICAgICAidHlwZW9mIjogInN0cmluZyIsCiAgICAgICJkZWZhdWx0IjogIiIKICAgIH0sCiAgICBkZXNjcmlwdGlvbjogewogICAgICAidHlwZW9mIjogInN0cmluZyIsCiAgICAgICJkZWZhdWx0IjogIiIKICAgIH0sCiAgICBzbHVnX2hhc2g6IHsKICAgICAgInR5cGVvZiI6ICJzdHJpbmciLAogICAgICAiZGVmYXVsdCI6ICIiCiAgICB9LAogICAgaHRtbDogewogICAgICAidHlwZW9mIjogInN0cmluZyIsCiAgICAgICJkZWZhdWx0IjogIiIKICAgIH0sCiAgICBjc3M6IHsKICAgICAgInR5cGVvZiI6ICJzdHJpbmciLAogICAgICAiZGVmYXVsdCI6ICIiCiAgICB9LAogICAganM6IHsKICAgICAgInR5cGVvZiI6ICJzdHJpbmciLAogICAgICAiZGVmYXVsdCI6ICIiCiAgICB9LAogICAgcGFyZW50OiB7CiAgICAgICJ0eXBlb2YiOiAibnVtYmVyIiwKICAgICAgImRlZmF1bHQiOiAwCiAgICB9LAogICAgInByaXZhdGUiOiB7CiAgICAgICJ0eXBlb2YiOiAiYm9vbGVhbiIsCiAgICAgICJkZWZhdWx0IjogITEKICAgIH0sCiAgICB0ZW1wbGF0ZTogewogICAgICAidHlwZW9mIjogImJvb2xlYW4iLAogICAgICAiZGVmYXVsdCI6ICExCiAgICB9LAogICAgbnBtX3BhY2thZ2VzOiB7CiAgICAgICJ0eXBlb2YiOiAib2JqZWN0IiwKICAgICAgImRlZmF1bHQiOiB7fQogICAgfSwKICAgIGh0bWxfcHJlX3Byb2Nlc3NvcjogewogICAgICAidHlwZW9mIjogX19wcmVwcm9jZXNzb3JzLmh0bWwuc3ludGF4ZXMsCiAgICAgICJkZWZhdWx0IjogX19wcmVwcm9jZXNzb3JzLmh0bWxbImRlZmF1bHQiXQogICAgfSwKICAgIGh0bWxfY2xhc3NlczogewogICAgICAidHlwZW9mIjogInN0cmluZyIsCiAgICAgICJkZWZhdWx0IjogIiIKICAgIH0sCiAgICBoZWFkOiB7CiAgICAgICJ0eXBlb2YiOiAic3RyaW5nIiwKICAgICAgImRlZmF1bHQiOiAiIgogICAgfSwKICAgIGNzc19wcmVfcHJvY2Vzc29yOiB7CiAgICAgICJ0eXBlb2YiOiBfX3ByZXByb2Nlc3NvcnMuY3NzLnN5bnRheGVzLAogICAgICAiZGVmYXVsdCI6IF9fcHJlcHJvY2Vzc29ycy5jc3NbImRlZmF1bHQiXQogICAgfSwKICAgIGNzc19wcmVmaXg6IHsKICAgICAgInR5cGVvZiI6IF9fcHJlcHJvY2Vzc29ycy5jc3MucHJlZml4ZXMsCiAgICAgICJkZWZhdWx0IjogX19wcmVwcm9jZXNzb3JzLmNzcy5kZWZhdWx0X3ByZWZpeAogICAgfSwKICAgIGNzc19zdGFydGVyOiB7CiAgICAgICJ0eXBlb2YiOiBfX3ByZXByb2Nlc3NvcnMuY3NzLmJhc2VzLAogICAgICAiZGVmYXVsdCI6IF9fcHJlcHJvY2Vzc29ycy5jc3MuZGVmYXVsdF9iYXNlCiAgICB9LAogICAgc3R5bGVzOiB7CiAgICAgICJ0eXBlb2YiOiAiYXJyYXkiLAogICAgICAiZGVmYXVsdCI6IFtdCiAgICB9LAogICAganNfcHJlX3Byb2Nlc3NvcjogewogICAgICAidHlwZW9mIjogX19wcmVwcm9jZXNzb3JzLmpzLnN5bnRheGVzLAogICAgICAiZGVmYXVsdCI6IF9fcHJlcHJvY2Vzc29ycy5qc1siZGVmYXVsdCJdCiAgICB9LAogICAgc2NyaXB0czogewogICAgICAidHlwZW9mIjogImFycmF5IiwKICAgICAgImRlZmF1bHQiOiBbXQogICAgfQogIH0sCiAgbWFrZVBlblZhbGlkOiBmdW5jdGlvbiBtYWtlUGVuVmFsaWQoZSkgewogICAgTG9jYWxEYXRhVmFsaWRhdG9yLm1ha2VPYmpWYWxpZChlLCB0aGlzLmRhdGFBdHRyaWJ1dGVzKTsKICB9Cn0pLCB3aW5kb3cuUHJvamVjdCA9IENsYXNzLmV4dGVuZCh7CiAgaWQ6ICIiLAogIHRpdGxlOiAiIiwKICBkZXNjcmlwdGlvbjogIiIsCiAgc2x1Z19oYXNoOiAiIiwKICBwYXJlbnQ6IDAsCiAgInByaXZhdGUiOiAhMSwKICB0ZW1wbGF0ZTogITEsCiAgdGFnczogW10sCiAgbmV3VGFnczogW10sCiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIF8uZXh0ZW5kKHRoaXMsIEFKQVhVdGlsKSwgdGhpcy5fbG9hZFN0b3JlZERhdGEoKSwgdGhpcy5fZW5zdXJlRGF0YUlzVmFsaWQoKTsKICB9LAogIF9sb2FkU3RvcmVkRGF0YTogZnVuY3Rpb24gX2xvYWRTdG9yZWREYXRhKCkgewogICAgXy5leHRlbmQodGhpcywgX19pdGVtLCAhMCk7CiAgfSwKICBfZW5zdXJlRGF0YUlzVmFsaWQ6IGZ1bmN0aW9uIF9lbnN1cmVEYXRhSXNWYWxpZCgpIHt9LAogIGdldEFjdGl2ZVNsdWdIYXNoOiBmdW5jdGlvbiBnZXRBY3RpdmVTbHVnSGFzaCgpIHsKICAgIHJldHVybiB0aGlzWyJwcml2YXRlIl0gPyB0aGlzLnNsdWdfaGFzaF9wcml2YXRlIDogdGhpcy5zbHVnX2hhc2g7CiAgfSwKICBnZXRVUkxTbHVnSGFzaDogZnVuY3Rpb24gZ2V0VVJMU2x1Z0hhc2goKSB7CiAgICByZXR1cm4gdGhpc1sicHJpdmF0ZSJdID8gdGhpcy5zbHVnX2hhc2hfcHJpdmF0ZSArICIvIiArIHRoaXMuc2x1Z19oYXNoIDogdGhpcy5zbHVnX2hhc2g7CiAgfSwKICBnZXRUYWdzOiBmdW5jdGlvbiBnZXRUYWdzKCkgewogICAgcmV0dXJuIF8udW5pcShfLmNsb25lKHRoaXMudGFncykuY29uY2F0KF8uY2xvbmUodGhpcy5uZXdUYWdzKSkpOwogIH0sCiAgc2V0SXRlbVZhbHVlOiBmdW5jdGlvbiBzZXRJdGVtVmFsdWUoZSkgewogICAgZm9yICh2YXIgdCBpbiBlLml0ZW0pIHsKICAgICAgdGhpcy5fc2V0VmFsdWUodCwgZS5pdGVtW3RdKTsKICAgIH0KICB9LAogIF9zZXRWYWx1ZTogZnVuY3Rpb24gX3NldFZhbHVlKGUsIHQpIHsKICAgIGlmIChfLmlzT2JqZWN0KHQpICYmICFfLmlzQXJyYXkodCkpIGZvciAodmFyIG4gaW4gdCkgewogICAgICB0aGlzW2VdW25dID0gdFtuXTsKICAgIH0gZWxzZSB0aGlzW2VdID0gdDsKICB9LAogIF91cGRhdGVTYXZlYWJsZVRhZ3NQcmlvclRvU2F2ZTogZnVuY3Rpb24gX3VwZGF0ZVNhdmVhYmxlVGFnc1ByaW9yVG9TYXZlKCkgewogICAgdGhpcy50YWdzID0gdGhpcy5nZXRUYWdzKCksIHRoaXMubmV3VGFncyA9IFtdOwogIH0sCiAgc2F2ZURldGFpbHM6IGZ1bmN0aW9uIHNhdmVEZXRhaWxzKCkgewogICAgdGhpcy5fdXBkYXRlU2F2ZWFibGVUYWdzUHJpb3JUb1NhdmUoKSwgdGhpcy5wdXQoIi9wcm9qZWN0cy9wcm9qZWN0LyIgKyB0aGlzLnNsdWdfaGFzaCwgewogICAgICBfaXNKU09OOiAhMCwKICAgICAganNvbjogewogICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgIHByb2plY3Q6IHsKICAgICAgICAgICAgaWQ6IHRoaXMuaWQsCiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgcHJvamVjdF9maWxlc19hdHRyaWJ1dGVzOiBbXSwKICAgICAgICAgICAgInByaXZhdGUiOiB0aGlzWyJwcml2YXRlIl0sCiAgICAgICAgICAgIHRhZ3M6IHRoaXMudGFncwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwgdGhpcy5fc2F2ZUNvbXBsZXRlKTsKICB9LAogIF9zYXZlQ29tcGxldGU6IGZ1bmN0aW9uIF9zYXZlQ29tcGxldGUoKSB7CiAgICB0aGlzLl91cGRhdGVCcm93c2VyVVJMKCksIENQLlNldHRpbmdzTW9kZWwuaGlkZVNldHRpbmdzUGFuZSgpLCBsb2NhdGlvbi5yZWxvYWQoKTsKICB9LAogIF91cGRhdGVCcm93c2VyVVJMOiBmdW5jdGlvbiBfdXBkYXRlQnJvd3NlclVSTCgpIHsKICAgIGlmICh3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUgJiYgQ1AuaXRlbS5nZXRBY3RpdmVTbHVnSGFzaCgpKSB7CiAgICAgIHZhciBlID0gdGhpcy5fZ2V0VVJMVG9Qcm9qZWN0KCk7CgogICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoZSwgIiIsIGUpOwogICAgfQogIH0sCiAgX2dldFVSTFRvUHJvamVjdDogZnVuY3Rpb24gX2dldFVSTFRvUHJvamVjdCgpIHsKICAgIHJldHVybiAiaHR0cHM6Ly8iLmNvbmNhdChkb2N1bWVudC5sb2NhdGlvbi5ob3N0KS5jb25jYXQoQ1AucHJvZmlsZWQuYmFzZV91cmwsICIvcHJvamVjdC9kZXRhaWxzLyIpLmNvbmNhdChDUC5pdGVtLmdldEFjdGl2ZVNsdWdIYXNoKCkpOwogIH0sCiAgZm9ya1Byb2plY3Q6IGZ1bmN0aW9uIGZvcmtQcm9qZWN0KCkgewogICAgdGhpcy5wb3N0KCIvcHJvamVjdHMvZm9yayIsIHsKICAgICAgX2lzSlNPTjogITAsCiAgICAgIGpzb246IHsKICAgICAgICBzb3VyY2U6IHRoaXMuc2x1Z19oYXNoCiAgICAgIH0KICAgIH0sIHRoaXMuX3N1Y2Nlc3NmdWxGb3JrKTsKICB9LAogIF9zdWNjZXNzZnVsRm9yazogZnVuY3Rpb24gX3N1Y2Nlc3NmdWxGb3JrKGUpIHsKICAgIHZhciB0ID0gZS5wYXlsb2FkLnByb2plY3QudXJsOwogICAgd2luZG93LmxvY2F0aW9uID0gdDsKICB9Cn0pLCB3aW5kb3cuUGVuQWN0aW9ucyA9IENsYXNzLmV4dGVuZCh7CiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHRoaXMuX2JpbmRUb0RPTSgpOwogIH0sCiAgX2JpbmRUb0RPTTogZnVuY3Rpb24gX2JpbmRUb0RPTSgpIHsKICAgIHZhciBlID0gJCgiYm9keSIpOwogICAgZS5vbigiY2xpY2siLCAiI3NhdmUsICN1cGRhdGUsICNzYXZlLWRldGFpbHMiLCB0aGlzLl9zYXZlUGVuKSwgZS5vbigiY2xpY2siLCAiI3NhdmUtYXMtcHJpdmF0ZSIsIHRoaXMuX3NhdmVQZW5Bc1ByaXZhdGUpLCBlLm9uKCJjbGljayIsICIjcnVuIiwgdGhpcy5fcnVuUGVuKSwgJCgiI3Blbi1kZXRhaWxzLWZvcm0iKS5fb24oInN1Ym1pdCIsIHRoaXMuX3NhdmVQZW4sIHRoaXMpLCBlLm9uKCJjbGljayIsICIjbGl2ZS12aWV3LXBvcG91dC1idXR0b24iLCB0aGlzLl9saXZlVmlld1BvcG91dCk7CiAgfSwKICBfc2F2ZVBlbjogZnVuY3Rpb24gX3NhdmVQZW4oKSB7CiAgICBDUC5wZW4uc2F2ZSgpOwogIH0sCiAgX3NhdmVQZW5Bc1ByaXZhdGU6IGZ1bmN0aW9uIF9zYXZlUGVuQXNQcml2YXRlKCkgewogICAgQ1AucGVuLnNhdmVBc1ByaXZhdGUoKTsKICB9LAogIF9ydW5QZW46IGZ1bmN0aW9uIF9ydW5QZW4oKSB7CiAgICBDUC5wZW5SZW5kZXJlci5wcm9jZXNzQW5kUmVuZGVyKCEwKTsKICB9LAogIF9saXZlVmlld1BvcG91dDogZnVuY3Rpb24gX2xpdmVWaWV3UG9wb3V0KCkgewogICAgd2luZG93Lm9wZW4oJCgiI2xpdmUtbGluayIpLmF0dHIoImhyZWYiKSksIENQLkNvZGVFZGl0b3JzUmVzaXplVmlldy5zZXRFZGl0b3JTaXplcyh7CiAgICAgIGVkaXRvcjogIjEiCiAgICB9KTsKICB9Cn0pLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgICJ2aW0iID09PSBDUC5wZW4uZWRpdG9yX3NldHRpbmdzLmtleV9iaW5kaW5ncyAmJiAoQ29kZU1pcnJvci5jb21tYW5kcy5zYXZlID0gZnVuY3Rpb24gKCkgewogICAgICBDUC5wZW4uc2F2ZSgpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0KCkgewogICAgJCgiYm9keSIpLm9uKCJjbGljayIsICIua2V5Ym9hcmQtY29tbWFuZHMtYnV0dG9uIiwgbiksIGQub24oImNsaWNrIiwgaSk7CiAgfQoKICBmdW5jdGlvbiBuKGUpIHsKICAgIGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpLCBsID8gaSgpIDogcygpOwogIH0KCiAgZnVuY3Rpb24gcygpIHsKICAgICFsICYmIHUubGVuZ3RoICYmICh1LnNob3coKSwgQ1Auc2hvd1BvcHVwT3ZlcmxheSgpLCBsID0gITAsIEh1Yi5wdWIoInBvcHVwLW9wZW4iLCBoKSk7CiAgfQoKICBmdW5jdGlvbiBpKCkgewogICAgbCAmJiB1Lmxlbmd0aCAmJiAodS5oaWRlKCksIENQLmhpZGVQb3B1cE92ZXJsYXkoKSwgbCA9ICExKTsKICB9CgogIGZ1bmN0aW9uIG8oKSB7CiAgICBIdWIuc3ViKCJrZXkiLCByKSwgSHViLnN1YigicG9wdXAtb3BlbiIsIGEpOwogIH0KCiAgZnVuY3Rpb24gcihlLCB0KSB7CiAgICAiZXNjIiA9PT0gdC5rZXkgJiYgaSgpOwogIH0KCiAgZnVuY3Rpb24gYShlLCB0KSB7CiAgICB0ICE9PSBoICYmIGkoKTsKICB9CgogIGZ1bmN0aW9uIGMoKSB7CiAgICBLZXl0cmFwLmJpbmQoImNvbWN0cmwrZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgJCgiI25ldy1jb21tZW50IikuZm9jdXMoKTsKICAgIH0sICEwKSwgS2V5dHJhcC5iaW5kKCJjb21jdHJsK3MiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICgiY29sbGFiIiAhPT0gd2luZG93Ll9fcGFnZVR5cGUgJiYgInByb2Zlc3NvciIgIT09IHdpbmRvdy5fX3BhZ2VUeXBlIHx8IENQLnBlbi5pc1VzZXJQZW5Pd25lcigpKSB7CiAgICAgICAgdmFyIGUgPSAkKCIuaW5saW5lLXRpdGxlLWlucHV0Iik7CiAgICAgICAgZS5pcygiOmZvY3VzIikgPyBlLnRyaWdnZXIoImJsdXIiKSA6IENQLnBlbi5zYXZlKCk7CiAgICAgIH0KICAgIH0sICEwKSwgS2V5dHJhcC5iaW5kKCJjb21jdHJsK3NoaWZ0K3MiLCBmdW5jdGlvbiAoKSB7CiAgICAgIENQLnBlbi5zYXZlQXNQcml2YXRlKCk7CiAgICB9LCAhMCksIEtleXRyYXAuYmluZCgiY29tY3RybCtwIiwgZnVuY3Rpb24gKCkgewogICAgICBDUC5wZW4ubmV3UGVuKCk7CiAgICB9LCAhMCksIEtleXRyYXAuYmluZCgiY29tY3RybCtzaGlmdCs3IiwgZnVuY3Rpb24gKCkgewogICAgICBDUC5wZW5SZW5kZXJlci5wcm9jZXNzQW5kUmVuZGVyKCEwKTsKICAgIH0sICEwKSwgS2V5dHJhcC5iaW5kKCJjb21jdHJsK3NoaWZ0KzAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChDUC5wZW4uc2x1Z19oYXNoKSB7CiAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoIi9wZW4vIiwgIi9mdWxsLyIpOwogICAgICAgIHdpbmRvdy5vcGVuKGUpOwogICAgICB9CiAgICB9LCAhMCksIEtleXRyYXAuYmluZCgiY29tY3RybCtzaGlmdCs5IiwgJC5wcm94eShmdW5jdGlvbiAoKSB7CiAgICAgIG4oKTsKICAgIH0sIHRoaXMpLCAhMCksIEtleXRyYXAuYmluZCgiY29tY3RybCtpIiwgZnVuY3Rpb24gKCkgewogICAgICBDUC5zZXR0aW5nc0NvbnRyb2xsZXIudG9nZ2xlU2V0dGluZ3NQYW5lKCk7CiAgICB9LCAhMCksIEtleXRyYXAuYmluZCgiY29tY3RybCtzaGlmdCsuIiwgZnVuY3Rpb24gKCkgewogICAgICBDUC5odG1sRWRpdG9yLmhhc0ZvY3VzKCkgJiYgQ1AuaHRtbEVkaXRvci5lZGl0b3IuZXhlY0NvbW1hbmQoImNsb3NlVGFnIik7CiAgICB9LCAhMCk7CiAgfQoKICBDUC5rZXlCaW5kaW5ncyA9IHt9LCBDUC5rZXlCaW5kaW5ncy5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgZSgpLCB0KCksIG8oKSwgYygpOwogIH07CiAgdmFyIHUgPSAkKCIja2V5Y29tbWFuZHMiKSwKICAgICAgZCA9ICQoIiNwb3B1cC1vdmVybGF5IiksCiAgICAgIGwgPSAhMSwKICAgICAgaCA9ICJrZXlDb21tYW5kcyI7Cn0oKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoKSB7CiAgICB2YXIgZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBpLnJlbW92ZUNsYXNzKCJoaWRlIik7CiAgICB9LCByKTsKICAgIG8ucHVzaChlKTsKICB9CgogIGZ1bmN0aW9uIHQoKSB7CiAgICBuKCksIGkuYWRkQ2xhc3MoImhpZGUiKTsKICB9CgogIGZ1bmN0aW9uIG4oKSB7CiAgICBmb3IgKHZhciBlID0gby5wb3AoKTsgZTspIHsKICAgICAgY2xlYXJUaW1lb3V0KGUpLCBlID0gby5wb3AoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHMobiwgcykgewogICAgaWYgKE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUocywgInBlbi5ucG1fcGFja2FnZXMiKSkgewogICAgICB2YXIgX24gPSBzLnBlbi5ucG1fcGFja2FnZXM7CiAgICAgIENQLnBlbi5pc0J1aWxkaW5nUGFja2FnZXMoX24pID8gZSgpIDogdCgpOwogICAgfQogIH0KCiAgdmFyIGkgPSAkKCIjcGFja2FnZXMtYnVpbGRpbmctbWVzc2FnZS1zZXR0aW5ncywjcGFja2FnZXMtYnVpbGRpbmctbWVzc2FnZSIpLAogICAgICBvID0gW10sCiAgICAgIHIgPSAxNTAwOwogIEh1Yi5zdWIoInBlbi1jaGFuZ2UiLCBzKTsKfSgpLCB3aW5kb3cuQ2xpZW50U2lkZVBlblZhbGlkYXRpb25zID0gewogIHZhbGlkYXRlUGVuOiBmdW5jdGlvbiB2YWxpZGF0ZVBlbihlKSB7CiAgICB2YXIgdCA9IHt9OwogICAgcmV0dXJuIHRoaXMuX3ZhbGlkYXRlSFRNTChlLCB0KSwgdGhpcy52YWxpZGF0ZUNTUyhlLCB0KSwgdDsKICB9LAogIF92YWxpZGF0ZUhUTUw6IGZ1bmN0aW9uIF92YWxpZGF0ZUhUTUwoZSwgdCkgewogICAgL14oXHMrKT88IWRvY3R5cGUvaS50ZXN0KGUuaHRtbCkgJiYgKHQuaHRtbCA9IHsKICAgICAgbGluZTogMSwKICAgICAgdHlwZTogImh0bWwiLAogICAgICBtZXNzYWdlOiAiWW91IGRvbid0IG5lZWQgYSBET0NUWVBFIG9uIENvZGVQZW4uIEp1c3QgcHV0IGhlcmUgd2hhdCB5b3Ugd291bGQgbm9ybWFsbHkgcHV0IGluIHRoZSA8Ym9keT4uIiwKICAgICAgbGV2ZWw6ICJ3YXJuIiwKICAgICAgcHJldHR5X25hbWU6ICJIVE1MIgogICAgfSk7CiAgfSwKICB2YWxpZGF0ZUNTUzogZnVuY3Rpb24gdmFsaWRhdGVDU1MoZSwgdCkgewogICAgaWYgKF8uY29udGFpbnMoWyJzY3NzIiwgInNhc3MiXSwgZS5jc3NfcHJlX3Byb2Nlc3NvcikpIHsKICAgICAgdmFyIG4gPSAvaW5saW5lLWltYWdlL2k7CiAgICAgIG4udGVzdChlLmNzcykgJiYgKHQuY3NzID0gewogICAgICAgIGxpbmU6IHRoaXMuX2ZpbmRFcnJvckxpbmVOdW1iZXIoZS5jc3MsIG4pLAogICAgICAgIHR5cGU6ICJjc3MiLAogICAgICAgIG1lc3NhZ2U6ICJUaGUgZnVuY3Rpb24gaW5saW5lLWltYWdlIGNhbiBub3QgYmUgdXNlZCBvbiBDb2RlUGVuIHNpbmNlIGl0IGRlcGVuZHMgb24gcmVhZGluZyBpbWFnZXMgZnJvbSBkaXNrLiBXZSd2ZSByZW1vdmVkIGl0LiIsCiAgICAgICAgbGV2ZWw6ICJ3YXJuIiwKICAgICAgICBwcmV0dHlfbmFtZTogIlNDU1MiCiAgICAgIH0pOwogICAgICB2YXIgcyA9IC9pbWFnZS13aWR0aFwoL2k7CiAgICAgIHMudGVzdChlLmNzcykgJiYgKHQuY3NzID0gewogICAgICAgIGxpbmU6IHRoaXMuX2ZpbmRFcnJvckxpbmVOdW1iZXIoZS5jc3MsIHMpLAogICAgICAgIHR5cGU6ICJjc3MiLAogICAgICAgIG1lc3NhZ2U6ICJUaGUgZnVuY3Rpb24gaW1hZ2Utd2lkdGggY2FuIG5vdCBiZSB1c2VkIG9uIENvZGVQZW4gc2luY2UgaXQgZGVwZW5kcyBvbiByZWFkaW5nIGltYWdlcyBmcm9tIGRpc2suIFdlJ3ZlIHJlbW92ZWQgaXQuIiwKICAgICAgICBsZXZlbDogIndhcm4iLAogICAgICAgIHByZXR0eV9uYW1lOiAiU0NTUyIKICAgICAgfSk7CiAgICAgIHZhciBpID0gL2ltYWdlLWhlaWdodFwoL2k7CiAgICAgIGkudGVzdChlLmNzcykgJiYgKHQuY3NzID0gewogICAgICAgIGxpbmU6IHRoaXMuX2ZpbmRFcnJvckxpbmVOdW1iZXIoZS5jc3MsIGkpLAogICAgICAgIHR5cGU6ICJjc3MiLAogICAgICAgIG1lc3NhZ2U6ICJUaGUgZnVuY3Rpb24gaW1hZ2UtaGVpZ2h0IGNhbiBub3QgYmUgdXNlZCBvbiBDb2RlUGVuIHNpbmNlIGl0IGRlcGVuZHMgb24gcmVhZGluZyBpbWFnZXMgZnJvbSBkaXNrLiBXZSd2ZSByZW1vdmVkIGl0LiIsCiAgICAgICAgbGV2ZWw6ICJ3YXJuIiwKICAgICAgICBwcmV0dHlfbmFtZTogIlNDU1MiCiAgICAgIH0pOwogICAgfQoKICAgIGlmICgibGVzcyIgPT09IGUuY3NzX3ByZV9wcm9jZXNzb3IpIHsKICAgICAgdmFyIG8gPSAvZGF0YS11cmkvaTsKICAgICAgby50ZXN0KGUuY3NzKSAmJiAodC5jc3MgPSB7CiAgICAgICAgbGluZTogdGhpcy5fZmluZEVycm9yTGluZU51bWJlcihlLmNzcywgbyksCiAgICAgICAgdHlwZTogImNzcyIsCiAgICAgICAgbWVzc2FnZTogIlRoZSBmdW5jdGlvbiBkYXRhLXVyaSBjYW4gbm90IGJlIHVzZWQgYmVjYXVzZSBpdCdzIGluc2VjdXJlLiBXZSd2ZSByZW1vdmVkIGl0IGZyb20geW91ciBMRVNTIGNvZGUuIiwKICAgICAgICBsZXZlbDogIndhcm4iLAogICAgICAgIHByZXR0eV9uYW1lOiAiTEVTUyIKICAgICAgfSk7CiAgICB9CgogICAgaWYgKGUuY3NzKSB7CiAgICAgIHZhciByID0gLzxzdHlsZT4vaTsKICAgICAgci50ZXN0KGUuY3NzKSAmJiAodC5jc3MgPSB7CiAgICAgICAgbGluZTogdGhpcy5fZmluZEVycm9yTGluZU51bWJlcihlLmNzcywgciksCiAgICAgICAgdHlwZTogImNzcyIsCiAgICAgICAgbWVzc2FnZTogIllvdSBkb24ndCBuZWVkIHRvIGluY2x1ZGUgYSBzdHlsZSB0YWcuIEp1c3QgcHV0IGhlcmUgd2hhdCB5b3Ugd291bGQgbm9ybWFsbHkgaW5jbHVkZSBpbiB0aGUgc3R5bGUgdGFnLiIsCiAgICAgICAgbGV2ZWw6ICJ3YXJuIiwKICAgICAgICBwcmV0dHlfbmFtZTogIkNTUyIKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfSwKICBfZmluZEVycm9yTGluZU51bWJlcjogZnVuY3Rpb24gX2ZpbmRFcnJvckxpbmVOdW1iZXIoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IGUuc3BsaXQoIlxuIiksIHMgPSAwLCBpID0gbi5sZW5ndGg7IHMgPCBpOyBzKyspIHsKICAgICAgaWYgKHQudGVzdChuW3NdKSkgcmV0dXJuIHMgKyAxOwogICAgfQoKICAgIHJldHVybiAxOwogIH0KfSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoZSkgewogICAgcmV0dXJuIChlIHx8ICIiKS5tYXRjaCgvKFxbXFtcW1xTK1wuLnsyLDEwfVwvXFMrXC9wZW5cLyhcd3s1LH0pXF1cXVxdKS9nbSkgfHwgW107CiAgfQoKICBmdW5jdGlvbiB0KGUsIHQpIHsKICAgIHJldHVybiB0LnJlZHVjZShmdW5jdGlvbiAodCwgaSkgewogICAgICByZXR1cm4gaS5wYXIgJiYgImh0bWwiID09PSBpLnNvdXJjZS50eXBlICYmICh0ID0gdC5yZXBsYWNlKG4oaSksIHMoZSwgaSkpKSwgdDsKICAgIH0sIGUpOwogIH0KCiAgZnVuY3Rpb24gbihlKSB7CiAgICB2YXIgdCA9IGUuaWQucmVwbGFjZSgvXC8vZywgIlxcLyIpLnJlcGxhY2UoL1xbL2csICJcXFsiKS5yZXBsYWNlKC9cXS9nLCAiXFxdIik7CiAgICByZXR1cm4gbmV3IFJlZ0V4cCh0LCAiZyIpOwogIH0KCiAgZnVuY3Rpb24gcyhlLCB0KSB7CiAgICB2YXIgbiA9IGkoZSwgdC5pZCk7CiAgICByZXR1cm4gbiA/ICh0LnNvdXJjZS5ib2R5IHx8ICIiKS5zcGxpdCgvXHJ8XG4vKS5qb2luKG4pIDogdC5zb3VyY2UuYm9keTsKICB9CgogIGZ1bmN0aW9uIGkoZSwgdCkgewogICAgdmFyIG4gPSAiKFxccyspPyIgKyB0LnJlcGxhY2UoL1xbL2csICJcXFsiKS5yZXBsYWNlKC9cLy9nLCAiXFwvIikucmVwbGFjZSgvXF0vZywgIlxcXSIpLAogICAgICAgIHMgPSBuZXcgUmVnRXhwKG4sICJtZyIpLmV4ZWMoZSk7CiAgICByZXR1cm4gcyA/IHNbMV0gOiAiIjsKICB9CgogIHdpbmRvdy5QQVJUZW1wbGF0ZXMgPSB7CiAgICBmaW5kVGVtcGxhdGVzOiBlLAogICAgcmVuZGVyVGVtcGxhdGVzOiB0CiAgfTsKfSgpLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZShlKSB7CiAgICB2YXIgdCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoImRpdi5ib3giKS5kYXRhKCJ0eXBlIik7CiAgICAkKCIjYm94LSIgKyB0ICsgIiAuaW5saW5lLWVkaXRvci1lcnJvciIpLnJlbW92ZUNsYXNzKCJpbmxpbmUtZXJyb3ItaGlkZGVuIiksIFAodCksIEUodCksIEh1Yi5wdWIoImVkaXRvci1yZWZyZXNoIiwgewogICAgICBkZWxheTogMAogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0KGUpIHsKICAgIHJldHVybiAhXy5maW5kKGUsIHsKICAgICAgbGV2ZWw6ICJlcnJvciIKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbihlKSB7CiAgICBjbGVhclRpbWVvdXQoayksIHMoImFsbCIpLCBfLnNpemUoZSkgJiYgbyhlKTsKICB9CgogIGZ1bmN0aW9uIHMoZSkgewogICAgKCJhbGwiID09PSBlID8geCA6IFtlXSkuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICBpKGUpOwogICAgfSksIEUoKTsKICB9CgogIGZ1bmN0aW9uIGkoZSkgewogICAgdmFyIHQgPSAoQ29kZUVkaXRvcnNVdGlsLmdldEVkaXRvckJ5VHlwZShlKSB8fCB7fSkuZWRpdG9yOwoKICAgIGlmICh0KSB7CiAgICAgIGZvciAodmFyIG4gPSBBW2VdLndpZGdldHMsIHMgPSAwLCBpID0gbi5sZW5ndGg7IHMgPCBpOyBzKyspIHsKICAgICAgICBuW3NdLmNsZWFyKCk7CiAgICAgIH0KCiAgICAgIHQuZWFjaExpbmUoZnVuY3Rpb24gKGUpIHsKICAgICAgICB0LnJlbW92ZUxpbmVDbGFzcyhlLCAiYmFja2dyb3VuZCIsICJsaW5lLWhpZ2hsaWdodCIpOwogICAgICB9KSwgQVtlXS53aWRnZXRzID0gW10sIEFbZV0ubGluZXMgPSBbXTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIG8oZSkgewogICAgayA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBjKGUpOwogICAgfSwgMTAwKTsKICB9CgogIGZ1bmN0aW9uIHIoZSkgewogICAgcmV0dXJuICJ1bmRlZmluZWQiID09IHR5cGVvZiBlLmxpbmUgfHwgInVuZGVmaW5lZCIgPT0gdHlwZW9mIGUubWVzc2FnZTsKICB9CgogIGZ1bmN0aW9uIGEoZSwgdCkgewogICAgQVtlLnR5cGVdLndpZGdldHMucHVzaCh0KSwgQVtlLnR5cGVdLmxpbmVzLnB1c2goZS5saW5lKSwgZS5lcnJvclR5cGUgPT09IE0uZGVwZW5kZW5jeSAmJiAoQVtlLnR5cGVdLnNvbHV0aW9uID0gZSk7CiAgfQoKICBmdW5jdGlvbiBjKGUpIHsKICAgIGZvciAodmFyIHQgaW4gZSkgewogICAgICB2YXIgbiA9IGVbdF07CgogICAgICBpZiAoIXIobikpIHsKICAgICAgICBnKG4pOwogICAgICAgIHZhciBzID0gdShDb2RlRWRpdG9yc1V0aWwuZ2V0RWRpdG9yQnlUeXBlKG4udHlwZSkuZWRpdG9yLCBuKTsKICAgICAgICBUKG4pLCBhKG4sIHMpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiB1KGUsIHQpIHsKICAgIHZhciBuID0gJCh5KHQpKVswXSwKICAgICAgICBzID0gcGFyc2VJbnQodC5saW5lIC0gMSwgMTApOwogICAgcmV0dXJuIGUuYWRkTGluZUNsYXNzKHMsICJiYWNrZ3JvdW5kIiwgImxpbmUtaGlnaGxpZ2h0IiksIGUuYWRkTGluZVdpZGdldChzLCBuLCB7CiAgICAgIGNvdmVyR3V0dGVyOiAhMCwKICAgICAgbm9IU2Nyb2xsOiAhMAogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBkKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5oaXRzLmxlbmd0aDsgbisrKSB7CiAgICAgIHZhciBzID0gdC5oaXRzW25dOwogICAgICBpZiAocy5uYW1lID09PSBlLm5hbWUpIHJldHVybiBlLnZlcnNpb24sIHsKICAgICAgICBuYW1lOiBzLm5hbWUsCiAgICAgICAgdmVyc2lvbjogcy52ZXJzaW9uCiAgICAgIH07CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfQoKICBmdW5jdGlvbiBsKGUpIHsKICAgIHZhciB0ID0gZS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5hbGdvbGlhLm5wbUluZGV4LnNlYXJjaChlLm5hbWUpOwogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5hbGwodCkudGhlbihmdW5jdGlvbiAodCkgewogICAgICBmb3IgKHZhciBuID0gW10sIHMgPSBbXSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG8gPSB0W2ldLAogICAgICAgICAgICByID0gZVtpXSwKICAgICAgICAgICAgYSA9IGQociwgbyk7CiAgICAgICAgYSA/IHMucHVzaChhKSA6IG4ucHVzaChyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBmb3VuZFBhY2thZ2VzOiBzLAogICAgICAgIG1pc3NpbmdQYWNrYWdlczogbgogICAgICB9OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBoKGUsIHQpIHsKICAgIHZhciBuID0gIlVuYWJsZSB0byBmaW5kICciICsgdFswXS5pbXBvcnRQYXRoICsgIicgb24gbnBtLiI7CiAgICByZXR1cm4gW09iamVjdC5hc3NpZ24oe30sIGUsIHsKICAgICAgZXJyb3JUeXBlOiBNLmVycm9yLAogICAgICBtZXNzYWdlOiBuLAogICAgICBzaG93RXJyb3JJbW1lZGlhdGVseTogITAKICAgIH0pXTsKICB9CgogIGZ1bmN0aW9uIHAoKSB7CiAgICBDUC5wZW4uc2V0SXRlbVZhbHVlKHsKICAgICAgb3JpZ2luOiAiY2xpZW50IiwKICAgICAgcGVuOiB7CiAgICAgICAganNfcHJlX3Byb2Nlc3NvcjogImJhYmVsIgogICAgICB9CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGYoZSkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgdmFyIHQgPSBBLmpzLnNvbHV0aW9uOwogICAgdC5lcnJvclR5cGUgPT09IE0uZGVwZW5kZW5jeSAmJiAocCgpLCBsKHQuZGVwZW5kZW5jaWVzKS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgIGUubWlzc2luZ1BhY2thZ2VzLmxlbmd0aCA+IDAgPyBuKGgodCwgZS5taXNzaW5nUGFja2FnZXMpKSA6IChlLmZvdW5kUGFja2FnZXMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIENQLnBlbi5hZGRQYWNrYWdlKGUubmFtZSwgZS52ZXJzaW9uKTsKICAgICAgfSksIENQLnBlbi5zYXZlKCkpOwogICAgfSkpOwogIH0KCiAgZnVuY3Rpb24gZyhlKSB7CiAgICBlLmVycm9yVHlwZSA9PT0gTS5kZXBlbmRlbmN5ICYmIGwoZS5kZXBlbmRlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAicGVlciIgPT09IGUudHlwZTsKICAgIH0pKS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuZm91bmRQYWNrYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgQ1AucGVuLmFkZFBhY2thZ2UoZS5uYW1lLCBlLnZlcnNpb24pOwogICAgICB9KSwgQ1AucGVuLnNhdmUoKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbShlKSB7CiAgICB2YXIgdCA9IGUuZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5pbXBvcnRQYXRoOwogICAgfSksCiAgICAgICAgbiA9IHRbMF07CiAgICByZXR1cm4gdC5sZW5ndGggPiAyID8gbiArICIgYW5kICIgKyAodC5sZW5ndGggLSAxKSArICIgb3RoZXIgcGFja2FnZXMgaGF2ZW4ndCBiZWVuIGxvYWRlZC4iIDogMiA9PT0gdC5sZW5ndGggPyBuICsgIiBhbmQgIiArIHRbMV0gKyAiIGhhdmVuJ3QgYmVlbiBsb2FkZWQuIiA6IG4gKyAiIGhhc24ndCBiZWVuIGxvYWRlZC4iOwogIH0KCiAgZnVuY3Rpb24gYihlKSB7CiAgICByZXR1cm4gZS5lcnJvclR5cGUgPT09IE0uZGVwZW5kZW5jeSA/IG0oZSkgOiBlLm1lc3NhZ2U7CiAgfQoKICBmdW5jdGlvbiB2KGUpIHsKICAgIHJldHVybiBlLmVycm9yVHlwZSA9PT0gTS5kZXBlbmRlbmN5IHx8IGUuc2hvd0Vycm9ySW1tZWRpYXRlbHk7CiAgfQoKICBmdW5jdGlvbiBDKGUpIHsKICAgIHZhciB0ID0gdihlKSA/ICIiIDogImlubGluZS1lcnJvci1oaWRkZW4iOwogICAgcmV0dXJuIGUuZXJyb3JUeXBlID09PSBNLmRlcGVuZGVuY3kgPyAiPGRpdiBjbGFzcz0naW5saW5lLWVkaXRvci1lcnJvciB5ZWxsb3cgIiArIHQgKyAiJz48ZGl2IGNsYXNzPSdpbmxpbmUtZXJyb3ItbWVzc2FnZSc+PCU9IG1lc3NhZ2UgJT4gPGEgaHJlZj0nIycgY2xhc3M9J2pzLWVkaXRvci1zb2x1dGlvbic+SW5zdGFsbCBub3c/PC9hPjwvZGl2PjwvZGl2PiIgOiAiPGRpdiBjbGFzcz0naW5saW5lLWVkaXRvci1lcnJvciAiICsgdCArICInPjxkaXYgY2xhc3M9J2lubGluZS1lcnJvci1tZXNzYWdlJz48JT0gbWVzc2FnZSAlPjwvZGl2PjwvZGl2PiI7CiAgfQoKICBmdW5jdGlvbiB5KGUpIHsKICAgIHZhciB0ID0gYihlKTsKICAgIHJldHVybiBfLnRlbXBsYXRlKEMoZSksIHsKICAgICAgbWVzc2FnZTogdyh0KQogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB3KGUpIHsKICAgIHJldHVybiBfaHRtbEVudGl0aWVzKGUpLnJlcGxhY2UoLyZsdDticiBcLyZndDsvZywgIjxiciAvPiIpLnJlcGxhY2UoLy0mZ3Q7L2csICItPiIpOwogIH0KCiAgZnVuY3Rpb24gUChlKSB7CiAgICB2YXIgdCA9IFMoQVtlXS5saW5lc1swXSk7CiAgICBDb2RlRWRpdG9yc1V0aWwuZ2V0RWRpdG9yQnlUeXBlKGUpLmVkaXRvci5zY3JvbGxJbnRvVmlldyh0KTsKICB9CgogIGZ1bmN0aW9uIFMoZSkgewogICAgcmV0dXJuIGUgLSAyID4gMCA/IGUgLSAyIDogMDsKICB9CgogIGZ1bmN0aW9uIFQoZSkgewogICAgdihlKSB8fCAkKCIjZXJyb3ItYmFyLSIgKyBlLnR5cGUpLnNob3coKTsKICB9CgogIGZ1bmN0aW9uIEUoZSkgewogICAgZSA/ICQoIiNlcnJvci1iYXItIiArIGUpLmhpZGUoKSA6ICQoIi5lcnJvci1iYXIiKS5oaWRlKCk7CiAgfQoKICB2YXIgeCA9IFsiaHRtbCIsICJjc3MiLCAianMiXSwKICAgICAgQSA9IHgucmVkdWNlKGZ1bmN0aW9uIChlLCB0KSB7CiAgICByZXR1cm4gZVt0XSA9IHsKICAgICAgbGluZXM6IFtdLAogICAgICBzb2x1dGlvbjogbnVsbCwKICAgICAgd2lkZ2V0czogW10KICAgIH0sIGU7CiAgfSwge30pLAogICAgICBrID0gMDsKICAkKCJib2R5Iikub24oImNsaWNrIiwgIi5qcy1lZGl0b3Itc29sdXRpb24iLCBmKTsKICB2YXIgTSA9IHsKICAgIGVycm9yOiAiZXJyb3IiLAogICAgZGVwZW5kZW5jeTogImRlcGVuZGVuY3kiLAogICAgaW1wb3J0UGF0aDogImltcG9ydFBhdGgiCiAgfTsKICAkKCIuZXJyb3ItaWNvbiIpLm9uKCJjbGljayIsIGUpLCBIdWIuc3ViKCJlcnJvci1pbmZpbml0ZS1sb29wIiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgIG4odCk7CiAgfSksIHdpbmRvdy5lZGl0b3JFcnJvckhhbmRsZXIgPSB7CiAgICBjYW5SZW5kZXJQZW46IHQsCiAgICBjbGVhclByZXByb2NXaWRnZXRzOiBzLAogICAgaGFuZGxlRXJyb3JzSW5FZGl0b3I6IG4KICB9Owp9KCksIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBlKGUsIG4pIHsKICAgIHJldHVybiB7CiAgICAgIGJ1aWxkRmlsZXM6IHQobi50b1N0b3JlLCBlKSwKICAgICAgZXJyb3JzOiBzKGUpLAogICAgICBwYXlsb2FkOiBlCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gdChlLCB0KSB7CiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZSwgbih0KSk7CiAgfQoKICBmdW5jdGlvbiBuKGUpIHsKICAgIHJldHVybiBPYmplY3QudmFsdWVzKGUpLnJlZHVjZShmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gZVt0LmNvbnRlbnRUeXBlXSA9IHQudGV4dE91dHB1dCwgZTsKICAgIH0sIHt9KTsKICB9CgogIGZ1bmN0aW9uIHMoZSkgewogICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoZSkucmVkdWNlKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGlmICh0LmVycm9ycyAmJiB0LmVycm9yc1swXSkgewogICAgICAgIHZhciBuID0gdC5lcnJvcnNbMF07CiAgICAgICAgZVt0LmNvbnRlbnRUeXBlXSA9IE9iamVjdC5hc3NpZ24oe30sIG4sIHsKICAgICAgICAgIGxldmVsOiAiZXJyb3IiLAogICAgICAgICAgbGluZTogbi5saW5lLAogICAgICAgICAgbWVzc2FnZTogbi5tZXNzYWdlLAogICAgICAgICAgc29sdXRpb246IG4uc29sdXRpb24sCiAgICAgICAgICBzeW50YXg6IHQuc3ludGF4LAogICAgICAgICAgdHlwZTogdC5jb250ZW50VHlwZQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gZTsKICAgIH0sIHt9KTsKICB9CgogIGZ1bmN0aW9uIGkoZSkgewogICAgXyA+IHAgPyBhbGVydCgiWW91J3JlIHNlc3Npb24gZXhwaXJlZC4gUmVmcmVzaCB0aGUgcGFnZSB0byBjb250aW51ZSIpIDogQUpBWFV0aWwucG9zdCgiL3Byb2Nlc3Nvcl9qd3RzIiwgIiIsIGZ1bmN0aW9uICh0KSB7CiAgICAgIHdpbmRvdy5fX2p3dCA9IHQucGF5bG9hZC5qd3QsIF8gKz0gMSwgZSgpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBvKGUpIHsKICAgIGlmICghZS5zdWNjZXNzKSB7CiAgICAgIHZhciB0ID0gZS5lcnJvcnM7CiAgICAgIGlmICh0LmF1dGhfdG9rZW5fZXhwaXJlZCB8fCB0LmF1dGhfdG9rZW5fZmFpbCkgcmV0dXJuICEwOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9CgogIGZ1bmN0aW9uIHIoZSkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICh0KSB7CiAgICAgIGEoZSkgPyBjKGUsIHQpIDogdCh7CiAgICAgICAgcGF5bG9hZDogZQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYShlKSB7CiAgICByZXR1cm4gT2JqZWN0LmtleXMoZSkubGVuZ3RoID4gMDsKICB9CgogIGZ1bmN0aW9uIGMoZSwgdCkgewogICAgd2luZG93LlByb2Nlc3NvclJvdXRlci5yb3V0ZShlLCBmdW5jdGlvbiAobikgewogICAgICBvKG4pID8gaShmdW5jdGlvbiAoKSB7CiAgICAgICAgYyhlLCB0KTsKICAgICAgfSkgOiB0KG4pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB1KHQsIG4pIHsKICAgIGlmIChDUC5wZW4uaXNCdWlsZGluZ1BhY2thZ2VzKCkpIHJldHVybjsKICAgIHZhciBzID0gbmV3IFByb2Nlc3NlZFBlbihuKTsKICAgIHZhciBpOwogICAgQ1AucHJvY2Vzc1BBUnMoQ1AucGVuKS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBzLnNldFByb2Nlc3NlZFZhbHVlKCJwYXJzSGFzaCIsIGUpLCBzLnNldFByb2Nlc3NlZFZhbHVlKCJyZXNvdXJjZXMiLCBDUC5wZW4ucmVzb3VyY2VzKSwgcigoaSA9IHMuYnVpbGRUb1NlbmRBbmRUb1N0b3JlKCkpLnRvU2VuZCk7CiAgICB9KS50aGVuKGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBlKHQucGF5bG9hZCwgaSk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBuID0gZS5idWlsZEZpbGVzLAogICAgICAgICAgaSA9IGUuZXJyb3JzLAogICAgICAgICAgbyA9IGUucGF5bG9hZCwKICAgICAgICAgIHIgPSBkKG8pOwogICAgICBIdWIucHViKCJzaG93LXByb2Nlc3NpbmctbG9ncyIsIHsKICAgICAgICBsb2dzOiByCiAgICAgIH0pLCBzLnVwZGF0ZUFmdGVyUHJvY2Vzc2luZyhuKSwgZiA9IHMsIHQoewogICAgICAgIGVycm9yczogaSwKICAgICAgICBwcm9jZXNzZWRQZW46IHMKICAgICAgfSk7CiAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZSkgewogICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBwcm9jZXNzaW5nIFBlbiIsIHsKICAgICAgICBlcnJvcjogZQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gZChlKSB7CiAgICB2YXIgdCA9IFtdOwoKICAgIGZvciAodmFyIG4gaW4gZSkgewogICAgICB2YXIgcyA9IGVbbl0ubG9nczsKCiAgICAgIGlmIChlW25dLmxvZ3MpIHsKICAgICAgICBmb3IgKHZhciBpID0gZVtuXS5jb250ZW50VHlwZSwgbyA9IDAsIHIgPSBzLmxlbmd0aDsgbyA8IHI7IG8rKykgewogICAgICAgICAgdC5wdXNoKHsKICAgICAgICAgICAgbGluZTogc1tvXS5saW5lLAogICAgICAgICAgICBtZXNzYWdlOiBzW29dLm1lc3NhZ2UsCiAgICAgICAgICAgIHR5cGU6IGkKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdCA9IHQuY29uY2F0KCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdDsKICB9CgogIGZ1bmN0aW9uIGwoZSkgewogICAgcmV0dXJuIGYuZ2V0UHJvY2Vzc2VkKGUpIHx8ICIiID09PSBmLmdldFByb2Nlc3NlZChlKSA/IGYuZ2V0UHJvY2Vzc2VkKGUpIDogIlx1RDgzRFx1REMzQiBCZWFyIHdpdGggdXMgd2hpbGUgd2UgY29tcGlsZSB5b3VyIGNvZGUgdG8gIiArIGU7CiAgfQoKICBmdW5jdGlvbiBoKGUpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAodCkgewogICAgICBmID8gdChsKGUpKSA6IHUoZnVuY3Rpb24gKCkgewogICAgICAgIHQobChlKSk7CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICB2YXIgcCA9IDEwMDsKICB2YXIgZiwKICAgICAgXyA9IDA7CiAgQ1AucGVuUHJvY2Vzc29yID0gewogICAgZ2V0UHJvY2Vzc2VkOiBoLAogICAgcHJvY2VzczogdQogIH07Cn0oKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoZSwgdCwgbikgewogICAgZm9yICh2YXIgcyA9IDA7IHMgPCBlLmxlbmd0aDsgcysrKSB7CiAgICAgIGlmIChlW3NdICYmIGVbc11bdF0gJiYgZVtzXVt0XSA9PT0gbikgcmV0dXJuIHM7CiAgICB9CgogICAgcmV0dXJuIC0xOwogIH0KCiAgZnVuY3Rpb24gdCgpIHsKICAgIG4oKTsKICB9CgogIGZ1bmN0aW9uIG4oKSB7CiAgICB2YXIgZSA9IENQTG9jYWxTdG9yYWdlLmdldEl0ZW0oYyk7CiAgICBlICYmIChyID0gSlNPTi5wYXJzZShlKSk7CiAgfQoKICBmdW5jdGlvbiBzKHQsIG4sIHMpIHsKICAgIGlmICgoImNzcyIgPT09IHQgfHwgImpzIiA9PT0gdCkgJiYgcyAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHZhciBvID0gZShyW3RdLCAibmFtZSIsIHMpOwogICAgICBvID4gLTEgPyAoclt0XS5zcGxpY2UobywgMSksIHJbdF0udW5zaGlmdCh7CiAgICAgICAgbmFtZTogcywKICAgICAgICB1cmw6IG4KICAgICAgfSkpIDogclt0XS51bnNoaWZ0KHsKICAgICAgICBuYW1lOiBzLAogICAgICAgIHVybDogbgogICAgICB9KSwgclt0XS5sZW5ndGggPiBhICYmIChyW3RdLmxlbmd0aCA9IGEpLCBpKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpKCkgewogICAgQ1BMb2NhbFN0b3JhZ2Uuc2V0SXRlbShjLCBKU09OLnN0cmluZ2lmeShyKSk7CiAgfQoKICBmdW5jdGlvbiBvKGUpIHsKICAgIHJldHVybiByW2VdOwogIH0KCiAgdmFyIHIgPSB7CiAgICBjc3M6IFtdLAogICAganM6IFtdCiAgfSwKICAgICAgYSA9IDYsCiAgICAgIGMgPSAiQ1BfcmVjZW50X3Blbl9yZXNvdXJjZXMiOwogIENQLlBlblJlY2VudFJlc291cmNlc01hbmFnZXIgPSB7fSwgQ1AuUGVuUmVjZW50UmVzb3VyY2VzTWFuYWdlci5hZGROZXdQZW5SZXNvdXJjZSA9IHMsIENQLlBlblJlY2VudFJlc291cmNlc01hbmFnZXIuZ2V0UmVjZW50UGVuUmVzb3VyY2VzID0gbywgdCgpOwp9KCksIHdpbmRvdy5CdW5rZXJCb3ggPSB7CiAgbWFrZUhlYWRTYWZlOiBmdW5jdGlvbiBtYWtlSGVhZFNhZmUoZSwgdCkgewogICAgcmV0dXJuIGUgPSBlIHx8ICIiLCAicHVibGljIiA9PT0gKHQgPSB0aGlzLl9nZXRTYWZlU2FuZGJveFR5cGUodCkpICYmIChlID0gZS5yZXBsYWNlKC88c2NyaXB0LisvZ2ltLCAiIikpLCBlID0gdGhpcy5tYWtlSFRNTFNhZmUoZSwgdCk7CiAgfSwKICBtYWtlSFRNTFNhZmU6IGZ1bmN0aW9uIG1ha2VIVE1MU2FmZShlLCB0KSB7CiAgICByZXR1cm4gZSA9IGUgfHwgIiIsIHQgPSB0aGlzLl9nZXRTYWZlU2FuZGJveFR5cGUodCksIGUgPSAoZSA9IChlID0gKGUgPSBlLnJlcGxhY2UoLyg8Lio/XHMpKGF1dG9mb2N1cz0oInwnKWF1dG9mb2N1cygifCcpfGF1dG9mb2N1cykvZywgIiQxIikpLnJlcGxhY2UoL2lmcmFtZS4rc3JjPS4rKCYjKS9naW0sICIiKSkucmVwbGFjZSgvYXV0b1BsYXk9dHJ1ZS9naW0sICJhdXRvUGxheT1mYWxzZSIpKS5yZXBsYWNlKC9odHRwLWVxdWl2PSJyZWZyZXNoIi9naW0sICIiKSwgZSA9IHRoaXMubWFrZUpTU2FmZShlLCB0KTsKICB9LAogIG1ha2VKU1NhZmU6IGZ1bmN0aW9uIG1ha2VKU1NhZmUoZSwgdCkgewogICAgcmV0dXJuIGUgPSBlIHx8ICIiLCB0ID0gdGhpcy5fZ2V0U2FmZVNhbmRib3hUeXBlKHQpLCBlID0gKGUgPSBlLnJlcGxhY2UoL2xvY2F0aW9uXC5yZXBsYWNlXHMqXChccypcKS9naW0sICJsb2NhdGlvbi5yZW1vdmVkQnlDb2RlUGVuKCkiKSkucmVwbGFjZSgvbG9jYXRpb25cLnJlbG9hZFxzKlwoXHMqXCkvZ2ltLCAibG9jYXRpb24ucmVtb3ZlZEJ5Q29kZVBlbigpIiksICJwdWJsaWMiID09PSB0ICYmIChlID0gKGUgPSAoZSA9IChlID0gKGUgPSAoZSA9IChlID0gKGUgPSAoZSA9IChlID0gKGUgPSBlLnJlcGxhY2UoImJlZm9yZXVubG9hZHJlcGxhY2VkYnljb2RlcGVuIikpLnJlcGxhY2UoL2RlYnVnZ2VyKFxzKyk/Oy9naW0sICIiKSkucmVwbGFjZSgvY29uc29sZVwuKFxTKylcKChbXHNcU10qPylcKTsvZ2ltLCAiIikpLnJlcGxhY2UoLyhhbGVydHxjb25maXJtfHByb21wdClcKChbXHNcU10qPylcKTsvZ2ltLCAiIikpLnJlcGxhY2UoL2dlb2xvY2F0aW9uL2dpbSwgIiIpKS5yZXBsYWNlKC9hdWRpb2NvbnRleHQvZ2ltLCAiIikpLnJlcGxhY2UoL2dldHVzZXJtZWRpYS9naW0sICIiKSkucmVwbGFjZSgvaW5pdE1vdXNlRXZlbnQvZ2ltLCAiIikpLnJlcGxhY2UoL2Rvd25sb2FkL2dpbSwgIiIpKS5yZXBsYWNlKC9cLmNsaWNrXCgvZ2ltLCAiIikpLnJlcGxhY2UoL1lULlBsYXllci9naW0sICJZVC5Db2RlUGVuUmVtb3ZlZFBsYXllciIpKSwgdGhpcy5faXNTYW5kYm94U3VwcG9ydGVkKCkgfHwgKGUgPSAoZSA9IChlID0gKGUgPSAoZSA9IGUucmVwbGFjZSgvd2luZG93KFxzKyk/XFsoXHMrKT8oInwiKWwvZ2ltLCAiIikpLnJlcGxhY2UoL3NlbGYoXHMrKT9cWyhccyspPygifCIpbG9jL2dpbSwgIiIpKS5yZXBsYWNlKC9cLnN1Ym1pdFwoXCkvZ2ltLCAiIikpLnJlcGxhY2UoL2Zyb21DaGFyQ29kZS9naW0sICIiKSkucmVwbGFjZSgvXGJsb2NhdGlvbihccyspPz0vZ2ltLCAiIikpLCBlOwogIH0sCiAgX2dldFNhZmVTYW5kYm94VHlwZTogZnVuY3Rpb24gX2dldFNhZmVTYW5kYm94VHlwZShlKSB7CiAgICByZXR1cm4gdm9pZCAwID09PSBlID8gInB1YmxpYyIgOiAicHVibGljIiA9PT0gZSA/ICJwdWJsaWMiIDogInBlcnNvbmFsIjsKICB9LAogIF9zYW5kYm94U3VwcG9ydGVkOiBudWxsLAogIF9pc1NhbmRib3hTdXBwb3J0ZWQ6IGZ1bmN0aW9uIF9pc1NhbmRib3hTdXBwb3J0ZWQoKSB7CiAgICByZXR1cm4gbnVsbCA9PT0gdGhpcy5fc2FuZGJveFN1cHBvcnRlZCAmJiAodGhpcy5fc2FuZGJveFN1cHBvcnRlZCA9IHRoaXMuX2RldGVybWluZUlmU2FuZGJveElzU3VwcG9ydGVkKCkpLCB0aGlzLl9zYW5kYm94U3VwcG9ydGVkOwogIH0sCiAgX2RldGVybWluZUlmU2FuZGJveElzU3VwcG9ydGVkOiBmdW5jdGlvbiBfZGV0ZXJtaW5lSWZTYW5kYm94SXNTdXBwb3J0ZWQoKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gInNhbmRib3giIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gITE7CiAgICB9CiAgfQp9LCB3aW5kb3cuSUZyYW1lUGVuVG9IVE1MID0gewogIHJlbmRlclBlbkFzSFRNTDogZnVuY3Rpb24gcmVuZGVyUGVuQXNIVE1MKGUpIHsKICAgIHJldHVybiAiXG48IURPQ1RZUEUgaHRtbD5cbjxodG1sIGxhbmc9J2VuJyBjbGFzcz0nIi5jb25jYXQoZS5odG1sX2NsYXNzZXMsICInPlxuICAiKS5jb25jYXQodGhpcy5fZ2V0SGVhZEFuZENTUyhlKSwgIlxuICA8Ym9keT5cbiAgICAiKS5jb25jYXQoQnVua2VyQm94Lm1ha2VIVE1MU2FmZShlLmh0bWwsICJwZXJzb25hbCIpLCAiXG4gICAgIikuY29uY2F0KHRoaXMuX2dldEpTU2NyaXB0cyhlKSwgIlxuICAgICIpLmNvbmNhdCh0aGlzLl9nZXRQZW5KUyhlKSwgIlxuICA8L2JvZHk+XG48L2h0bWw+XG4gICAgIik7CiAgfSwKICBfZ2V0SGVhZEFuZENTUzogZnVuY3Rpb24gX2dldEhlYWRBbmRDU1MoZSkgewogICAgcmV0dXJuICJcbiAgICAgIDxoZWFkPlxuICAgICAgICAiLmNvbmNhdCh0aGlzLl9idWlsZFNjcmlwdExpbmsod2luZG93Ll9fcGF0aF90b19jb25zb2xlX3J1bm5lcl9qcyksICJcbiAgICAgICAgIikuY29uY2F0KHRoaXMuX2J1aWxkU2NyaXB0TGluayh3aW5kb3cuX19wYXRoX3RvX2xpdmVfcmVsb2FkZXJfanMpLCAiXG4gICAgICAgIDxtZXRhIGNoYXJzZXQ9J1VURi04Jz5cbiAgICAgICAgPG1ldGEgbmFtZT1cInJvYm90c1wiIGNvbnRlbnQ9XCJub2luZGV4XCI+XG4gICAgICAgIDxsaW5rIHJlbD1cInNob3J0Y3V0IGljb25cIiB0eXBlPVwiaW1hZ2UveC1pY29uXCJcbiAgICAgICAgICBocmVmPVwiIikuY29uY2F0KHdpbmRvdy5fX2Zhdmljb25fc2hvcnRjdXRfaWNvbiwgIlwiIC8+XG4gICAgICAgIDxsaW5rIHJlbD1cIm1hc2staWNvblwiIHR5cGU9XCJcIlxuICAgICAgICBocmVmPVwiIikuY29uY2F0KHdpbmRvdy5fX2Zhdmljb25fbWFza19pY29uLCAiXCIgY29sb3I9XCIjMTExXCIgLz5cbiAgICAgICAgPGxpbmsgcmVsPVwiY2Fub25pY2FsXCIgaHJlZj1cIiIpLmNvbmNhdChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLCAiXCIgLz5cbiAgICAgICAgIikuY29uY2F0KGUuaGVhZCwgIlxuICAgICAgICAiKS5jb25jYXQodGhpcy5fZ2V0Q1NTU3RhcnRlclN0eWxlcyhlKSwgIlxuICAgICAgICAiKS5jb25jYXQodGhpcy5fZ2V0UHJlZml4ZXNTdHlsZXMoZSksICJcbiAgICAgICAgIikuY29uY2F0KHRoaXMuX2dldFN0eWxlc1RvQWRkVG9IZWFkKGUuc3R5bGVzKSwgIlxuICAgICAgICA8c3R5bGUgY2xhc3M9XCJjcC1wZW4tc3R5bGVzXCI+XG4gICAgICAgICAgIikuY29uY2F0KGUuY3NzLCAiXG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L2hlYWQ+XG4gICAgIik7CiAgfSwKICBfZ2V0Q1NTU3RhcnRlclN0eWxlczogZnVuY3Rpb24gX2dldENTU1N0YXJ0ZXJTdHlsZXMoZSkgewogICAgcmV0dXJuICJub3JtYWxpemUiID09PSBlLmNzc19zdGFydGVyID8gdGhpcy5fYnVpbGRDU1NMaW5rKHdpbmRvdy5fX3Blbl9ub3JtYWxpemVfY3NzX3VybCkgOiAicmVzZXQiID09PSBlLmNzc19zdGFydGVyID8gdGhpcy5fYnVpbGRDU1NMaW5rKHdpbmRvdy5fX3Blbl9yZXNldF9jc3NfdXJsKSA6ICIiOwogIH0sCiAgX2dldFByZWZpeGVzU3R5bGVzOiBmdW5jdGlvbiBfZ2V0UHJlZml4ZXNTdHlsZXMoZSkgewogICAgcmV0dXJuICJwcmVmaXhmcmVlIiA9PT0gZS5jc3NfcHJlZml4ID8gdGhpcy5fYnVpbGRTY3JpcHRMaW5rKHdpbmRvdy5fX3Blbl9wcmVmaXhfZnJlZV91cmwpIDogIiI7CiAgfSwKICBfZ2V0U3R5bGVzVG9BZGRUb0hlYWQ6IGZ1bmN0aW9uIF9nZXRTdHlsZXNUb0FkZFRvSGVhZChlKSB7CiAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICByZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIHQudXJsID8gZSArPSBfdGhpczUuX2J1aWxkQ1NTTGluayh0LnVybCkgOiB0LmNvbnRlbnQgJiYgKGUgKz0gIlxuPHN0eWxlPlxuIiArIHQuY29udGVudCArICJcbjwvc3R5bGU+IiksIGU7CiAgICB9LCAiIik7CiAgfSwKICBfYnVpbGRDU1NMaW5rOiBmdW5jdGlvbiBfYnVpbGRDU1NMaW5rKGUpIHsKICAgIHJldHVybiAiPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIiLmNvbmNhdChlLCAiXCI+Iik7CiAgfSwKICBfZ2V0UGVuSlM6IGZ1bmN0aW9uIF9nZXRQZW5KUyhlKSB7CiAgICB2YXIgdCA9IEJ1bmtlckJveC5tYWtlSlNTYWZlKGUuanMsICJwZXJzb25hbCIpOwoKICAgIGlmICh0KSB7CiAgICAgIHJldHVybiAiXG4gICAgICAgIDxzY3JpcHQgaWQ9XCJyZW5kZXJlZC1qc1wiIi5jb25jYXQodGhpcy5fbG9hZEFzTW9kdWxlKHQpID8gJyB0eXBlPSJtb2R1bGUiJyA6ICIiLCAiPlxuICAgICAgICAgICIpLmNvbmNhdCh0LCAiXG4gICAgICAgICAgLy8jIHNvdXJjZVVSTD1wZW4uanNcbiAgICAgICAgPC9zY3JpcHQ+Iik7CiAgICB9CgogICAgcmV0dXJuICIiOwogIH0sCiAgX2xvYWRBc01vZHVsZTogZnVuY3Rpb24gX2xvYWRBc01vZHVsZShlKSB7CiAgICByZXR1cm4gL2ltcG9ydFxzKyhbXFNcc10rXHMrZnJvbVxzKyk/WyInXS4rWyInXS9tLnRlc3QoZSk7CiAgfSwKICBfZ2V0SlNTY3JpcHRzOiBmdW5jdGlvbiBfZ2V0SlNTY3JpcHRzKGUpIHsKICAgIHZhciB0ID0gIiI7CiAgICByZXR1cm4gdGhpcy5faW5jbHVkZVN0b3BFeGVjdXRpb25TY3JpcHQoZSkgJiYgKHQgKz0gdGhpcy5fYnVpbGRTY3JpcHRMaW5rKF9fcGF0aF90b19zdG9wX2V4ZWN1dGlvbl9vbl90aW1lb3V0KSksIHQgKyB0aGlzLl9nZXRQZW5SZXNvdXJjZXNBc1NjcmlwdHMoZS5zY3JpcHRzKTsKICB9LAogIF9pbmNsdWRlU3RvcEV4ZWN1dGlvblNjcmlwdDogZnVuY3Rpb24gX2luY2x1ZGVTdG9wRXhlY3V0aW9uU2NyaXB0KGUpIHsKICAgIHJldHVybiBlLmpzOwogIH0sCiAgX2dldFBlblJlc291cmNlc0FzU2NyaXB0czogZnVuY3Rpb24gX2dldFBlblJlc291cmNlc0FzU2NyaXB0cyhlKSB7CiAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICByZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIHQudXJsID8gZSArPSBfdGhpczYuX2J1aWxkU2NyaXB0TGluayh0LnVybCkgOiB0LmNvbnRlbnQgJiYgKGUgKz0gIlxuPHNjcmlwdD4iICsgdC5jb250ZW50ICsgIjwvc2NyaXB0PiIpLCBlOwogICAgfSwgIiIpOwogIH0sCiAgX2J1aWxkU2NyaXB0TGluazogZnVuY3Rpb24gX2J1aWxkU2NyaXB0TGluayhlKSB7CiAgICByZXR1cm4gIjxzY3JpcHQgc3JjPVwiIi5jb25jYXQoZSwgIlwiPjwvc2NyaXB0PiIpOwogIH0KfSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoKSB7CiAgICBmdW5jdGlvbiBlKCkgewogICAgICByZXR1cm4gTWF0aC5mbG9vcig2NTUzNiAqICgxICsgTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7CiAgICB9CgogICAgcmV0dXJuIGUoKSArIGUoKSArICItIiArIGUoKSArICItIiArIGUoKSArICItIiArIGUoKSArICItIiArIGUoKSArIGUoKSArIGUoKTsKICB9CgogIHdpbmRvdy5nZW5lcmF0ZUd1aWQgPSBlOwp9KCksIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBlKCkgewogICAgJCgiI2xvYWRpbmctdGV4dCIpLnJlbW92ZSgpOwogIH0KCiAgZnVuY3Rpb24gdChlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gZS5jaGlsZHJlbigiaWZyYW1lIiksIHMgPSAwLCBpID0gbi5sZW5ndGg7IHMgPCBpOyBzKyspIHsKICAgICAgbltzXS5pZCAhPT0gdCAmJiAkKG5bc10pLnJlbW92ZSgpOwogICAgfQoKICAgICQoIiMiICsgdCkucmVtb3ZlQ2xhc3MoImlmcmFtZS12aXN1YWwtdXBkYXRlIik7CiAgfQoKICBmdW5jdGlvbiBuKG4sIHMpIHsKICAgIHQobiwgcyksIGUoKTsKICB9CgogIGZ1bmN0aW9uIHMoZSwgdCkgewogICAgZS5wcmVwZW5kKGEodCkpLCBpKGUsIHQpOwogIH0KCiAgZnVuY3Rpb24gaShlLCB0KSB7CiAgICB2YXIgcyA9ICExLAogICAgICAgIGkgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgcyB8fCAobihlLCB0KSwgcyA9ICEwKTsKICAgIH0sIGYpOwogICAgJCgiIyIgKyB0KS5sb2FkKGZ1bmN0aW9uICgpIHsKICAgICAgY2xlYXJUaW1lb3V0KGkpLCBzIHx8IChuKGUsIHQpLCBzID0gITApOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBvKCkgewogICAgcmV0dXJuIHdpbmRvdy5fX0NQREFUQS5pZnJhbWVfc2FuZGJveDsKICB9CgogIGZ1bmN0aW9uIHIoKSB7CiAgICByZXR1cm4gd2luZG93Ll9fQ1BEQVRBLmlmcmFtZV9hbGxvdzsKICB9CgogIGZ1bmN0aW9uIGEoZSkgewogICAgcmV0dXJuICI8aWZyYW1lIGlkPSciICsgZSArICInIHNyYz0nIiArIHUoZSkgKyAiJyBuYW1lPSdDb2RlUGVuJyBhbGxvd2Z1bGxzY3JlZW49J3RydWUnIHNhbmRib3g9JyIgKyBvKCkgKyAiJyBhbGxvdz0nIiArIHIoKSArICInIGFsbG93VHJhbnNwYXJlbmN5PSd0cnVlJyBhbGxvd3BheW1lbnRyZXF1ZXN0PSd0cnVlJyBjbGFzcz0ncmVzdWx0LWlmcmFtZSBpZnJhbWUtdmlzdWFsLXVwZGF0ZScgPjwvaWZyYW1lPiI7CiAgfQoKICBmdW5jdGlvbiBjKGUsIHQpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAobikgewogICAgICB2YXIgcyA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICBzLm9wZW4oIlBPU1QiLCBlLCAhMCksIHMudGltZW91dCA9IGcsIHMuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwgInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLTgiKSwgcy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSB7fTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGUgPSBKU09OLnBhcnNlKHMucmVzcG9uc2VUZXh0KTsKICAgICAgICB9IGNhdGNoICh0KSB7fQoKICAgICAgICBpZiAocy5zdGF0dXMgPj0gMjAwICYmIHMuc3RhdHVzIDwgNDAwKSByZXR1cm4gdm9pZCBuKHsKICAgICAgICAgIGVycm9yOiBudWxsLAogICAgICAgICAgZGF0YTogZQogICAgICAgIH0pOwogICAgICAgIHZhciB0ID0gewogICAgICAgICAgbWVzc2FnZTogIlNlcnZlciBFcnJvciIsCiAgICAgICAgICByZXF1ZXN0OiBzCiAgICAgICAgfTsKICAgICAgICBuKHsKICAgICAgICAgIGVycm9yOiB0LAogICAgICAgICAgZGF0YTogZQogICAgICAgIH0pOwogICAgICB9OwogICAgICB2YXIgaSA9IEpTT04uc3RyaW5naWZ5KHQpOwogICAgICBzLnNlbmQoaSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHUoZSkgewogICAgdmFyIHQgPSBkKGUpLAogICAgICAgIG4gPSBkb2N1bWVudC5sb2NhdGlvbi5oYXNoOwogICAgcmV0dXJuICIiLmNvbmNhdChfLnNlcnZlX3VybCkuY29uY2F0KHQpLmNvbmNhdChuKTsKICB9CgogIGZ1bmN0aW9uIGQoZSkgewogICAgcmV0dXJuIC9cPy8udGVzdChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpID8gIiIuY29uY2F0KGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCwgIiZrZXk9IikuY29uY2F0KGUpIDogIj9rZXk9Ii5jb25jYXQoZSk7CiAgfQoKICBmdW5jdGlvbiBsKCkgewogICAgcmV0dXJuICJpRnJhbWVLZXktIiArIGdlbmVyYXRlR3VpZCgpOwogIH0KCiAgZnVuY3Rpb24gaChlLCB0KSB7CiAgICByZXR1cm4gYygiIi5jb25jYXQoXy5zdG9yZV91cmwsICI/dG9rZW49IikuY29uY2F0KHdpbmRvdy5fX2p3dCksIHsKICAgICAga2V5OiBlLAogICAgICBodG1sOiB0CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHAoX3gzLCBfeDQpIHsKICAgIHJldHVybiBfcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gX3AoKSB7CiAgICBfcCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoZSwgdCkgewogICAgICB2YXIgbjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBuID0gbCgpOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gaChuLCB0KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBzKGUsIG4pOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCB1KG4pKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKTsKICAgIHJldHVybiBfcC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgdmFyIGYgPSAzMDAsCiAgICAgIF8gPSB3aW5kb3cuX19ib29tYm9vbSwKICAgICAgZyA9IDNlNDsKICB3aW5kb3cuSUZyYW1lUmVuZGVyID0gewogICAgdXBkYXRlSUZyYW1lUHJldmlldzogcAogIH07Cn0oKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoZSkgewogICAgcmV0dXJuICJpbmZpbml0ZS1sb29wIiAhPT0gZS5kYXRhLmFjdGlvbjsKICB9CgogIGZ1bmN0aW9uIHQoKSB7CiAgICB3aW5kb3cuX29uTWVzc2FnZShmdW5jdGlvbiAodCkgewogICAgICB0cnkgewogICAgICAgIGlmIChlKHQpKSByZXR1cm47CiAgICAgICAgdmFyIHMgPSBuKHQuZGF0YS5saW5lKTsKICAgICAgICBIdWIucHViKCJlcnJvci1pbmZpbml0ZS1sb29wIiwgewogICAgICAgICAganM6IHsKICAgICAgICAgICAgZXJyb3JUeXBlOiAiZXJyb3IiLAogICAgICAgICAgICBsZXZlbDogImVycm9yIiwKICAgICAgICAgICAgbGluZTogcywKICAgICAgICAgICAgbWVzc2FnZTogaShzKSwKICAgICAgICAgICAgc3ludGF4OiBDUC5wZW4uanNfcHJlX3Byb2Nlc3NvciwKICAgICAgICAgICAgdHlwZTogImpzIgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChvKSB7fQogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBuKGUpIHsKICAgIHZhciB0ID0gcyhlKTsKICAgIHQgPSB0LnJlcGxhY2UoL1xzKy9nLCAiIik7CgogICAgdmFyIG4gPSBfLm1hcChDUC5wZW4uanMuc3BsaXQoL1xyXG4/fFxuLyksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlLnJlcGxhY2UoL1xzKy9nLCAiIik7CiAgICB9KTsKCiAgICByZXR1cm4gXy5pbmRleE9mKG4sIHQpICsgMTsKICB9CgogIGZ1bmN0aW9uIHMoZSkgewogICAgZm9yICh2YXIgdCA9IGYuc3BsaXQoL1xyXG4/fFxuLyksIG4gPSBlOyBuID4gLTEgJiYgdFtuXS5tYXRjaCgvKGJyZWFrO3xzaG91bGRTdG9wRXhlY3V0aW9uKS8pOykgewogICAgICBuIC09IDE7CiAgICB9CgogICAgcmV0dXJuIHRbbl07CiAgfQoKICBmdW5jdGlvbiBpKGUpIHsKICAgIHJldHVybiAiSW5maW5pdGUgbG9vcCBmb3VuZCBvbiBsaW5lICIgKyBlICsgIi4gVGhlIGxpbmUgbnVtYmVyIGlzIGFwcHJveGltYXRlZCBzbyBsb29rIGNhcmVmdWxseS4iOwogIH0KCiAgZnVuY3Rpb24gbyhlKSB7CiAgICBpZiAobnVsbCA9PT0gQykgcmV0dXJuIEMgPSBfLmNsb25lRGVlcChlLCAhMCksIHZvaWQgbChlKTsKICAgIGlmIChyKGUpKSB0cnkgewogICAgICBkKGUpOwogICAgfSBjYXRjaCAodCkgewogICAgICBsKGUpOwogICAgfSBlbHNlIGwoZSk7CiAgfQoKICBmdW5jdGlvbiByKGUpIHsKICAgIGlmIChhKGUpKSByZXR1cm4gITE7CiAgICBpZiAoZS5mdWxsUmVmcmVzaCkgcmV0dXJuICExOwogICAgdmFyIHQgPSB1KGUsIEMpOwogICAgcmV0dXJuIEMgPSBfLmNsb25lKGUsICEwKSwgdDsKICB9CgogIGZ1bmN0aW9uIGEoZSkgewogICAgcmV0dXJuICEhYyhlKSB8fCAoZS5jc3MgfHwgIiIpLm1hdGNoKC8oa2V5ZnJhbWVzfDp0YXJnZXR8YW5pbWF0aW9ufENQX0RvRnVsbFJlZnJlc2gpL2dpKTsKICB9CgogIGZ1bmN0aW9uIGMoZSkgewogICAgdmFyIHQgPSBlLmh0bWwgfHwgIiIsCiAgICAgICAgbiA9IGUuY3NzIHx8ICIiOwogICAgcmV0dXJuIHQubWF0Y2goL3N2Zy9pKSAmJiBuLm1hdGNoKC9iYWNrZ3JvdW5kLyk7CiAgfQoKICBmdW5jdGlvbiB1KGUsIHQpIHsKICAgIGlmIChudWxsID09PSB0KSByZXR1cm4gITE7CgogICAgdmFyIG4gPSBfZGlmZk9iamVjdHMoZSwgdCk7CgogICAgcmV0dXJuIGRlbGV0ZSBuLmNzcywgZGVsZXRlIG4uZnVsbFJlZnJlc2gsIDAgPT09IF8uc2l6ZShuKTsKICB9CgogIGZ1bmN0aW9uIGQoZSkgewogICAgZm9yICh2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInJlc3VsdC1pZnJhbWUiKSwgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7CiAgICAgIHZhciBzID0gewogICAgICAgIGFjdGlvbjogZywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBjc3M6IGUuY3NzLAogICAgICAgICAgaGVhZDogZS5oZWFkCiAgICAgICAgfQogICAgICB9OwogICAgICBIdWIucHViKGcsIHMpLCB0W25dLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UocywgIioiKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGwoZSkgewogICAgY2xlYXJUaW1lb3V0KHYpLCB2ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGgoZSk7CiAgICB9LCBiKTsKICB9CgogIGZ1bmN0aW9uIGgoZSkgewogICAgZiA9IElGcmFtZVBlblRvSFRNTC5yZW5kZXJQZW5Bc0hUTUwoZSksIElGcmFtZVJlbmRlci51cGRhdGVJRnJhbWVQcmV2aWV3KHAsIGYpLnRoZW4oZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIG4gPSB7CiAgICAgICAgYWN0aW9uOiBtLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHVybDogdCwKICAgICAgICAgIGhlYWQ6IGUuaGVhZAogICAgICAgIH0KICAgICAgfTsKICAgICAgSHViLnB1YihtLCBuKTsKICAgIH0pOwogIH0KCiAgdmFyIHAgPSAkKCIjcmVzdWx0X2RpdiwgI3Jlc3VsdC1ib3giKSwKICAgICAgZiA9ICIiLAogICAgICBnID0gIkFDVElPTl9MSVZFX1ZJRVdfUkVMT0FEX0NTUyIsCiAgICAgIG0gPSAiQUNUSU9OX0xJVkVfVklFV19VUERBVEVfVVJMIiwKICAgICAgYiA9IDcwMCwKICAgICAgdiA9IDAsCiAgICAgIEMgPSBudWxsOwogIHQoKSwgd2luZG93LlBlblRvUHJldmlldyA9IHsKICAgIHVwZGF0ZUxpdmVJRnJhbWU6IG8KICB9Owp9KCksIHdpbmRvdy5QZW5SZW5kZXJlciA9IENsYXNzLmV4dGVuZCh7CiAgREVGQVVMVF9USU1FT1VUOiA3MDAsCiAgTUFYX1RJTUVPVVQ6IDI1MDAsCiAgaGFzUmVuZGVyZWQ6ICExLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLl9iaW5kVG9IdWIoKSwgdGhpcy5wcm9jZXNzQW5kUmVuZGVyID0gXy5kZWJvdW5jZSh0aGlzLl9wcm9jZXNzQW5kUmVuZGVySW50ZXJuYWwuYmluZCh0aGlzKSwgdGhpcy5ERUZBVUxUX1RJTUVPVVQsIHsKICAgICAgbGVhZGluZzogITEsCiAgICAgIG1heFdhaXQ6IHRoaXMuTUFYX1RJTUVPVVQKICAgIH0pLCAkKCIucmVzdWx0LWlmcmFtZS5pZnJhbWUtZW1wdHkiKS5sZW5ndGggJiYgKENQLnBlbi5jc3MgfHwgQ1AucGVuLmh0bWwgfHwgQ1AucGVuLmpzKSAmJiB0aGlzLl9ydW5JZk5vdFJhbigpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInBlbi1jaGFuZ2UiLCAkLnByb3h5KHRoaXMuX29uUGVuQ2hhbmdlLCB0aGlzKSksIEh1Yi5zdWIoImNvbnNvbGUtb3BlbmVkIiwgJC5wcm94eSh0aGlzLl9ydW5JZk5vdFJhbiwgdGhpcykpOwogIH0sCiAgX3J1bklmTm90UmFuOiBmdW5jdGlvbiBfcnVuSWZOb3RSYW4oKSB7CiAgICB0aGlzLmhhc1JlbmRlcmVkIHx8IHRoaXMucHJvY2Vzc0FuZFJlbmRlcighMCk7CiAgfSwKICBfb25QZW5DaGFuZ2U6IGZ1bmN0aW9uIF9vblBlbkNoYW5nZShlLCB0KSB7CiAgICBDUC5wZW4uZ2V0QXR0cmlidXRlKCJlZGl0b3Jfc2V0dGluZ3MiKS5hdXRvX3J1biAmJiB0aGlzLl9wZW5QcmV2aWV3QXR0cmlidXRlQ2hhbmdlZCh0LnBlbikgJiYgdGhpcy5wcm9jZXNzQW5kUmVuZGVyKCk7CiAgfSwKICBfcGVuUHJldmlld0F0dHJpYnV0ZUNoYW5nZWQ6IGZ1bmN0aW9uIF9wZW5QcmV2aWV3QXR0cmlidXRlQ2hhbmdlZChlKSB7CiAgICB2YXIgdCA9IENQLnBlbi5nZXRBdHRyaWJ1dGVzVGhhdEFmZmVjdFBlblByZXZpZXcoKTsKICAgIHJldHVybiBfLmludGVyc2VjdGlvbih0LCBfLmtleXMoZSkpLmxlbmd0aCA+IDA7CiAgfSwKICBfcHJvY2Vzc0FuZFJlbmRlckludGVybmFsOiBmdW5jdGlvbiBfcHJvY2Vzc0FuZFJlbmRlckludGVybmFsKGUpIHsKICAgIENQLnBlblByb2Nlc3Nvci5wcm9jZXNzKHRoaXMuX3JlbmRlclByb2Nlc3NlZFBlbi5iaW5kKHRoaXMpLCB7CiAgICAgIGZ1bGxSZWZyZXNoOiBlIHx8ICExCiAgICB9KTsKICB9LAogIF9yZW5kZXJQcm9jZXNzZWRQZW46IGZ1bmN0aW9uIF9yZW5kZXJQcm9jZXNzZWRQZW4oZSkgewogICAgZWRpdG9yRXJyb3JIYW5kbGVyLmNhblJlbmRlclBlbihlLmVycm9ycykgJiYgKHRoaXMuaGFzUmVuZGVyZWQgPSAhMCwgdGhpcy5yZW5kZXJhYmxlUGVuID0gZS5wcm9jZXNzZWRQZW4uYnVpbGRSZW5kZXJhYmxlSGFzaCgpLCBIdWIucHViKCJsaXZlX2NoYW5nZSIsIHRoaXMucmVuZGVyYWJsZVBlbiksIFBlblRvUHJldmlldy51cGRhdGVMaXZlSUZyYW1lKHRoaXMucmVuZGVyYWJsZVBlbikpLCBlZGl0b3JFcnJvckhhbmRsZXIuaGFuZGxlRXJyb3JzSW5FZGl0b3IoZS5lcnJvcnMpOwogIH0KfSksCi8qCiAqIEphdmFTY3JpcHQgTUQ1CiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1CiAqCiAqIENvcHlyaWdodCAyMDExLCBTZWJhc3RpYW4gVHNjaGFuCiAqIGh0dHBzOi8vYmx1ZWltcC5uZXQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOgogKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVAogKgogKiBCYXNlZCBvbgogKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlCiAqIERpZ2VzdCBBbGdvcml0aG0sIGFzIGRlZmluZWQgaW4gUkZDIDEzMjEuCiAqIFZlcnNpb24gMi4yIENvcHlyaWdodCAoQykgUGF1bCBKb2huc3RvbiAxOTk5IC0gMjAwOQogKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0CiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZQogKiBTZWUgaHR0cDovL3BhamhvbWUub3JnLnVrL2NyeXB0L21kNSBmb3IgbW9yZSBpbmZvLgogKi8KZnVuY3Rpb24gKGUpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIHQoZSwgdCkgewogICAgdmFyIG4gPSAoNjU1MzUgJiBlKSArICg2NTUzNSAmIHQpOwogICAgcmV0dXJuIChlID4+IDE2KSArICh0ID4+IDE2KSArIChuID4+IDE2KSA8PCAxNiB8IDY1NTM1ICYgbjsKICB9CgogIGZ1bmN0aW9uIG4oZSwgdCkgewogICAgcmV0dXJuIGUgPDwgdCB8IGUgPj4+IDMyIC0gdDsKICB9CgogIGZ1bmN0aW9uIHMoZSwgcywgaSwgbywgciwgYSkgewogICAgcmV0dXJuIHQobih0KHQocywgZSksIHQobywgYSkpLCByKSwgaSk7CiAgfQoKICBmdW5jdGlvbiBpKGUsIHQsIG4sIGksIG8sIHIsIGEpIHsKICAgIHJldHVybiBzKHQgJiBuIHwgfnQgJiBpLCBlLCB0LCBvLCByLCBhKTsKICB9CgogIGZ1bmN0aW9uIG8oZSwgdCwgbiwgaSwgbywgciwgYSkgewogICAgcmV0dXJuIHModCAmIGkgfCBuICYgfmksIGUsIHQsIG8sIHIsIGEpOwogIH0KCiAgZnVuY3Rpb24gcihlLCB0LCBuLCBpLCBvLCByLCBhKSB7CiAgICByZXR1cm4gcyh0IF4gbiBeIGksIGUsIHQsIG8sIHIsIGEpOwogIH0KCiAgZnVuY3Rpb24gYShlLCB0LCBuLCBpLCBvLCByLCBhKSB7CiAgICByZXR1cm4gcyhuIF4gKHQgfCB+aSksIGUsIHQsIG8sIHIsIGEpOwogIH0KCiAgZnVuY3Rpb24gYyhlLCBuKSB7CiAgICB2YXIgcywgYywgdSwgZCwgbDsKICAgIGVbbiA+PiA1XSB8PSAxMjggPDwgbiAlIDMyLCBlWzE0ICsgKG4gKyA2NCA+Pj4gOSA8PCA0KV0gPSBuOwogICAgdmFyIGggPSAxNzMyNTg0MTkzLAogICAgICAgIHAgPSAtMjcxNzMzODc5LAogICAgICAgIGYgPSAtMTczMjU4NDE5NCwKICAgICAgICBfID0gMjcxNzMzODc4OwoKICAgIGZvciAocyA9IDA7IHMgPCBlLmxlbmd0aDsgcyArPSAxNikgewogICAgICBjID0gaCwgdSA9IHAsIGQgPSBmLCBsID0gXywgcCA9IGEocCA9IGEocCA9IGEocCA9IGEocCA9IHIocCA9IHIocCA9IHIocCA9IHIocCA9IG8ocCA9IG8ocCA9IG8ocCA9IG8ocCA9IGkocCA9IGkocCA9IGkocCA9IGkocCwgZiA9IGkoZiwgXyA9IGkoXywgaCA9IGkoaCwgcCwgZiwgXywgZVtzXSwgNywgLTY4MDg3NjkzNiksIHAsIGYsIGVbcyArIDFdLCAxMiwgLTM4OTU2NDU4NiksIGgsIHAsIGVbcyArIDJdLCAxNywgNjA2MTA1ODE5KSwgXywgaCwgZVtzICsgM10sIDIyLCAtMTA0NDUyNTMzMCksIGYgPSBpKGYsIF8gPSBpKF8sIGggPSBpKGgsIHAsIGYsIF8sIGVbcyArIDRdLCA3LCAtMTc2NDE4ODk3KSwgcCwgZiwgZVtzICsgNV0sIDEyLCAxMjAwMDgwNDI2KSwgaCwgcCwgZVtzICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSksIF8sIGgsIGVbcyArIDddLCAyMiwgLTQ1NzA1OTgzKSwgZiA9IGkoZiwgXyA9IGkoXywgaCA9IGkoaCwgcCwgZiwgXywgZVtzICsgOF0sIDcsIDE3NzAwMzU0MTYpLCBwLCBmLCBlW3MgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KSwgaCwgcCwgZVtzICsgMTBdLCAxNywgLTQyMDYzKSwgXywgaCwgZVtzICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpLCBmID0gaShmLCBfID0gaShfLCBoID0gaShoLCBwLCBmLCBfLCBlW3MgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpLCBwLCBmLCBlW3MgKyAxM10sIDEyLCAtNDAzNDExMDEpLCBoLCBwLCBlW3MgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCksIF8sIGgsIGVbcyArIDE1XSwgMjIsIDEyMzY1MzUzMjkpLCBmID0gbyhmLCBfID0gbyhfLCBoID0gbyhoLCBwLCBmLCBfLCBlW3MgKyAxXSwgNSwgLTE2NTc5NjUxMCksIHAsIGYsIGVbcyArIDZdLCA5LCAtMTA2OTUwMTYzMiksIGgsIHAsIGVbcyArIDExXSwgMTQsIDY0MzcxNzcxMyksIF8sIGgsIGVbc10sIDIwLCAtMzczODk3MzAyKSwgZiA9IG8oZiwgXyA9IG8oXywgaCA9IG8oaCwgcCwgZiwgXywgZVtzICsgNV0sIDUsIC03MDE1NTg2OTEpLCBwLCBmLCBlW3MgKyAxMF0sIDksIDM4MDE2MDgzKSwgaCwgcCwgZVtzICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSksIF8sIGgsIGVbcyArIDRdLCAyMCwgLTQwNTUzNzg0OCksIGYgPSBvKGYsIF8gPSBvKF8sIGggPSBvKGgsIHAsIGYsIF8sIGVbcyArIDldLCA1LCA1Njg0NDY0MzgpLCBwLCBmLCBlW3MgKyAxNF0sIDksIC0xMDE5ODAzNjkwKSwgaCwgcCwgZVtzICsgM10sIDE0LCAtMTg3MzYzOTYxKSwgXywgaCwgZVtzICsgOF0sIDIwLCAxMTYzNTMxNTAxKSwgZiA9IG8oZiwgXyA9IG8oXywgaCA9IG8oaCwgcCwgZiwgXywgZVtzICsgMTNdLCA1LCAtMTQ0NDY4MTQ2NyksIHAsIGYsIGVbcyArIDJdLCA5LCAtNTE0MDM3ODQpLCBoLCBwLCBlW3MgKyA3XSwgMTQsIDE3MzUzMjg0NzMpLCBfLCBoLCBlW3MgKyAxMl0sIDIwLCAtMTkyNjYwNzczNCksIGYgPSByKGYsIF8gPSByKF8sIGggPSByKGgsIHAsIGYsIF8sIGVbcyArIDVdLCA0LCAtMzc4NTU4KSwgcCwgZiwgZVtzICsgOF0sIDExLCAtMjAyMjU3NDQ2MyksIGgsIHAsIGVbcyArIDExXSwgMTYsIDE4MzkwMzA1NjIpLCBfLCBoLCBlW3MgKyAxNF0sIDIzLCAtMzUzMDk1NTYpLCBmID0gcihmLCBfID0gcihfLCBoID0gcihoLCBwLCBmLCBfLCBlW3MgKyAxXSwgNCwgLTE1MzA5OTIwNjApLCBwLCBmLCBlW3MgKyA0XSwgMTEsIDEyNzI4OTMzNTMpLCBoLCBwLCBlW3MgKyA3XSwgMTYsIC0xNTU0OTc2MzIpLCBfLCBoLCBlW3MgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCksIGYgPSByKGYsIF8gPSByKF8sIGggPSByKGgsIHAsIGYsIF8sIGVbcyArIDEzXSwgNCwgNjgxMjc5MTc0KSwgcCwgZiwgZVtzXSwgMTEsIC0zNTg1MzcyMjIpLCBoLCBwLCBlW3MgKyAzXSwgMTYsIC03MjI1MjE5NzkpLCBfLCBoLCBlW3MgKyA2XSwgMjMsIDc2MDI5MTg5KSwgZiA9IHIoZiwgXyA9IHIoXywgaCA9IHIoaCwgcCwgZiwgXywgZVtzICsgOV0sIDQsIC02NDAzNjQ0ODcpLCBwLCBmLCBlW3MgKyAxMl0sIDExLCAtNDIxODE1ODM1KSwgaCwgcCwgZVtzICsgMTVdLCAxNiwgNTMwNzQyNTIwKSwgXywgaCwgZVtzICsgMl0sIDIzLCAtOTk1MzM4NjUxKSwgZiA9IGEoZiwgXyA9IGEoXywgaCA9IGEoaCwgcCwgZiwgXywgZVtzXSwgNiwgLTE5ODYzMDg0NCksIHAsIGYsIGVbcyArIDddLCAxMCwgMTEyNjg5MTQxNSksIGgsIHAsIGVbcyArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KSwgXywgaCwgZVtzICsgNV0sIDIxLCAtNTc0MzQwNTUpLCBmID0gYShmLCBfID0gYShfLCBoID0gYShoLCBwLCBmLCBfLCBlW3MgKyAxMl0sIDYsIDE3MDA0ODU1NzEpLCBwLCBmLCBlW3MgKyAzXSwgMTAsIC0xODk0OTg2NjA2KSwgaCwgcCwgZVtzICsgMTBdLCAxNSwgLTEwNTE1MjMpLCBfLCBoLCBlW3MgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KSwgZiA9IGEoZiwgXyA9IGEoXywgaCA9IGEoaCwgcCwgZiwgXywgZVtzICsgOF0sIDYsIDE4NzMzMTMzNTkpLCBwLCBmLCBlW3MgKyAxNV0sIDEwLCAtMzA2MTE3NDQpLCBoLCBwLCBlW3MgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKSwgXywgaCwgZVtzICsgMTNdLCAyMSwgMTMwOTE1MTY0OSksIGYgPSBhKGYsIF8gPSBhKF8sIGggPSBhKGgsIHAsIGYsIF8sIGVbcyArIDRdLCA2LCAtMTQ1NTIzMDcwKSwgcCwgZiwgZVtzICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpLCBoLCBwLCBlW3MgKyAyXSwgMTUsIDcxODc4NzI1OSksIF8sIGgsIGVbcyArIDldLCAyMSwgLTM0MzQ4NTU1MSksIGggPSB0KGgsIGMpLCBwID0gdChwLCB1KSwgZiA9IHQoZiwgZCksIF8gPSB0KF8sIGwpOwogICAgfQoKICAgIHJldHVybiBbaCwgcCwgZiwgX107CiAgfQoKICBmdW5jdGlvbiB1KGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSAiIiwKICAgICAgICBzID0gMzIgKiBlLmxlbmd0aDsKCiAgICBmb3IgKHQgPSAwOyB0IDwgczsgdCArPSA4KSB7CiAgICAgIG4gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShlW3QgPj4gNV0gPj4+IHQgJSAzMiAmIDI1NSk7CiAgICB9CgogICAgcmV0dXJuIG47CiAgfQoKICBmdW5jdGlvbiBkKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBbXTsKCiAgICBmb3IgKG5bKGUubGVuZ3RoID4+IDIpIC0gMV0gPSB1bmRlZmluZWQsIHQgPSAwOyB0IDwgbi5sZW5ndGg7IHQgKz0gMSkgewogICAgICBuW3RdID0gMDsKICAgIH0KCiAgICB2YXIgcyA9IDggKiBlLmxlbmd0aDsKCiAgICBmb3IgKHQgPSAwOyB0IDwgczsgdCArPSA4KSB7CiAgICAgIG5bdCA+PiA1XSB8PSAoMjU1ICYgZS5jaGFyQ29kZUF0KHQgLyA4KSkgPDwgdCAlIDMyOwogICAgfQoKICAgIHJldHVybiBuOwogIH0KCiAgZnVuY3Rpb24gbChlKSB7CiAgICByZXR1cm4gdShjKGQoZSksIDggKiBlLmxlbmd0aCkpOwogIH0KCiAgZnVuY3Rpb24gaChlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICBzLAogICAgICAgIGkgPSBkKGUpLAogICAgICAgIG8gPSBbXSwKICAgICAgICByID0gW107CgogICAgZm9yIChvWzE1XSA9IHJbMTVdID0gdW5kZWZpbmVkLCBpLmxlbmd0aCA+IDE2ICYmIChpID0gYyhpLCA4ICogZS5sZW5ndGgpKSwgbiA9IDA7IG4gPCAxNjsgbiArPSAxKSB7CiAgICAgIG9bbl0gPSA5MDk1MjI0ODYgXiBpW25dLCByW25dID0gMTU0OTU1NjgyOCBeIGlbbl07CiAgICB9CgogICAgcmV0dXJuIHMgPSBjKG8uY29uY2F0KGQodCkpLCA1MTIgKyA4ICogdC5sZW5ndGgpLCB1KGMoci5jb25jYXQocyksIDY0MCkpOwogIH0KCiAgZnVuY3Rpb24gcChlKSB7CiAgICB2YXIgdCwKICAgICAgICBuLAogICAgICAgIHMgPSAiMDEyMzQ1Njc4OWFiY2RlZiIsCiAgICAgICAgaSA9ICIiOwoKICAgIGZvciAobiA9IDA7IG4gPCBlLmxlbmd0aDsgbiArPSAxKSB7CiAgICAgIHQgPSBlLmNoYXJDb2RlQXQobiksIGkgKz0gcy5jaGFyQXQodCA+Pj4gNCAmIDE1KSArIHMuY2hhckF0KDE1ICYgdCk7CiAgICB9CgogICAgcmV0dXJuIGk7CiAgfQoKICBmdW5jdGlvbiBmKGUpIHsKICAgIHJldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpOwogIH0KCiAgZnVuY3Rpb24gXyhlKSB7CiAgICByZXR1cm4gbChmKGUpKTsKICB9CgogIGZ1bmN0aW9uIGcoZSkgewogICAgcmV0dXJuIHAoXyhlKSk7CiAgfQoKICBmdW5jdGlvbiBtKGUsIHQpIHsKICAgIHJldHVybiBoKGYoZSksIGYodCkpOwogIH0KCiAgZnVuY3Rpb24gYihlLCB0KSB7CiAgICByZXR1cm4gcChtKGUsIHQpKTsKICB9CgogIGZ1bmN0aW9uIHYoZSwgdCwgbikgewogICAgcmV0dXJuIHQgPyBuID8gbSh0LCBlKSA6IGIodCwgZSkgOiBuID8gXyhlKSA6IGcoZSk7CiAgfQoKICAiZnVuY3Rpb24iID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdjsKICB9KSA6ICJvYmplY3QiID09ICh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSAmJiBtb2R1bGUuZXhwb3J0cyA/IG1vZHVsZS5leHBvcnRzID0gdiA6IGUubWQ1ID0gdjsKfSh0aGlzKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoX3g1KSB7CiAgICByZXR1cm4gX2UyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBmdW5jdGlvbiBfZTIoKSB7CiAgICBfZTIgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgIC8qI19fUFVSRV9fKi8KICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGUpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSB0OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gbihlKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDQudDEgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDQudDIgPSBhKGUpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAoMCwgX2NvbnRleHQ0LnQwKShfY29udGV4dDQudDEsIF9jb250ZXh0NC50MikpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpOwogICAgcmV0dXJuIF9lMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gdChlLCB0KSB7CiAgICB2YXIgbiA9IHsKICAgICAgaHRtbDoge30sCiAgICAgIGNzczoge30sCiAgICAgIGpzOiB7fQogICAgfTsKICAgIHJldHVybiBlLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgbltlLnNvdXJjZS50eXBlXVtlLmlkXSA9IGU7CiAgICB9KSwgdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIG5bZS5zb3VyY2UudHlwZV1bZS5pZF0gfHwgKG5bZS5zb3VyY2UudHlwZV1bZS5pZF0gPSBlKTsKICAgIH0pLCBuOwogIH0KCiAgZnVuY3Rpb24gbihfeDYpIHsKICAgIHJldHVybiBfbjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGZ1bmN0aW9uIF9uMigpIHsKICAgIF9uMiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZSkgewogICAgICB2YXIgdCwgX2UzLCBfbjM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHQgPSBpKGUpOwoKICAgICAgICAgICAgICBpZiAoISh0LnBlbi5wYXJzLmxlbmd0aCA+IDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9lMyA9IG1kNShKU09OLnN0cmluZ2lmeSh0KSk7CgogICAgICAgICAgICAgIGlmICghKHMoKSwgcFtfZTNdKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgcFtfZTNdKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIEFKQVhVdGlsLnBvc3RBc3luYygiL3BlbnNfYXNfcmVzb3VyY2VzIiwgewogICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkodCkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBfbjMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgKHBbX2UzXSA9IF9jbG9uZURlZXAoX24zLnBhcnMpLCBfbjMucGFycykpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBbXSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpOwogICAgcmV0dXJuIF9uMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgZnVuY3Rpb24gcygpIHsKICAgIGYgPiAwIHx8IChmID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHAgPSB7fSwgZiA9IC0xOwogICAgfSwgaCkpOwogIH0KCiAgZnVuY3Rpb24gaShlKSB7CiAgICB2YXIgdCA9IG8oZSksCiAgICAgICAgbiA9IHIoZSksCiAgICAgICAgcyA9IHQuY29uY2F0KG4pOwogICAgcmV0dXJuIHsKICAgICAgcGVuOiB7CiAgICAgICAgaHRtbF9wcmVfcHJvY2Vzc29yOiBlLmh0bWxfcHJlX3Byb2Nlc3NvciwKICAgICAgICBjc3NfcHJlX3Byb2Nlc3NvcjogZS5jc3NfcHJlX3Byb2Nlc3NvciwKICAgICAgICBqc19wcmVfcHJvY2Vzc29yOiBlLmpzX3ByZV9wcm9jZXNzb3IsCiAgICAgICAgcGFyczogcwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gbyhlKSB7CiAgICByZXR1cm4gUEFSVGVtcGxhdGVzLmZpbmRUZW1wbGF0ZXMoZS5odG1sKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogZSwKICAgICAgICBvcmRlcjogMCwKICAgICAgICBpbnB1dDogewogICAgICAgICAgYm9keTogZSwKICAgICAgICAgIHR5cGU6ICJodG1sIgogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gcihlKSB7CiAgICByZXR1cm4gZS5yZXNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiAhdShlLCB0KSAmJiAoZCh0LnVybCkgfHwgbCh0LnVybCkpOwogICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IGUudXJsLAogICAgICAgIG9yZGVyOiBlLm9yZGVyLAogICAgICAgIGlucHV0OiB7CiAgICAgICAgICBib2R5OiBlLnVybCwKICAgICAgICAgIHR5cGU6IGUucmVzb3VyY2VfdHlwZQogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYShlKSB7CiAgICByZXR1cm4gZS5yZXNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBkKGUudXJsKTsKICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiBlLnVybCwKICAgICAgICBvcmRlcjogZS5vcmRlciwKICAgICAgICBwYXI6ICExLAogICAgICAgIHNvdXJjZTogewogICAgICAgICAgYm9keTogYyhlLnVybCwgZS5yZXNvdXJjZV90eXBlKSwKICAgICAgICAgIHN5bnRheDogZS5yZXNvdXJjZV90eXBlLAogICAgICAgICAgdHlwZTogZS5yZXNvdXJjZV90eXBlCiAgICAgICAgfQogICAgICB9OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBjKGUsIHQpIHsKICAgIHJldHVybiAiIi5jb25jYXQoKGUgfHwgIiIpLnNwbGl0KCI/Iikuc2hpZnQoKS5yZXBsYWNlKC9cLyQvLCAiIikucmVwbGFjZSgvXC4uezIsMTB9JC8sICIiKSwgIi4iKS5jb25jYXQodCk7CiAgfQoKICBmdW5jdGlvbiB1KGUsIHQpIHsKICAgIHZhciBuID0gdC5yZXNvdXJjZV90eXBlOwogICAgcmV0dXJuICJub25lIiA9PT0gZVsiIi5jb25jYXQobiwgIl9wcmVfcHJvY2Vzc29yIildOwogIH0KCiAgZnVuY3Rpb24gZChlKSB7CiAgICByZXR1cm4gL1xTK1wuLnsyLDEwfVwvXFMrXC9wZW5cLyhcd3s1LH0pL2kudGVzdChlKTsKICB9CgogIGZ1bmN0aW9uIGwoZSkgewogICAgdmFyIHQgPSBlLnNwbGl0KCIuIikucG9wKCk7CiAgICByZXR1cm4gd2luZG93Ll9fcHJlcHJvY2Vzc29ycy5jc3MucGFyX3N1ZmZpeGVzLmluY2x1ZGVzKHQpOwogIH0KCiAgd2luZG93LkNQLnByb2Nlc3NQQVJzID0gZTsKICB2YXIgaCA9IDNlNTsKICB2YXIgcCA9IHt9LAogICAgICBmID0gLTE7Cn0oKSwgd2luZG93Ll9fcHJvY2Vzc2VkUGVuQ2FjaGUgPSB7CiAgdG9TZW5kOiB7fSwKICB0b1N0b3JlOiB7fQp9LCB3aW5kb3cuUHJvY2Vzc2VkUGVuID0gQ2xhc3MuZXh0ZW5kKHsKICBmdWxsUmVmcmVzaDogITEsCiAgcHJvY2Vzc2VkOiB7CiAgICBwYXJzSGFzaDogewogICAgICBodG1sOiB7fSwKICAgICAgY3NzOiB7fSwKICAgICAganM6IHt9CiAgICB9CiAgfSwKICByZXNvdXJjZXM6IFtdLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSkgewogICAgdGhpcy5mdWxsUmVmcmVzaCA9IGUuZnVsbFJlZnJlc2g7CiAgfSwKICBzZXRWYWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUoZSwgdCkgewogICAgdGhpc1tlXSA9IHQ7CiAgfSwKICBzZXRQcm9jZXNzZWRWYWx1ZTogZnVuY3Rpb24gc2V0UHJvY2Vzc2VkVmFsdWUoZSwgdCkgewogICAgdm9pZCAwICE9PSB0ICYmICh0aGlzLnByb2Nlc3NlZFtlXSA9IHQpOwogIH0sCiAgZ2V0UHJvY2Vzc2VkOiBmdW5jdGlvbiBnZXRQcm9jZXNzZWQoZSkgewogICAgcmV0dXJuIHRoaXMucHJvY2Vzc2VkW2VdOwogIH0sCiAgdXBkYXRlQWZ0ZXJQcm9jZXNzaW5nOiBmdW5jdGlvbiB1cGRhdGVBZnRlclByb2Nlc3NpbmcoZSkgewogICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgUGVuQ29uc3RhbnRzLlRZUEVTLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgX3RoaXM3LnNldFByb2Nlc3NlZFZhbHVlKHQsIGVbdF0pLCB3aW5kb3cuX19wcm9jZXNzZWRQZW5DYWNoZS50b1N0b3JlW3RdID0gZVt0XTsKICAgIH0pOwogIH0sCiAgYnVpbGRUb1NlbmRBbmRUb1N0b3JlOiBmdW5jdGlvbiBidWlsZFRvU2VuZEFuZFRvU3RvcmUoKSB7CiAgICB2YXIgZSA9IHRoaXMuX2J1aWxkQWxsVG9TZW5kcygpLAogICAgICAgIF90aGlzJF9idWlsZFRvU2VuZEFuZCA9IHRoaXMuX2J1aWxkVG9TZW5kQW5kVG9TdG9yZShlKSwKICAgICAgICB0ID0gX3RoaXMkX2J1aWxkVG9TZW5kQW5kLnRvU2VuZCwKICAgICAgICBuID0gX3RoaXMkX2J1aWxkVG9TZW5kQW5kLnRvU3RvcmU7CgogICAgcmV0dXJuIHRoaXMuX2NhY2hlVG9TZW5kc0JlZm9yZVByb2Nlc3NpbmcoZSksIHsKICAgICAgdG9TZW5kOiB0LAogICAgICB0b1N0b3JlOiBuCiAgICB9OwogIH0sCiAgX2NhY2hlVG9TZW5kc0JlZm9yZVByb2Nlc3Npbmc6IGZ1bmN0aW9uIF9jYWNoZVRvU2VuZHNCZWZvcmVQcm9jZXNzaW5nKGUpIHsKICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgd2luZG93Ll9fcHJvY2Vzc2VkUGVuQ2FjaGUudG9TZW5kW3RdID0gZVt0XTsKICAgIH0pOwogIH0sCiAgX2J1aWxkQWxsVG9TZW5kczogZnVuY3Rpb24gX2J1aWxkQWxsVG9TZW5kcygpIHsKICAgIHJldHVybiB7CiAgICAgIGh0bWw6IHRoaXMuX2J1aWxkSFRNTFRvQmVQcm9jZXNzZWQoKSwKICAgICAgY3NzOiB0aGlzLl9idWlsZENTU1RvQmVQcm9jZXNzZWQoKSwKICAgICAganM6IHRoaXMuX2J1aWxkSlNUb0JlUHJvY2Vzc2VkKCkKICAgIH07CiAgfSwKICBfYnVpbGRIVE1MVG9CZVByb2Nlc3NlZDogZnVuY3Rpb24gX2J1aWxkSFRNTFRvQmVQcm9jZXNzZWQoKSB7CiAgICB2YXIgZSA9IHRoaXMuX2Jhc2VQcm9jZXNzb3JEYXRhKCJodG1sIik7CgogICAgcmV0dXJuIGUudGV4dElucHV0ID0gUEFSVGVtcGxhdGVzLnJlbmRlclRlbXBsYXRlcyhDUC5wZW4uaHRtbCwgT2JqZWN0LnZhbHVlcyh0aGlzLnByb2Nlc3NlZC5wYXJzSGFzaC5odG1sKSksIGU7CiAgfSwKICBfYnVpbGRDU1NUb0JlUHJvY2Vzc2VkOiBmdW5jdGlvbiBfYnVpbGRDU1NUb0JlUHJvY2Vzc2VkKCkgewogICAgdmFyIGUgPSB0aGlzLl9iYXNlUHJvY2Vzc29yRGF0YSgiY3NzIiksCiAgICAgICAgdCA9IHRoaXMuX2J1aWxkUEFSUHJlcGVuZCgiY3NzIiwgdGhpcy5wcm9jZXNzZWQucGFyc0hhc2guY3NzKTsKCiAgICByZXR1cm4gZS50ZXh0SW5wdXQgPSAiIi5jb25jYXQodCkuY29uY2F0KENQLnBlbi5jc3MpLCAic2NzcyIgIT09IGUuc3ludGF4ICYmICJzYXNzIiAhPT0gZS5zeW50YXggfHwgKGUudmVyc2lvbiA9IHRoaXMuX2RldGVybWluZVNhc3NWZXJzaW9uKGUudGV4dElucHV0KSksICJhdXRvcHJlZml4ZXIiID09PSBDUC5wZW4uY3NzX3ByZWZpeCAmJiAoZS5vcHRpb25zW0NQLnBlbi5jc3NfcHJlZml4XSA9ICEwKSwgZTsKICB9LAogIFNBU1NfV0lUSF9DT01QQVNTOiAiMy40LjIyIiwKICBfZGV0ZXJtaW5lU2Fzc1ZlcnNpb246IGZ1bmN0aW9uIF9kZXRlcm1pbmVTYXNzVmVyc2lvbihlKSB7CiAgICB2YXIgdCA9ICJzdHJpbmciID09IHR5cGVvZiBlID8gZSA6ICIiOwogICAgcmV0dXJuIC9AaW1wb3J0XHMrKCd8Iik/Y29tcGFzcygnfCIpPy9pLnRlc3QodCkgPyB0aGlzLlNBU1NfV0lUSF9DT01QQVNTIDogImRlZmF1bHQiOwogIH0sCiAgX2J1aWxkSlNUb0JlUHJvY2Vzc2VkOiBmdW5jdGlvbiBfYnVpbGRKU1RvQmVQcm9jZXNzZWQoKSB7CiAgICB2YXIgZSA9IHRoaXMuX2Jhc2VQcm9jZXNzb3JEYXRhKCJqcyIpLAogICAgICAgIHQgPSB0aGlzLl9idWlsZFBBUlByZXBlbmQoImpzIiwgdGhpcy5wcm9jZXNzZWQucGFyc0hhc2guanMpOwoKICAgIHJldHVybiBlLnRleHRJbnB1dCA9ICIiLmNvbmNhdCh0KS5jb25jYXQoQ1AucGVuLmpzKSwgZS5vcHRpb25zID0gdGhpcy5fZ2V0SlNQcm9jZXNzb3JPcHRpb25zKCksIGU7CiAgfSwKICBfZ2V0SlNQcm9jZXNzb3JPcHRpb25zOiBmdW5jdGlvbiBfZ2V0SlNQcm9jZXNzb3JPcHRpb25zKCkgewogICAgdmFyIGUgPSB7CiAgICAgIGRldGVjdEluZmluaXRlTG9vcHM6ICEwLAogICAgICBkZXBlbmRlbmNpZXM6IHt9CiAgICB9OwogICAgcmV0dXJuIHdpbmRvdy5fX2ZlYXR1cmVfbnBtX2VuYWJsZWQgJiYgKGUuZGVwZW5kZW5jaWVzID0gT2JqZWN0LnZhbHVlcyhDUC5wZW4uZ2V0QWN0aXZlTnBtUGFja2FnZXNBc0RlcGVuZGVuY2llcygpKSksIGU7CiAgfSwKICBfYmFzZVByb2Nlc3NvckRhdGE6IGZ1bmN0aW9uIF9iYXNlUHJvY2Vzc29yRGF0YShlKSB7CiAgICByZXR1cm4gewogICAgICBjb250ZW50VHlwZTogZSwKICAgICAgaWQ6IGUsCiAgICAgIG9wdGlvbnM6IHt9LAogICAgICBzeW50YXg6IENQLnBlblsiIi5jb25jYXQoZSwgIl9wcmVfcHJvY2Vzc29yIildLAogICAgICB2ZXJzaW9uOiAiZGVmYXVsdCIKICAgIH07CiAgfSwKICBfYnVpbGRUb1NlbmRBbmRUb1N0b3JlOiBmdW5jdGlvbiBfYnVpbGRUb1NlbmRBbmRUb1N0b3JlKGUpIHsKICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgIHJldHVybiBQZW5Db25zdGFudHMuVFlQRVMucmVkdWNlKGZ1bmN0aW9uICh0LCBuKSB7CiAgICAgIHZhciBzID0gZVtuXSwKICAgICAgICAgIGkgPSBfdGhpczguX3Nob3VsZFByb2Nlc3NUeXBlKHMpLAogICAgICAgICAgbyA9IF90aGlzOC5faXNUeXBlQ2FjaGVkKG4sIHMpOwoKICAgICAgcmV0dXJuIGkgJiYgIW8gPyB0LnRvU2VuZFtuXSA9IHMgOiB0LnRvU3RvcmVbbl0gPSBpICYmIG8gPyB3aW5kb3cuX19wcm9jZXNzZWRQZW5DYWNoZS50b1N0b3JlW25dIDogcy50ZXh0SW5wdXQsIHQ7CiAgICB9LCB7CiAgICAgIHRvU2VuZDoge30sCiAgICAgIHRvU3RvcmU6IHt9CiAgICB9KTsKICB9LAogIF9zaG91bGRQcm9jZXNzVHlwZTogZnVuY3Rpb24gX3Nob3VsZFByb2Nlc3NUeXBlKGUpIHsKICAgIHJldHVybiAhIWUudGV4dElucHV0ICYmICgibm9uZSIgIT09IGUuc3ludGF4IHx8IE9iamVjdC5rZXlzKGUub3B0aW9ucykubGVuZ3RoID4gMCk7CiAgfSwKICBfaXNUeXBlQ2FjaGVkOiBmdW5jdGlvbiBfaXNUeXBlQ2FjaGVkKGUsIHQpIHsKICAgIHZhciBuID0gd2luZG93Ll9fcHJvY2Vzc2VkUGVuQ2FjaGUudG9TZW5kW2VdOwogICAgcmV0dXJuIHdpbmRvdy5fYXJlRXF1YWwodCwgbik7CiAgfSwKICBfYnVpbGRQQVJQcmVwZW5kOiBmdW5jdGlvbiBfYnVpbGRQQVJQcmVwZW5kKGUsIHQpIHsKICAgIHZhciBuID0gT2JqZWN0LnZhbHVlcyh0KS5maWx0ZXIoZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIHQucGFyICYmIHQuc291cmNlLnR5cGUgPT09IGU7CiAgICB9KTsKICAgIHJldHVybiBuLnNvcnQoc29ydEJ5T3JkZXIpLCBuLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5zb3VyY2UuYm9keTsKICAgIH0pLmpvaW4oIlxuIik7CiAgfSwKICBidWlsZFJlbmRlcmFibGVIYXNoOiBmdW5jdGlvbiBidWlsZFJlbmRlcmFibGVIYXNoKCkgewogICAgcmV0dXJuIHsKICAgICAgY3NzX3ByZWZpeDogQ1AucGVuLmNzc19wcmVmaXgsCiAgICAgIGNzc19zdGFydGVyOiBDUC5wZW4uY3NzX3N0YXJ0ZXIsCiAgICAgIGNzczogdGhpcy5wcm9jZXNzZWQuY3NzLAogICAgICBmdWxsUmVmcmVzaDogdGhpcy5mdWxsUmVmcmVzaCwKICAgICAgaGVhZDogQ1AucGVuLmhlYWQsCiAgICAgIGh0bWxfY2xhc3NlczogQ1AucGVuLmh0bWxfY2xhc3NlcywKICAgICAgaHRtbDogdGhpcy5wcm9jZXNzZWQuaHRtbCwKICAgICAganNfcHJlX3Byb2Nlc3NvcjogQ1AucGVuLmpzX3ByZV9wcm9jZXNzb3IsCiAgICAgIGpzOiB0aGlzLnByb2Nlc3NlZC5qcywKICAgICAgbG9jYXRpb25faGFzaDogd2luZG93LmxvY2F0aW9uLmhhc2gsCiAgICAgIHNjcmlwdHM6IHRoaXMuX2dldFNjcmlwdHMoKSwKICAgICAgc3R5bGVzOiB0aGlzLl9nZXRTdHlsZXMoKQogICAgfTsKICB9LAogIF9nZXRTdHlsZXM6IGZ1bmN0aW9uIF9nZXRTdHlsZXMoKSB7CiAgICByZXR1cm4gdGhpcy5fZ2V0RXh0ZXJuYWxVUkxzKCJjc3MiLCB0aGlzLnByb2Nlc3NlZC5yZXNvdXJjZXMsIHRoaXMucHJvY2Vzc2VkLnBhcnNIYXNoLmNzcyk7CiAgfSwKICBfZ2V0U2NyaXB0czogZnVuY3Rpb24gX2dldFNjcmlwdHMoKSB7CiAgICB2YXIgZSA9IHRoaXMuX2dldEV4dGVybmFsVVJMcygianMiLCB0aGlzLnByb2Nlc3NlZC5yZXNvdXJjZXMsIHRoaXMucHJvY2Vzc2VkLnBhcnNIYXNoLmpzKTsKCiAgICByZXR1cm4gdGhpcy5fZ2V0QnVuZGxlU2NyaXB0cygpLmNvbmNhdChlKTsKICB9LAogIF9nZXRFeHRlcm5hbFVSTHM6IGZ1bmN0aW9uIF9nZXRFeHRlcm5hbFVSTHMoZSwgdCwgbikgewogICAgdmFyIHMgPSB0aGlzLl9nZXRSZXNvdXJjZVVSTHNCeVR5cGUoZSwgdCwgbiksCiAgICAgICAgaSA9IHRoaXMuX2dldFBBUlNVUkxzQnlUeXBlKGUsIG4pLAogICAgICAgIG8gPSBzLmNvbmNhdChpKTsKCiAgICByZXR1cm4gby5zb3J0KHNvcnRCeU9yZGVyKSwgbzsKICB9LAogIF9nZXRSZXNvdXJjZVVSTHNCeVR5cGU6IGZ1bmN0aW9uIF9nZXRSZXNvdXJjZVVSTHNCeVR5cGUoZSwgdCwgbikgewogICAgcmV0dXJuIHQuZmlsdGVyKGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiB0LnJlc291cmNlX3R5cGUgPT09IGUgJiYgIW5bdC51cmxdICYmIHQudXJsOwogICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgb3JkZXI6IGUub3JkZXIsCiAgICAgICAgdHlwZTogZS5yZXNvdXJjZV90eXBlLAogICAgICAgIHVybDogZS51cmwKICAgICAgfTsKICAgIH0pOwogIH0sCiAgX2dldFBBUlNVUkxzQnlUeXBlOiBmdW5jdGlvbiBfZ2V0UEFSU1VSTHNCeVR5cGUoZSwgdCkgewogICAgcmV0dXJuIE9iamVjdC52YWx1ZXModCkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAhZS5wYXI7CiAgICB9KS5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBvcmRlcjogdC5vcmRlciwKICAgICAgICB0eXBlOiBlLAogICAgICAgIHVybDogdC5zb3VyY2UuYm9keQogICAgICB9OwogICAgfSk7CiAgfSwKICBfZ2V0QnVuZGxlU2NyaXB0czogZnVuY3Rpb24gX2dldEJ1bmRsZVNjcmlwdHMoKSB7CiAgICByZXR1cm4gT2JqZWN0LmtleXMoQ1AucGVuLmdldEFjdGl2ZU5wbVBhY2thZ2VzKCkpLmxlbmd0aCA+IDAgPyBidW5kbGVTY3JpcHRzIDogW107CiAgfQp9KTsKdmFyIGJ1bmRsZVNjcmlwdHMgPSBbewogIGNvbnRlbnQ6ICJ3aW5kb3cuX193ZWJwYWNrX3B1YmxpY19wYXRoX18gPSBcIiIuY29uY2F0KHdpbmRvdy5fX25wbV9iYXNlX3VybCwgIlwiOyIpLAogIG9yZGVyOiAwCn0sIHsKICBvcmRlcjogMSwKICB1cmw6IHdpbmRvdy5fX25wbV9iYXNlX3VybCArICIvcnVudGltZS5qcyIKfV07CndpbmRvdy5CYXNlU2V0dGluZ3NDb250cm9sbGVyID0gQ2xhc3MuZXh0ZW5kKHsKICBzZXRJdGVtVmFsdWU6IGZ1bmN0aW9uIHNldEl0ZW1WYWx1ZShlKSB7CiAgICB0aGlzLml0ZW0gfHwgKHRoaXMuaXRlbSA9IHRoaXMucGVuKSwgdGhpcy5pdGVtLnNldEl0ZW1WYWx1ZShlKTsKICB9LAogIHN5bmNXaXRoU2VydmVyOiBmdW5jdGlvbiBzeW5jV2l0aFNlcnZlcihlKSB7CiAgICB0aGlzLm1vZGVsLnN5bmNXaXRoU2VydmVyKGUpOwogIH0KfSksIHdpbmRvdy5CYXNlU2V0dGluZ3NFdmVudHMgPSBDbGFzcy5leHRlbmQoewogIHR5cGU6ICIiLAogIF9jYW5Ecml2ZTogITAsCiAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICB0aGlzLmNvbnRyb2xsZXIgPSBlLCBfLmV4dGVuZCh0aGlzLCBFbmFibGVEaXNhYmxlRHJpdmVyKSwgdGhpcy5iaW5kVG9FbmFibGVEaXNhYmxlSHViRXZlbnRzKCk7CiAgfSwKICBfc2V0SXRlbVZhbHVlOiBmdW5jdGlvbiBfc2V0SXRlbVZhbHVlKGUpIHsKICAgIHRoaXMuY29udHJvbGxlci5zZXRJdGVtVmFsdWUodGhpcy5fYnVpbGRCYXNpY0RhdGEoZSkpOwogIH0sCiAgX3NldEl0ZW1WYWx1ZUZyb21TZXJ2ZXI6IGZ1bmN0aW9uIF9zZXRJdGVtVmFsdWVGcm9tU2VydmVyKGUpIHsKICAgIHRoaXMuY29udHJvbGxlci5zZXRJdGVtVmFsdWUoZSk7CiAgfSwKICBfb25TZXJ2ZXJQZW5DaGFuZ2U6IGZ1bmN0aW9uIF9vblNlcnZlclBlbkNoYW5nZShlLCB0KSB7CiAgICB0aGlzLmNvbnRyb2xsZXIuc2V0SXRlbVZhbHVlKHQpOwogIH0sCiAgX2J1aWxkQmFzaWNEYXRhOiBmdW5jdGlvbiBfYnVpbGRCYXNpY0RhdGEoZSkgewogICAgcmV0dXJuIHsKICAgICAgb3JpZ2luOiAiY2xpZW50IiwKICAgICAgcGVuOiBlCiAgICB9OwogIH0KfSksIHdpbmRvdy5CYXNlU2V0dGluZ3NNb2RlbCA9IENsYXNzLmV4dGVuZCh7CiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHt9Cn0pLCB3aW5kb3cuQmFzZVNldHRpbmdzVmlldyA9IENsYXNzLmV4dGVuZCh7CiAgdHlwZTogIiIsCiAgX2NhbkRyaXZlOiAhMCwKICBpbml0OiBmdW5jdGlvbiBpbml0KCkge30KfSksIHdpbmRvdy5CZWhhdmlvckNvbnRyb2xsZXIgPSBCYXNlU2V0dGluZ3NDb250cm9sbGVyLmV4dGVuZCh7CiAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICB0aGlzLnBlbiA9IGUsIHRoaXMuZXZlbnRzID0gbmV3IEJlaGF2aW9yRXZlbnRzKHRoaXMpLCB0aGlzLnZpZXcgPSBuZXcgQmVoYXZpb3JWaWV3KGUpOwogIH0KfSksIHdpbmRvdy5CZWhhdmlvckV2ZW50cyA9IEJhc2VTZXR0aW5nc0V2ZW50cy5leHRlbmQoewogICRhdXRvU2F2ZTogJCgiI2F1dG8tc2F2ZSIpLAogICRhdXRvUnVuOiAkKCIjYXV0by1ydW4iKSwKICAkdGFiU2l6ZTogJCgiI3RhYi1zaXplIiksCiAgJGluZGVudFdpdGg6ICQoImlucHV0W25hbWU9J2luZGVudC13aXRoJ10iKSwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMuX3N1cGVyKGUpLCBfLmV4dGVuZCh0aGlzLCBFbmFibGVEaXNhYmxlRHJpdmVyKSwgdGhpcy5iaW5kVG9FbmFibGVEaXNhYmxlSHViRXZlbnRzKCksIHRoaXMuX2JpbmRUb0RPTSgpLCB0aGlzLl9iaW5kVG9IdWIoKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICB0aGlzLiRhdXRvU2F2ZS5fb24oImNsaWNrIiwgdGhpcy5fc2V0QXV0b1NhdmUsIHRoaXMsICEwKSwgdGhpcy4kYXV0b1J1bi5fb24oImNsaWNrIiwgdGhpcy5fc2V0QXV0b1J1biwgdGhpcywgITApLCB0aGlzLiR0YWJTaXplLl9vbigiY2hhbmdlIiwgdGhpcy5fb25UYWJTaXplQ2hhbmdlLCB0aGlzKSwgdGhpcy4kaW5kZW50V2l0aC5fb24oImNsaWNrIiwgdGhpcy5fc2V0SW5kZW50V2l0aCwgdGhpcywgITApOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInNlcnZlci1wZW4tY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblNlcnZlclBlbkNoYW5nZSwgdGhpcykpOwogIH0sCiAgX29uU2VydmVyUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25TZXJ2ZXJQZW5DaGFuZ2UoZSwgdCkgewogICAgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZSh0LCAicGVuLmVkaXRvcl9zZXR0aW5ncyIpICYmIHRoaXMuX3NldEl0ZW1WYWx1ZUZyb21TZXJ2ZXIodCk7CiAgfSwKICBfc2V0QXV0b1NhdmU6IGZ1bmN0aW9uIF9zZXRBdXRvU2F2ZShlLCB0KSB7CiAgICB0aGlzLl9jYW5Ecml2ZSAmJiB0aGlzLl9zZXRJdGVtVmFsdWUodGhpcy5fYnVpbGRTZXR0aW5nc1BlbkRhdGEoImF1dG9fc2F2ZSIsIHQuaXMoIjpjaGVja2VkIikpKTsKICB9LAogIF9zZXRBdXRvUnVuOiBmdW5jdGlvbiBfc2V0QXV0b1J1bihlLCB0KSB7CiAgICB0aGlzLl9jYW5Ecml2ZSAmJiB0aGlzLl9zZXRJdGVtVmFsdWUodGhpcy5fYnVpbGRTZXR0aW5nc1BlbkRhdGEoImF1dG9fcnVuIiwgdC5pcygiOmNoZWNrZWQiKSkpOwogIH0sCiAgX3NldEluZGVudFdpdGg6IGZ1bmN0aW9uIF9zZXRJbmRlbnRXaXRoKCkgewogICAgdGhpcy5fY2FuRHJpdmUgJiYgdGhpcy5fc2V0SXRlbVZhbHVlKHRoaXMuX2J1aWxkU2V0dGluZ3NQZW5EYXRhKCJpbmRlbnRfd2l0aCIsICQoImlucHV0W25hbWU9J2luZGVudC13aXRoJ106Y2hlY2tlZCIpLnZhbCgpKSk7CiAgfSwKICBfb25UYWJTaXplQ2hhbmdlOiBmdW5jdGlvbiBfb25UYWJTaXplQ2hhbmdlKGUsIHQpIHsKICAgIHRoaXMuX2NhbkRyaXZlICYmIHRoaXMuX3NldEl0ZW1WYWx1ZSh0aGlzLl9idWlsZFNldHRpbmdzUGVuRGF0YSgidGFiX3NpemUiLCB0aGlzLl92YWxpZFRhYlNpemUodC52YWwoKSkpKTsKICB9LAogIF92YWxpZFRhYlNpemU6IGZ1bmN0aW9uIF92YWxpZFRhYlNpemUoZSkgewogICAgdmFyIHQgPSAxICogZTsKICAgIHJldHVybiB0IDwgMSB8fCB0ID4gNiA/ICIxIiA6IGU7CiAgfSwKICBfYnVpbGRTZXR0aW5nc1BlbkRhdGE6IGZ1bmN0aW9uIF9idWlsZFNldHRpbmdzUGVuRGF0YShlLCB0KSB7CiAgICB2YXIgbiA9IHsKICAgICAgZWRpdG9yX3NldHRpbmdzOiB7fQogICAgfTsKICAgIHJldHVybiBuLmVkaXRvcl9zZXR0aW5nc1tlXSA9IHQsIG47CiAgfSwKICBfZ2V0QWxsVUlFbGVtZW50czogZnVuY3Rpb24gX2dldEFsbFVJRWxlbWVudHMoKSB7CiAgICByZXR1cm4gW3RoaXMuJGF1dG9TYXZlLCB0aGlzLiRhdXRvUnVuLCB0aGlzLiR0YWJTaXplLCB0aGlzLiRpbmRlbnRXaXRoXTsKICB9Cn0pLCB3aW5kb3cuQmVoYXZpb3JWaWV3ID0gQ2xhc3MuZXh0ZW5kKHsKICAkYm9keTogJCgiYm9keSIpLAogICRhdXRvU2F2ZTogJCgiI2F1dG8tc2F2ZSIpLAogICRhdXRvUnVuOiAkKCIjYXV0by1ydW4iKSwKICAkdGFiU2l6ZTogJCgiI3RhYi1zaXplIiksCiAgJGluZGVudFdpdGhTcGFjZXM6ICQoIiNpbmRlbnQtd2l0aC1zcGFjZXMiKSwKICAkaW5kZW50V2l0aFRhYnM6ICQoIiNpbmRlbnQtd2l0aC10YWJzIiksCiAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICB0aGlzLl9iaW5kVG9IdWIoKSwgdGhpcy5faGFuZGxlUGVuQ2hhbmdlKGUpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInBlbi1jaGFuZ2UiLCAkLnByb3h5KHRoaXMuX29uUGVuQ2hhbmdlLCB0aGlzKSk7CiAgfSwKICBfb25QZW5DaGFuZ2U6IGZ1bmN0aW9uIF9vblBlbkNoYW5nZShlLCB0KSB7CiAgICB0aGlzLl9oYW5kbGVQZW5DaGFuZ2UodC5wZW4pOwogIH0sCiAgX2hhbmRsZVBlbkNoYW5nZTogZnVuY3Rpb24gX2hhbmRsZVBlbkNoYW5nZShlKSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKGUsICJlZGl0b3Jfc2V0dGluZ3MuYXV0b19ydW4iKSAmJiB0aGlzLl9zZXRBdXRvUnVuKGUuZWRpdG9yX3NldHRpbmdzLmF1dG9fcnVuKSwgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZShlLCAiZWRpdG9yX3NldHRpbmdzLmF1dG9fc2F2ZSIpICYmIHRoaXMuX3NldEF1dG9TYXZlKGUuZWRpdG9yX3NldHRpbmdzLmF1dG9fc2F2ZSksIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUoZSwgImVkaXRvcl9zZXR0aW5ncy5pbmRlbnRfd2l0aCIpICYmIHRoaXMuX3NldEluZGVudFdpdGgoZS5lZGl0b3Jfc2V0dGluZ3MuaW5kZW50X3dpdGgpLCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKGUsICJlZGl0b3Jfc2V0dGluZ3MudGFiX3NpemUiKSAmJiB0aGlzLl9zZXRUYWJTaXplKGUuZWRpdG9yX3NldHRpbmdzLnRhYl9zaXplKTsKICB9LAogIF9zZXRBdXRvUnVuOiBmdW5jdGlvbiBfc2V0QXV0b1J1bihlKSB7CiAgICBlID8gKHRoaXMuJGF1dG9SdW4ucHJvcCgiY2hlY2tlZCIsICEwKSwgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygic2hvdy1ydW4tYnV0dG9uIikpIDogKHRoaXMuJGF1dG9SdW4ucHJvcCgiY2hlY2tlZCIsICExKSwgdGhpcy4kYm9keS5hZGRDbGFzcygic2hvdy1ydW4tYnV0dG9uIikpOwogIH0sCiAgX3NldEF1dG9TYXZlOiBmdW5jdGlvbiBfc2V0QXV0b1NhdmUoZSkgewogICAgdGhpcy4kYXV0b1NhdmUucHJvcCgiY2hlY2tlZCIsIGUpOwogIH0sCiAgX3NldEluZGVudFdpdGg6IGZ1bmN0aW9uIF9zZXRJbmRlbnRXaXRoKGUpIHsKICAgICJ0YWJzIiA9PT0gZSA/ICh0aGlzLiRpbmRlbnRXaXRoVGFicy5wcm9wKCJjaGVja2VkIiwgITApLCB0aGlzLiRpbmRlbnRXaXRoU3BhY2VzLnByb3AoImNoZWNrZWQiLCAhMSkpIDogKHRoaXMuJGluZGVudFdpdGhUYWJzLnByb3AoImNoZWNrZWQiLCAhMSksIHRoaXMuJGluZGVudFdpdGhTcGFjZXMucHJvcCgiY2hlY2tlZCIsICEwKSk7CiAgfSwKICBfc2V0VGFiU2l6ZTogZnVuY3Rpb24gX3NldFRhYlNpemUoZSkgewogICAgdGhpcy4kdGFiU2l6ZS52YWwoZSk7CiAgfQp9KSwgd2luZG93LkNTU1NldHRpbmdzQ29udHJvbGxlciA9IEJhc2VTZXR0aW5nc0NvbnRyb2xsZXIuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMucGVuID0gZSwgdGhpcy5ldmVudHMgPSBuZXcgQ1NTU2V0dGluZ3NFdmVudHModGhpcyksIHRoaXMubW9kZWwgPSBuZXcgQ1NTU2V0dGluZ3NNb2RlbCgpLCB0aGlzLnZpZXcgPSBuZXcgQ1NTU2V0dGluZ3NWaWV3KGUpLCB0aGlzLnJlc291cmNlc0NvbnRyb2xsZXIgPSBuZXcgUmVzb3VyY2VzQ29udHJvbGxlcigiY3NzIik7CiAgfSwKICBzaG93QWRkb25zOiBmdW5jdGlvbiBzaG93QWRkb25zKGUpIHsKICAgIHRoaXMubW9kZWwuc2hvd0FkZG9ucyhlKTsKICB9LAogIGhpZGVBZGRvbnM6IGZ1bmN0aW9uIGhpZGVBZGRvbnMoZSkgewogICAgdGhpcy5tb2RlbC5oaWRlQWRkb25zKGUpOwogIH0sCiAgc3luY1dpdGhTZXJ2ZXI6IGZ1bmN0aW9uIHN5bmNXaXRoU2VydmVyKGUpIHsKICAgIHRoaXMubW9kZWwuc3luY1dpdGhTZXJ2ZXIoZSk7CiAgfQp9KSwgd2luZG93LkNTU1NldHRpbmdzRXZlbnRzID0gQmFzZVNldHRpbmdzRXZlbnRzLmV4dGVuZCh7CiAgdHlwZTogImNzcyIsCiAgJGNzc1ByZVByb2Nlc3NvcjogJCgiI2Nzcy1wcmVwcm9jZXNzb3IiKSwKICAkc3RhcnRlckNTUzogJCgiaW5wdXRbbmFtZT0nc3RhcnRlcmNzcyddIiksCiAgJGNzc1ByZWZpeDogJCgiaW5wdXRbbmFtZT0ncHJlZml4J10iKSwKICAkY3NzTmVlZEFuQWRkb246ICQoIiNjc3MtbmVlZC1hbi1hZGRvbi1idXR0b24iKSwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMuX3N1cGVyKGUpLCBfLmV4dGVuZCh0aGlzLCBFbmFibGVEaXNhYmxlRHJpdmVyKSwgdGhpcy5iaW5kVG9FbmFibGVEaXNhYmxlSHViRXZlbnRzKCksIHRoaXMuX2JpbmRUb0RPTSgpLCB0aGlzLl9iaW5kVG9IdWIoKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICB0aGlzLiRjc3NQcmVQcm9jZXNzb3IuX29uKCJjaGFuZ2UiLCB0aGlzLl9zZWxlY3RQcmVQcm9jZXNzb3IsIHRoaXMsICEwKSwgdGhpcy4kc3RhcnRlckNTUy5fb24oImNsaWNrIiwgdGhpcy5fc2VsZWN0U3RhcnRDU1MsIHRoaXMsICEwKSwgdGhpcy4kY3NzUHJlZml4Ll9vbigiY2xpY2siLCB0aGlzLl9zZWxlY3RDU1NQcmVmaXgsIHRoaXMsICEwKSwgdGhpcy4kY3NzTmVlZEFuQWRkb24uX29uKCJjbGljayIsIHRoaXMuX29uQ2xpY2tOZWVkQW5BZGRvbkJ1dHRvbiwgdGhpcyk7CiAgfSwKICBfYmluZFRvSHViOiBmdW5jdGlvbiBfYmluZFRvSHViKCkgewogICAgSHViLnN1Yigic2VydmVyLXVpLWNoYW5nZSIsICQucHJveHkodGhpcy5fb25TZXJ2ZXJVSUNoYW5nZSwgdGhpcykpLCBIdWIuc3ViKCJzZXJ2ZXItcGVuLWNoYW5nZSIsICQucHJveHkodGhpcy5fb25TZXJ2ZXJQZW5DaGFuZ2UsIHRoaXMpKTsKICB9LAogIF9vblNlcnZlclVJQ2hhbmdlOiBmdW5jdGlvbiBfb25TZXJ2ZXJVSUNoYW5nZShlLCB0KSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJ1aS5zZXR0aW5ncy5jc3MuYWRkb25zIikgJiYgdGhpcy5jb250cm9sbGVyLnN5bmNXaXRoU2VydmVyKHQpOwogIH0sCiAgX29uU2VydmVyUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25TZXJ2ZXJQZW5DaGFuZ2UoZSwgdCkgewogICAgKE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5jc3NfcHJlX3Byb2Nlc3NvciIpIHx8IE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5jc3NfcHJlZml4IikgfHwgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZSh0LCAicGVuLmNzc19zdGFydGVyIikpICYmIHRoaXMuX3NldEl0ZW1WYWx1ZUZyb21TZXJ2ZXIodCk7CiAgfSwKICBfc2VsZWN0UHJlUHJvY2Vzc29yOiBmdW5jdGlvbiBfc2VsZWN0UHJlUHJvY2Vzc29yKGUsIHQpIHsKICAgIHRoaXMuX2NhbkRyaXZlICYmICh0aGlzLl9zZXRJdGVtVmFsdWUoewogICAgICBjc3NfcHJlX3Byb2Nlc3NvcjogdC52YWwoKQogICAgfSksIHRoaXMuY29udHJvbGxlci5oaWRlQWRkb25zKHsKICAgICAgb3JpZ2luOiAiY2xpZW50IgogICAgfSkpOwogIH0sCiAgX3NlbGVjdFN0YXJ0Q1NTOiBmdW5jdGlvbiBfc2VsZWN0U3RhcnRDU1MoZSwgdCkgewogICAgdGhpcy5fY2FuRHJpdmUgJiYgdGhpcy5fc2V0SXRlbVZhbHVlKHsKICAgICAgY3NzX3N0YXJ0ZXI6IHQudmFsKCkKICAgIH0pOwogIH0sCiAgX3NlbGVjdENTU1ByZWZpeDogZnVuY3Rpb24gX3NlbGVjdENTU1ByZWZpeChlLCB0KSB7CiAgICB0aGlzLl9jYW5Ecml2ZSAmJiB0aGlzLl9zZXRJdGVtVmFsdWUoewogICAgICBjc3NfcHJlZml4OiB0LnZhbCgpCiAgICB9KTsKICB9LAogIF9nZXRBbGxVSUVsZW1lbnRzOiBmdW5jdGlvbiBfZ2V0QWxsVUlFbGVtZW50cygpIHsKICAgIHJldHVybiBbdGhpcy4kY3NzUHJlUHJvY2Vzc29yLCB0aGlzLiRzdGFydGVyQ1NTLCB0aGlzLiRjc3NQcmVmaXgsIHRoaXMuJGNzc05lZWRBbkFkZG9uXTsKICB9LAogIF9vbkNsaWNrTmVlZEFuQWRkb25CdXR0b246IGZ1bmN0aW9uIF9vbkNsaWNrTmVlZEFuQWRkb25CdXR0b24oKSB7CiAgICB0aGlzLl9jYW5Ecml2ZSAmJiAoIm9wZW4iID09PSBDUC51aS5zZXR0aW5ncy5jc3MuYWRkb25zID8gdGhpcy5jb250cm9sbGVyLmhpZGVBZGRvbnMoewogICAgICBvcmlnaW46ICJjbGllbnQiCiAgICB9KSA6IHRoaXMuY29udHJvbGxlci5zaG93QWRkb25zKHsKICAgICAgb3JpZ2luOiAiY2xpZW50IgogICAgfSkpOwogIH0KfSksIHdpbmRvdy5DU1NTZXR0aW5nc01vZGVsID0gQmFzZVNldHRpbmdzTW9kZWwuZXh0ZW5kKHsKICB0eXBlOiAiY3NzIiwKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgdGhpcy5fc3VwZXIoKTsKICB9LAogIHNob3dBZGRvbnM6IGZ1bmN0aW9uIHNob3dBZGRvbnMoZSkgewogICAgQ1AudWkuc2V0dGluZ3MuY3NzLmFkZG9ucyA9ICJvcGVuIiwgdGhpcy5fcHViVUlDaGFuZ2UoZSk7CiAgfSwKICBoaWRlQWRkb25zOiBmdW5jdGlvbiBoaWRlQWRkb25zKGUpIHsKICAgIENQLnVpLnNldHRpbmdzLmNzcy5hZGRvbnMgPSAiY2xvc2VkIiwgdGhpcy5fcHViVUlDaGFuZ2UoZSk7CiAgfSwKICBzeW5jV2l0aFNlcnZlcjogZnVuY3Rpb24gc3luY1dpdGhTZXJ2ZXIoZSkgewogICAgQ1AudWkuc2V0dGluZ3MuY3NzLmFkZG9ucyA9IGUudWkuc2V0dGluZ3MuY3NzLmFkZG9ucywgdGhpcy5fcHViVUlDaGFuZ2UoZSk7CiAgfSwKICBfcHViVUlDaGFuZ2U6IGZ1bmN0aW9uIF9wdWJVSUNoYW5nZShlKSB7CiAgICBIdWIucHViKCJ1aS1jaGFuZ2UiLCB7CiAgICAgIG9yaWdpbjogZS5vcmlnaW4sCiAgICAgIHVpOiB7CiAgICAgICAgc2V0dGluZ3M6IHsKICAgICAgICAgIGNzczogewogICAgICAgICAgICBhZGRvbnM6IENQLnVpLnNldHRpbmdzLmNzcy5hZGRvbnMKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KfSksIHdpbmRvdy5DU1NTZXR0aW5nc1ZpZXcgPSBCYXNlU2V0dGluZ3NWaWV3LmV4dGVuZCh7CiAgJGJveENTU0VsOiAkKCIjYm94LWNzcyIpLAogICRjc3NQcmVwcm9jZXNzb3I6ICQoIiNjc3MtcHJlcHJvY2Vzc29yIiksCiAgJG5lZWRBbkFkZG9uOiAkKCIjbmVlZC1hbi1hZGRvbiIpLAogICRhZGRPbnM6ICQoIiNhZGQtb25zIiksCiAgdHlwZTogImNzcyIsCiAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICB0aGlzLl9zdXBlcigpLCB0aGlzLl9iaW5kVG9IdWIoKSwgdGhpcy5fdXBkYXRlVUkoZSk7CiAgfSwKICBfYmluZFRvSHViOiBmdW5jdGlvbiBfYmluZFRvSHViKCkgewogICAgSHViLnN1YigicGVuLWNoYW5nZSIsICQucHJveHkodGhpcy5fb25QZW5DaGFuZ2UsIHRoaXMpKSwgSHViLnN1YigidWktY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblVJQ2hhbmdlLCB0aGlzKSk7CiAgfSwKICBfb25QZW5DaGFuZ2U6IGZ1bmN0aW9uIF9vblBlbkNoYW5nZShlLCB0KSB7CiAgICB0aGlzLl91cGRhdGVVSSh0LnBlbik7CiAgfSwKICBfdXBkYXRlVUk6IGZ1bmN0aW9uIF91cGRhdGVVSShlKSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKGUsICJjc3NfcHJlX3Byb2Nlc3NvciIpICYmIHRoaXMuX3NldFByZVByb2Nlc3NvcihlKSwgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZShlLCAiY3NzX3N0YXJ0ZXIiKSAmJiB0aGlzLl9zZWxlY3RDU1NTdGFydGVyKGUpLCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKGUsICJjc3NfcHJlZml4IikgJiYgdGhpcy5fc2VsZWN0Q1NTUHJlZml4KGUpOwogIH0sCiAgX29uVUlDaGFuZ2U6IGZ1bmN0aW9uIF9vblVJQ2hhbmdlKGUsIHQpIHsKICAgIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInVpLnNldHRpbmdzLmNzcy5hZGRvbnMiKSAmJiB0aGlzLl91cGRhdGVBZGRvbnModC51aS5zZXR0aW5ncy5jc3MuYWRkb25zKTsKICB9LAogIF9zZXRQcmVQcm9jZXNzb3I6IGZ1bmN0aW9uIF9zZXRQcmVQcm9jZXNzb3IoZSkgewogICAgdGhpcy5fc2VsZWN0UHJlUHJvY2Vzc29yKGUpLCB0aGlzLl9hZGRDbGFzc2VzVG9Cb3hDU1MoZSksIHRoaXMuX3RvZ2dsZU5lZWRBZGRvbnMoZSk7CiAgfSwKICBfc2VsZWN0UHJlUHJvY2Vzc29yOiBmdW5jdGlvbiBfc2VsZWN0UHJlUHJvY2Vzc29yKGUpIHsKICAgIHRoaXMuJGNzc1ByZXByb2Nlc3Nvci52YWwoZS5jc3NfcHJlX3Byb2Nlc3Nvcik7CiAgfSwKICBfYWRkQ2xhc3Nlc1RvQm94Q1NTOiBmdW5jdGlvbiBfYWRkQ2xhc3Nlc1RvQm94Q1NTKGUpIHsKICAgIHRoaXMuJGJveENTU0VsLmRhdGEoInByZXByb2Nlc3NvciIsIF9fcHJlcHJvY2Vzc29ycy5jc3MucHJldHR5X3N5bnRheGVzW2UuY3NzX3ByZV9wcm9jZXNzb3JdKSwgdGhpcy4kYm94Q1NTRWwucmVtb3ZlQ2xhc3MoX19wcmVwcm9jZXNzb3JzLmNzcy5zeW50YXhlcy5qb2luKCIgIikpLnJlbW92ZUNsYXNzKF9fcHJlcHJvY2Vzc29ycy5jc3MucHJlZml4ZXMuam9pbigiICIpKS5hZGRDbGFzcyhlLmNzc19wcmVfcHJvY2Vzc29yKSwgJCgiLmNzcy1lZGl0b3ItdGl0bGUiKS5yZW1vdmVDbGFzcyhfX3ByZXByb2Nlc3NvcnMuY3NzLnN5bnRheGVzLmpvaW4oIiAiKSkucmVtb3ZlQ2xhc3MoX19wcmVwcm9jZXNzb3JzLmNzcy5wcmVmaXhlcy5qb2luKCIgIikpLmFkZENsYXNzKGUuY3NzX3ByZV9wcm9jZXNzb3IpOwogIH0sCiAgX3RvZ2dsZU5lZWRBZGRvbnM6IGZ1bmN0aW9uIF90b2dnbGVOZWVkQWRkb25zKGUpIHsKICAgIGlmIChfLmNvbnRhaW5zKF9fcHJlcHJvY2Vzc29ycy5jc3MucHJlcHJvY2Vzc29ycywgZS5jc3NfcHJlX3Byb2Nlc3NvcikpIHsKICAgICAgdmFyIHQgPSB0aGlzOwogICAgICBDYWNoZUdldC5maW5kKHsKICAgICAgICBrZXk6ICIvZWRpdG9yL2NvbnN0YW50cy9hZGRvbnMvIiArIGUuY3NzX3ByZV9wcm9jZXNzb3IsCiAgICAgICAgdXJsOiAiL2VkaXRvci9jb25zdGFudHMvYWRkb25zLyIgKyBlLmNzc19wcmVfcHJvY2Vzc29yLAogICAgICAgIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoZSkgewogICAgICAgICAgdC4kYWRkT25zLmh0bWwoZS5odG1sKSwgQ1AuSGVscEZseW91dHMuaW5pdCgpLCB0LiRuZWVkQW5BZGRvbi5yZW1vdmVDbGFzcygiaGlkZSIpLCB0Ll9iaW5kVG9BZGRPbnNET00oKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHRoaXMuJG5lZWRBbkFkZG9uLmFkZENsYXNzKCJoaWRlIik7CiAgfSwKICBfYmluZFRvQWRkT25zRE9NOiBmdW5jdGlvbiBfYmluZFRvQWRkT25zRE9NKCkgewogICAgdGhpcy4kYWRkT25GaWx0ZXIgPSAkKCIjY3NzLWFkZC1vbnMtZmlsdGVyIiksIHRoaXMuJGFkZE9uRmlsdGVyLl9vbigia2V5dXAiLCB0aGlzLl9maWx0ZXJBZGRPbnMsIHRoaXMpLCB0aGlzLiRhZGRPbkZpbHRlckNsZWFyID0gJCgiI2Nzcy1jbGVhci1hZGRvbi1maWx0ZXIiKSwgdGhpcy4kYWRkT25GaWx0ZXJDbGVhci5fb24oImNsaWNrIiwgdGhpcy5fY2xlYXJBZGRPbnNGaWx0ZXIsIHRoaXMpLCB0aGlzLiRhZGRPbkl0ZW1zID0gJCgiI2Nzcy1hZGQtb25zLWxpc3QiKS5maW5kKCJsaSIpLCB0aGlzLiRhZGRPbkl0ZW1zLmZpbmQoIi5hZGQtYWRkLW9uIikuX29uKCJjbGljayIsIHRoaXMuX2luc2VydEFkZE9uQ29kZSwgdGhpcyk7CiAgfSwKICBfaW5zZXJ0QWRkT25Db2RlOiBmdW5jdGlvbiBfaW5zZXJ0QWRkT25Db2RlKGUsIHQpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHZhciBuID0gQ1AuY3NzRWRpdG9yLmVkaXRvci5nZXRWYWx1ZSgpLAogICAgICAgIHMgPSB0LnBhcmVudCgpLmZpbmQoIi5hZGQtb24tY29kZSIpLmh0bWwoKSArICJcbiIgKyBuOwogICAgQ1AuY3NzRWRpdG9yLmVkaXRvci5zZXRWYWx1ZShzKSwgJC5zaG93TWVzc2FnZSgiUHJlcHJvY2Vzc29yIEFkZC1PbiBBZGRlZCEiKTsKICB9LAogIF91cGRhdGVBZGRvbnM6IGZ1bmN0aW9uIF91cGRhdGVBZGRvbnMoZSkgewogICAgIm9wZW4iID09PSBlID8gdGhpcy4kYWRkT25zLnJlbW92ZUNsYXNzKCJoaWRlIikgOiB0aGlzLiRhZGRPbnMuYWRkQ2xhc3MoImhpZGUiKTsKICB9LAogIF9zZWxlY3RDU1NTdGFydGVyOiBmdW5jdGlvbiBfc2VsZWN0Q1NTU3RhcnRlcihlKSB7CiAgICAkKCIjc3RhcnRlcmNzcy1vcHRpb25zLWZvcm0gaW5wdXRbdmFsdWU9JyIgKyBlLmNzc19zdGFydGVyICsgIiddIikucHJvcCgiY2hlY2tlZCIsICEwKTsKICB9LAogIF9zZWxlY3RDU1NQcmVmaXg6IGZ1bmN0aW9uIF9zZWxlY3RDU1NQcmVmaXgoZSkgewogICAgJCgiI3ByZWZpeC1vcHRpb25zLWZvcm0gaW5wdXRbdmFsdWU9JyIgKyBlLmNzc19wcmVmaXggKyAiJ10iKS5wcm9wKCJjaGVja2VkIiwgITApLCB0aGlzLl9hZGRDU1NQcmVmaXhDbGFzc1RvQm94Q1NTKGUpOwogIH0sCiAgX2FkZENTU1ByZWZpeENsYXNzVG9Cb3hDU1M6IGZ1bmN0aW9uIF9hZGRDU1NQcmVmaXhDbGFzc1RvQm94Q1NTKGUpIHsKICAgIHRoaXMuJGJveENTU0VsLnJlbW92ZUNsYXNzKF9fcHJlcHJvY2Vzc29ycy5jc3MucHJlZml4ZXMuam9pbigiICIpKS5hZGRDbGFzcyhlLmNzc19wcmVmaXgpOwogIH0sCiAgX2ZpbHRlckFkZE9uczogZnVuY3Rpb24gX2ZpbHRlckFkZE9ucygpIHsKICAgIHZhciBlID0gdGhpcy4kYWRkT25GaWx0ZXIudmFsKCk7CgogICAgaWYgKCIiICE9PSBlKSB7CiAgICAgIHRoaXMuJGFkZE9uSXRlbXMuaGlkZSgpLCB0aGlzLiRhZGRPbkZpbHRlckNsZWFyLnNob3coKTsKCiAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy4kYWRkT25JdGVtcy5sZW5ndGg7IHQrKykgewogICAgICAgIGlmICh0aGlzLiRhZGRPbkl0ZW1zW3RdLmlubmVySFRNTC5pbmRleE9mKGUpID4gLTEgJiYgKCQodGhpcy4kYWRkT25JdGVtc1t0XSkuc2hvdygpLCAkKHRoaXMuJGFkZE9uSXRlbXNbdF0pLmhhc0NsYXNzKCJkZXBlbmRzLW9uIikpKSBmb3IgKHZhciBuID0gdDsgbiA+PSAwOyBuLS0pIHsKICAgICAgICAgIGlmICghJCh0aGlzLiRhZGRPbkl0ZW1zW25dKS5oYXNDbGFzcygiZGVwZW5kcy1vbiIpKSB7CiAgICAgICAgICAgICQodGhpcy4kYWRkT25JdGVtc1tuXSkuc2hvdygpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB0aGlzLiRhZGRPbkZpbHRlckNsZWFyLmhpZGUoKSwgdGhpcy4kYWRkT25JdGVtcy5zaG93KCk7CiAgfSwKICBfY2xlYXJBZGRPbnNGaWx0ZXI6IGZ1bmN0aW9uIF9jbGVhckFkZE9uc0ZpbHRlcigpIHsKICAgIHRoaXMuJGFkZE9uRmlsdGVyLnZhbCgiIiksIHRoaXMuJGFkZE9uSXRlbXMuc2hvdygpLCB0aGlzLiRhZGRPbkZpbHRlckNsZWFyLmhpZGUoKTsKICB9Cn0pLCB3aW5kb3cuSFRNTFNldHRpbmdzQ29udHJvbGxlciA9IEJhc2VTZXR0aW5nc0NvbnRyb2xsZXIuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMucGVuID0gZSwgdGhpcy5ldmVudHMgPSBuZXcgSFRNTFNldHRpbmdzRXZlbnRzKHRoaXMpLCB0aGlzLm1vZGVsID0gbmV3IEhUTUxTZXR0aW5nc01vZGVsKHRoaXMpLCB0aGlzLnZpZXcgPSBuZXcgSFRNTFNldHRpbmdzVmlldyhlKTsKICB9Cn0pLCB3aW5kb3cuSFRNTFNldHRpbmdzRXZlbnRzID0gQmFzZVNldHRpbmdzRXZlbnRzLmV4dGVuZCh7CiAgdHlwZTogImh0bWwiLAogICRodG1sUHJlUHJvY2Vzc29yOiAkKCIjaHRtbC1wcmVwcm9jZXNzb3IiKSwKICAkaGVhZENvbnRlbnQ6ICQoIiNoZWFkLWNvbnRlbnQiKSwKICAkaHRtbENsYXNzZXM6ICQoIiNodG1sLWNsYXNzZXMiKSwKICAkbWV0YVRhZ0luc2VydDogJCgiI21ldGEtdGFnLWluc2VydCIpLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSkgewogICAgdGhpcy5fc3VwZXIoZSksIF8uZXh0ZW5kKHRoaXMsIEVuYWJsZURpc2FibGVEcml2ZXIpLCB0aGlzLmJpbmRUb0VuYWJsZURpc2FibGVIdWJFdmVudHMoKSwgdGhpcy5fYmluZFRvRE9NKCksIHRoaXMuX2JpbmRUb0h1YigpOwogIH0sCiAgX2JpbmRUb0RPTTogZnVuY3Rpb24gX2JpbmRUb0RPTSgpIHsKICAgIHRoaXMuJGh0bWxQcmVQcm9jZXNzb3IuX29uKCJjaGFuZ2UiLCB0aGlzLl9zZWxlY3RQcmVQcm9jZXNzb3IsIHRoaXMsICEwKSwgdGhpcy4kaGVhZENvbnRlbnQuX29uKCJrZXl1cCBjaGFuZ2UiLCB0aGlzLl9zZXRIZWFkLCB0aGlzLCAhMCksIHRoaXMuJGh0bWxDbGFzc2VzLl9vbigia2V5dXAgY2hhbmdlIiwgdGhpcy5fc2V0SFRNTENsYXNzZXMsIHRoaXMsICEwKSwgdGhpcy4kbWV0YVRhZ0luc2VydC5fb24oImNsaWNrIiwgdGhpcy5fYWRkQ29tbW9uTWV0YVRhZywgdGhpcywgITEpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInNlcnZlci1wZW4tY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblNlcnZlclBlbkNoYW5nZSwgdGhpcykpOwogIH0sCiAgX29uU2VydmVyUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25TZXJ2ZXJQZW5DaGFuZ2UoZSwgdCkgewogICAgKE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5odG1sX3ByZV9wcm9jZXNzb3IiKSB8fCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJwZW4uaGVhZCIpIHx8IE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5odG1sX2NsYXNzZXMiKSkgJiYgdGhpcy5fc2V0SXRlbVZhbHVlRnJvbVNlcnZlcih0KTsKICB9LAogIF9zZWxlY3RQcmVQcm9jZXNzb3I6IGZ1bmN0aW9uIF9zZWxlY3RQcmVQcm9jZXNzb3IoZSwgdCkgewogICAgdGhpcy5fY2FuRHJpdmUgJiYgdGhpcy5fc2V0SXRlbVZhbHVlKHsKICAgICAgaHRtbF9wcmVfcHJvY2Vzc29yOiB0LnZhbCgpCiAgICB9KTsKICB9LAogIF9zZXRIZWFkOiBmdW5jdGlvbiBfc2V0SGVhZChlLCB0KSB7CiAgICB0aGlzLl9jYW5Ecml2ZSAmJiB0aGlzLl9zZXRJdGVtVmFsdWUoewogICAgICBoZWFkOiB0LnZhbCgpCiAgICB9KTsKICB9LAogIF9zZXRIVE1MQ2xhc3NlczogZnVuY3Rpb24gX3NldEhUTUxDbGFzc2VzKGUsIHQpIHsKICAgIHRoaXMuX2NhbkRyaXZlICYmIHRoaXMuX3NldEl0ZW1WYWx1ZSh7CiAgICAgIGh0bWxfY2xhc3NlczogdC52YWwoKQogICAgfSk7CiAgfSwKICBfYWRkQ29tbW9uTWV0YVRhZzogZnVuY3Rpb24gX2FkZENvbW1vbk1ldGFUYWcoKSB7CiAgICB0aGlzLl9jYW5Ecml2ZSAmJiB0aGlzLl9zZXRJdGVtVmFsdWUoewogICAgICBoZWFkOiB0aGlzLl9nZXRIZWFkV2l0aE1ldGFUYWcoKQogICAgfSk7CiAgfSwKICBfZ2V0SGVhZFdpdGhNZXRhVGFnOiBmdW5jdGlvbiBfZ2V0SGVhZFdpdGhNZXRhVGFnKCkgewogICAgcmV0dXJuICQudHJpbSgkKCIjaGVhZC1jb250ZW50IikudmFsKCkgKyAnXG48bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEiPicpOwogIH0sCiAgX2dldEFsbFVJRWxlbWVudHM6IGZ1bmN0aW9uIF9nZXRBbGxVSUVsZW1lbnRzKCkgewogICAgcmV0dXJuIFt0aGlzLiRodG1sUHJlUHJvY2Vzc29yLCB0aGlzLiRoZWFkQ29udGVudCwgdGhpcy4kaHRtbENsYXNzZXMsIHRoaXMuJG1ldGFUYWdJbnNlcnRdOwogIH0KfSksIHdpbmRvdy5IVE1MU2V0dGluZ3NNb2RlbCA9IEJhc2VTZXR0aW5nc01vZGVsLmV4dGVuZCh7CiAgdHlwZTogImh0bWwiLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLl9zdXBlcigpOwogIH0KfSksIHdpbmRvdy5IVE1MU2V0dGluZ3NWaWV3ID0gQmFzZVNldHRpbmdzVmlldy5leHRlbmQoewogICRib3hIVE1MOiAkKCIjYm94LWh0bWwiKSwKICAkaHRtbFByZXByb2Nlc3NvcjogJCgiI2h0bWwtcHJlcHJvY2Vzc29yIiksCiAgJGh0bWxDbGFzc2VzOiAkKCIjaHRtbC1jbGFzc2VzIiksCiAgJGhlYWRXcmFwcGVyOiAkKCIuaGVhZC1jb250ZW50LXdyYXBwZXIiKSwKICAkaGVhZDogJCgiI2hlYWQtY29udGVudCIpLAogIHR5cGU6ICJodG1sIiwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMuX3N1cGVyKCksIHRoaXMuX2JpbmRUb0h1YigpLCB0aGlzLl91cGRhdGVVSShlKTsKICB9LAogIF9iaW5kVG9IdWI6IGZ1bmN0aW9uIF9iaW5kVG9IdWIoKSB7CiAgICBIdWIuc3ViKCJwZW4tY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblBlbkNoYW5nZSwgdGhpcykpOwogIH0sCiAgX29uUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25QZW5DaGFuZ2UoZSwgdCkgewogICAgdGhpcy5fdXBkYXRlVUkodC5wZW4pOwogIH0sCiAgX3VwZGF0ZVVJOiBmdW5jdGlvbiBfdXBkYXRlVUkoZSkgewogICAgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZShlLCAiaHRtbF9wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5fc2V0UHJlUHJvY2Vzc29yKGUuaHRtbF9wcmVfcHJvY2Vzc29yKSwgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZShlLCAiaGVhZCIpICYmIHRoaXMuX3NldEhlYWQoZS5oZWFkKSwgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZShlLCAiaHRtbF9jbGFzc2VzIikgJiYgdGhpcy5fc2V0SFRNTENsYXNzZXMoZS5odG1sX2NsYXNzZXMpOwogIH0sCiAgX3NldEhlYWQ6IGZ1bmN0aW9uIF9zZXRIZWFkKGUpIHsKICAgIHRoaXMuJGhlYWQudmFsKCkgIT09IGUgJiYgdGhpcy4kaGVhZC52YWwoZSksIC0xICE9PSBlLmluZGV4T2YoImh0dHA6Ly8iKSA/IHRoaXMuJGhlYWRXcmFwcGVyLmFkZENsYXNzKCJpbnNlY3VyZS1yZXNvdXJjZSIpIDogdGhpcy4kaGVhZFdyYXBwZXIucmVtb3ZlQ2xhc3MoImluc2VjdXJlLXJlc291cmNlIik7CiAgfSwKICBfc2V0SFRNTENsYXNzZXM6IGZ1bmN0aW9uIF9zZXRIVE1MQ2xhc3NlcyhlKSB7CiAgICB0aGlzLiRodG1sQ2xhc3Nlcy52YWwoKSAhPT0gZSAmJiB0aGlzLiRodG1sQ2xhc3Nlcy52YWwoZSk7CiAgfSwKICBfc2V0UHJlUHJvY2Vzc29yOiBmdW5jdGlvbiBfc2V0UHJlUHJvY2Vzc29yKGUpIHsKICAgIHRoaXMuX2FkZENsYXNzQm94SFRNTChlKSwgdGhpcy5fc2VsZWN0UHJlUHJvY2Vzc29yKGUpOwogIH0sCiAgX3NlbGVjdFByZVByb2Nlc3NvcjogZnVuY3Rpb24gX3NlbGVjdFByZVByb2Nlc3NvcihlKSB7CiAgICB0aGlzLiRodG1sUHJlcHJvY2Vzc29yLnZhbChlKTsKICB9LAogIF9hZGRDbGFzc0JveEhUTUw6IGZ1bmN0aW9uIF9hZGRDbGFzc0JveEhUTUwoZSkgewogICAgdGhpcy4kYm94SFRNTC5kYXRhKCJwcmVwcm9jZXNzb3IiLCBfX3ByZXByb2Nlc3NvcnMuaHRtbC5wcmV0dHlfc3ludGF4ZXNbZV0pLCB0aGlzLiRib3hIVE1MLnJlbW92ZUNsYXNzKF9fcHJlcHJvY2Vzc29ycy5odG1sLnN5bnRheGVzLmpvaW4oIiAiKSkuYWRkQ2xhc3MoZSksICQoIi5odG1sLWVkaXRvci10aXRsZSIpLnJlbW92ZUNsYXNzKF9fcHJlcHJvY2Vzc29ycy5odG1sLnN5bnRheGVzLmpvaW4oIiAiKSkuYWRkQ2xhc3MoZSk7CiAgfQp9KSwgd2luZG93LkluZm9Db250cm9sbGVyID0gQ2xhc3MuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgdGhpcy5ldmVudHMgPSBuZXcgSW5mb0V2ZW50cygpLCB0aGlzLnZpZXcgPSBuZXcgSW5mb1ZpZXcoKTsKICB9Cn0pLCB3aW5kb3cuSW5mb0V2ZW50cyA9IENsYXNzLmV4dGVuZCh7CiAgJHRpdGxlOiAkKCIjaXRlbS1kZXRhaWxzLXRpdGxlIiksCiAgJGRlc2NyaXB0aW9uOiAkKCIjaXRlbS1kZXRhaWxzLWRlc2NyaXB0aW9uIiksCiAgJHByaXZhdGVDa2J4OiAkKCIjaXRlbS1kZXRhaWxzLXByaXZhdGUiKSwKICAkcGFzc3dvcmRDa2J4OiAkKCIjaXRlbS1kZXRhaWxzLXBhc3N3b3JkIiksCiAgJHRlbXBsYXRlQ2tieDogJCgiI2l0ZW0tZGV0YWlscy10ZW1wbGF0ZSIpLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSkgewogICAgdGhpcy5jb250cm9sbGVyID0gZSwgdGhpcy5fYmluZFRvRE9NKCk7CiAgfSwKICBfYmluZFRvRE9NOiBmdW5jdGlvbiBfYmluZFRvRE9NKCkgewogICAgdGhpcy4kdGl0bGUub24oImtleXVwIiwgJC5wcm94eSh0aGlzLl9zZXRUaXRsZSwgdGhpcykpLCB0aGlzLiRkZXNjcmlwdGlvbi5vbigia2V5dXAiLCAkLnByb3h5KHRoaXMuX3NldERlc2NyaXB0aW9uLCB0aGlzKSksIHRoaXMuJHByaXZhdGVDa2J4Ll9vbigiY2xpY2siLCB0aGlzLl9zZXRQcml2YWN5LCB0aGlzLCAhMCksIHRoaXMuJHBhc3N3b3JkQ2tieC5fb24oImNsaWNrIiwgdGhpcy5fc2V0UGFzc3dvcmRVc2FnZSwgdGhpcywgITApLCB0aGlzLiR0ZW1wbGF0ZUNrYnguX29uKCJjbGljayIsIHRoaXMuX3NldFRlbXBsYXRlLCB0aGlzLCAhMCk7CiAgfSwKICBfc2V0VGl0bGU6IGZ1bmN0aW9uIF9zZXRUaXRsZSgpIHsKICAgIENQLml0ZW0uc2V0SXRlbVZhbHVlKHsKICAgICAgb3JpZ2luOiAiY2xpZW50IiwKICAgICAgaXRlbTogewogICAgICAgIHRpdGxlOiB0aGlzLiR0aXRsZS52YWwoKQogICAgICB9CiAgICB9KTsKICB9LAogIF9zZXREZXNjcmlwdGlvbjogZnVuY3Rpb24gX3NldERlc2NyaXB0aW9uKCkgewogICAgQ1AuaXRlbS5zZXRJdGVtVmFsdWUoewogICAgICBvcmlnaW46ICJjbGllbnQiLAogICAgICBpdGVtOiB7CiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuJGRlc2NyaXB0aW9uLnZhbCgpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgX3NldFByaXZhY3k6IGZ1bmN0aW9uIF9zZXRQcml2YWN5KCkgewogICAgQ1AuaXRlbS5zZXRJdGVtVmFsdWUoewogICAgICBvcmlnaW46ICJjbGllbnQiLAogICAgICBpdGVtOiB7CiAgICAgICAgInByaXZhdGUiOiB0aGlzLiRwcml2YXRlQ2tieC5pcygiOmNoZWNrZWQiKQogICAgICB9CiAgICB9KTsKICB9LAogIF9zZXRQYXNzd29yZFVzYWdlOiBmdW5jdGlvbiBfc2V0UGFzc3dvcmRVc2FnZSgpIHsKICAgIENQLml0ZW0uc2V0SXRlbVZhbHVlKHsKICAgICAgb3JpZ2luOiAiY2xpZW50IiwKICAgICAgaXRlbTogewogICAgICAgIHBhc3N3b3JkX3VzZWQ6IHRoaXMuJHBhc3N3b3JkQ2tieC5pcygiOmNoZWNrZWQiKQogICAgICB9CiAgICB9KTsKICB9LAogIF9zZXRUZW1wbGF0ZTogZnVuY3Rpb24gX3NldFRlbXBsYXRlKCkgewogICAgQ1AuaXRlbS5zZXRJdGVtVmFsdWUoewogICAgICBvcmlnaW46ICJjbGllbnQiLAogICAgICBpdGVtOiB7CiAgICAgICAgdGVtcGxhdGU6IHRoaXMuJHRlbXBsYXRlQ2tieC5pcygiOmNoZWNrZWQiKQogICAgICB9CiAgICB9KTsKICB9Cn0pLCB3aW5kb3cuSW5mb1ZpZXcgPSBDbGFzcy5leHRlbmQoewogICRib2R5OiAkKCJib2R5IiksCiAgJHRpdGxlOiAkKCIjaXRlbS1kZXRhaWxzLXRpdGxlIiksCiAgJHRlbXBsYXRlQ2tieDogJCgiI2l0ZW0tZGV0YWlscy10ZW1wbGF0ZSIpLAogICRwcml2YXRlQ2tieDogJCgiI2l0ZW0tZGV0YWlscy1wcml2YXRlIiksCiAgJHBhc3N3b3JkSW5wdXQ6ICQoIiNpdGVtLWRldGFpbHMtcGFzc3dvcmQtdmFsdWUiKSwKICAkcGFzc3dvcmRBcmVhOiAkKCIucGFzc3dvcmQtcHJvdGVjdC10b2dnbGUtd3JhcCIpLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLnBhZ2VUeXBlID0gX19wYWdlVHlwZSwgdGhpcy5fYmluZFRvSHViKCksIHRoaXMuX2hpZGVQZW5IYXNVbnNhdmVkQ2hhbmdlcygpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInBlbi1jaGFuZ2UiLCAkLnByb3h5KHRoaXMuX29uUGVuQ2hhbmdlLCB0aGlzKSksIEh1Yi5zdWIoInBlbi1lcnJvcnMiLCAkLnByb3h5KHRoaXMuX29uUGVuRXJyb3JzLCB0aGlzKSksIEh1Yi5zdWIoInBlbi1zYXZlZCIsICQucHJveHkodGhpcy5fb25QZW5TYXZlZCwgdGhpcykpOwogIH0sCiAgX29uUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25QZW5DaGFuZ2UoZSwgdCkgewogICAgdGhpcy5fc2hvd1Blbkhhc1Vuc2F2ZWRDaGFuZ2VzKCksIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi50aXRsZSIpICYmIHRoaXMuX3VwZGF0ZVRpdGxlKHQpLCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJwZW4ucHJpdmF0ZSIpICYmICh0aGlzLiRwcml2YXRlQ2tieC5wcm9wKCJjaGVja2VkIiwgdC5pdGVtWyJwcml2YXRlIl0pLCB0aGlzLl90b2dnbGVQYXNzd29yZEFyZWEodCkpLCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJwZW4ucGFzc3dvcmRfdXNlZCIpICYmIHRoaXMuX3RvZ2dsZVBhc3N3b3JkSW5wdXQodCksIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi50ZW1wbGF0ZSIpICYmIHRoaXMuX3VwZGF0ZVRlbXBsYXRlKHQpOwogIH0sCiAgX3VwZGF0ZVRpdGxlOiBmdW5jdGlvbiBfdXBkYXRlVGl0bGUoZSkgewogICAgdGhpcy4kdGl0bGUudmFsKGUucGVuLnRpdGxlKTsKICB9LAogIF90b2dnbGVQYXNzd29yZEFyZWE6IGZ1bmN0aW9uIF90b2dnbGVQYXNzd29yZEFyZWEoZSkgewogICAgZS5wZW5bInByaXZhdGUiXSA/IHRoaXMuJHBhc3N3b3JkQXJlYS5yZW1vdmVDbGFzcygiaGlkZSIpIDogdGhpcy4kcGFzc3dvcmRBcmVhLmFkZENsYXNzKCJoaWRlIik7CiAgfSwKICBfdG9nZ2xlUGFzc3dvcmRJbnB1dDogZnVuY3Rpb24gX3RvZ2dsZVBhc3N3b3JkSW5wdXQoZSkgewogICAgZS5wZW4ucGFzc3dvcmRfdXNlZCA/IHRoaXMuJHBhc3N3b3JkSW5wdXQucmVtb3ZlQ2xhc3MoImhpZGUiKSA6IHRoaXMuJHBhc3N3b3JkSW5wdXQuYWRkQ2xhc3MoImhpZGUiKTsKICB9LAogIF91cGRhdGVUZW1wbGF0ZTogZnVuY3Rpb24gX3VwZGF0ZVRlbXBsYXRlKGUpIHsKICAgIHRoaXMuJHRlbXBsYXRlQ2tieC5pcygiOmNoZWNrZWQiKSAhPT0gZS5wZW4udGVtcGxhdGUgJiYgdGhpcy4kdGVtcGxhdGVDa2J4LmF0dHIoImNoZWNrZWQiLCBlLnBlbi50ZW1wbGF0ZSk7CiAgfSwKICBfb25QZW5FcnJvcnM6IGZ1bmN0aW9uIF9vblBlbkVycm9ycyhlLCB0KSB7CiAgICAkLnNob3dNZXNzYWdlKENvcHkuZXJyb3JzW3RdLCAic2xvdyIpOwogIH0sCiAgX2RvbmVXaXRoU2lnbnVwT3JMb2dpbjogZnVuY3Rpb24gX2RvbmVXaXRoU2lnbnVwT3JMb2dpbihlKSB7CiAgICBDUC51c2VyLnVwZGF0ZVVzZXIoZS51c2VyKSwgQ1AucGVuLnNhdmUoKTsKICB9LAogIF9vblBlblNhdmVkOiBmdW5jdGlvbiBfb25QZW5TYXZlZChlLCB0KSB7CiAgICB0aGlzLl9pc05ld1BlbkluUHJvZmVzc29yT3JDb2xsYWIodCkgPyAkLnNob3dNZXNzYWdlKF8udGVtcGxhdGUoQ29weS5wZW5Gb3JrZWQsIHQpLCA4ZTMpIDogKHRoaXMuX2hpZGVQZW5IYXNVbnNhdmVkQ2hhbmdlcygpLCB0aGlzLl91cGRhdGVTYXZlZFRpbWVBZ29Gb290ZXIodCksIHRoaXMuX3VwZGF0ZVRpdGxlQW5kRGVzY3JpcHRpb25PbkRldGFpbHNQYWdlKCkpOwogIH0sCiAgX2lzTmV3UGVuSW5Qcm9mZXNzb3JPckNvbGxhYjogZnVuY3Rpb24gX2lzTmV3UGVuSW5Qcm9mZXNzb3JPckNvbGxhYihlKSB7CiAgICByZXR1cm4gXy5jb250YWlucyhbInByb2Zlc3NvciIsICJjb2xsYWIiXSwgdGhpcy5wYWdlVHlwZSkgJiYgZS5uZXdQZW47CiAgfSwKICBfdXBkYXRlU2F2ZWRUaW1lQWdvRm9vdGVyOiBmdW5jdGlvbiBfdXBkYXRlU2F2ZWRUaW1lQWdvRm9vdGVyKGUpIHsKICAgICQoIiNsYXN0LXNhdmVkLXRpbWUtYWdvIikuaHRtbChlLmxhc3Rfc2F2ZWRfdGltZV9hZ28pOwogIH0sCiAgX3VwZGF0ZVRpdGxlQW5kRGVzY3JpcHRpb25PbkRldGFpbHNQYWdlOiBmdW5jdGlvbiBfdXBkYXRlVGl0bGVBbmREZXNjcmlwdGlvbk9uRGV0YWlsc1BhZ2UoKSB7CiAgICAiZGV0YWlscyIgPT09IHRoaXMucGFnZVR5cGUgJiYgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogIH0sCiAgX3Nob3dQZW5IYXNVbnNhdmVkQ2hhbmdlczogZnVuY3Rpb24gX3Nob3dQZW5IYXNVbnNhdmVkQ2hhbmdlcygpIHsKICAgIENQLnBlbi5zYXZlX2Rpc2FibGVkIHx8IHRoaXMuJGJvZHkuYWRkQ2xhc3MoInVuc2F2ZWQiKTsKICB9LAogIF9oaWRlUGVuSGFzVW5zYXZlZENoYW5nZXM6IGZ1bmN0aW9uIF9oaWRlUGVuSGFzVW5zYXZlZENoYW5nZXMoKSB7CiAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCJ1bnNhdmVkIik7CiAgfQp9KSwgd2luZG93LkpTU2V0dGluZ3NDb250cm9sbGVyID0gQmFzZVNldHRpbmdzQ29udHJvbGxlci5leHRlbmQoewogIHR5cGU6ICJqcyIsCiAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICB0aGlzLnBlbiA9IGUsIHRoaXMuZXZlbnRzID0gbmV3IEpTU2V0dGluZ3NFdmVudHModGhpcyksIHRoaXMubW9kZWwgPSBuZXcgSlNTZXR0aW5nc01vZGVsKHRoaXMpLCB0aGlzLnZpZXcgPSBuZXcgSlNTZXR0aW5nc1ZpZXcoZSksIHRoaXMucmVzb3VyY2VzQ29udHJvbGxlciA9IG5ldyBSZXNvdXJjZXNDb250cm9sbGVyKCJqcyIpOwogIH0KfSksIHdpbmRvdy5KU1NldHRpbmdzRXZlbnRzID0gQmFzZVNldHRpbmdzRXZlbnRzLmV4dGVuZCh7CiAgdHlwZTogImpzIiwKICAkanNQcmVQcm9jZXNzb3I6ICQoIiNqcy1wcmVwcm9jZXNzb3IiKSwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMuX3N1cGVyKGUpLCBfLmV4dGVuZCh0aGlzLCBFbmFibGVEaXNhYmxlRHJpdmVyKSwgdGhpcy5iaW5kVG9FbmFibGVEaXNhYmxlSHViRXZlbnRzKCksIHRoaXMuX2JpbmRUb0RPTSgpLCB0aGlzLl9iaW5kVG9IdWIoKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICB0aGlzLiRqc1ByZVByb2Nlc3Nvci5fb24oImNoYW5nZSIsIHRoaXMuX3NlbGVjdFByZVByb2Nlc3NvciwgdGhpcywgITApOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInNlcnZlci1wZW4tY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblNlcnZlclBlbkNoYW5nZSwgdGhpcykpOwogIH0sCiAgX29uU2VydmVyUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25TZXJ2ZXJQZW5DaGFuZ2UoZSwgdCkgewogICAgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZSh0LCAiaXRlbS5qc19wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5fc2V0SXRlbVZhbHVlRnJvbVNlcnZlcih0KTsKICB9LAogIF9zZWxlY3RQcmVQcm9jZXNzb3I6IGZ1bmN0aW9uIF9zZWxlY3RQcmVQcm9jZXNzb3IoZSwgdCkgewogICAgdGhpcy5fY2FuRHJpdmUgJiYgdGhpcy5fc2V0SXRlbVZhbHVlKHsKICAgICAganNfcHJlX3Byb2Nlc3NvcjogdC52YWwoKQogICAgfSk7CiAgfSwKICBfZ2V0QWxsVUlFbGVtZW50czogZnVuY3Rpb24gX2dldEFsbFVJRWxlbWVudHMoKSB7CiAgICByZXR1cm4gW3RoaXMuJGpzUHJlUHJvY2Vzc29yXTsKICB9Cn0pLCB3aW5kb3cuSlNTZXR0aW5nc01vZGVsID0gQmFzZVNldHRpbmdzTW9kZWwuZXh0ZW5kKHsKICB0eXBlOiAianMiLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLl9zdXBlcigpOwogIH0KfSksIHdpbmRvdy5KU1NldHRpbmdzVmlldyA9IEJhc2VTZXR0aW5nc1ZpZXcuZXh0ZW5kKHsKICAkYm94SlM6ICQoIiNib3gtanMiKSwKICAkanNQcmVwcm9jZXNzb3I6ICQoIiNqcy1wcmVwcm9jZXNzb3IiKSwKICAkbnBtUHJvY2Vzc2luZ01lc3NhZ2U6ICQoIiNwcmVwcm9jZXNzaW5nLXdpdGgtbnBtLW1lc3NhZ2UiKSwKICB0eXBlOiAianMiLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSkgewogICAgdGhpcy5fc3VwZXIoKSwgdGhpcy5fYmluZFRvSHViKCksIHRoaXMuX3VwZGF0ZVVJKGUpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInBlbi1jaGFuZ2UiLCAkLnByb3h5KHRoaXMuX29uUGVuQ2hhbmdlLCB0aGlzKSk7CiAgfSwKICBfb25QZW5DaGFuZ2U6IGZ1bmN0aW9uIF9vblBlbkNoYW5nZShlLCB0KSB7CiAgICB0aGlzLl91cGRhdGVVSSh0LnBlbik7CiAgfSwKICBfdXBkYXRlVUk6IGZ1bmN0aW9uIF91cGRhdGVVSShlKSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKGUsICJqc19wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5fc2V0UHJlUHJvY2Vzc29yKGUuanNfcHJlX3Byb2Nlc3NvciksIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUoZSwgIm5wbV9wYWNrYWdlcyIpICYmIHRoaXMuX3NldERpc2FibGVkUHJlcHJvY2Vzc29yU2VsZWN0KGUubnBtX3BhY2thZ2VzKTsKICB9LAogIF9zZXREaXNhYmxlZFByZXByb2Nlc3NvclNlbGVjdDogZnVuY3Rpb24gX3NldERpc2FibGVkUHJlcHJvY2Vzc29yU2VsZWN0KGUpIHsKICAgIGlmIChPYmplY3Qua2V5cyhlKS5sZW5ndGgpIHsKICAgICAgdmFyIHQgPSAhdGhpcy4kanNQcmVwcm9jZXNzb3IuYXR0cigiZGlzYWJsZWQiKTsKICAgICAgdGhpcy4kanNQcmVwcm9jZXNzb3IuYXR0cigiZGlzYWJsZWQiLCAhMCksIHRoaXMuJG5wbVByb2Nlc3NpbmdNZXNzYWdlLnJlbW92ZUNsYXNzKCJoaWRlIiksIHRoaXMuJGpzUHJlcHJvY2Vzc29yLnZhbCgiYmFiZWwiKSwgdCAmJiB0aGlzLiRqc1ByZXByb2Nlc3Nvci50cmlnZ2VyKCJjaGFuZ2UiKTsKICAgIH0gZWxzZSB0aGlzLiRqc1ByZXByb2Nlc3Nvci5hdHRyKCJkaXNhYmxlZCIsICExKSwgdGhpcy4kbnBtUHJvY2Vzc2luZ01lc3NhZ2UuYWRkQ2xhc3MoImhpZGUiKTsKICB9LAogIF9zZXRQcmVQcm9jZXNzb3I6IGZ1bmN0aW9uIF9zZXRQcmVQcm9jZXNzb3IoZSkgewogICAgdGhpcy5fYWRkUHJvY2Vzc29yQ2xhc3NCb3hKUyhlKSwgdGhpcy5fc2VsZWN0UHJlUHJvY2Vzc29yKGUpOwogIH0sCiAgX3NlbGVjdFByZVByb2Nlc3NvcjogZnVuY3Rpb24gX3NlbGVjdFByZVByb2Nlc3NvcihlKSB7CiAgICB0aGlzLiRqc1ByZXByb2Nlc3Nvci52YWwoZSk7CiAgfSwKICBfYWRkUHJvY2Vzc29yQ2xhc3NCb3hKUzogZnVuY3Rpb24gX2FkZFByb2Nlc3NvckNsYXNzQm94SlMoZSkgewogICAgdGhpcy4kYm94SlMuZGF0YSgicHJlcHJvY2Vzc29yIiwgX19wcmVwcm9jZXNzb3JzLmpzLnByZXR0eV9zeW50YXhlc1tlXSksIHRoaXMuJGJveEpTLnJlbW92ZUNsYXNzKF9fcHJlcHJvY2Vzc29ycy5qcy5zeW50YXhlcy5qb2luKCIgIikpLmFkZENsYXNzKGUpLCAkKCIuanMtZWRpdG9yLXRpdGxlIikucmVtb3ZlQ2xhc3MoX19wcmVwcm9jZXNzb3JzLmpzLnN5bnRheGVzLmpvaW4oIiAiKSkuYWRkQ2xhc3MoZSk7CiAgfQp9KSwgd2luZG93Lm5wbVNldHRpbmdzQ29udHJvbGxlciA9IEJhc2VTZXR0aW5nc0NvbnRyb2xsZXIuZXh0ZW5kKHsKICB0eXBlOiAibnBtIiwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMucGVuID0gZSwgdGhpcy5ldmVudHMgPSBuZXcgbnBtU2V0dGluZ3NFdmVudHModGhpcyksIHRoaXMubW9kZWwgPSBuZXcgbnBtU2V0dGluZ3NNb2RlbCh0aGlzKSwgdGhpcy52aWV3ID0gbmV3IG5wbVNldHRpbmdzVmlldyhlKTsKICB9LAogIGFkZFBhY2thZ2U6IGZ1bmN0aW9uIGFkZFBhY2thZ2UoZSwgdCkgewogICAgQ1AucGVuLmFkZFBhY2thZ2UoZSwgdCk7CiAgfSwKICByZW1vdmVQYWNrYWdlOiBmdW5jdGlvbiByZW1vdmVQYWNrYWdlKGUpIHsKICAgIENQLnBlbi5yZW1vdmVQYWNrYWdlKGUpOwogIH0KfSksIHdpbmRvdy5ucG1TZXR0aW5nc0V2ZW50cyA9IEJhc2VTZXR0aW5nc0V2ZW50cy5leHRlbmQoewogIHR5cGU6ICJucG0iLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSkgewogICAgdGhpcy5fc3VwZXIoZSksIF8uZXh0ZW5kKHRoaXMsIEVuYWJsZURpc2FibGVEcml2ZXIpLCB0aGlzLmJpbmRUb0VuYWJsZURpc2FibGVIdWJFdmVudHMoKSwgdGhpcy5fYmluZFRvRE9NKCksIHRoaXMuX2JpbmRUb0h1YigpLCB0aGlzLl9zZXRVcFNlYXJjaCgpOwogIH0sCiAgX2JpbmRUb0RPTTogZnVuY3Rpb24gX2JpbmRUb0RPTSgpIHsKICAgICQoIiNucG0tcGFja2FnZXMiKS5vbigiY2xpY2siLCAiLnJlbW92ZS1ucG0tcGFja2FnZSIsIHRoaXMuX2hhbmRsZVJlbW92ZVBhY2thZ2VDbGljay5iaW5kKHRoaXMpKTsKICB9LAogIF9iaW5kVG9IdWI6IGZ1bmN0aW9uIF9iaW5kVG9IdWIoKSB7CiAgICBIdWIuc3ViKCJzZXJ2ZXItcGVuLWNoYW5nZSIsIHRoaXMuX29uU2VydmVyUGVuQ2hhbmdlLmJpbmQodGhpcykpOwogIH0sCiAgX29uU2VydmVyUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25TZXJ2ZXJQZW5DaGFuZ2UoZSwgdCkgewogICAgT2JqZWN0VXRpbC5oYXNOZXN0ZWRWYWx1ZSh0LCAiaXRlbS5wYWNrYWdlcyIpICYmIHRoaXMuX3NldEl0ZW1WYWx1ZUZyb21TZXJ2ZXIodCk7CiAgfSwKICBfaGFuZGxlUmVtb3ZlUGFja2FnZUNsaWNrOiBmdW5jdGlvbiBfaGFuZGxlUmVtb3ZlUGFja2FnZUNsaWNrKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHZhciB0ID0gJChlLnRhcmdldCkuY2xvc2VzdCgiLm5wbS1yb3ciKS5kYXRhKCJuYW1lIik7CiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLnJlbW92ZVBhY2thZ2UodCksICExOwogIH0sCiAgX3NldFVwU2VhcmNoOiBmdW5jdGlvbiBfc2V0VXBTZWFyY2goKSB7CiAgICB2YXIgZSA9IHRoaXM7CiAgICAkKCIjbnBtLXNlYXJjaCIpLmF1dG9jb21wbGV0ZSh7CiAgICAgIGhpbnQ6ICExCiAgICB9LCBbewogICAgICBzb3VyY2U6ICQuZm4uYXV0b2NvbXBsZXRlLnNvdXJjZXMuaGl0cyh3aW5kb3cuYWxnb2xpYS5ucG1JbmRleCwgewogICAgICAgIGhpdHNQZXJQYWdlOiA4LAogICAgICAgIGF0dHJpYnV0ZXNUb1JldHJpZXZlOiBbIm5hbWUiLCAidmVyc2lvbiIsICJkZXNjcmlwdGlvbiJdCiAgICAgIH0pLAogICAgICBkaXNwbGF5S2V5OiAibmFtZSIsCiAgICAgIHRlbXBsYXRlczogewogICAgICAgIHN1Z2dlc3Rpb246IGZ1bmN0aW9uIHN1Z2dlc3Rpb24oZSkgewogICAgICAgICAgcmV0dXJuICI8ZGl2IGNsYXNzPSdwYWNrYWdlLXRpdGxlJz4iICsgJC5mbi5hdXRvY29tcGxldGUuZXNjYXBlSGlnaGxpZ2h0ZWRTdHJpbmcoZS5faGlnaGxpZ2h0UmVzdWx0Lm5hbWUudmFsdWUpICsgIjwvZGl2PjxkaXYgY2xhc3M9J3BhY2thZ2UtZGVzY3JpcHRpb24nPiIgKyAkLmZuLmF1dG9jb21wbGV0ZS5lc2NhcGVIaWdobGlnaHRlZFN0cmluZyhlLmRlc2NyaXB0aW9uKSArICI8L2Rpdj48ZGl2IGNsYXNzPSdwYWNrYWdlLXZlcnNpb24nPiIgKyAkLmZuLmF1dG9jb21wbGV0ZS5lc2NhcGVIaWdobGlnaHRlZFN0cmluZyhlLnZlcnNpb24pICsgIjwvZGl2PiI7CiAgICAgICAgfSwKICAgICAgICBlbXB0eTogIjxkaXY+Tm8gcmVzdWx0cy48L2Rpdj4iCiAgICAgIH0KICAgIH1dKS5vbigiYXV0b2NvbXBsZXRlOnNlbGVjdGVkIiwgZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgZS5jb250cm9sbGVyLmFkZFBhY2thZ2Uobi5uYW1lLCBuLnZlcnNpb24pLCAkKCIjbnBtLXNlYXJjaCIpLmF1dG9jb21wbGV0ZSgidmFsIiwgIiIpOwogICAgfSk7CiAgfQp9KSwgd2luZG93Lm5wbVNldHRpbmdzTW9kZWwgPSB3aW5kb3cuQmFzZVNldHRpbmdzTW9kZWwuZXh0ZW5kKHsKICB0eXBlOiAibnBtIiwKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgdGhpcy5fc3VwZXIoKTsKICB9Cn0pLCB3aW5kb3cubnBtU2V0dGluZ3NWaWV3ID0gQmFzZVNldHRpbmdzVmlldy5leHRlbmQoewogIHR5cGU6ICJucG0iLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLl9zdXBlcigpLCB0aGlzLl9iaW5kVG9IdWIoKSwgdGhpcy4kc2V0dGluZ3NUYWIgPSAkKCIjaXRlbS1zZXR0aW5ncy1qYXZhc2NyaXB0LW5wbSIpLCB0aGlzLl90ZW1wbGF0ZUhUTUwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbnBtLXBhY2thZ2UtdGVtcGxhdGUiKS5pbm5lckhUTUwsIHRoaXMuX3VwZGF0ZVBhY2thZ2VzVUkoQ1AucGVuLmdldEFjdGl2ZU5wbVBhY2thZ2VzKCkpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInBlbi1jaGFuZ2UiLCB0aGlzLl9vblBlbkNoYW5nZS5iaW5kKHRoaXMpKTsKICB9LAogIF9vblBlbkNoYW5nZTogZnVuY3Rpb24gX29uUGVuQ2hhbmdlKGUsIHQpIHsKICAgIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5ucG1fcGFja2FnZXMiKSAmJiB0aGlzLl91cGRhdGVQYWNrYWdlc1VJKHQucGVuLm5wbV9wYWNrYWdlcyksIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodC5wZW4sICJqc19wcmVfcHJvY2Vzc29yIikgJiYgdGhpcy5fc2V0U3RhdGVPZlRhYih0LnBlbi5qc19wcmVfcHJvY2Vzc29yKTsKICB9LAogIF9zZXRTdGF0ZU9mVGFiOiBmdW5jdGlvbiBfc2V0U3RhdGVPZlRhYihlKSB7CiAgICAibm9uZSIgPT09IGUgfHwgImJhYmVsIiA9PT0gZSA/IHRoaXMuJHNldHRpbmdzVGFiLnJlbW92ZUNsYXNzKCJucG0tc2V0dGluZ3MtZGlzYWJsZWQiKSA6IHRoaXMuJHNldHRpbmdzVGFiLmFkZENsYXNzKCJucG0tc2V0dGluZ3MtZGlzYWJsZWQiKTsKICB9LAogIF91cGRhdGVQYWNrYWdlc1VJOiBmdW5jdGlvbiBfdXBkYXRlUGFja2FnZXNVSShlKSB7CiAgICAkKCIjbnBtLXBhY2thZ2VzIikuaHRtbCh0aGlzLl9idWlsZE5QTVBhY2thZ2VzSFRNTChlKSk7CiAgfSwKICBfYnVpbGROUE1QYWNrYWdlc0hUTUw6IGZ1bmN0aW9uIF9idWlsZE5QTVBhY2thZ2VzSFRNTChlKSB7CiAgICByZXR1cm4gT2JqZWN0LmtleXMoZSkuc29ydCgpLm1hcChmdW5jdGlvbiAodCkgewogICAgICB2YXIgbiA9IGVbdF07CiAgICAgIHJldHVybiB0aGlzLmdldFRlbXBsYXRlKG4pOwogICAgfS5iaW5kKHRoaXMpKS5qb2luKCIiKTsKICB9LAogIGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZShlKSB7CiAgICByZXR1cm4gXy50ZW1wbGF0ZSh0aGlzLl90ZW1wbGF0ZUhUTUwsIHsKICAgICAgbmFtZTogd2luZG93Ll9odG1sRW50aXRpZXMoZS5uYW1lKSwKICAgICAgdmVyc2lvbjogd2luZG93Ll9odG1sRW50aXRpZXMoZS52ZXJzaW9uKSwKICAgICAgdXJsOiAiaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvIiArIGUubmFtZQogICAgfSk7CiAgfQp9KSwgd2luZG93LlJlc291cmNlc0NvbnRyb2xsZXIgPSBDbGFzcy5leHRlbmQoewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSkgewogICAgdGhpcy50eXBlID0gZSwgdGhpcy5ldmVudHMgPSBuZXcgUmVzb3VyY2VzRXZlbnRzKHRoaXMsIGUpLCB0aGlzLnZpZXcgPSBuZXcgUmVzb3VyY2VzVmlldyh0aGlzLCBlKTsKICB9LAogIHNldEl0ZW1WYWx1ZUZyb21TZXJ2ZXI6IGZ1bmN0aW9uIHNldEl0ZW1WYWx1ZUZyb21TZXJ2ZXIoZSkgewogICAgQ1AucGVuLnNldFBlblJlc291cmNlcyhlKTsKICB9LAogIGFkZEVtcHR5UmVzb3VyY2U6IGZ1bmN0aW9uIGFkZEVtcHR5UmVzb3VyY2UoZSkgewogICAgQ1AucGVuLmFkZEVtcHR5UmVzb3VyY2UoZSk7CiAgfSwKICBxdWlja0FkZFJlc291cmNlOiBmdW5jdGlvbiBxdWlja0FkZFJlc291cmNlKGUsIHQsIG4pIHsKICAgIENQLnBlbi5xdWlja0FkZFJlc291cmNlKGUsIHQpLCBDUC5QZW5SZWNlbnRSZXNvdXJjZXNNYW5hZ2VyLmFkZE5ld1BlblJlc291cmNlKGUsIHQsIG4pOwogIH0sCiAgZGVsZXRlUmVzb3VyY2U6IGZ1bmN0aW9uIGRlbGV0ZVJlc291cmNlKGUpIHsKICAgIENQLnBlbi5kZWxldGVSZXNvdXJjZShlKTsKICB9LAogIHNldFJlc291cmNlOiBmdW5jdGlvbiBzZXRSZXNvdXJjZShlLCB0KSB7CiAgICBDUC5wZW4uc2V0UmVzb3VyY2UoZSwgdCk7CiAgfSwKICB1cGRhdGVSZXNvdXJjZXNPcmRlcjogZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2VzT3JkZXIoZSwgdCkgewogICAgQ1AucGVuLnVwZGF0ZVJlc291cmNlc09yZGVyKGUsIHQpOwogIH0KfSksIHdpbmRvdy5SZXNvdXJjZXNFdmVudHMgPSBDbGFzcy5leHRlbmQoewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSwgdCkgewogICAgdGhpcy5jb250cm9sbGVyID0gZSwgdGhpcy50eXBlID0gdCwgXy5leHRlbmQodGhpcywgRW5hYmxlRGlzYWJsZURyaXZlciksIHRoaXMuYmluZFRvRW5hYmxlRGlzYWJsZUh1YkV2ZW50cygpLCB0aGlzLl9iaW5kVG9ET00oKSwgdGhpcy5fYmluZFRvSHViKCksIHRoaXMuc2V0VXBBbGdvbGlhU2VhcmNoKCk7CiAgfSwKICBfYmluZFRvRE9NOiBmdW5jdGlvbiBfYmluZFRvRE9NKCkgewogICAgJCgiI2FkZC0iICsgdGhpcy50eXBlICsgIi1yZXNvdXJjZSIpLl9vbigiY2xpY2siLCB0aGlzLl9vbkFkZFJlc291cmNlQ2xpY2ssIHRoaXMpLCAkKCIjIiArIHRoaXMudHlwZSArICItZXh0ZXJuYWwtcmVzb3VyY2VzIikub24oImNsaWNrIiwgIi5yZW1vdmUtZXh0ZXJuYWwtdXJsIiwgJC5wcm94eSh0aGlzLl9vbkRlbGV0ZVJlc291cmNlLCB0aGlzKSkub24oImtleWRvd24iLCB0aGlzLl9nZXRSZXNvdXJjZXNTZWxlY3RvcigpLCAkLnByb3h5KHRoaXMuX29uQ2hhbmdlUmVzb3VyY2UsIHRoaXMpKS5vbigiY2hhbmdlIiwgdGhpcy5fZ2V0UmVzb3VyY2VzU2VsZWN0b3IoKSwgJC5wcm94eSh0aGlzLl9vbkNoYW5nZVJlc291cmNlLCB0aGlzKSksIHRoaXMuX21ha2VSZXNvdXJjZXNTb3J0YWJsZSgpLCB0aGlzLiRzZWFyY2hJbnB1dCA9ICQoIiNleHRlcm5hbC0iICsgdGhpcy50eXBlICsgIi1zZWFyY2giKTsKICB9LAogIF9nZXRSZXNvdXJjZXNTZWxlY3RvcjogZnVuY3Rpb24gX2dldFJlc291cmNlc1NlbGVjdG9yKCkgewogICAgcmV0dXJuICJpbnB1dC4iICsgdGhpcy50eXBlICsgIi1yZXNvdXJjZVtuYW1lPSdleHRlcm5hbC0iICsgdGhpcy50eXBlICsgIiddIjsKICB9LAogIF9iaW5kVG9IdWI6IGZ1bmN0aW9uIF9iaW5kVG9IdWIoKSB7CiAgICBIdWIuc3ViKCJzZXJ2ZXItcGVuLWNoYW5nZSIsICQucHJveHkodGhpcy5fb25TZXJ2ZXJQZW5DaGFuZ2UsIHRoaXMpKTsKICB9LAogIF9vblNlcnZlclBlbkNoYW5nZTogZnVuY3Rpb24gX29uU2VydmVyUGVuQ2hhbmdlKGUsIHQpIHsKICAgIE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5yZXNvdXJjZXMiKSAmJiB0aGlzLmNvbnRyb2xsZXIuc2V0SXRlbVZhbHVlRnJvbVNlcnZlcih0KTsKICB9LAogIF9tYWtlUmVzb3VyY2VzU29ydGFibGU6IGZ1bmN0aW9uIF9tYWtlUmVzb3VyY2VzU29ydGFibGUoKSB7CiAgICB2YXIgZSA9IHRoaXM7CiAgICAkKCIjIiArIHRoaXMudHlwZSArICItZXh0ZXJuYWwtcmVzb3VyY2VzIikuc29ydGFibGUoewogICAgICBoYW5kbGU6ICIubW92ZS1leHRlcm5hbC11cmwiLAogICAgICBheGlzOiAieSIsCiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICAgIGUuX3VwZGF0ZVJlc291cmNlc09yZGVyKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgX3VwZGF0ZVJlc291cmNlc09yZGVyOiBmdW5jdGlvbiBfdXBkYXRlUmVzb3VyY2VzT3JkZXIoKSB7CiAgICB0aGlzLl9jYW5Ecml2ZSAmJiB0aGlzLmNvbnRyb2xsZXIudXBkYXRlUmVzb3VyY2VzT3JkZXIodGhpcy50eXBlLCB0aGlzLl9nZXRWaWV3SURzVG9PcmRlcnMoKSk7CiAgfSwKICBfY2hlY2tSZXNvdXJjZXNTZWN1cml0eTogZnVuY3Rpb24gX2NoZWNrUmVzb3VyY2VzU2VjdXJpdHkoZSkgewogICAgdmFyIHQgPSAkKCIjZXh0ZXJuYWwtcmVzb3VyY2UtaW5wdXQtIiArIGUpLAogICAgICAgIG4gPSB0LmNsb3Nlc3QoIi5leHRlcm5hbC1yZXNvdXJjZS11cmwtcm93Iik7CiAgICAiaHR0cDoiID09PSB0LnZhbCgpLnN1YnN0cigwLCA1KSA/IG4uYWRkQ2xhc3MoImluc2VjdXJlLXJlc291cmNlIikgOiBuLnJlbW92ZUNsYXNzKCJpbnNlY3VyZS1yZXNvdXJjZSIpLCBDUC5IZWxwRmx5b3V0cy5pbml0KCk7CiAgfSwKICBfZ2V0Vmlld0lEc1RvT3JkZXJzOiBmdW5jdGlvbiBfZ2V0Vmlld0lEc1RvT3JkZXJzKCkgewogICAgcmV0dXJuIF8ucmVkdWNlKHRoaXMuX2dldElucHV0c0J5VHlwZSgpLCBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICByZXR1cm4gZVt0aGlzLl9nZXRFbGVtZW50Vmlld0lEKHQpXSA9IG4sIGU7CiAgICB9LCB7fSwgdGhpcyk7CiAgfSwKICBfZ2V0SW5wdXRzQnlUeXBlOiBmdW5jdGlvbiBfZ2V0SW5wdXRzQnlUeXBlKCkgewogICAgcmV0dXJuIF8uc2VsZWN0KCQoIiMiICsgdGhpcy50eXBlICsgIi1leHRlcm5hbC1yZXNvdXJjZXMgaW5wdXQiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICQoZSkuYXR0cigiaWQiKTsKICAgIH0pOwogIH0sCiAgX29uQ2hhbmdlUmVzb3VyY2U6IGZ1bmN0aW9uIF9vbkNoYW5nZVJlc291cmNlKGUpIHsKICAgIGlmICh0aGlzLl9jYW5Ecml2ZSkgewogICAgICB2YXIgdCA9IHRoaXMuX2dldEVsZW1lbnRWaWV3SUQoZS50YXJnZXQpOwoKICAgICAgdGhpcy5jb250cm9sbGVyLnNldFJlc291cmNlKHQsICQoZS50YXJnZXQpLnZhbCgpKSwgJCgiLm9wZW4tZXh0ZXJuYWwtdXJsW2RhdGEtdmlldy1pZD0iICsgdCArICJdIikuYXR0cigiaHJlZiIsICQoZS50YXJnZXQpLnZhbCgpKSwgdGhpcy5fdXBkYXRlUmVzb3VyY2VzT3JkZXIoKTsKICAgICAgdmFyIG4gPSB0aGlzOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBuLl9jaGVja1Jlc291cmNlc1NlY3VyaXR5KHQpOwogICAgICB9LCAwKTsKICAgIH0KICB9LAogIF9vbkFkZFJlc291cmNlQ2xpY2s6IGZ1bmN0aW9uIF9vbkFkZFJlc291cmNlQ2xpY2soKSB7CiAgICB0aGlzLl9jYW5Ecml2ZSAmJiB0aGlzLmNvbnRyb2xsZXIuYWRkRW1wdHlSZXNvdXJjZSh0aGlzLnR5cGUpOwogIH0sCiAgX29uRGVsZXRlUmVzb3VyY2U6IGZ1bmN0aW9uIF9vbkRlbGV0ZVJlc291cmNlKGUpIHsKICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuX2NhbkRyaXZlICYmICh0aGlzLmNvbnRyb2xsZXIuZGVsZXRlUmVzb3VyY2UodGhpcy5fZ2V0RWxlbWVudFZpZXdJRChlLnRhcmdldCkpLCB0aGlzLl91cGRhdGVSZXNvdXJjZXNPcmRlcigpKSwgITE7CiAgfSwKICBfZ2V0RWxlbWVudFZpZXdJRDogZnVuY3Rpb24gX2dldEVsZW1lbnRWaWV3SUQoZSkgewogICAgcmV0dXJuICQoZSkuYXR0cigiZGF0YS12aWV3LWlkIik7CiAgfSwKICBfZ2V0QWxsVUlFbGVtZW50czogZnVuY3Rpb24gX2dldEFsbFVJRWxlbWVudHMoKSB7CiAgICByZXR1cm4gWyQoIiNhZGQtIiArIHRoaXMudHlwZSArICItcmVzb3VyY2UiKSwgJCgiIyIgKyB0aGlzLnR5cGUgKyAiLXF1aWNrLWFkZCIpLCAkKHRoaXMuX2dldFJlc291cmNlc1NlbGVjdG9yKCkpXTsKICB9LAogIHNldFVwQWxnb2xpYVNlYXJjaDogZnVuY3Rpb24gc2V0VXBBbGdvbGlhU2VhcmNoKCkgewogICAgdmFyIGUgPSB0aGlzOwogICAgJCgiI2V4dGVybmFsLSIgKyBlLnR5cGUgKyAiLXNlYXJjaCIpLmF1dG9jb21wbGV0ZSh7CiAgICAgIGhpbnQ6ICExCiAgICB9LCBbewogICAgICBzb3VyY2U6ICQuZm4uYXV0b2NvbXBsZXRlLnNvdXJjZXMuaGl0cyh3aW5kb3cuYWxnb2xpYS5jZG5DU1NJbmRleCwgewogICAgICAgIGhpdHNQZXJQYWdlOiA4LAogICAgICAgIGF0dHJpYnV0ZXNUb1JldHJpZXZlOiBbImZpbGVUeXBlIiwgImZpbGVuYW1lIiwgIl9oaWdobGlnaHRSZXN1bHQiLCAidmVyc2lvbiIsICJuYW1lIiwgImRlc2NyaXB0aW9uIl0KICAgICAgfSksCiAgICAgIGRpc3BsYXlLZXk6ICJuYW1lIiwKICAgICAgdGVtcGxhdGVzOiB7CiAgICAgICAgc3VnZ2VzdGlvbjogZnVuY3Rpb24gc3VnZ2VzdGlvbihlKSB7CiAgICAgICAgICByZXR1cm4gIjxkaXYgY2xhc3M9J3BhY2thZ2UtdGl0bGUnPiIgKyBlLl9oaWdobGlnaHRSZXN1bHQubmFtZS52YWx1ZSArICI8L2Rpdj48ZGl2IGNsYXNzPSdwYWNrYWdlLWRlc2NyaXB0aW9uJz4iICsgZS5kZXNjcmlwdGlvbiArICI8L2Rpdj48ZGl2IGNsYXNzPSdwYWNrYWdlLXZlcnNpb24nPiIgKyBlLnZlcnNpb24gKyAiPC9kaXY+IjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHsKICAgICAgc291cmNlOiAkLmZuLmF1dG9jb21wbGV0ZS5zb3VyY2VzLmhpdHMod2luZG93LmFsZ29saWEuY2RuSlNJbmRleCwgewogICAgICAgIGhpdHNQZXJQYWdlOiA4LAogICAgICAgIGF0dHJpYnV0ZXNUb1JldHJpZXZlOiBbImZpbGVUeXBlIiwgImZpbGVuYW1lIiwgIl9oaWdobGlnaHRSZXN1bHQiLCAidmVyc2lvbiIsICJuYW1lIiwgImRlc2NyaXB0aW9uIl0sCiAgICAgICAgZmlsdGVyczogImZpbGVUeXBlOiIgKyBlLnR5cGUKICAgICAgfSksCiAgICAgIGRpc3BsYXlLZXk6ICJuYW1lIiwKICAgICAgdGVtcGxhdGVzOiB7CiAgICAgICAgc3VnZ2VzdGlvbjogZnVuY3Rpb24gc3VnZ2VzdGlvbihlKSB7CiAgICAgICAgICByZXR1cm4gIjxkaXYgY2xhc3M9J3BhY2thZ2UtdGl0bGUnPiIgKyBlLl9oaWdobGlnaHRSZXN1bHQubmFtZS52YWx1ZSArICI8L2Rpdj48ZGl2IGNsYXNzPSdwYWNrYWdlLWRlc2NyaXB0aW9uJz4iICsgZS5kZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgMjAwKSArICI8L2Rpdj48ZGl2IGNsYXNzPSdwYWNrYWdlLXZlcnNpb24nPiIgKyBlLnZlcnNpb24gKyAiPC9kaXY+IjsKICAgICAgICB9LAogICAgICAgIGVtcHR5OiAnPGRpdiBjbGFzcz0idHlwZWFoZWFkLW5vLXJlc3VsdHMiPk5vIHJlc3VsdHMuPC9kaXY+JwogICAgICB9CiAgICB9XSkub24oImF1dG9jb21wbGV0ZTpzZWxlY3RlZCIsIGZ1bmN0aW9uICh0LCBuKSB7CiAgICAgIHZhciBzID0gImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzLyI7CiAgICAgIHMgKz0gbi5uYW1lICsgIi8iLCBzICs9IG4udmVyc2lvbiArICIvIiwgcyArPSBuLmZpbGVuYW1lLCBlLmNvbnRyb2xsZXIucXVpY2tBZGRSZXNvdXJjZShlLnR5cGUsIHMsIG4ubmFtZSksIGUuX3VwZGF0ZVJlc291cmNlc09yZGVyKCksICQoIiNleHRlcm5hbC0iICsgZS50eXBlICsgIi1zZWFyY2giKS5hdXRvY29tcGxldGUoInZhbCIsICIiKTsKICAgIH0pOwogIH0KfSksIHdpbmRvdy5SZXNvdXJjZXNWaWV3ID0gQ2xhc3MuZXh0ZW5kKHsKICAkcmVzb3VyY2VzOiBudWxsLAogICRxdWlja0FkZDogbnVsbCwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUsIHQpIHsKICAgIHRoaXMuY29udHJvbGxlciA9IGUsIHRoaXMudHlwZSA9IHQsIHRoaXMuX2luaXRET00oKSwgdGhpcy5fYmluZFRvSHViKCk7CiAgfSwKICBfaW5pdERPTTogZnVuY3Rpb24gX2luaXRET00oKSB7CiAgICB0aGlzLiRyZXNvdXJjZXMgPSAkKCIjIiArIHRoaXMudHlwZSArICItZXh0ZXJuYWwtcmVzb3VyY2VzIiksIHRoaXMuJHF1aWNrQWRkID0gJCgiIyIgKyB0aGlzLnR5cGUgKyAiLXF1aWNrLWFkZCIpLCB0aGlzLl9zeW5jRXh0ZXJuYWxJbnB1dHMoQ1AucGVuLmdldFJlc291cmNlc0J5VHlwZSh0aGlzLnR5cGUpKSwgdGhpcy5fYXBwZW5kUmVjZW50UmVzb3VyY2VzVG9VSShDUC5QZW5SZWNlbnRSZXNvdXJjZXNNYW5hZ2VyLmdldFJlY2VudFBlblJlc291cmNlcyh0aGlzLnR5cGUpKTsKICB9LAogIF9iaW5kVG9IdWI6IGZ1bmN0aW9uIF9iaW5kVG9IdWIoKSB7CiAgICBIdWIuc3ViKCJwZW4tY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblBlbkNoYW5nZSwgdGhpcykpOwogIH0sCiAgX29uUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25QZW5DaGFuZ2UoZSwgdCkgewogICAgaWYgKE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInBlbi5yZXNvdXJjZXMiKSkgewogICAgICB2YXIgbiA9IENQLnBlbi5nZXRSZXNvdXJjZXNCeVR5cGUodGhpcy50eXBlKTsKICAgICAgdGhpcy5fc3luY0V4dGVybmFsSW5wdXRzKG4sIHQucmViaW5kKSwgdGhpcy5fZW5zdXJlT25lRW1wdHlJbnB1dChuKTsKICAgIH0KICB9LAogIF9zeW5jRXh0ZXJuYWxJbnB1dHM6IGZ1bmN0aW9uIF9zeW5jRXh0ZXJuYWxJbnB1dHMoZSkgewogICAgdGhpcy5fc3luY051bWJlck9mRE9NRWxlbWVudHNXaXRoUmVzb3VyY2VzKGUpLCB0aGlzLl9zeW5jVGhlRE9NVmFsdWVzV2l0aFJlc291cmNlcyhlKSwgdGhpcy5fcmVzZXRRdWlja0FkZCgpOwogIH0sCiAgX3N5bmNOdW1iZXJPZkRPTUVsZW1lbnRzV2l0aFJlc291cmNlczogZnVuY3Rpb24gX3N5bmNOdW1iZXJPZkRPTUVsZW1lbnRzV2l0aFJlc291cmNlcyhlKSB7CiAgICB2YXIgdCA9IHRoaXMuX2dldEV4aXN0aW5nRXh0ZXJuYWxzRGl2cygpLAogICAgICAgIG4gPSBlLmxlbmd0aCAtIHQubGVuZ3RoOwoKICAgIGlmIChuID4gMCkgZm9yICg7IG4tLTspIHsKICAgICAgdmFyIHMgPSBlLmxlbmd0aCAtIDEgLSBuOwoKICAgICAgdGhpcy5fYXBwZW5kUmVzb3VyY2VzVG9VSShlW3NdLCBzKTsKICAgIH0gZWxzZSBpZiAobiA8IDApIGZvciAobiAqPSAtMTsgbi0tOykgewogICAgICAkKHQubGFzdCgpKS5yZW1vdmUoKTsKICAgIH0KICB9LAogIF9zeW5jVGhlRE9NVmFsdWVzV2l0aFJlc291cmNlczogZnVuY3Rpb24gX3N5bmNUaGVET01WYWx1ZXNXaXRoUmVzb3VyY2VzKGUpIHsKICAgIF8uZm9yRWFjaCh0aGlzLl9nZXRFeGlzdGluZ0V4dGVybmFsc0RpdnMoKSwgZnVuY3Rpb24gKHQsIG4pIHsKICAgICAgdCA9ICQodCk7CiAgICAgIHZhciBzID0gZVtuXTsKCiAgICAgIGlmIChzLnZpZXdfaWQgPT09IHQuYXR0cigiZGF0YS12aWV3LWlkIikpIHsKICAgICAgICAkKCIjZXh0ZXJuYWwtcmVzb3VyY2UtaW5wdXQtdmlldy1saW5rLSIgKyBzLnZpZXdfaWQpLmF0dHIoImhyZWYiLCBzLnVybCk7CiAgICAgICAgdmFyIGkgPSAkKCIjZXh0ZXJuYWwtcmVzb3VyY2UtaW5wdXQtIiArIHMudmlld19pZCk7CiAgICAgICAgcy51cmwgIT09IGkudmFsKCkgJiYgaS52YWwocy51cmwpOwogICAgICB9IGVsc2UgdC5yZXBsYWNlV2l0aCh0aGlzLl9kaXZIVE1MKHMpKTsKICAgIH0sIHRoaXMpOwogIH0sCiAgX2dldEV4aXN0aW5nRXh0ZXJuYWxzRGl2czogZnVuY3Rpb24gX2dldEV4aXN0aW5nRXh0ZXJuYWxzRGl2cygpIHsKICAgIHJldHVybiAkKCIjIiArIHRoaXMudHlwZSArICItZXh0ZXJuYWwtcmVzb3VyY2VzID4gZGl2Iik7CiAgfSwKICBfYXBwZW5kUmVzb3VyY2VzVG9VSTogZnVuY3Rpb24gX2FwcGVuZFJlc291cmNlc1RvVUkoZSwgdCkgewogICAgdmFyIG4gPSAkKHRoaXMuX2RpdkhUTUwoZSwgdCkpOwogICAgdGhpcy4kcmVzb3VyY2VzLmFwcGVuZChuKSwgQ1AuSGVscEZseW91dHMuaW5pdCgpOwogIH0sCiAgX2Vuc3VyZU9uZUVtcHR5SW5wdXQ6IGZ1bmN0aW9uIF9lbnN1cmVPbmVFbXB0eUlucHV0KGUpIHsKICAgIDAgPT09IGUucmVkdWNlKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gKHQudXJsIHx8ICIiKS5yZXBsYWNlKC9ccy9nLCAiIik7CiAgICAgIHJldHVybiAiIiA9PT0gbiAmJiBlLnB1c2gobiksIGU7CiAgICB9LCBbXSkubGVuZ3RoICYmIHRoaXMuY29udHJvbGxlci5hZGRFbXB0eVJlc291cmNlKHRoaXMudHlwZSk7CiAgfSwKICBfYXBwZW5kUmVjZW50UmVzb3VyY2VzVG9VSTogZnVuY3Rpb24gX2FwcGVuZFJlY2VudFJlc291cmNlc1RvVUkoZSkgewogICAgdGhpcy5fYWRkUmVjZW50UmVzb3VyY2VzVG9Ecm9wZG93bihlKTsKICB9LAogIF9hZGRSZWNlbnRSZXNvdXJjZXNUb0Ryb3Bkb3duOiBmdW5jdGlvbiBfYWRkUmVjZW50UmVzb3VyY2VzVG9Ecm9wZG93bihlKSB7CiAgICB2YXIgdCA9ICQoIiMiICsgdGhpcy50eXBlICsgIi1xdWljay1hZGQiKSwKICAgICAgICBuID0gJCgiLnJlY2VudC1yZXNvdXJjZXMiLCB0KSwKICAgICAgICBzID0gJCgiLnBvcHVsYXItcmVzb3VyY2VzIiwgdCk7CiAgICBpZiAoZS5sZW5ndGggPiAwKSBmb3IgKHZhciBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHsKICAgICAgJCgnb3B0aW9uW3ZhbHVlPSInICsgZVtpXS51cmwgKyAnIl0nLCBzKS5yZW1vdmUoKSwgbi5hcHBlbmQoJCgnPG9wdGlvbiB2YWx1ZT0iJyArIGVbaV0udXJsICsgJyIgbGFiZWw9IicgKyBlW2ldLm5hbWUgKyAnIj4nICsgZVtpXS5uYW1lICsgIjwvb3B0aW9uPiIpKTsKICAgIH0KICB9LAogIF9kaXZIVE1MOiBmdW5jdGlvbiBfZGl2SFRNTChlLCB0KSB7CiAgICByZXR1cm4gXy50ZW1wbGF0ZSh0aGlzLl9nZXRUZW1wbGF0ZSgpLCB7CiAgICAgIHVybDogZS51cmwsCiAgICAgIGluc2VjdXJlX3Jlc291cmNlOiAiaHR0cDoiID09PSBlLnVybC5zdWJzdHIoMCwgNSkgPyAiaW5zZWN1cmUtcmVzb3VyY2UiIDogIiIsCiAgICAgIHZpZXdfaWQ6IGUudmlld19pZCwKICAgICAgcGxhY2Vob2xkZXI6IHRoaXMuX2dldFBsYWNlaG9sZGVyRm9ySW5wdXQoZS5yZXNvdXJjZV90eXBlLCB0KQogICAgfSk7CiAgfSwKICBfdGVtcGxhdGU6ICIiLAogIF9nZXRUZW1wbGF0ZTogZnVuY3Rpb24gX2dldFRlbXBsYXRlKCkgewogICAgcmV0dXJuICIiID09PSB0aGlzLl90ZW1wbGF0ZSAmJiAodGhpcy5fdGVtcGxhdGUgPSAkKCIjIiArIHRoaXMudHlwZSArICItZXh0ZXJuYWwtcmVzb3VyY2VzLXRlbXBsYXRlIikuaHRtbCgpKSwgdGhpcy5fdGVtcGxhdGU7CiAgfSwKICBfZ2V0UGxhY2Vob2xkZXJGb3JJbnB1dDogZnVuY3Rpb24gX2dldFBsYWNlaG9sZGVyRm9ySW5wdXQoZSwgdCkgewogICAgcmV0dXJuIHQgJSAyID09IDAgPyAiY3NzIiA9PT0gZSA/ICJodHRwczovL3lvdXJ3ZWJzaXRlLmNvbS9zdHlsZS5jc3MiIDogImh0dHBzOi8veW91cndlYnNpdGUuY29tL3NjcmlwdC5qcyIgOiAiaHR0cHM6Ly9jb2RlcGVuLmlvL3VzZXJuYW1lL3Blbi9hQmNEZWYiOwogIH0sCiAgX3Jlc2V0UXVpY2tBZGQ6IGZ1bmN0aW9uIF9yZXNldFF1aWNrQWRkKCkgewogICAgdGhpcy4kcXVpY2tBZGQucHJvcCgic2VsZWN0ZWRJbmRleCIsIDApOwogIH0KfSksIHdpbmRvdy5TZWFyY2hGaWx0ZXIgPSB7CiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHRoaXMuX2JpbmRUb0RPTSgpOwogIH0sCiAgX2JpbmRUb0RPTTogZnVuY3Rpb24gX2JpbmRUb0RPTSgpIHsKICAgICQoIiNhc3NldHMtc2VhcmNoIikuX29uKCJrZXl1cCBjbGljayBzZWFyY2giLCB0aGlzLl9vblNlYXJjaENoYW5nZSwgdGhpcywgITApOwogIH0sCiAgX29uU2VhcmNoQ2hhbmdlOiBmdW5jdGlvbiBfb25TZWFyY2hDaGFuZ2UoZSwgdCkgewogICAgdmFyIG4gPSAkLnRyaW0odC52YWwoKS50b0xvd2VyQ2FzZSgpKTsKICAgICIiID09PSBuID8gJCgiLnNpbmdsZS1hc3NldCIpLnJlbW92ZUNsYXNzKCJoaWRlIikgOiAoJCgiLnNpbmdsZS1hc3NldCIpLmFkZENsYXNzKCJoaWRlIiksICQoIi5zaW5nbGUtYXNzZXRbZGF0YS1zZWFyY2hhYmxlLW5hbWUqPSciICsgbiArICInXSIpLmNsb3Nlc3QoIi5zaW5nbGUtYXNzZXQiKS5yZW1vdmVDbGFzcygiaGlkZSIpKTsKICB9Cn0sIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBlKGUsIHQpIHsKICAgIHJldHVybiB7CiAgICAgIGFzc2V0X3R5cGU6ICJhY2NvdW50IiwKICAgICAgbmFtZTogdCwKICAgICAgc2l6ZTogZS5zaXplLAogICAgICBjb250ZW50X3R5cGU6IGUudHlwZQogICAgfTsKICB9CgogIGZ1bmN0aW9uIHQoZSwgdCwgbikgewogICAgQUpBWFV0aWwucG9zdCgiL3VwbG9hZGVkX2Fzc2V0cy9hc3NldF91cGxvYWRfcmVxdWVzdCIsIGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciBzID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBmb3IgKHZhciBpIGluIGUuZm9ybV9kYXRhLmZpZWxkcykgewogICAgICAgIHMuYXBwZW5kKGksIGUuZm9ybV9kYXRhLmZpZWxkc1tpXSk7CiAgICAgIH0KCiAgICAgIHMuYXBwZW5kKCJmaWxlIiwgdCksICQuYWpheCh7CiAgICAgICAgdXJsOiBlLmZvcm1fZGF0YS5hY3Rpb24sCiAgICAgICAgZGF0YTogcywKICAgICAgICBwcm9jZXNzRGF0YTogITEsCiAgICAgICAgY29udGVudFR5cGU6ICExLAogICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHQsIHMpIHsKICAgICAgICAgIG4oZSwgcyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbihuLCBzLCBpKSB7CiAgICB0KGUobiwgcyksIG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGkoInN1Y2Nlc3MiID09PSB0ID8gewogICAgICAgIHN1Y2Nlc3M6ICEwLAogICAgICAgIGZpbGU6IG4sCiAgICAgICAgZmlsZU5hbWU6IHMKICAgICAgfSA6IHsKICAgICAgICBzdWNjZXNzOiAhMSwKICAgICAgICBmaWxlOiBuLAogICAgICAgIGVycm9yOiB0LnRleHQKICAgICAgfSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHMoZSwgdCwgbikgewogICAgdmFyIHMgPSB7CiAgICAgIGFzc2V0X3R5cGU6ICJhdmF0YXIiLAogICAgICBmaWxlX2V4dDogZS50b0xvd2VyQ2FzZSgpLAogICAgICBjb250ZW50X3R5cGU6IHQKICAgIH07CiAgICByZXR1cm4gbiAmJiAocy50ZWFtID0gITApLCBzOwogIH0KCiAgZnVuY3Rpb24gaShlLCB0LCBuKSB7CiAgICByZXR1cm4gewogICAgICBhc3NldF90eXBlOiAic2NyZWVuc2hvdCIsCiAgICAgIGl0ZW1fdHlwZTogbiwKICAgICAgaXRlbV9pZDogQ1AucGVuLmlkLAogICAgICBmaWxlX2V4dDogZS50b0xvd2VyQ2FzZSgpLAogICAgICBjb250ZW50X3R5cGU6IHQKICAgIH07CiAgfQoKICBmdW5jdGlvbiBvKGUsIG4sIGksIG8sIHIpIHsKICAgIHQocyhpLCBlLnR5cGUsIG8pLCBuLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBhKHIsIGUsIHQpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiByKGUsIG4sIHMsIG8sIHIpIHsKICAgIHQoaShvLCBuLnR5cGUsIGUpLCBzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBhKHIsIGUsIHQpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhKGUsIHQsIG4pIHsKICAgIHZhciBzID0gdC5mb3JtX2RhdGEuYWN0aW9uICsgIi8iICsgdC5mb3JtX2RhdGEuZmllbGRzLmtleTsKICAgIGUoInN1Y2Nlc3MiID09PSBuID8gewogICAgICBzdWNjZXNzOiAhMCwKICAgICAgdXJsOiBzCiAgICB9IDogewogICAgICBzdWNjZXNzOiAhMSwKICAgICAgZXJyb3I6IG4udGV4dAogICAgfSk7CiAgfQoKICB3aW5kb3cuUzMgPSB3aW5kb3cuUzMgfHwge30sIHdpbmRvdy5TMy51cGxvYWRBdmF0YXJBc3NldFRvUzMgPSBvLCB3aW5kb3cuUzMudXBsb2FkQWNjb3VudEFzc2V0RmlsZVRvUzMgPSBuLCB3aW5kb3cuUzMudXBsb2FkU2NyZWVuc2hvdEFzc2V0VG9TMyA9IHI7Cn0oKSwgalF1ZXJ5LmV2ZW50LnByb3BzLnB1c2goImRhdGFUcmFuc2ZlciIpLCB3aW5kb3cuU2NyZWVuc2hvdFVwbG9hZCA9IHsKICBzY3JlZW5zaG90V3JhcDogJCgiI3NldHRpbmdzLXNjcmVlbnNob3Qtd3JhcCIpLAogIGltYWdlQ2hhbmdlcjogJCgiI3NjcmVlbnNob3QtaW1hZ2UtY2hhbmdlciIpLAogIGltYWdlSG9sZGVyOiAkKCIjY3VzdG9tLXNjcmVlbnNob3QiKSwKICBmaWxlSW5wdXQ6ICQoIiNwZXJzb25hbC1wcm9maWxlLWltYWdlLXVwbG9hZC1pbnB1dCIpLAogIHRoZUJvZHk6ICQoImJvZHkiKSwKICBkZWxldGVCdG46ICQoIiNkZWxldGUtc2NyZWVuc2hvdCIpLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICBfLmV4dGVuZCh0aGlzLCBBSkFYVXRpbCksIHRoaXMuYmluZFVJQWN0aW9ucygpOwogIH0sCiAgYmluZFVJQWN0aW9uczogZnVuY3Rpb24gYmluZFVJQWN0aW9ucygpIHsKICAgIHZhciBlID0gdGhpczsKICAgIHRoaXMudXBsb2FkaW5nID0gdGhpcy5zY3JlZW5zaG90V3JhcC5maW5kKCIudXBsb2FkaW5nLW1lc3NhZ2UiKSwgdGhpcy5pbWFnZUNoYW5nZXIuX29uKCJkcm9wIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB3aW5kb3cuU2NyZWVuc2hvdFVwbG9hZC5oYW5kbGVEcm9wKGUpOwogICAgfSksIHRoaXMudGhlQm9keS5fb24oImRyYWdvdmVyIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZS5jdXJyZW50VGFyZ2V0ID09PSB3aW5kb3cuU2NyZWVuc2hvdFVwbG9hZC50aGVCb2R5WzBdICYmIHdpbmRvdy5TY3JlZW5zaG90VXBsb2FkLnRlc3RJZkNvbnRhaW5zRmlsZXMoZSkgJiYgd2luZG93LlNjcmVlbnNob3RVcGxvYWQuaGlnaGxpZ2h0RHJvcEFyZWEoKTsKICAgIH0pLCB0aGlzLnRoZUJvZHkuX29uKCJkcmFnbGVhdmUiLCBmdW5jdGlvbiAoZSkgewogICAgICBlLmN1cnJlbnRUYXJnZXQgPT09IHdpbmRvdy5TY3JlZW5zaG90VXBsb2FkLnRoZUJvZHlbMF0gJiYgd2luZG93LlNjcmVlbnNob3RVcGxvYWQudW5IaWdobGlnaHREcm9wQXJlYSgpOwogICAgfSksIHdpbmRvdy5TY3JlZW5zaG90VXBsb2FkLmZpbGVJbnB1dC5fb24oImNoYW5nZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHdpbmRvdy5TY3JlZW5zaG90VXBsb2FkLmhhbmRsZU1hbnVhbEZpbGVTZWxlY3QoZSk7CiAgICB9KSwgdGhpcy5zY3JlZW5zaG90V3JhcC5vbigiY2xpY2siLCAiI2RlbGV0ZS1zY3JlZW5zaG90IiwgZnVuY3Rpb24gKHQpIHsKICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpLCAkLnNob3dNb2RhbCgiL2FqYXgvY29uZmlybV9jdXN0b21fc2NyZWVuc2hvdF9kZWxldGUiLCAibW9kYWwtd2FybmluZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCIjY29uZmlybS1kZWxldGUtc2NyZWVuc2hvdCIpLl9vbigiY2xpY2siLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpLCBlLmRlbGV0ZVNjcmVlbnNob3QoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHRlc3RJZkNvbnRhaW5zRmlsZXM6IGZ1bmN0aW9uIHRlc3RJZkNvbnRhaW5zRmlsZXMoZSkgewogICAgaWYgKGUuZGF0YVRyYW5zZmVyLnR5cGVzKSBmb3IgKHZhciB0ID0gMDsgdCA8IGUuZGF0YVRyYW5zZmVyLnR5cGVzLmxlbmd0aDsgdCsrKSB7CiAgICAgIGlmICgiRmlsZXMiID09PSBlLmRhdGFUcmFuc2Zlci50eXBlc1t0XSkgcmV0dXJuICEwOwogICAgfQogICAgcmV0dXJuICExOwogIH0sCiAgaGlnaGxpZ2h0RHJvcEFyZWE6IGZ1bmN0aW9uIGhpZ2hsaWdodERyb3BBcmVhKCkgewogICAgd2luZG93LlNjcmVlbnNob3RVcGxvYWQuaW1hZ2VDaGFuZ2VyLmFkZENsYXNzKCJkcm9wLWhlcmUiKTsKICB9LAogIHVuSGlnaGxpZ2h0RHJvcEFyZWE6IGZ1bmN0aW9uIHVuSGlnaGxpZ2h0RHJvcEFyZWEoKSB7CiAgICB3aW5kb3cuU2NyZWVuc2hvdFVwbG9hZC5pbWFnZUNoYW5nZXIucmVtb3ZlQ2xhc3MoImRyb3AtaGVyZSIpOwogIH0sCiAgaGFuZGxlRHJvcDogZnVuY3Rpb24gaGFuZGxlRHJvcChlKSB7CiAgICB2YXIgdCA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgd2luZG93LlNjcmVlbnNob3RVcGxvYWQucHJvY2Vzc0ZpbGUodCk7CiAgfSwKICBoYW5kbGVNYW51YWxGaWxlU2VsZWN0OiBmdW5jdGlvbiBoYW5kbGVNYW51YWxGaWxlU2VsZWN0KGUpIHsKICAgIHZhciB0ID0gZS50YXJnZXQuZmlsZXM7CiAgICB3aW5kb3cuU2NyZWVuc2hvdFVwbG9hZC5wcm9jZXNzRmlsZSh0KTsKICB9LAogIHByb2Nlc3NGaWxlOiBmdW5jdGlvbiBwcm9jZXNzRmlsZShlKSB7CiAgICB0aGlzLnVuSGlnaGxpZ2h0RHJvcEFyZWEoKSwgdGhpcy5fc2hvd1VwbG9hZGluZ01lc3NhZ2UoITApOwogICAgdmFyIHQgPSBlWzBdOwoKICAgIGlmICh0LnR5cGUubWF0Y2goImltYWdlLioiKSkgewogICAgICB2YXIgbiA9IHRoaXM7CiAgICAgIHRoaXMucmVhZEltYWdlKHQsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgInN0cmluZyIgIT0gdHlwZW9mIGUgPyAkLnNob3dNZXNzYWdlKCJPb3BzISBXZSBjb3VsZG4ndCB1cGxvYWQgdGhhdCBpbWFnZS4gVHJ5IGFnYWluLiIpIDogKG4uX3Nob3dTYXZpbmdNZXNzYWdlKCksIG4uX3NpZ25TY3JlZW5zaG90QW5kVXBsb2FkKGUsIHQpKTsKICAgICAgfSk7CiAgICB9IGVsc2UgJC5zaG93TWVzc2FnZSgiT29wcyEgVGhhdCBmaWxlIHdhc24ndCBhIEpQRyBvciBQTkcuIiksIHdpbmRvdy5TY3JlZW5zaG90VXBsb2FkLnVuSGlnaGxpZ2h0RHJvcEFyZWEoKTsKICB9LAogIF9zaG93U2F2aW5nTWVzc2FnZTogZnVuY3Rpb24gX3Nob3dTYXZpbmdNZXNzYWdlKCkgewogICAgJC5zaG93TWVzc2FnZSgiU2F2aW5nIFNjcmVlbnNob3QuLi4iKTsKICB9LAogIF9zaG93U2F2ZWRNZXNzYWdlOiBmdW5jdGlvbiBfc2hvd1NhdmVkTWVzc2FnZSgpIHsKICAgICQuc2hvd01lc3NhZ2UoIlBlbiBTY3JlZW5zaG90IGlzIHNhdmVkLiBJdCBtYXkgdGFrZSBhIG1pbnV0ZSB0byB1cGRhdGUgZXZlcnl3aGVyZS4iKTsKICB9LAogIF9zaWduU2NyZWVuc2hvdEFuZFVwbG9hZDogZnVuY3Rpb24gX3NpZ25TY3JlZW5zaG90QW5kVXBsb2FkKGUsIHQpIHsKICAgIHZhciBuID0gdGhpcy5kYXRhVVJJdG9CbG9iKGUpLAogICAgICAgIHMgPSB0aGlzLmZpbGVFeHRlbnNpb24odC5uYW1lKSwKICAgICAgICBpID0gdGhpczsKICAgIFMzLnVwbG9hZFNjcmVlbnNob3RBc3NldFRvUzMoInBlbiIsIHQsIG4sIHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuc3VjY2VzcyA/IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGkuc2F2ZVNjcmVlbnNob3QoZS51cmwpOwogICAgICB9LCA1MDApIDogJC5zaG93TWVzc2FnZSgiT29wcyEgV2UgY291bGRuJ3QgdXBsb2FkIHRoYXQgaW1hZ2UuIFRyeSBhZ2Fpbi4iKTsKICAgIH0pOwogIH0sCiAgZmlsZUV4dGVuc2lvbjogZnVuY3Rpb24gZmlsZUV4dGVuc2lvbihlKSB7CiAgICByZXR1cm4gZS5zcGxpdCgiLiIpLnBvcCgpOwogIH0sCiAgZGF0YVVSSXRvQmxvYjogZnVuY3Rpb24gZGF0YVVSSXRvQmxvYihlKSB7CiAgICBmb3IgKHZhciB0ID0gYXRvYihlLnNwbGl0KCIsIilbMV0pLCBuID0gbmV3IEFycmF5QnVmZmVyKHQubGVuZ3RoKSwgcyA9IG5ldyBVaW50OEFycmF5KG4pLCBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHsKICAgICAgc1tpXSA9IHQuY2hhckNvZGVBdChpKTsKICAgIH0KCiAgICByZXR1cm4gbmV3IEJsb2IoW25dLCB7CiAgICAgIHR5cGU6ICJpbWFnZS9qcGVnIgogICAgfSk7CiAgfSwKICByZWFkSW1hZ2U6IGZ1bmN0aW9uIHJlYWRJbWFnZShlLCB0KSB7CiAgICB2YXIgbiA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICBuLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgdCh0aGlzLnJlc3VsdCk7CiAgICB9LCBuLnJlYWRBc0RhdGFVUkwoZSksIG4ub25hYm9ydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgJC5zaG93TWVzc2FnZSgiVGhlIHVwbG9hZCB3YXMgYWJvcnRlZC4iKTsKICAgIH0sIG4ub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgJC5zaG93TWVzc2FnZSgiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVhZGluZyB0aGUgZmlsZS4iKTsKICAgIH07CiAgfSwKICBwbGFjZVNjcmVlbnNob3Q6IGZ1bmN0aW9uIHBsYWNlU2NyZWVuc2hvdChlLCB0KSB7CiAgICB0aGlzLnNjcmVlbnNob3RXcmFwLmh0bWwodCksICQoIiNjdXN0b20tc2NyZWVuc2hvdCIpLmNzcygiYmFja2dyb3VuZC1pbWFnZSIsICJ1cmwoIiArIGUgKyAiPyIgKyBEYXRlLm5vdygpICsgIikiKSwgdGhpcy5kZWxldGVCdG4uc2hvdygpLCB0aGlzLnVwbG9hZGluZyA9IHRoaXMuc2NyZWVuc2hvdFdyYXAuZmluZCgiLnVwbG9hZGluZy1tZXNzYWdlIik7CiAgfSwKICByZW1vdmVTY3JlZW5zaG90OiBmdW5jdGlvbiByZW1vdmVTY3JlZW5zaG90KGUsIHQpIHsKICAgIHRoaXMuc2NyZWVuc2hvdFdyYXAuaHRtbCh0KSwgdGhpcy5kZWxldGVCdG4uaGlkZSgpLCB0aGlzLnVwbG9hZGluZyA9IHRoaXMuc2NyZWVuc2hvdFdyYXAuZmluZCgiLnVwbG9hZGluZy1tZXNzYWdlIik7CiAgfSwKICBzYXZlU2NyZWVuc2hvdDogZnVuY3Rpb24gc2F2ZVNjcmVlbnNob3QoZSkgewogICAgdmFyIHQgPSB0aGlzLAogICAgICAgIG4gPSB7CiAgICAgIGl0ZW1fdHlwZTogInBlbiIsCiAgICAgIGl0ZW1faWQ6IENQLnBlbi5zbHVnX2hhc2gKICAgIH07CiAgICBudWxsID09PSBDUC5wZW4uY3VzdG9tX3NjcmVlbnNob3QgPyB0aGlzLnBvc3QoIi9jdXN0b21fc2NyZWVuc2hvdCIsIG4sIGZ1bmN0aW9uIChuKSB7CiAgICAgIHQuX3N1Y2Nlc3NmdWxVcGRhdGUobiwgZSk7CiAgICB9KSA6IHRoaXMucHV0KCIvY3VzdG9tX3NjcmVlbnNob3QvIiArIENQLnBlbi5jdXN0b21fc2NyZWVuc2hvdCwgbiwgZnVuY3Rpb24gKG4pIHsKICAgICAgdC5fc3VjY2Vzc2Z1bFVwZGF0ZShuLCBlKTsKICAgIH0pOwogIH0sCiAgX3N1Y2Nlc3NmdWxVcGRhdGU6IGZ1bmN0aW9uIF9zdWNjZXNzZnVsVXBkYXRlKGUsIHQpIHsKICAgIENQLnBlbi5jdXN0b21fc2NyZWVuc2hvdCA9IGUuc2NyZWVuc2hvdF9oYXNoaWQsIHRoaXMuX3Nob3dTYXZlZE1lc3NhZ2UoKSwgdGhpcy5wbGFjZVNjcmVlbnNob3QodCwgZS5kZXNjcmlwdGlvbl9odG1sKSwgdGhpcy5fc2hvd1VwbG9hZGluZ01lc3NhZ2UoITEpOwogIH0sCiAgZGVsZXRlU2NyZWVuc2hvdDogZnVuY3Rpb24gZGVsZXRlU2NyZWVuc2hvdCgpIHsKICAgIHRoaXMuZGVsKCIvY3VzdG9tX3NjcmVlbnNob3QvIiArIENQLnBlbi5jdXN0b21fc2NyZWVuc2hvdCwgewogICAgICBpdGVtX3R5cGU6ICJwZW4iLAogICAgICBpdGVtX2lkOiBDUC5wZW4uc2x1Z19oYXNoCiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAkLmhpZGVNb2RhbCgpLCB0aGlzLnJlbW92ZVNjcmVlbnNob3QoZS5zY3JlZW5zaG90X3VybF9sYXJnZSwgZS5kZXNjcmlwdGlvbl9odG1sKSwgQ1AucGVuLmN1c3RvbV9zY3JlZW5zaG90ID0gbnVsbDsKICAgIH0pOwogIH0sCiAgX3Nob3dVcGxvYWRpbmdNZXNzYWdlOiBmdW5jdGlvbiBfc2hvd1VwbG9hZGluZ01lc3NhZ2UoZSkgewogICAgZSA/IHRoaXMudXBsb2FkaW5nLmNzcyh7CiAgICAgIG9wYWNpdHk6IDEsCiAgICAgIHZpc2liaWxpdHk6ICJ2aXNpYmxlIgogICAgfSkgOiB0aGlzLnVwbG9hZGluZy5jc3MoewogICAgICBvcGFjaXR5OiAwLAogICAgICB2aXNpYmlsaXR5OiAiaGlkZGVuIgogICAgfSk7CiAgfQp9LCB3aW5kb3cuU2NyZWVuc2hvdFVwbG9hZC5pbml0KCksIHdpbmRvdy5TZXR0aW5nc0NvbnRyb2xsZXIgPSBDbGFzcy5leHRlbmQoewogIHBvcHVwTmFtZTogInBlblNldHRpbmdzIiwKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgQ1AuU2V0dGluZ3NFdmVudHMuaW5pdCh0aGlzKSwgdGhpcy5tb2RlbCA9IENQLlNldHRpbmdzTW9kZWwsIHRoaXMubW9kZWwuaW5pdCh0aGlzKSwgQ1AuU2V0dGluZ3NWaWV3LmluaXQodGhpcy5tb2RlbCk7CiAgfSwKICBzeW5jV2l0aFNlcnZlcjogZnVuY3Rpb24gc3luY1dpdGhTZXJ2ZXIoZSkgewogICAgdGhpcy5tb2RlbC5zeW5jV2l0aFNlcnZlcihlKTsKICB9LAogIHRvZ2dsZVNldHRpbmdzUGFuZTogZnVuY3Rpb24gdG9nZ2xlU2V0dGluZ3NQYW5lKCkgewogICAgdGhpcy5tb2RlbC50b2dnbGVTZXR0aW5nc1BhbmUoKTsKICB9LAogIGhpZGVTZXR0aW5nc1BhbmU6IGZ1bmN0aW9uIGhpZGVTZXR0aW5nc1BhbmUoKSB7CiAgICB0aGlzLm1vZGVsLmhpZGVTZXR0aW5nc1BhbmUoKTsKICB9LAogIHNlbGVjdFNldHRpbmdzVGFiOiBmdW5jdGlvbiBzZWxlY3RTZXR0aW5nc1RhYihlKSB7CiAgICB0aGlzLm1vZGVsLnNlbGVjdFNldHRpbmdzVGFiKGUpOwogIH0sCiAgc2V0dGluZ3NQYW5lVmlzaWJsZTogZnVuY3Rpb24gc2V0dGluZ3NQYW5lVmlzaWJsZSgpIHsKICAgIHJldHVybiB0aGlzLm1vZGVsLnNldHRpbmdzUGFuZVZpc2libGUoKTsKICB9Cn0pLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIGYuX29uKCJjbGljayIsIHQsIHdpbmRvdyksICQoImJvZHkiKS5vbigiY2xpY2siLCAiI2VkaXQtc2V0dGluZ3MiLCBuKSwgQy5fb24oImNsaWNrIiwgcywgd2luZG93KSwgeS5fb24oImNsaWNrIiwgaSwgd2luZG93KSwgJCgiI2l0ZW0tc2V0dGluZ3MtbW9kYWwgLnRhYnMgPiBuYXYgYSIpLnVuYmluZCgpLCBnLl9vbigiY2xpY2siLCBvLCB3aW5kb3cpLCAkKCJib2R5IikuX29uKCJjbGljayIsIHIsIHdpbmRvdywgITApLCBtLl9vbigiY2xpY2siLCBhLCB3aW5kb3cpLCAkKCIucmVzb3VyY2Utc2VhcmNoLWJhciIpLm9uKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCksICExOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0KGUsIHQpIHsKICAgIENQLlNldHRpbmdzRXZlbnRzLl9jYW5Ecml2ZSAmJiAobigpLCBwLnNlbGVjdFNldHRpbmdzVGFiKHQuZGF0YSgidHlwZSIpKSk7CiAgfQoKICBmdW5jdGlvbiBuKCkgewogICAgQ1AuU2V0dGluZ3NFdmVudHMuX2NhbkRyaXZlICYmIHAudG9nZ2xlU2V0dGluZ3NQYW5lKCk7CiAgfQoKICBmdW5jdGlvbiBzKCkgewogICAgbigpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgJCgiI2l0ZW0tZGV0YWlscy1kZXNjcmlwdGlvbiIpLmZvY3VzKCk7CiAgICB9LCA2MDApOwogIH0KCiAgZnVuY3Rpb24gaSgpIHsKICAgIG4oKSwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICQoIiNwZW4tdGFncyIpLmZvY3VzKCksICQoIiNwcm9qZWN0LXRhZ3MiKS5mb2N1cygpOwogICAgfSwgNjAwKTsKICB9CgogIGZ1bmN0aW9uIG8oZSkgewogICAgaWYgKENQLlNldHRpbmdzRXZlbnRzLl9jYW5Ecml2ZSkgewogICAgICB2YXIgdCA9ICQoZS50YXJnZXQpLmRhdGEoInR5cGUiKTsKICAgICAgdCAmJiBwLnNlbGVjdFNldHRpbmdzVGFiKHQpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcihlKSB7CiAgICBpZiAodi5sZW5ndGgpIHsKICAgICAgdmFyIHQgPSB2WzBdLmNvbnRhaW5zKGUudGFyZ2V0KTsKICAgICAgJCgiI2VkaXQtc2V0dGluZ3MiKS5sZW5ndGggJiAhdCAmJiAodCA9ICQoIiNlZGl0LXNldHRpbmdzIilbMF0uY29udGFpbnMoZS50YXJnZXQpKSwgdCB8fCBwLmhpZGVTZXR0aW5nc1BhbmUoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGEoKSB7CiAgICBDUC5TZXR0aW5nc0V2ZW50cy5fY2FuRHJpdmUgJiYgcC5oaWRlU2V0dGluZ3NQYW5lKCk7CiAgfQoKICBmdW5jdGlvbiBjKCkgewogICAgSHViLnN1Yigia2V5IiwgbCksIEh1Yi5zdWIoInBlbi1zYXZlZCIsIGQpLCBIdWIuc3ViKCJzZXJ2ZXItdWktY2hhbmdlIiwgdSksIEh1Yi5zdWIoInBvcHVwLW9wZW4iLCBoKTsKICB9CgogIGZ1bmN0aW9uIHUoZSwgdCkgewogICAgKE9iamVjdFV0aWwuaGFzTmVzdGVkVmFsdWUodCwgInVpLnNldHRpbmdzLnBhbmUiKSB8fCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJ1aS5zZXR0aW5ncy50YWIiKSkgJiYgcC5zeW5jV2l0aFNlcnZlcih0KTsKICB9CgogIGZ1bmN0aW9uIGQoKSB7CiAgICBwLmhpZGVTZXR0aW5nc1BhbmUoKTsKICB9CgogIGZ1bmN0aW9uIGwoZSwgdCkgewogICAgImVzYyIgPT09IHQua2V5ICYmIHAuaGlkZVNldHRpbmdzUGFuZSgpOwogIH0KCiAgZnVuY3Rpb24gaChlLCB0KSB7CiAgICB0ICE9PSBwLnBvcHVwTmFtZSAmJiBwLmhpZGVTZXR0aW5nc1BhbmUoKTsKICB9CgogIHZhciBwLAogICAgICBmID0gJCgiYnV0dG9uLnNldHRpbmdzLW51YiIpLAogICAgICBnID0gJCgiI3NldHRpbmdzLXRhYnMiKSwKICAgICAgbSA9ICQoIiNjbG9zZS1zZXR0aW5ncyIpLAogICAgICBiID0gJCgiI3BvcHVwLW92ZXJsYXkiKSwKICAgICAgdiA9ICQoIiNpdGVtLXNldHRpbmdzLW1vZGFsIiksCiAgICAgIEMgPSAkKCIuZWRpdC1kZXRhaWxzLXJlbWluZGVyIiksCiAgICAgIHkgPSAkKCIuZWRpdC10YWdzLXJlbWluZGVyIik7CiAgQ1AuU2V0dGluZ3NFdmVudHMgPSB7fSwgXy5leHRlbmQoQ1AuU2V0dGluZ3NFdmVudHMsIEVuYWJsZURpc2FibGVEcml2ZXIpLCBDUC5TZXR0aW5nc0V2ZW50cy5fZ2V0QWxsVUlFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBbZiwgJCgiI2VkaXQtc2V0dGluZ3MiKSwgZywgYiwgbV07CiAgfSwgQ1AuU2V0dGluZ3NFdmVudHMuaW5pdCA9IGZ1bmN0aW9uICh0KSB7CiAgICBwID0gdCwgdGhpcy5iaW5kVG9FbmFibGVEaXNhYmxlSHViRXZlbnRzKCksIGUoKSwgYygpOwogIH07Cn0oKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoKSB7CiAgICBIdWIucHViKCJ1aS1jaGFuZ2UiLCBDUC5TZXR0aW5nc01vZGVsLmdldFN0YXRlKCkpOwogIH0KCiAgZnVuY3Rpb24gdCh0KSB7CiAgICBDUC51aSAmJiBDUC51aS5zZXR0aW5ncy5wYW5lICE9PSB0ICYmIChDUC51aS5zZXR0aW5ncy5wYW5lID0gdCwgZSgpLCAib3BlbiIgPT09IHQgJiYgSHViLnB1YigicG9wdXAtb3BlbiIsIG4ucG9wdXBOYW1lKSk7CiAgfQoKICB2YXIgbjsKICBDUC5TZXR0aW5nc01vZGVsID0gewogICAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICAgIG4gPSBlOwogICAgfSwKICAgIHN5bmNXaXRoU2VydmVyOiBmdW5jdGlvbiBzeW5jV2l0aFNlcnZlcih0KSB7CiAgICAgIENQLnVpLnNldHRpbmdzLnRhYiA9IHQudWkuc2V0dGluZ3MudGFiLCBDUC51aS5zZXR0aW5ncy5wYW5lID0gdC51aS5zZXR0aW5ncy5wYW5lLCBlKCk7CiAgICB9LAogICAgdG9nZ2xlU2V0dGluZ3NQYW5lOiBmdW5jdGlvbiB0b2dnbGVTZXR0aW5nc1BhbmUoKSB7CiAgICAgIHQodGhpcy5zZXR0aW5nc1BhbmVWaXNpYmxlKCkgPyAiY2xvc2VkIiA6ICJvcGVuIik7CiAgICB9LAogICAgaGlkZVNldHRpbmdzUGFuZTogZnVuY3Rpb24gaGlkZVNldHRpbmdzUGFuZSgpIHsKICAgICAgdCgiY2xvc2VkIik7CiAgICB9LAogICAgb3BlblNldHRpbmdzUGFuZTogZnVuY3Rpb24gb3BlblNldHRpbmdzUGFuZSgpIHsKICAgICAgdCgib3BlbiIpOwogICAgfSwKICAgIHNlbGVjdFNldHRpbmdzVGFiOiBmdW5jdGlvbiBzZWxlY3RTZXR0aW5nc1RhYih0KSB7CiAgICAgIENQLnVpLnNldHRpbmdzLnRhYiA9IHQsIGUoKTsKICAgIH0sCiAgICBnZXRTdGF0ZTogZnVuY3Rpb24gZ2V0U3RhdGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdWk6IHsKICAgICAgICAgIHNldHRpbmdzOiB7CiAgICAgICAgICAgIHBhbmU6IENQLnVpLnNldHRpbmdzLnBhbmUsCiAgICAgICAgICAgIHRhYjogQ1AudWkuc2V0dGluZ3MudGFiCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIHNldHRpbmdzUGFuZVZpc2libGU6IGZ1bmN0aW9uIHNldHRpbmdzUGFuZVZpc2libGUoKSB7CiAgICAgIHJldHVybiAib3BlbiIgPT09IENQLnVpLnNldHRpbmdzLnBhbmU7CiAgICB9CiAgfTsKfSgpLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIEh1Yi5zdWIoInVpLWNoYW5nZSIsIHQpOwogIH0KCiAgZnVuY3Rpb24gdChlLCB0KSB7CiAgICBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJ1aS5zZXR0aW5ncy5wYW5lIikgJiYgbih0LnVpLnNldHRpbmdzLnBhbmUpLCBPYmplY3RVdGlsLmhhc05lc3RlZFZhbHVlKHQsICJ1aS5zZXR0aW5ncy50YWIiKSAmJiAoImRldGFpbHMiID09PSB0LnVpLnNldHRpbmdzLnRhYiAmJiAwID09PSAkKCIuc2V0dGluZ3MtdGFiLWRldGFpbHMiKS5sZW5ndGggJiYgKHQudWkuc2V0dGluZ3MudGFiID0gImh0bWwiKSwgcih0LnVpLnNldHRpbmdzKSk7CiAgfQoKICBmdW5jdGlvbiBuKGUpIHsKICAgICJvcGVuIiA9PT0gZSA/IHMoKSA6IGkoKTsKICB9CgogIGZ1bmN0aW9uIHMoKSB7CiAgICBhIHx8IChjLmFkZENsYXNzKCJvcGVuIiksIENQLnNob3dQb3B1cE92ZXJsYXkoKSwgbygpLCBhID0gITApOwogIH0KCiAgZnVuY3Rpb24gaSgpIHsKICAgIGEgJiYgKGMucmVtb3ZlQ2xhc3MoIm9wZW4iKSwgQ1AuaGlkZVBvcHVwT3ZlcmxheSgpLCBhID0gITEpOwogIH0KCiAgZnVuY3Rpb24gbygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBsLmZvY3VzKCk7CiAgICB9LCA1MDApOwogIH0KCiAgZnVuY3Rpb24gcihlKSB7CiAgICB1LnJlbW92ZUNsYXNzKCJhY3RpdmUiKSwgZC5yZW1vdmVDbGFzcygiYWN0aXZlIiksICQoIiNzZXR0aW5ncy0iICsgZS50YWIgKyAiLXRhYiIpLmFkZENsYXNzKCJhY3RpdmUiKSwgJCgiI3NldHRpbmdzLSIgKyBlLnRhYikuYWRkQ2xhc3MoImFjdGl2ZSIpOwogIH0KCiAgdmFyIGEgPSAhMSwKICAgICAgYyA9ICQoIiNpdGVtLXNldHRpbmdzLW1vZGFsIiksCiAgICAgIHUgPSAkKCIjc2V0dGluZ3MtdGFicyBhIiksCiAgICAgIGQgPSAkKCJkaXYuc2V0dGluZ3MiKSwKICAgICAgbCA9ICQoIiNpdGVtLWRldGFpbHMtdGl0bGUiKTsKICBDUC5TZXR0aW5nc1ZpZXcgPSB7fSwgQ1AuU2V0dGluZ3NWaWV3LmluaXQgPSBmdW5jdGlvbiAobikgewogICAgdChudWxsLCBuLmdldFN0YXRlKCkpLCBlKCk7CiAgfTsKfSgpLCB3aW5kb3cuUGVuVGFnc0NvbnRyb2xsZXIgPSBDbGFzcy5leHRlbmQoewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLm1vZGVsID0gbmV3IFBlblRhZ3NNb2RlbCgpLCB0aGlzLmV2ZW50cyA9IG5ldyBQZW5UYWdzRXZlbnRzKHRoaXMpLCB0aGlzLnZpZXcgPSBuZXcgUGVuVGFnc1ZpZXcodGhpcy5tb2RlbCk7CiAgfSwKICBhZGROZXdUYWdzOiBmdW5jdGlvbiBhZGROZXdUYWdzKGUpIHsKICAgIHRoaXMubW9kZWwuYWRkTmV3VGFncyhlKTsKICB9LAogIGRlbGV0ZVRhZzogZnVuY3Rpb24gZGVsZXRlVGFnKGUpIHsKICAgIHRoaXMubW9kZWwuZGVsZXRlVGFnKGUpOwogIH0KfSksIHdpbmRvdy5QZW5UYWdzRXZlbnRzID0gQ2xhc3MuZXh0ZW5kKHsKICAkYm9keTogJCgiYm9keSIpLAogICRwZW5UYWdzOiAkKCIjcGVuLXRhZ3MiKSwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMuY29udHJvbGxlciA9IGUsIHRoaXMuX2JpbmRUb0RPTSgpOwogIH0sCiAgX2JpbmRUb0RPTTogZnVuY3Rpb24gX2JpbmRUb0RPTSgpIHsKICAgIHRoaXMuJGJvZHkub24oImNsaWNrIiwgIiNhY3RpdmUtdGFncyBzcGFuIHNwYW4udGFnLXgiLCAkLnByb3h5KHRoaXMuX2hhbmRsZVRhZ0RlbGV0ZSwgdGhpcykpLCB0aGlzLiRwZW5UYWdzLl9vbigia2V5dXAiLCB0aGlzLl9vblRhZ0NoYW5nZSwgdGhpcyk7CiAgfSwKICBfb25UYWdDaGFuZ2U6IGZ1bmN0aW9uIF9vblRhZ0NoYW5nZSgpIHsKICAgIHRoaXMuY29udHJvbGxlci5hZGROZXdUYWdzKHRoaXMuJHBlblRhZ3MudmFsKCkpOwogIH0sCiAgX2hhbmRsZVRhZ0RlbGV0ZTogZnVuY3Rpb24gX2hhbmRsZVRhZ0RlbGV0ZShlKSB7CiAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmNvbnRyb2xsZXIuZGVsZXRlVGFnKHRoaXMuX2dldFRhZ1RvRGVsZXRlKGUpKSwgITE7CiAgfSwKICBfZ2V0VGFnVG9EZWxldGU6IGZ1bmN0aW9uIF9nZXRUYWdUb0RlbGV0ZShlKSB7CiAgICB2YXIgdCA9ICQoZS50YXJnZXQpOwogICAgcmV0dXJuICQudHJpbSh0Lm5leHQoKS5odG1sKCkpOwogIH0KfSksIHdpbmRvdy5QZW5UYWdzTW9kZWwgPSBDbGFzcy5leHRlbmQoewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7fSwKICBnZXRUYWdzOiBmdW5jdGlvbiBnZXRUYWdzKCkgewogICAgcmV0dXJuIENQLnBlbi5nZXRUYWdzKCk7CiAgfSwKICBhZGROZXdUYWdzOiBmdW5jdGlvbiBhZGROZXdUYWdzKGUpIHsKICAgIENQLml0ZW0uc2V0SXRlbVZhbHVlKHsKICAgICAgb3JpZ2luOiAiY2xpZW50IiwKICAgICAgcGVuOiB7CiAgICAgICAgbmV3VGFnczogdGhpcy5fdmFsaWROZXdUYWdzKGUpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgX3ZhbGlkTmV3VGFnczogZnVuY3Rpb24gX3ZhbGlkTmV3VGFncyhlKSB7CiAgICByZXR1cm4gXy51bmlxKF8ubWFwKGUuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIF9zdHJpcEhUTUxUYWdzKCQudHJpbShlKS50b0xvd2VyQ2FzZSgpKS5yZXBsYWNlKC8oJnwjKS9nLCAiIik7CiAgICB9KSk7CiAgfSwKICBkZWxldGVUYWc6IGZ1bmN0aW9uIGRlbGV0ZVRhZyhlKSB7CiAgICBDUC5pdGVtLnNldEl0ZW1WYWx1ZSh7CiAgICAgIG9yaWdpbjogImNsaWVudCIsCiAgICAgIGFjdGlvbjogImRlbGV0ZS10YWciLAogICAgICBwZW46IHsKICAgICAgICB0YWdzOiBfLndpdGhvdXQoQ1AucGVuLnRhZ3MsIGUpCiAgICAgIH0KICAgIH0pLCBDUC5pdGVtLnNldEl0ZW1WYWx1ZSh7CiAgICAgIG9yaWdpbjogImNsaWVudCIsCiAgICAgIGFjdGlvbjogImRlbGV0ZS10YWciLAogICAgICBwZW46IHsKICAgICAgICBuZXdUYWdzOiBfLndpdGhvdXQoQ1AucGVuLm5ld1RhZ3MsIGUpCiAgICAgIH0KICAgIH0pOwogIH0KfSksIHdpbmRvdy5QZW5UYWdzVmlldyA9IENsYXNzLmV4dGVuZCh7CiAgTUFYX1RBR1M6IDUsCiAgJGFjdGl2ZVRhZ3M6ICQoIiNhY3RpdmUtdGFncyIpLAogICRtYXhUYWdzTGFiZWw6ICQoIiNtYXgtdGFncy1sYWJlbCIpLAogICRwZW5UYWdzOiAkKCIjcGVuLXRhZ3MiKSwKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIHRoaXMubW9kZWwgPSBlLCB0aGlzLl9pbml0aWF0ZVZpZXcoKSwgdGhpcy5fYmluZFRvSHViKCk7CiAgfSwKICBfaW5pdGlhdGVWaWV3OiBmdW5jdGlvbiBfaW5pdGlhdGVWaWV3KCkgewogICAgdGhpcy5fdXBkYXRlQWN0aXZlVGFnc0hUTUwodGhpcy5tb2RlbC5nZXRUYWdzKCkpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIEh1Yi5zdWIoInBlbi1jaGFuZ2UiLCAkLnByb3h5KHRoaXMuX29uUGVuQ2hhbmdlLCB0aGlzKSksIEh1Yi5zdWIoInBlbi1zYXZlZCIsICQucHJveHkodGhpcy5fb25QZW5TYXZlZCwgdGhpcykpOwogIH0sCiAgX29uUGVuU2F2ZWQ6IGZ1bmN0aW9uIF9vblBlblNhdmVkKCkgewogICAgdGhpcy4kcGVuVGFncy52YWwoIiIpOwogIH0sCiAgX29uUGVuQ2hhbmdlOiBmdW5jdGlvbiBfb25QZW5DaGFuZ2UoZSwgdCkgewogICAgInBlbiIgaW4gdCAmJiAoInRhZ3MiIGluIHQucGVuICYmIHRoaXMuX3VwZGF0ZUFjdGl2ZVRhZ3NIVE1MKHRoaXMubW9kZWwuZ2V0VGFncygpKSwgIm5ld1RhZ3MiIGluIHQucGVuICYmICh0aGlzLl91cGRhdGVQZW5UYWdzVmFsKHQpLCB0aGlzLl91cGRhdGVBY3RpdmVUYWdzSFRNTCh0aGlzLm1vZGVsLmdldFRhZ3MoKSkpKTsKICB9LAogIF91cGRhdGVBY3RpdmVUYWdzSFRNTDogZnVuY3Rpb24gX3VwZGF0ZUFjdGl2ZVRhZ3NIVE1MKGUpIHsKICAgIHRoaXMuJGFjdGl2ZVRhZ3MuaHRtbCh0aGlzLl9nZXRUYWdzSFRNTChlKSksIHRoaXMuX3dhcm5BYm91dFRvb01hbnlUYWdzKGUpOwogIH0sCiAgX2dldFRhZ3NIVE1MOiBmdW5jdGlvbiBfZ2V0VGFnc0hUTUwoZSkgewogICAgZm9yICh2YXIgdCA9ICIiLCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHsKICAgICAgZVtuXSAmJiAodCArPSAiPHNwYW4gY2xhc3M9J3RhZyc+IiwgdCArPSAiPHNwYW4gY2xhc3M9J3RhZy14JyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7Jz4iLCB0ICs9ICI8c3BhbiBjbGFzcz0ndGFnLXgnPlx4ZDc8L3NwYW4+Jm5ic3A7IiwgdCArPSAiPHNwYW4gY2xhc3M9J3RhZy1uYW1lJz4iICsgZVtuXSArICI8L3NwYW4+ICIsIHQgKz0gIjwvc3Bhbj4gIiwgdCArPSAiPC9zcGFuPiIpOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sCiAgX3VwZGF0ZVBlblRhZ3NWYWw6IGZ1bmN0aW9uIF91cGRhdGVQZW5UYWdzVmFsKGUpIHsKICAgICJkZWxldGUtdGFnIiA9PT0gZS5hY3Rpb24gJiYgdGhpcy4kcGVuVGFncy52YWwoZS5wZW4ubmV3VGFncy5qb2luKCIsIikpOwogIH0sCiAgX3dhcm5BYm91dFRvb01hbnlUYWdzOiBmdW5jdGlvbiBfd2FybkFib3V0VG9vTWFueVRhZ3MoZSkgewogICAgZS5sZW5ndGggPj0gdGhpcy5NQVhfVEFHUyA/IHRoaXMuJG1heFRhZ3NMYWJlbC5hZGRDbGFzcygiYXQtY2FwYWNpdHkiKSA6IHRoaXMuJG1heFRhZ3NMYWJlbC5yZW1vdmVDbGFzcygiYXQtY2FwYWNpdHkiKTsKICB9Cn0pLCB3aW5kb3cuUHJvamVjdFRhZ3NDb250cm9sbGVyID0gQ2xhc3MuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgdGhpcy5tb2RlbCA9IG5ldyBQcm9qZWN0VGFnc01vZGVsKCksIHRoaXMuZXZlbnRzID0gbmV3IFByb2plY3RUYWdzRXZlbnRzKHRoaXMpLCB0aGlzLnZpZXcgPSBuZXcgUHJvamVjdFRhZ3NWaWV3KHRoaXMubW9kZWwpOwogIH0sCiAgYWRkTmV3VGFnczogZnVuY3Rpb24gYWRkTmV3VGFncyhlKSB7CiAgICB0aGlzLm1vZGVsLmFkZE5ld1RhZ3MoZSksIHRoaXMudmlldy51cGRhdGVUYWdzKCk7CiAgfSwKICBkZWxldGVUYWc6IGZ1bmN0aW9uIGRlbGV0ZVRhZyhlKSB7CiAgICB0aGlzLm1vZGVsLmRlbGV0ZVRhZyhlKTsKICB9Cn0pLCB3aW5kb3cuUHJvamVjdFRhZ3NFdmVudHMgPSBDbGFzcy5leHRlbmQoewogICRib2R5OiAkKCJib2R5IiksCiAgJHByb2plY3RUYWdzOiAkKCIjcHJvamVjdC10YWdzIiksCiAgaW5pdDogZnVuY3Rpb24gaW5pdChlKSB7CiAgICB0aGlzLmNvbnRyb2xsZXIgPSBlLCB0aGlzLl9iaW5kVG9ET00oKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICB0aGlzLiRib2R5Lm9uKCJjbGljayIsICIjYWN0aXZlLXRhZ3Mgc3BhbiBzcGFuLnRhZy14IiwgJC5wcm94eSh0aGlzLl9oYW5kbGVUYWdEZWxldGUsIHRoaXMpKSwgdGhpcy4kcHJvamVjdFRhZ3MuX29uKCJrZXl1cCIsIHRoaXMuX29uVGFnQ2hhbmdlLCB0aGlzKTsKICB9LAogIF9vblRhZ0NoYW5nZTogZnVuY3Rpb24gX29uVGFnQ2hhbmdlKCkgewogICAgdGhpcy5jb250cm9sbGVyLmFkZE5ld1RhZ3ModGhpcy4kcHJvamVjdFRhZ3MudmFsKCkpOwogIH0sCiAgX2hhbmRsZVRhZ0RlbGV0ZTogZnVuY3Rpb24gX2hhbmRsZVRhZ0RlbGV0ZShlKSB7CiAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmNvbnRyb2xsZXIuZGVsZXRlVGFnKHRoaXMuX2dldFRhZ1RvRGVsZXRlKGUpKSwgITE7CiAgfSwKICBfZ2V0VGFnVG9EZWxldGU6IGZ1bmN0aW9uIF9nZXRUYWdUb0RlbGV0ZShlKSB7CiAgICB2YXIgdCA9ICQoZS50YXJnZXQpOwogICAgcmV0dXJuICQudHJpbSh0Lm5leHQoKS5odG1sKCkpOwogIH0KfSksIHdpbmRvdy5Qcm9qZWN0VGFnc01vZGVsID0gQ2xhc3MuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KCkge30sCiAgZ2V0VGFnczogZnVuY3Rpb24gZ2V0VGFncygpIHsKICAgIHJldHVybiBDUC5pdGVtLmdldFRhZ3MoKTsKICB9LAogIGFkZE5ld1RhZ3M6IGZ1bmN0aW9uIGFkZE5ld1RhZ3MoZSkgewogICAgQ1AuaXRlbS5zZXRJdGVtVmFsdWUoewogICAgICBvcmlnaW46ICJjbGllbnQiLAogICAgICBpdGVtOiB7CiAgICAgICAgbmV3VGFnczogdGhpcy5fdmFsaWROZXdUYWdzKGUpCiAgICAgIH0KICAgIH0pOwogIH0sCiAgX3ZhbGlkTmV3VGFnczogZnVuY3Rpb24gX3ZhbGlkTmV3VGFncyhlKSB7CiAgICByZXR1cm4gXy51bmlxKF8ubWFwKGUuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIF9zdHJpcEhUTUxUYWdzKCQudHJpbShlKS50b0xvd2VyQ2FzZSgpKS5yZXBsYWNlKCImIiwgIiIpOwogICAgfSkpOwogIH0sCiAgZGVsZXRlVGFnOiBmdW5jdGlvbiBkZWxldGVUYWcoZSkgewogICAgQ1AuaXRlbS5zZXRJdGVtVmFsdWUoewogICAgICBvcmlnaW46ICJjbGllbnQiLAogICAgICBhY3Rpb246ICJkZWxldGUtdGFnIiwKICAgICAgaXRlbTogewogICAgICAgIHRhZ3M6IF8ud2l0aG91dChDUC5pdGVtLnRhZ3MsIGUpCiAgICAgIH0KICAgIH0pLCBDUC5pdGVtLnNldEl0ZW1WYWx1ZSh7CiAgICAgIG9yaWdpbjogImNsaWVudCIsCiAgICAgIGFjdGlvbjogImRlbGV0ZS10YWciLAogICAgICBpdGVtOiB7CiAgICAgICAgbmV3VGFnczogXy53aXRob3V0KENQLml0ZW0ubmV3VGFncywgZSkKICAgICAgfQogICAgfSk7CiAgfQp9KSwgd2luZG93LlByb2plY3RUYWdzVmlldyA9IENsYXNzLmV4dGVuZCh7CiAgTUFYX1RBR1M6IDUsCiAgJGFjdGl2ZVRhZ3M6ICQoIiNhY3RpdmUtdGFncyIpLAogICRtYXhUYWdzTGFiZWw6ICQoIiNtYXgtdGFncy1sYWJlbCIpLAogICRwcm9qZWN0VGFnczogJCgiI3Byb2plY3QtdGFncyIpLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSkgewogICAgdGhpcy5tb2RlbCA9IGUsIHRoaXMuX2luaXRpYXRlVmlldygpOwogIH0sCiAgX2luaXRpYXRlVmlldzogZnVuY3Rpb24gX2luaXRpYXRlVmlldygpIHsKICAgIHRoaXMuX3VwZGF0ZUFjdGl2ZVRhZ3NIVE1MKHRoaXMubW9kZWwuZ2V0VGFncygpKTsKICB9LAogIF9vblByb2plY3RTYXZlZDogZnVuY3Rpb24gX29uUHJvamVjdFNhdmVkKCkgewogICAgdGhpcy4kcHJvamVjdFRhZ3MudmFsKCIiKTsKICB9LAogIHVwZGF0ZVRhZ3M6IGZ1bmN0aW9uIHVwZGF0ZVRhZ3MoKSB7CiAgICB0aGlzLl91cGRhdGVBY3RpdmVUYWdzSFRNTCh0aGlzLm1vZGVsLmdldFRhZ3MoKSksIHRoaXMuX3VwZGF0ZVByb2plY3RUYWdzVmFsKENQLml0ZW0ubmV3VGFncyksIHRoaXMuX3VwZGF0ZUFjdGl2ZVRhZ3NIVE1MKHRoaXMubW9kZWwuZ2V0VGFncygpKTsKICB9LAogIF91cGRhdGVBY3RpdmVUYWdzSFRNTDogZnVuY3Rpb24gX3VwZGF0ZUFjdGl2ZVRhZ3NIVE1MKGUpIHsKICAgIHRoaXMuJGFjdGl2ZVRhZ3MuaHRtbCh0aGlzLl9nZXRUYWdzSFRNTChlKSksIHRoaXMuX3dhcm5BYm91dFRvb01hbnlUYWdzKGUpOwogIH0sCiAgX2dldFRhZ3NIVE1MOiBmdW5jdGlvbiBfZ2V0VGFnc0hUTUwoZSkgewogICAgZm9yICh2YXIgdCA9ICIiLCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHsKICAgICAgZVtuXSAmJiAodCArPSAnPHNwYW4gY2xhc3M9InRhZyI+JywgdCArPSAnPHNwYW4gY2xhc3M9InRhZy14IiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7Ij4nLCB0ICs9ICc8c3BhbiBjbGFzcz0idGFnLXgiPlx4ZDc8L3NwYW4+Jm5ic3A7JywgdCArPSAnPHNwYW4gY2xhc3M9InRhZy1uYW1lIj4nICsgZVtuXSArICI8L3NwYW4+ICIsIHQgKz0gIjwvc3Bhbj4gIiwgdCArPSAiPC9zcGFuPiIpOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sCiAgX3VwZGF0ZVByb2plY3RUYWdzVmFsOiBmdW5jdGlvbiBfdXBkYXRlUHJvamVjdFRhZ3NWYWwoZSkgewogICAgImRlbGV0ZS10YWciID09PSBlLmFjdGlvbiAmJiB0aGlzLiRwcm9qZWN0VGFncy52YWwoZS5wcm9qZWN0Lm5ld1RhZ3Muam9pbigiLCIpKTsKICB9LAogIF93YXJuQWJvdXRUb29NYW55VGFnczogZnVuY3Rpb24gX3dhcm5BYm91dFRvb01hbnlUYWdzKGUpIHsKICAgIGUubGVuZ3RoID49IHRoaXMuTUFYX1RBR1MgPyB0aGlzLiRtYXhUYWdzTGFiZWwuYWRkQ2xhc3MoImF0LWNhcGFjaXR5IikgOiB0aGlzLiRtYXhUYWdzTGFiZWwucmVtb3ZlQ2xhc3MoImF0LWNhcGFjaXR5Iik7CiAgfQp9KSwgd2luZG93LlNoYXJlR2lzdCA9IENsYXNzLmV4dGVuZCh7CiAgV0FJVElOR19NU0dfVElNRU9VVDogMWU0LAogIEdJU1RfTVNHX1RJTUVPVVQ6IDdlMywKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIF8uZXh0ZW5kKHRoaXMsIEFKQVhVdGlsKSwgdGhpcy5fc2hhcmVWaWV3ID0gZSwgdGhpcy5fYmluZFRvRE9NKCk7CiAgfSwKICBfYmluZFRvRE9NOiBmdW5jdGlvbiBfYmluZFRvRE9NKCkgewogICAgJCgiYm9keSIpLm9uKCJjbGljayIsICIjc2hhcmUtZ2lzdCIsICQucHJveHkodGhpcy5fY3JlYXRlR2lzdCwgdGhpcykpOwogIH0sCiAgX2NyZWF0ZUdpc3Q6IGZ1bmN0aW9uIF9jcmVhdGVHaXN0KCkgewogICAgJC5zaG93TWVzc2FnZShDb3B5LndhaXRpbmdGb3JHaXN0LCB0aGlzLldBSVRJTkdfTVNHX1RJTUVPVVQpLCB0aGlzLnBvc3QoIi9zaGFyZS9naXN0Lmpzb24iLCB7CiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KENQLnBlbikKICAgIH0sIHRoaXMuX2RvbmVDcmVhdGVHaXN0KTsKICB9LAogIF9kb25lQ3JlYXRlR2lzdDogZnVuY3Rpb24gX2RvbmVDcmVhdGVHaXN0KGUpIHsKICAgIGlmIChlLnJlYXV0aCAmJiAkLnNob3dNb2RhbCgiL2FqYXgvcmVhdXRoZW50aWNhdGVfZ2l0aHViIiwgIm1vZGFsLWVycm9yIiwgZnVuY3Rpb24gKCkgewogICAgICAkKCIjY2FuY2VsLXJlYXV0aCIpLl9vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgJC5oaWRlTW9kYWwoKTsKICAgICAgfSk7CiAgICB9KSwgZS51cmwpIHsKICAgICAgdmFyIHQgPSBfLnRlbXBsYXRlKENvcHkuZ2lzdENyZWF0ZWQsIHsKICAgICAgICB1cmw6IGUudXJsCiAgICAgIH0pOwoKICAgICAgJC5zaG93TWVzc2FnZSh0LCB0aGlzLkdJU1RfTVNHX1RJTUVPVVQpLCB3aW5kb3cub3BlbihlLnVybCk7CiAgICB9CiAgfQp9KSwgd2luZG93LlNoYXJlU01TID0gQ2xhc3MuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIF8uZXh0ZW5kKHRoaXMsIEFKQVhVdGlsKSwgdGhpcy5fc2hhcmVWaWV3ID0gZSwgdGhpcy5fYmluZFRvRE9NKCksIHRoaXMuX2xvYWRTTVNQaG9uZU51bWJlckZyb21Db29raWUoKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICAkKCJib2R5Iikub24oInN1Ym1pdCIsICIjc2VuZC10by1waG9uZS1mb3JtIiwgJC5wcm94eSh0aGlzLnNlbmRTTVMsIHRoaXMpKTsKICB9LAogIF9sb2FkU01TUGhvbmVOdW1iZXJGcm9tQ29va2llOiBmdW5jdGlvbiBfbG9hZFNNU1Bob25lTnVtYmVyRnJvbUNvb2tpZSgpIHsKICAgICQuY29va2llKCJzbXNfcGhvbmVfbnVtYmVyIikgJiYgJCgiI3NlbmQtdG8tcGhvbmUiKS52YWwoJC5jb29raWUoInNtc19waG9uZV9udW1iZXIiKSk7CiAgfSwKICBzZW5kU01TOiBmdW5jdGlvbiBzZW5kU01TKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKSwgJCgiI3Ntcy1zZW5kLWJ1dHRvbiIpLnByb3AoImRpc2FibGVkIiwgITApOwogICAgdmFyIHQgPSB7CiAgICAgIHBob25lX251bWJlcjogJCgiI3NlbmQtdG8tcGhvbmUiKS52YWwoKSwKICAgICAgaXRlbV90eXBlOiAicGVuIiwKICAgICAgaXRlbV9pZDogQ1AucGVuLmdldEFjdGl2ZVNsdWdIYXNoKCkKICAgIH07CiAgICB0aGlzLnBvc3QoIi9zaGFyZS9zbXMvIiwgdCwgdGhpcy5fZG9uZVNlbmRTTVMsIHRoaXMuX2ZhaWxlZFNlbmRTTVMpOwogIH0sCiAgX2RvbmVTZW5kU01TOiBmdW5jdGlvbiBfZG9uZVNlbmRTTVMoZSkgewogICAgdGhpcy5fY2xlYXJTTVNFcnJvcnMoKSwgdGhpcy5fc2V0U01TUGhvbmVOdW1iZXJDb29raWUoZSksICQoIiNzbXMtc2VuZC1idXR0b24iKS5wcm9wKCJkaXNhYmxlZCIsICExKSwgJCgiI3RleHRzLWxlZnQiKS5odG1sKGUuc21zX2xlZnQpLCAkLnNob3dNZXNzYWdlKF8udGVtcGxhdGUoQ29weS5zbXNTZW50VG8sIHsKICAgICAgcGhvbmVfbnVtYmVyOiBlLnBob25lX251bWJlcgogICAgfSksICJzbG93Iik7CiAgfSwKICBfc2V0U01TUGhvbmVOdW1iZXJDb29raWU6IGZ1bmN0aW9uIF9zZXRTTVNQaG9uZU51bWJlckNvb2tpZShlKSB7CiAgICB2YXIgdCA9IHsKICAgICAgZXhwaXJlczogMzAsCiAgICAgIGRvbWFpbjogZG9jdW1lbnQubG9jYXRpb24uaG9zdCwKICAgICAgcGF0aDogIi8iCiAgICB9OwogICAgJC5jb29raWUoInNtc19waG9uZV9udW1iZXIiLCBlLnBob25lX251bWJlciwgdCk7CiAgfSwKICBfZmFpbGVkU2VuZFNNUzogZnVuY3Rpb24gX2ZhaWxlZFNlbmRTTVMoZSkgewogICAgdGhpcy5fY2xlYXJTTVNFcnJvcnMoKSwgJCgiI3Ntcy1zZW5kLWJ1dHRvbiIpLnByb3AoImRpc2FibGVkIiwgITEpLCAkKCIjc21zLXBob25lIikuYWRkQ2xhc3MoImVycm9yIiksICQoIiNzbXMtcGhvbmUiKS5hcHBlbmQodGhpcy5fZ2V0RXJyb3JzSFRNTChlKSk7CiAgfSwKICBfZ2V0RXJyb3JzSFRNTDogZnVuY3Rpb24gX2dldEVycm9yc0hUTUwoZSkgewogICAgdmFyIHQgPSAiIjsKCiAgICBmb3IgKHZhciBuIGluIGUuZXJyb3JzKSB7CiAgICAgIHQgKz0gIjxkaXYgY2xhc3M9J2Vycm9yLW1lc3NhZ2UnPiIgKyBlLmVycm9yc1tuXSArICI8L2Rpdj4iOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sCiAgX2NsZWFyU01TRXJyb3JzOiBmdW5jdGlvbiBfY2xlYXJTTVNFcnJvcnMoKSB7CiAgICAkKCIjc21zLXBob25lIikucmVtb3ZlQ2xhc3MoImVycm9yIiksICQoIi5lcnJvci1tZXNzYWdlIikucmVtb3ZlKCk7CiAgfQp9KSwgd2luZG93LlNoYXJlVmlldyA9IENsYXNzLmV4dGVuZCh7CiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHRoaXMuc2hhcmVTTVMgPSBuZXcgU2hhcmVTTVModGhpcyksIHRoaXMuc2hhcmVHaXN0ID0gbmV3IFNoYXJlR2lzdCh0aGlzKTsKICB9Cn0pLCBmdW5jdGlvbiAoKSB7CiAgdmFyIGUgPSBhbGdvbGlhc2VhcmNoKCJPRkNOQ09HMkNVIiwgIjhkNzUyMjM5NTVkNWUwZDZjNWQxYmNkY2Q4NmFmYWFiIiksCiAgICAgIHQgPSBhbGdvbGlhc2VhcmNoKCIyUVdMVkxYWkI2IiwgIjI2NjNjNzMwMTRkMmU0ZDZkMTc3OGNjOGFkOWZkMDEwIiksCiAgICAgIG4gPSBhbGdvbGlhc2VhcmNoKCJaQlg1OE5ZOVU5IiwgIjZhNDdjZjIyYzg0NzJlMjg4MTE0NzcxNGIxZGUyOGZhIik7CiAgd2luZG93LmFsZ29saWEgPSB7CiAgICBjZG5KU0luZGV4OiB0LmluaXRJbmRleCgibGlicmFyaWVzIiksCiAgICBucG1JbmRleDogZS5pbml0SW5kZXgoIm5wbS1zZWFyY2giKSwKICAgIGNkbkNTU0luZGV4OiBuLmluaXRJbmRleCgiYWRkX3RvX2NkbmpzX2Nzc19yZXN1bHRzIikKICB9Owp9KCksIHdpbmRvdy5Db3B5ID0gewogIGF1dG9TYXZpbmdOb3c6ICJBdXRvc2F2ZSBlbmFibGVkLiA8YSBocmVmPSdodHRwczovL2Jsb2cuY29kZXBlbi5pby9kb2N1bWVudGF0aW9uL2VkaXRvci9hdXRvc2F2ZS8nIHRhcmdldD0nX2JsYW5rJz4/PC9hPiIsCiAgcGVuVXBkYXRlZDogIlBlbiBzYXZlZC4iLAogIHBlbkZvcmtlZDogIldlIGZvcmtlZCB0aGlzIFBlbi4gSXQncyBzYXZlZCB0byB5b3VyIGFjY291bnQsIGJ1dCB5b3UgY2FuIDxhIGhyZWY9JzwlPSB1cmwgJT4nIHRhcmdldD0nX2JsYW5rJz52aWV3IGl0IGhlcmUuPC9hPiIsCiAgd2FpdGluZ0Zvckdpc3Q6ICJDcmVhdGluZyBHaXRIdWIgR2lzdC4gUGxlYXNlIGJlIHBhdGllbnQgYW5kIHN0YXkgYXdlc29tZS4iLAogIGdpc3RDcmVhdGVkOiAiVGhhbmtzIGZvciBzdGF5aW5nIGF3ZXNvbWUuIDxhIGhyZWY9JzwlPSB1cmwgJT4nIHRhcmdldD0nX2JsYW5rJz4gSGVyZSdzIGEgbGluayB0byB5b3VyIEdpc3QuPC9hPiIsCiAgeW91SGF2ZVVuc2F2ZWRDaGFuZ2VzOiAiWW91IGhhdmUgTk9UIHNhdmVkIHlvdXIgUGVuLiBTdG9wIGFuZCBzYXZlIGlmIHlvdSB3YW50IHRvIGtlZXAgeW91ciBQZW4uIiwKICB5b3VIYXZlVW5zYXZlZFNldHRpbmdzOiAiWW91IGhhdmUgdW5zYXZlZCBzZXR0aW5ncyBjaGFuZ2VzLCBhcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgd2l0aG91dCBzYXZpbmc/IiwKICBjb2xsZWN0aW9uU2F2ZWRQZW5BZGRlZDogIllvdXIgQ29sbGVjdGlvbiAnPCU9IG5hbWUgJT4nIHdhcyBjcmVhdGVkIGFuZCB0aGlzIFBlbiB3YXMgYWRkZWQgdG8gaXQuIDxhIGhyZWY9JzwlPSB1cmwgJT4nPlZpZXcgQ29sbGVjdGlvbjwvYT4uIiwKICBwZW5BZGRUb0NvbGxlY3Rpb246ICJUaGlzIFBlbiB3YXMgYWRkZWQgdG8gdGhlICc8JT0gbmFtZSAlPicgQ29sbGVjdGlvbi4gPGEgaHJlZj0nPCU9IHVybCAlPic+VmlldyBDb2xsZWN0aW9uPC9hPi4iLAogIHNtc1NlbnRUbzogIlRleHQgc2VudCB0byBwaG9uZSA8JT0gcGhvbmVfbnVtYmVyICU+LiIsCiAgc3R1ZGVudFdhdGNoaW5nOiAiU3R1ZGVudCBXYXRjaGluZyIsCiAgc3R1ZGVudHNXYXRjaGluZzogIlN0dWRlbnRzIFdhdGNoaW5nIiwKICB1bnN1YmNyaWJlZEZyb21Db21tZW50Tm90aWZpY2F0aW9uczogIllvdSd2ZSBiZWVuIHVuc3Vic2NyaWJlZCBmcm9tIGNvbW1lbnRzIGZvciB0aGlzIFBlbiIsCiAgc3Vic2NyaWJlZFRvQ29tbWVudE5vdGlmaWNhdGlvbnM6ICJZb3UndmUgYmVlbiBzdWJzY3JpYmVkIHRvIGNvbW1lbnRzIGZvciB0aGlzIFBlbiIsCiAgZGVsZXRpbmdQZW46ICJEZWxldGluZyB0aGlzIFBlbi4gQnVja2xlIHVwISIsCiAgdmlld1NvdXJjZTogIlZpZXcgU291cmNlIiwKICByZXR1cm5Ub1NvdXJjZTogIlJldHVybiB0byBTb3VyY2UiLAogIGVycm9yczogewogICAgImFub24tY2Fubm90LXNhdmUtZHVyaW5nLXJ0LXNlc3Npb24iOiAiUGxlYXNlIGxvZ2luIHRvIHNhdmUgdGhpcyBQZW4uIiwKICAgICJ1bmFibGUtdG8tc2F2ZS10cnktYWdhaW4iOiAiVW5hYmxlIHRvIHNhdmUgUGVuICg8JT0gdGltZSAlPiBhdHRlbXB0KS4gUGxlYXNlIHdhaXQgd2hpbGUgd2UgdHJ5IGFnYWluLi4uIiwKICAgICJ1bmFibGUtdG8tc2F2ZS1ldmVyIjogIlVuYWJsZSB0byBzYXZlIHBlbi4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydEBjb2RlcGVuLmlvLiIsCiAgICAiZGlzYWJsZWQtY29va2llcyI6ICJZb3Ugd2lsbCBub3QgYmUgYWJsZSB0byBzZWUgbGl2ZSBjaGFuZ2VzIHRvIGEgUGVuIHdoaWxlIGNvb2tpZXMgYXJlIGRpc2FibGVkIiwKICAgICJwZW4tdG9vLWxhcmdlIjogIlRoaXMgUGVuIGlzIGxhcmdlciB0aGFuIHRoZSAxIG1lZ2FieXRlIGxpbWl0LiBUcnkgcmVtb3ZpbmcgZGF0YSBmcm9tIHRoaXMgUGVuIGFuZCB0cnlpbmcgYWdhaW4uIgogIH0KfSwgd2luZG93LkNQRmFjdG9yeSA9IHsKICBidWlsZERhdGFPYmplY3RzOiBmdW5jdGlvbiBidWlsZERhdGFPYmplY3RzKCkgewogICAgQ1AucHJvZmlsZWQgPSBuZXcgUHJvZmlsZWQoKSwgQ1AudXNlciA9IG5ldyBVc2VyKCksIENQLml0ZW0gPSB3aW5kb3cuX19pdGVtLCAicGVuIiA9PT0gQ1AuaXRlbS5pdGVtVHlwZSA/IChDUC5wZW4gPSBuZXcgUGVuKCksIENQLml0ZW0gPSBDUC5wZW4sIENQLnBlblNhdmVyID0gbmV3IFBlblNhdmVyKCksIENQLnBlbkF1dG9zYXZlID0gbmV3IFBlbkF1dG9zYXZlKCksIENQLnVpID0gVUkuYnVpbGREZWZhdWx0VUlEYXRhKCkpIDogInByb2plY3QiID09PSBDUC5pdGVtLml0ZW1UeXBlICYmIChDUC5pdGVtID0gbmV3IFByb2plY3QoKSwgQ1AudWkgPSBVSS5idWlsZERlZmF1bHRVSURhdGEoKSk7CiAgfSwKICBidWlsZEVkaXRvck9iamVjdHM6IGZ1bmN0aW9uIGJ1aWxkRWRpdG9yT2JqZWN0cyhlKSB7CiAgICBDUC5wZW5SZW5kZXJlciA9IG5ldyBQZW5SZW5kZXJlcigpLCBDUC5jb2RlRWRpdG9yQW5hbGF5emUgPSBuZXcgQ29kZUVkaXRvckFuYWx5emUoKSwgQ1AuaHRtbEVkaXRvciA9IG5ldyBIVE1MRWRpdG9yKCJodG1sIiwgQ1AucGVuLmh0bWwpLCBDUC5jc3NFZGl0b3IgPSBuZXcgQ1NTRWRpdG9yKCJjc3MiLCBDUC5wZW4uY3NzKSwgQ1AuanNFZGl0b3IgPSBuZXcgSlNFZGl0b3IoImpzIiwgQ1AucGVuLmpzKSwgZSB8fCBDUC5Db25zb2xlRWRpdG9yLmluaXQoKSwgdGhpcy5idWlsZENvbW1vbkVkaXRvclNldHRpbmdzT2JqZWN0cygpLCB0aGlzLl9idWlsZFNldHRpbmdzT2JqZWN0cygpOwogIH0sCiAgYnVpbGRDb21tb25FZGl0b3JTZXR0aW5nc09iamVjdHM6IGZ1bmN0aW9uIGJ1aWxkQ29tbW9uRWRpdG9yU2V0dGluZ3NPYmplY3RzKCkgewogICAgQ1AuaXRlbSAmJiAicGVuIiA9PT0gQ1AuaXRlbS5pdGVtVHlwZSA/IChDUC5zaGFyZVZpZXcgPSBuZXcgU2hhcmVWaWV3KCksIENQLnNldHRpbmdzQ29udHJvbGxlciA9IG5ldyBTZXR0aW5nc0NvbnRyb2xsZXIoKSwgQ1AucGVuQWN0aW9ucyA9IG5ldyBQZW5BY3Rpb25zKCksIENQLmluZm9Db250cm9sbGVyID0gbmV3IEluZm9Db250cm9sbGVyKCksIENQLnRhZ3NDb250cm9sbGVyID0gbmV3IFBlblRhZ3NDb250cm9sbGVyKCkpIDogQ1AuaXRlbSAmJiAicHJvamVjdCIgPT09IENQLml0ZW0uaXRlbVR5cGUgJiYgKENQLnNldHRpbmdzQ29udHJvbGxlciA9IG5ldyBTZXR0aW5nc0NvbnRyb2xsZXIoKSwgQ1AuaW5mb0NvbnRyb2xsZXIgPSBuZXcgSW5mb0NvbnRyb2xsZXIoKSwgQ1AudGFnc0NvbnRyb2xsZXIgPSBuZXcgUHJvamVjdFRhZ3NDb250cm9sbGVyKCkpOwogIH0sCiAgX2J1aWxkU2V0dGluZ3NPYmplY3RzOiBmdW5jdGlvbiBfYnVpbGRTZXR0aW5nc09iamVjdHMoKSB7CiAgICBDUC5odG1sU2V0dGluZ3NDb250cm9sbGVyID0gbmV3IEhUTUxTZXR0aW5nc0NvbnRyb2xsZXIoQ1AucGVuKSwgQ1AuY3NzU2V0dGluZ3NDb250cm9sbGVyID0gbmV3IENTU1NldHRpbmdzQ29udHJvbGxlcihDUC5wZW4pLCBDUC5qc1NldHRpbmdzQ29udHJvbGxlciA9IG5ldyBKU1NldHRpbmdzQ29udHJvbGxlcihDUC5wZW4pLCBDUC5iZWhhdmlvckNvbnRyb2xsZXIgPSBuZXcgQmVoYXZpb3JDb250cm9sbGVyKENQLnBlbiksIHdpbmRvdy5fX2ZlYXR1cmVfbnBtX2VuYWJsZWQgJiYgKENQLm5wbVNldHRpbmdzQ29udHJvbGxlciA9IG5ldyBucG1TZXR0aW5nc0NvbnRyb2xsZXIoQ1AucGVuKSk7CiAgfSwKICBidWlsZERlc2t0b3BWaWV3RWRpdG9yT2JqZWN0czogZnVuY3Rpb24gYnVpbGREZXNrdG9wVmlld0VkaXRvck9iamVjdHMoKSB7CiAgICBDUC5jb2RlRWRpdG9yUmVzaXplQ29udHJvbGxlci5pbml0KCksIENQLmVkaXRvckRyb3BEb3ducy5pbml0KCksIENQLkNvZGVFZGl0b3JzRm9sZEV2ZW50cy5pbml0KCksIENQLmNvZGVFZGl0b3JUaWR5Q29udHJvbGxlciA9IG5ldyBDb2RlRWRpdG9yc1RpZHlDb250cm9sbGVyKCksIENQLmNvZGVFZGl0b3JzQ1NTVHJhbnNpdGlvbkhhbmRsZXIgPSBuZXcgQ29kZUVkaXRvcnNDU1NUcmFuc2l0aW9uSGFuZGxlcigpLCBDUC5jb2RlRWRpdG9yc1ZpZXdTb3VyY2VDb250cm9sbGVyID0gbmV3IENvZGVFZGl0b3JzVmlld1NvdXJjZUNvbnRyb2xsZXIoKSwgQ1Aua2V5QmluZGluZ3MuaW5pdCgpOwogIH0KfSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoKSB7CiAgICB2YXIgZSA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvJj9ib29rbWFya2xldF9pZD1bXj1dKy8sICIiKS5yZXBsYWNlKC9cPyQvLCAiIik7CiAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoZSwgIiIsIGUpOwogIH0KCiAgd2luZG93LkNQLmNsZWFuRWRpdG9yVVJMID0gZTsKfSgpLCB3aW5kb3cuSGFuZGxlSUZyYW1lQ2xpY2tzID0gewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSkgewogICAgdGhpcy5wZW4gPSBlLCB0aGlzLl9iaW5kVG9ET00oKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICBfb25NZXNzYWdlKCQucHJveHkodGhpcy5oYW5kbGVJRnJhbWVDbGlja0V2ZW50LCB0aGlzKSk7CiAgfSwKICBoYW5kbGVJRnJhbWVDbGlja0V2ZW50OiBmdW5jdGlvbiBoYW5kbGVJRnJhbWVDbGlja0V2ZW50KGUpIHsKICAgIGlmICh0aGlzLl9hbGxvd2VkVG9PcGVuV2luZG93cygpKSB7CiAgICAgIHZhciB0ID0gdGhpcy5fY2xlYW5VUkwodGhpcy5fZ2V0VVJMRnJvbUV2ZW50KGUpKTsKCiAgICAgIHQubWF0Y2goL15odHRwcz86XC9cL1xTKyQvKSAmJiB3aW5kb3cub3Blbih0KTsKICAgIH0KICB9LAogIF9hbGxvd2VkVG9PcGVuV2luZG93czogZnVuY3Rpb24gX2FsbG93ZWRUb09wZW5XaW5kb3dzKCkgewogICAgcmV0dXJuIHRoaXMucGVuLnVzZXJfaWQgPiAxOwogIH0sCiAgX2dldFVSTEZyb21FdmVudDogZnVuY3Rpb24gX2dldFVSTEZyb21FdmVudChlKSB7CiAgICByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIGUuZGF0YSA/IGUuZGF0YSA6ICIiOwogIH0sCiAgX2NsZWFuVVJMOiBmdW5jdGlvbiBfY2xlYW5VUkwoZSkgewogICAgdmFyIHQgPSB0aGlzLl9nZXRJRnJhbWVVUkxSZW1vdmVkKGUpOwoKICAgIHJldHVybiB0ID0gKHQgPSAodCA9ICh0ID0gdGhpcy5fc2FuaXRpemVVUkwodCkpLnJlcGxhY2UoLyhqYXZhfHZiKT9zY3JpcHQvZ2ltLCAiIikpLnJlcGxhY2UoL2V2YWwvZ2ltLCAiIikpLnNwbGl0KCI/IilbMF07CiAgfSwKICBfZ2V0SUZyYW1lVVJMUmVtb3ZlZDogZnVuY3Rpb24gX2dldElGcmFtZVVSTFJlbW92ZWQoZSkgewogICAgcmV0dXJuIGUucmVwbGFjZSgvaHR0cChzKT86XC9cLyhzXC4pP2NvZGVwZW5cLihkZXZ8aW8pXC8oYm9vbWVyYW5nXC9cUyt8XFMrXC9mdWxscGFnZSlcL1x3KyhcLmh0bWwpPy9tLCAiIik7CiAgfSwKICBfc2FuaXRpemVVUkw6IGZ1bmN0aW9uIF9zYW5pdGl6ZVVSTChlKSB7CiAgICByZXR1cm4gZS5yZXBsYWNlKC9bXi1BLVphLXowLTkrJkAjLyU/PX5ffCE6LC47XChcKV0vLCAiIik7CiAgfQp9LCB3aW5kb3cuVGltZVV0aWwgPSB7CiAgY291bnRUb1N0cmluZzogZnVuY3Rpb24gY291bnRUb1N0cmluZyhlKSB7CiAgICB2YXIgdCA9IHsKICAgICAgMTogImZpcnN0IiwKICAgICAgMjogInNlY29uZCIsCiAgICAgIDM6ICJ0aGlyZCIsCiAgICAgIDQ6ICJmb3VydGgiLAogICAgICA1OiAiZmlmdGgiCiAgICB9OwogICAgcmV0dXJuIGUgaW4gdCA/IHRbZV0gOiBlOwogIH0KfSwgd2luZG93LlR5cGVzVXRpbCA9IHsKICBfSFRNTF9UWVBFUzogWyJodG1sIiwgInhtbCIsICJoYW1sIiwgIm1hcmtkb3duIiwgInNsaW0iLCAicHVnIiwgImFwcGxpY2F0aW9uL3gtc2xpbSJdLAogIF9DU1NfVFlQRVM6IFsiY3NzIiwgImxlc3MiLCAic2NzcyIsICJzYXNzIiwgInN0eWx1cyIsICJwb3N0Y3NzIiwgInRleHQvY3NzIiwgInRleHQveC1zYXNzIiwgInRleHQveC1zY3NzIiwgInRleHQveC1sZXNzIiwgInRleHQveC1zdHlsIl0sCiAgX0pTX1RZUEVTOiBbImpzIiwgImphdmFzY3JpcHQiLCAiY29mZmVlc2NyaXB0IiwgImxpdmVzY3JpcHQiLCAidHlwZXNjcmlwdCIsICJiYWJlbCIsICJ0ZXh0L2phdmFzY3JpcHQiLCAidGV4dC94LWNvZmZlZXNjcmlwdCIsICJ0ZXh0L3gtbGl2ZXNjcmlwdCIsICJ0ZXh0L3R5cGVzY3JpcHQiXSwKICBjbU1vZGVUb1R5cGU6IGZ1bmN0aW9uIGNtTW9kZVRvVHlwZShlKSB7CiAgICB2YXIgdCA9IHRoaXMuX2dldFNhZmVJbnB1dE1vZGUoZSk7CgogICAgcmV0dXJuIHRoaXMuX2dldFR5cGUodCk7CiAgfSwKICBfZ2V0U2FmZUlucHV0TW9kZTogZnVuY3Rpb24gX2dldFNhZmVJbnB1dE1vZGUoZSkgewogICAgcmV0dXJuICgic3RyaW5nIiA9PSB0eXBlb2YgZSA/IGUgOiBlLm5hbWUpLnRvTG93ZXJDYXNlKCk7CiAgfSwKICBzeW50YXhUb1R5cGU6IGZ1bmN0aW9uIHN5bnRheFRvVHlwZShlKSB7CiAgICByZXR1cm4gdGhpcy5fZ2V0VHlwZShlKTsKICB9LAogIF9nZXRUeXBlOiBmdW5jdGlvbiBfZ2V0VHlwZShlKSB7CiAgICByZXR1cm4gLTEgIT09IHRoaXMuX0hUTUxfVFlQRVMuaW5kZXhPZihlKSA/ICJodG1sIiA6IC0xICE9PSB0aGlzLl9DU1NfVFlQRVMuaW5kZXhPZihlKSA/ICJjc3MiIDogLTEgIT09IHRoaXMuX0pTX1RZUEVTLmluZGV4T2YoZSkgPyAianMiIDogInVua25vd24iOwogIH0KfSwgd2luZG93Ll9fQ1BUeXBlc1V0aWwgPSB3aW5kb3cuVHlwZXNVdGlsLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIGJlID0gJCh3aW5kb3cpLCB2ZSA9ICQoImJvZHkiKSwgTCA9ICQoIiNyZXN1bHRfZGl2IiksIFYgPSAkKCIjcmVzaXplciIpLCBCID0gJCgiI2VkaXRvci1kcmFnLWNvdmVyIiksIE4gPSAkKCIjd2lkdGgtcmVhZG91dCIpLCB6ID0gJCgiLmJveGVzIiksIFcgPSAkKCIudG9wLWJveGVzIiksIEogPSAkKCIjaHRtbC10b2dnbGUiKSwgWSA9ICQoIiNjc3MtdG9nZ2xlIiksIFggPSAkKCIjanMtdG9nZ2xlIiksIEcgPSAkKCIjcmVzdWx0LXRvZ2dsZSIpLCBxID0gJCgiI2JveC1odG1sIiksIEsgPSAkKCIjYm94LWNzcyIpLCBRID0gJCgiI2JveC1qcyIpLCBaID0gImh0bWwiLCBlZSA9ICEwLCBuZSA9ICQoIi5vdXRwdXQtc2l6ZXIiKSwgdGUgPSAkKCIuYm94LWNvbnNvbGUiKSwgaWUgPSAkKCIucGFnZS13cmFwIiksIG9lID0gJCgnbWV0YVtuYW1lPSJ2aWV3cG9ydCJdJyksIHNlID0gdGUuZmluZCgiLmNsb3NlLWVkaXRvci1idXR0b24iKTsKICB9CgogIGZ1bmN0aW9uIHQoKSB7CiAgICBiZS5vbigicmVzaXplIiwgcyk7CiAgICB2YXIgZSA9IG5ldyBCYXJEcmFnZ2VyKFZbMF0pOwogICAgZS5vbigicG9pbnRlckRvd24iLCBDKSwgZS5vbigicG9pbnRlclVwIiwgeSksIGUub24oImRyYWdTdGFydCIsIHcpLCBlLm9uKCJkcmFnTW92ZSIsIEUpLCBlLm9uKCJkcmFnRW5kIiwgTSksIG4oJCgiLmVkaXRvci1yZXNpemVyLWNvbnNvbGUiKVswXSksIG4oJCgiLmJveC1jb25zb2xlIC5wb3dlcnMiKVswXSksIHZlLm9uKCJjbGljayIsICIuY29uc29sZS10b2dnbGUtYnV0dG9uIiwgaSksIHNlLm9uKCJjbGljayIsIG8pOwogIH0KCiAgZnVuY3Rpb24gbihlKSB7CiAgICBpZiAoZSkgewogICAgICB2YXIgdCA9IG5ldyBCYXJEcmFnZ2VyKGUpOwogICAgICB0Lm9uKCJwb2ludGVyRG93biIsIEMpLCB0Lm9uKCJwb2ludGVyVXAiLCB5KSwgdC5vbigiZHJhZ1N0YXJ0IiwgTyksIHQub24oImRyYWdNb3ZlIiwgRCksIHQub24oImRyYWdFbmQiLCBIKSwgdC5vbigiZG91YmxlQ2xpY2siLCBJKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHMoKSB7CiAgICBSKCk7CiAgfQoKICBmdW5jdGlvbiBpKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKSwgQ1AuRWRpdG9yTGF5b3V0ICYmIENQLkVkaXRvckxheW91dC50b2dnbGVDb25zb2xlKCk7CiAgfQoKICBmdW5jdGlvbiBvKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKSwgQ1AuRWRpdG9yTGF5b3V0LmNsb3NlQ29uc29sZSgpOwogIH0KCiAgZnVuY3Rpb24gcigpIHsKICAgIEoub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBsKCJodG1sIik7CiAgICB9KSwgWS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgIGwoImNzcyIpOwogICAgfSksIFgub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBsKCJqcyIpOwogICAgfSksIEcub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBwKCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGEoKSB7CiAgICBmdW5jdGlvbiBlKCkgewogICAgICBvZS5hdHRyKCJjb250ZW50Iiwgbik7CiAgICB9CgogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgb2UuYXR0cigiY29udGVudCIsIG4gKyAiLCBtYXhpbXVtLXNjYWxlPTEuMCIpOwogICAgfQoKICAgIHZhciBuID0gb2UuYXR0cigiY29udGVudCIpOwogICAgdmUub24oInRvdWNoZW5kIiwgImlucHV0LCBzZWxlY3QsIHRleHRhcmVhIiwgZnVuY3Rpb24gKCkgewogICAgICB0KCksIHNldFRpbWVvdXQoZSwgMjAwKTsKICAgIH0pOwogICAgdmFyIHMgPSAidG91Y2hzdGFydCI7CiAgICBbImh0bWxFZGl0b3IiLCAiY3NzRWRpdG9yIiwgImpzRWRpdG9yIl0ubWFwKGZ1bmN0aW9uIChuKSB7CiAgICAgIENQW25dICYmIENQW25dLmVkaXRvciAmJiBDUFtuXS5lZGl0b3Iub24ocywgZnVuY3Rpb24gKCkgewogICAgICAgIHQoKSwgdmUub25lKCJ0b3VjaGNhbmNlbCB0b3VjaGVuZCIsIGUpOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYygpIHsKICAgIEh1Yi5zdWIoInVpLWNoYW5nZSIsIHUpOwogIH0KCiAgZnVuY3Rpb24gdShlLCB0KSB7CiAgICB2YXIgbiA9IHQudWkgJiYgdC51aS5lZGl0b3JTaXplcyAmJiB0LnVpLmVkaXRvclNpemVzLmNvbnNvbGU7CiAgICBuICE9PSB1bmRlZmluZWQgJiYgZihuKTsKICB9CgogIGZ1bmN0aW9uIGQoKSB7CiAgICB2YXIgZSA9IENvZGVFZGl0b3JzVXRpbC5nZXRRdWVyeVN0cmluZygiZWRpdG9ycyIpOwoKICAgIGlmIChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBlLnNwbGl0KCIiKSwgbiA9IFsiaHRtbCIsICJjc3MiLCAianMiXSwgcyA9IDAsIGkgPSB0Lmxlbmd0aDsgcyA8IGk7IHMrKykgewogICAgICAgIGlmICgxID09PSB0W3NdICYmIG5bc10pIHsKICAgICAgICAgIGwobltzXSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIDEgPT09IHRbM10gJiYgZygpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gbChlKSB7CiAgICBpZiAoaCgpLCBlID09PSBaKSByZXR1cm4gei5hZGRDbGFzcygibW9iaWxlLWhpZGUtY29kZSIpLCBaID0gIiIsIHZvaWQgcCgpOwoKICAgIHN3aXRjaCAoIiIgPT09IFogJiYgKHoucmVtb3ZlQ2xhc3MoIm1vYmlsZS1oaWRlLWNvZGUiKSwgcCgpKSwgZSkgewogICAgICBjYXNlICJodG1sIjoKICAgICAgICBxLnJlbW92ZUNsYXNzKGopLCBaID0gImh0bWwiLCBKLmFkZENsYXNzKCJzZWxlY3RlZCIpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiY3NzIjoKICAgICAgICBLLnJlbW92ZUNsYXNzKGopLCBaID0gImNzcyIsIFkuYWRkQ2xhc3MoInNlbGVjdGVkIik7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICJqcyI6CiAgICAgICAgUS5yZW1vdmVDbGFzcyhqKSwgWiA9ICJqcyIsIFguYWRkQ2xhc3MoInNlbGVjdGVkIik7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHEucmVtb3ZlQ2xhc3MoaiksIEouYWRkQ2xhc3MoInNlbGVjdGVkIik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBoKCkgewogICAgcS5hZGRDbGFzcyhqKSwgSi5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSwgSy5hZGRDbGFzcyhqKSwgWS5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKSwgUS5hZGRDbGFzcyhqKSwgWC5yZW1vdmVDbGFzcygic2VsZWN0ZWQiKTsKICB9CgogIGZ1bmN0aW9uIHAoZSkgewogICAgKGVlID0gZSAhPT0gdW5kZWZpbmVkID8gZSA6ICFlZSkgfHwgIiIgPT09IFogPyAoZWUgPSAhMCwgRy5hZGRDbGFzcygic2VsZWN0ZWQiKSwgei5yZW1vdmVDbGFzcygibW9iaWxlLWhpZGUtcmVzdWx0IikpIDogKEcucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIiksIHouYWRkQ2xhc3MoIm1vYmlsZS1oaWRlLXJlc3VsdCIpKTsKICB9CgogIGZ1bmN0aW9uIGYoZSkgewogICAgaWYgKCJjbG9zZWQiICE9PSBlKSB7CiAgICAgIGlmICgwICE9PSBoZSkgewogICAgICAgIGcoKTsKICAgICAgICB2YXIgdCA9IF9lIC8gaGUsCiAgICAgICAgICAgIG4gPSBlICogKDEgLSB0KSArIHQ7CiAgICAgICAgdGUuaGVpZ2h0KDEwMCAqIG4gKyAiJSIpLCBTZSA9IGU7CiAgICAgIH0KICAgIH0gZWxzZSBtKCk7CiAgfQoKICBmdW5jdGlvbiBnKCkgewogICAgd2UgfHwgKEh1Yi5wdWIoImNvbnNvbGUtb3BlbmVkIiksIHRlLnNob3coKSwgcCghMCksIFQoKSwgd2UgPSAhMCk7CiAgfQoKICBmdW5jdGlvbiBtKCkgewogICAgd2UgJiYgKEh1Yi5wdWIoImNvbnNvbGUtY2xvc2VkIiksIHRlLmhpZGUoKSwgd2UgPSAhMSk7CiAgfQoKICBmdW5jdGlvbiBiKGUpIHsKICAgIEh1Yi5wdWIoImVkaXRvci1zaXplcy1jaGFuZ2UiLCB7CiAgICAgIGNvbnNvbGU6IGUKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gdigpIHsKICAgIHZhciBlID0gQ1AudWkuZWRpdG9yU2l6ZXMuY29uc29sZTsKICAgICJjbG9zZWQiICE9PSBlICYmIChnKCksIGYoZSkpOwogIH0KCiAgZnVuY3Rpb24gQygpIHsKICAgIEIuc2hvdygpOwogIH0KCiAgZnVuY3Rpb24geSgpIHsKICAgIEIuaGlkZSgpOwogIH0KCiAgZnVuY3Rpb24gdygpIHsKICAgICgidG9wIiA9PT0gQ1AudWkubGF5b3V0ID8gUCA6IFMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQoKICBmdW5jdGlvbiBQKCkgewogICAgY2UgPSBXLmhlaWdodCgpLCByZSA9IHouaGVpZ2h0KCksIGFlID0gVi5vdXRlckhlaWdodCgpLCB5ZSA9IHBhcnNlSW50KFcuY3NzKCJtaW5IZWlnaHQiKSwgMTApLCB3ZSAmJiBUKCk7CiAgfQoKICBmdW5jdGlvbiBTKCkgewogICAgbGUgPSBXLndpZHRoKCksIHVlID0gei53aWR0aCgpLCBkZSA9IFYub3V0ZXJXaWR0aCgpOwogIH0KCiAgZnVuY3Rpb24gVCgpIHsKICAgIGhlID0gbWUgPSBuZS5oZWlnaHQoKSwgZmUgPSB0ZS5oZWlnaHQoKSwgZ2UgPSBjZSA9IFcuaGVpZ2h0KCksIHBlID0gZmUsIF9lIHx8IChfZSA9IHRlLmZpbmQoIi5lZGl0b3ItcmVzaXplciIpLm91dGVySGVpZ2h0KCkgKyB0ZS5maW5kKCIucG93ZXJzIikub3V0ZXJIZWlnaHQoKSk7CiAgfQoKICBmdW5jdGlvbiBFKCkgewogICAgKCJ0b3AiID09PSBDUC51aS5sYXlvdXQgPyB4IDogaykuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIGZ1bmN0aW9uIHgoZSwgdCwgbikgewogICAgdmFyIHMgPSBjZSArIG4ueTsKICAgIHMgPSBNYXRoLm1heCgwLCBzKTsKICAgIHZhciBpID0gcmUgLSBhZTsKICAgIGkgLT0gd2UgPyBfZSA6IDAsIHMgPSBNYXRoLm1pbihpLCBzKSwgcyA9IE1hdGgubWF4KHllLCBzKSwgVy5oZWlnaHQocyksIGhlID0gcmUgLSBzIC0gYWUsIEEoKTsKICB9CgogIGZ1bmN0aW9uIEEoKSB7CiAgICBpZiAod2UpIHsKICAgICAgdmFyIGUgPSAoZmUgLSBfZSkgLyAoaGUgLSBfZSk7CiAgICAgIGUgPSBNYXRoLm1pbigxLCBlKSwgZmUgPSBNYXRoLm1pbihoZSwgZmUpLCBmKGUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gayhlLCB0LCBuKSB7CiAgICB2YXIgcyA9IG4ueCAqICgicmlnaHQiID09PSBDUC51aS5sYXlvdXQgPyAtMSA6IDEpLAogICAgICAgIGkgPSBsZSArIHM7CiAgICBpID0gTWF0aC5tYXgoMCwgaSk7CiAgICB2YXIgbyA9IHVlIC0gZGU7CiAgICBpID0gTWF0aC5taW4obywgaSksIFcud2lkdGgoaSksIFIoKTsKICB9CgogIGZ1bmN0aW9uIE0oKSB7CiAgICAiZnVuY3Rpb24iID09IHR5cGVvZiBDb21tZW50LnR3ZWFrQ29tbWVudHNTaXplICYmIENvbW1lbnQudHdlYWtDb21tZW50c1NpemUoKSwgSHViLnB1YigiZWRpdG9yLXJlZnJlc2giLCB7CiAgICAgIGRlbGF5OiAwCiAgICB9KTsKICAgIHZhciBlID0gewogICAgICBlZGl0b3I6ICJ0b3AiID09PSBDUC51aS5sYXlvdXQgPyBXLmhlaWdodCgpIC8gKGllLmhlaWdodCgpIC0gYWUpIDogVy53aWR0aCgpIC8gd2luZG93LmlubmVyV2lkdGgKICAgIH07CiAgICB3ZSAmJiAoZS5jb25zb2xlID0gU2UpLCBIdWIucHViKCJlZGl0b3Itc2l6ZXMtY2hhbmdlIiwgZSk7CiAgfQoKICBmdW5jdGlvbiBPKCkgewogICAgQ1AuRWRpdG9yTGF5b3V0Ll9jYW5Ecml2ZSAmJiBUKCk7CiAgfQoKICBmdW5jdGlvbiBEKGUsIHQsIG4pIHsKICAgIGlmIChDUC5FZGl0b3JMYXlvdXQuX2NhbkRyaXZlKSB7CiAgICAgIHZhciBzID0gcGUgLSBuLnk7CiAgICAgIHMgPSBNYXRoLm1heChfZSwgcyksIGYoKChzID0gTWF0aC5taW4oaGUsIHMpKSAtIF9lKSAvIChoZSAtIF9lKSksIEYobik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBGKGUpIHsKICAgIGlmICgidG9wIiA9PT0gQ1AudWkubGF5b3V0KSB7CiAgICAgIHZhciB0ID0gbWUgKyBlLnkgLSBmZTsKICAgICAgdCA+PSAwIHx8IChnZSA9IE1hdGgubWluKGNlICsgdCwgZ2UpLCBXLmhlaWdodChnZSksIGhlID0gTWF0aC5tYXgoaGUsIG1lIC0gdCkpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gSCgpIHsKICAgIENQLkVkaXRvckxheW91dC5fY2FuRHJpdmUgJiYgSHViLnB1YigiZWRpdG9yLXNpemVzLWNoYW5nZSIsIHsKICAgICAgY29uc29sZTogU2UKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gSSgpIHsKICAgIENQLkVkaXRvckxheW91dC5fY2FuRHJpdmUgJiYgYigxID09PSBTZSA/IFBlIDogMSk7CiAgfQoKICBmdW5jdGlvbiBSKCkgewogICAgY2xlYXJUaW1lb3V0KENlKSwgTi5hZGRDbGFzcygidmlzaWJsZSIpLCBOLnRleHQoTC53aWR0aCgpICsgInB4IiksIENlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIE4ucmVtb3ZlQ2xhc3MoInZpc2libGUiKTsKICAgIH0sIDFlMyk7CiAgfQoKICBmdW5jdGlvbiBVKCkgewogICAgInRvcCIgPT09IENQLnVpLmxheW91dCAmJiAhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhpUGFkKS9nKSAmJiAkKCJoZWFkIikuYXBwZW5kKCI8bWV0YSBuYW1lPSd2aWV3cG9ydCcgY29udGVudD0nd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vJz4iKTsKICB9CgogIENQLkVkaXRvckxheW91dCA9IHt9OwogIHZhciBqID0gInN3aXRjaC1vZmYiOwoKICB2YXIgTCwKICAgICAgViwKICAgICAgQiwKICAgICAgTiwKICAgICAgeiwKICAgICAgVywKICAgICAgSiwKICAgICAgWSwKICAgICAgWCwKICAgICAgRywKICAgICAgcSwKICAgICAgSywKICAgICAgUSwKICAgICAgWiwKICAgICAgZWUsCiAgICAgIHRlLAogICAgICBuZSwKICAgICAgc2UsCiAgICAgIGllLAogICAgICBvZSwKICAgICAgcmUsCiAgICAgIGFlLAogICAgICBjZSwKICAgICAgdWUsCiAgICAgIGRlLAogICAgICBsZSwKICAgICAgaGUsCiAgICAgIHBlLAogICAgICBmZSwKICAgICAgX2UsCiAgICAgIGdlLAogICAgICBtZSwKICAgICAgYmUgPSAkKHdpbmRvdyksCiAgICAgIHZlID0gJCgiYm9keSIpLAogICAgICBDZSA9IDAsCiAgICAgIHllID0gMCwKICAgICAgd2UgPSAhMSwKICAgICAgUGUgPSAxIC8gMywKICAgICAgU2UgPSBQZTsKCiAgQ1AuRWRpdG9yTGF5b3V0LmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBlKCksIHQoKSwgYygpLCBhKCksIHRoaXMuYmluZFRvRW5hYmxlRGlzYWJsZUh1YkV2ZW50cygpLCB2KCksIFUoKSwgcigpLCBkKCk7CiAgfSwgQ1AuRWRpdG9yTGF5b3V0LnNldENvbnNvbGVTaXplID0gZiwgQ1AuRWRpdG9yTGF5b3V0Lm9wZW5Db25zb2xlID0gZnVuY3Rpb24gKCkgewogICAgYihTZSk7CiAgfSwgQ1AuRWRpdG9yTGF5b3V0LmNsb3NlQ29uc29sZSA9IGZ1bmN0aW9uICgpIHsKICAgIGIoImNsb3NlZCIpOwogIH0sIENQLkVkaXRvckxheW91dC50b2dnbGVDb25zb2xlID0gZnVuY3Rpb24gKCkgewogICAgImNsb3NlZCIgPT09IENQLnVpLmVkaXRvclNpemVzLmNvbnNvbGUgPyAoSHViLnB1YigidWktY29uc29sZS1vcGVuZWQiKSwgdGhpcy5vcGVuQ29uc29sZSgpKSA6IHRoaXMuY2xvc2VDb25zb2xlKCk7CiAgfSwgQ1AuRWRpdG9yTGF5b3V0LmRvbmVMb2FkaW5nID0gZnVuY3Rpb24gKCkgewogICAgdmUucmVtb3ZlQ2xhc3MoInByZWxheW91dCIpLCBiZS5sb2FkKGZ1bmN0aW9uICgpIHsKICAgICAgdmUucmVtb3ZlQ2xhc3MoInByZWxvYWQiKTsKICAgIH0pOwogIH0sIF8uZXh0ZW5kKENQLkVkaXRvckxheW91dCwgRW5hYmxlRGlzYWJsZURyaXZlciksIENQLkVkaXRvckxheW91dC5fZ2V0QWxsVUlFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBbc2UsICQoIi5jb25zb2xlLXRvZ2dsZS1idXR0b24iKV07CiAgfTsKfSgpLCB3aW5kb3cuVmlld1N3aXRjaGVyID0gewogIFRZUEVTOiBbInRvcCIsICJsZWZ0IiwgInJpZ2h0Il0sCiAgJGJvZHk6ICQoImJvZHkiKSwKICAkbWFpbkhlYWRlcjogJCgiI21haW4taGVhZGVyIiksCiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHRoaXMuX2JpbmRUb0RPTSgpLCB0aGlzLl9iaW5kVG9IdWIoKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICB0aGlzLiRib2R5Lm9uKCJjbGljayIsICJbZGF0YS1sYXlvdXQtdHlwZV0iLCB0aGlzLm9uTGF5b3V0VHlwZUJ1dHRvbkNsaWNrKTsKICB9LAogIG9uTGF5b3V0VHlwZUJ1dHRvbkNsaWNrOiBmdW5jdGlvbiBvbkxheW91dFR5cGVCdXR0b25DbGljayhlKSB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCJkYXRhLWxheW91dC10eXBlIik7CiAgICB3aW5kb3cuVmlld1N3aXRjaGVyLmNoYW5nZUxheW91dCh0KTsKICB9LAogIF9iaW5kVG9IdWI6IGZ1bmN0aW9uIF9iaW5kVG9IdWIoKSB7CiAgICBIdWIuc3ViKCJzZXJ2ZXItdWktY2hhbmdlIiwgJC5wcm94eSh0aGlzLl9vblNlcnZlclVJQ2hhbmdlLCB0aGlzKSk7CiAgfSwKICBfb25TZXJ2ZXJVSUNoYW5nZTogZnVuY3Rpb24gX29uU2VydmVyVUlDaGFuZ2UoZSwgdCkgewogICAgdC51aSAmJiB0LnVpLmxheW91dCAmJiB0aGlzLmNoYW5nZVVJTGF5b3V0KHQudWkubGF5b3V0KTsKICB9LAogIGNoYW5nZUxheW91dDogZnVuY3Rpb24gY2hhbmdlTGF5b3V0KGUpIHsKICAgIHRoaXMuY2hhbmdlVUlMYXlvdXQoZSksICQuY29va2llKCJfX2NwX2xheW91dCIsIGUsIHsKICAgICAgZXhwaXJlczogMzAsCiAgICAgIHBhdGg6ICIvIgogICAgfSk7CiAgfSwKICBjaGFuZ2VVSUxheW91dDogZnVuY3Rpb24gY2hhbmdlVUlMYXlvdXQoZSkgewogICAgdGhpcy5nZXRJc1ZhbGlkTGF5b3V0VHlwZShlKSwgdGhpcy4kYm9keS5yZW1vdmVDbGFzcygibGF5b3V0LSIgKyBDUC51aS5sYXlvdXQpOwogICAgdmFyIHQgPSAibGVmdCIgPT09IGUgfHwgInJpZ2h0IiA9PT0gZTsKICAgIHRoaXMuJGJvZHlbdCA/ICJhZGRDbGFzcyIgOiAicmVtb3ZlQ2xhc3MiXSgibGF5b3V0LXNpZGUiKSwgdGhpcy4kYm9keS5hZGRDbGFzcygibGF5b3V0LSIgKyBlKSwgQ1AudWkubGF5b3V0ID0gZSwgSHViLnB1YigidWktY2hhbmdlIiwgewogICAgICB1aTogewogICAgICAgIGxheW91dDogZQogICAgICB9CiAgICB9KSwgSHViLnB1YigiZWRpdG9yLXJlZnJlc2giLCB7CiAgICAgIGRlbGF5OiAwCiAgICB9KTsKICB9LAogIGdldElzVmFsaWRMYXlvdXRUeXBlOiBmdW5jdGlvbiBnZXRJc1ZhbGlkTGF5b3V0VHlwZShlKSB7CiAgICB2YXIgdCA9IF8uY29udGFpbnModGhpcy5UWVBFUywgZSk7CgogICAgaWYgKCF0KSB0aHJvdyAiSW52YWxpZCBsYXlvdXQgdHlwZTogIiArIGU7CiAgICByZXR1cm4gdDsKICB9Cn0sIHdpbmRvdy5WaWV3U3dpdGNoZXIuaW5pdCgpLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIGQub24oImNsaWNrIiwgIi5lbWJlZC1idWlsZGVyLWJ1dHRvbiIsIHQpLCAkKCIjcG9wdXAtb3ZlcmxheSIpLm9uKCJjbGljayIsIHIpOwogIH0KCiAgZnVuY3Rpb24gdChlKSB7CiAgICBlLnByZXZlbnREZWZhdWx0KCksIGggPyAobigpLCBvKCkpIDogcygpOwogIH0KCiAgZnVuY3Rpb24gbigpIHsKICAgIEh1Yi5wdWIoImVtYmVkLXJlc2hvd24iLCB7fSk7CiAgfQoKICBmdW5jdGlvbiBzKCkgewogICAgaWYgKCFwKSB7CiAgICAgIHZhciBlID0gXy50ZW1wbGF0ZSgiPCU9IHVzZXJuYW1lICU+L2VtYmVkL21pbmkvYnVpbGRlci88JT0gc2x1Z0hhc2ggJT4vIiwgewogICAgICAgIHVzZXJuYW1lOiBDUC5wcm9maWxlZC5iYXNlX3VybCwKICAgICAgICBzbHVnSGFzaDogQ1AucGVuLmdldEFjdGl2ZVNsdWdIYXNoKCkKICAgICAgfSk7CgogICAgICAkLndoZW4oQUpBWFV0aWwuZ2V0KGUsIHt9LCAkLm5vb3ApKS5kb25lKGkpLmZhaWwoQUpBWFV0aWwuc2hvd1N0YW5kYXJkRXJyb3JNZXNzYWdlKS5hbHdheXMoZnVuY3Rpb24gKCkgewogICAgICAgIHAgPSAhMTsKICAgICAgfSksIHAgPSAhMDsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGkoZSkgewogICAgKHUgPSAkKCI8ZGl2IC8+IiwgewogICAgICBpZDogImVtYmVkLW1vZGFsIiwKICAgICAgImNsYXNzIjogIm1vZGFsIGVtYmVkLW1vZGFsIGxvYWRpbmciLAogICAgICBodG1sOiBlLmh0bWwKICAgIH0pKS5hcHBlbmRUbyhkKSwgJC5nZXRTY3JpcHQoX19lbWJlZF9tb2RhbF9zY3JpcHQpLCAkKCIjZW1iZWQtbW9kYWwtY2xvc2UtYnV0dG9uIikub24oImNsaWNrIiwgciksIEtleXRyYXAuYmluZCgiZXNjIiwgciksIGggPSAhMCwgbygpOwogIH0KCiAgZnVuY3Rpb24gbygpIHsKICAgIGwgfHwgKHUuYWRkQ2xhc3MoIm9wZW4iKSwgQ1Auc2hvd1BvcHVwT3ZlcmxheSgpLCBsID0gITAsIEh1Yi5wdWIoInBvcHVwLW9wZW4iLCBmKSk7CiAgfQoKICBmdW5jdGlvbiByKCkgewogICAgbCAmJiAodSAmJiB1LnJlbW92ZUNsYXNzKCJvcGVuIiksIHdpbmRvdy5lbWJlZENvbW1vblVJICYmIGVtYmVkQ29tbW9uVUkucmVtb3ZlQ3VzdG9tQ1NTKCksIENQLmhpZGVQb3B1cE92ZXJsYXkoKSwgbCA9ICExKTsKICB9CgogIGZ1bmN0aW9uIGEoKSB7CiAgICBIdWIuc3ViKCJwb3B1cC1vcGVuIiwgYyk7CiAgfQoKICBmdW5jdGlvbiBjKGUsIHQpIHsKICAgIHQgIT09IGYgJiYgcigpOwogIH0KCiAgQ1AuRW1iZWRNb2RhbCA9IHt9OwogIHZhciB1LAogICAgICBkID0gJCgiYm9keSIpLAogICAgICBsID0gITEsCiAgICAgIGggPSAhMSwKICAgICAgcCA9ICExLAogICAgICBmID0gImVtYmVkTW9kYWwiOwogIENQLkVtYmVkTW9kYWwuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIGUoKSwgYSgpOwogIH0sIENQLkVtYmVkTW9kYWwuaW5pdCgpOwp9KCksIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBlKGUpIHsKICAgIGNsZWFyVGltZW91dChyKSwgciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBmaXJlc3RvcmVDb25uZWN0LnNldEl0ZW1BdHRyaWJ1dGVzKG8uaGFzaGlkLCBDUC51c2VyLm93bmVyX2lkLCB7CiAgICAgICAgbGl2ZVZpZXc6IGUKICAgICAgfSk7CiAgICB9LCBhKTsKICB9CgogIGZ1bmN0aW9uIHQoKSB7CiAgICB2YXIgZSA9IG9bInByaXZhdGUiXSA/IG8uc2x1Z19oYXNoX3ByaXZhdGUgOiBvLmhhc2hpZDsKICAgIHJldHVybiAiIi5jb25jYXQod2luZG93Ll9fQ1BEQVRBLmRvbWFpbl9pZnJhbWUpLmNvbmNhdChDUC51c2VyLmJhc2VfdXJsLCAiL2Z1bGxwYWdlLyIpLmNvbmNhdChlLCAiP190PSIpLmNvbmNhdChuZXcgRGF0ZSgpLmdldFRpbWUoKSk7CiAgfQoKICBmdW5jdGlvbiBuKCkgewogICAgZSh7CiAgICAgIGFjdGlvbjogdSwKICAgICAgZGF0YTogewogICAgICAgIHVybDogdCgpCiAgICAgIH0KICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gcyh0LCBuKSB7CiAgICBlKG4pOwogIH0KCiAgZnVuY3Rpb24gaSgpIHsKICAgIG8uaWQgJiYgQ1AudXNlci5wYWlkICYmIENQLnVzZXIub3duc0l0ZW0obykgJiYgKEh1Yi5zdWIoInBlbi1zYXZlZCIsIG4pLCBIdWIuc3ViKGMsIHMpLCBIdWIuc3ViKHUsIHMpKTsKICB9CgogIHZhciBvID0gd2luZG93Ll9faXRlbSwKICAgICAgciA9IDAsCiAgICAgIGEgPSA1MDAsCiAgICAgIGMgPSAiQUNUSU9OX0xJVkVfVklFV19SRUxPQURfQ1NTIiwKICAgICAgdSA9ICJBQ1RJT05fTElWRV9WSUVXX1VQREFURV9VUkwiOwogIEh1Yi5zdWIoInBhZ2UtbG9hZGluZy1kb25lIiwgaSk7Cn0oKSwKLyohCiAqIGNsaXBib2FyZC5qcyB2MS41LjEyCiAqIGh0dHBzOi8vemVub3JvY2hhLmdpdGh1Yi5pby9jbGlwYm9hcmQuanMKICoKICogTGljZW5zZWQgTUlUIMKpIFplbm8gUm9jaGEKICovCmZ1bmN0aW9uIChlKSB7CiAgaWYgKCJvYmplY3QiID09ICh0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoZXhwb3J0cykpICYmICJ1bmRlZmluZWQiICE9IHR5cGVvZiBtb2R1bGUpIG1vZHVsZS5leHBvcnRzID0gZSgpO2Vsc2UgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoW10sIGUpO2Vsc2UgewogICAgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZ2xvYmFsID8gZ2xvYmFsIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDogdGhpcykuQ2xpcGJvYXJkID0gZSgpOwogIH0KfShmdW5jdGlvbiAoKSB7CiAgdmFyIGU7CiAgcmV0dXJuIGZ1bmN0aW9uIHQoZSwgbiwgcykgewogICAgZnVuY3Rpb24gaShyLCBhKSB7CiAgICAgIGlmICghbltyXSkgewogICAgICAgIGlmICghZVtyXSkgewogICAgICAgICAgdmFyIGMgPSAiZnVuY3Rpb24iID09IHR5cGVvZiByZXF1aXJlICYmIHJlcXVpcmU7CiAgICAgICAgICBpZiAoIWEgJiYgYykgcmV0dXJuIGMociwgITApOwogICAgICAgICAgaWYgKG8pIHJldHVybiBvKHIsICEwKTsKICAgICAgICAgIHZhciB1ID0gbmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIgKyByICsgIiciKTsKICAgICAgICAgIHRocm93IHUuY29kZSA9ICJNT0RVTEVfTk9UX0ZPVU5EIiwgdTsKICAgICAgICB9CgogICAgICAgIHZhciBkID0gbltyXSA9IHsKICAgICAgICAgIGV4cG9ydHM6IHt9CiAgICAgICAgfTsKICAgICAgICBlW3JdWzBdLmNhbGwoZC5leHBvcnRzLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdmFyIG4gPSBlW3JdWzFdW3RdOwogICAgICAgICAgcmV0dXJuIGkobiB8fCB0KTsKICAgICAgICB9LCBkLCBkLmV4cG9ydHMsIHQsIGUsIG4sIHMpOwogICAgICB9CgogICAgICByZXR1cm4gbltyXS5leHBvcnRzOwogICAgfQoKICAgIGZvciAodmFyIG8gPSAiZnVuY3Rpb24iID09IHR5cGVvZiByZXF1aXJlICYmIHJlcXVpcmUsIHIgPSAwOyByIDwgcy5sZW5ndGg7IHIrKykgewogICAgICBpKHNbcl0pOwogICAgfQoKICAgIHJldHVybiBpOwogIH0oewogICAgMTogW2Z1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gZSgibWF0Y2hlcy1zZWxlY3RvciIpOwoKICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQsIHMpIHsKICAgICAgICBmb3IgKHZhciBpID0gcyA/IGUgOiBlLnBhcmVudE5vZGU7IGkgJiYgaSAhPT0gZG9jdW1lbnQ7KSB7CiAgICAgICAgICBpZiAobihpLCB0KSkgcmV0dXJuIGk7CiAgICAgICAgICBpID0gaS5wYXJlbnROb2RlOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sIHsKICAgICAgIm1hdGNoZXMtc2VsZWN0b3IiOiA1CiAgICB9XSwKICAgIDI6IFtmdW5jdGlvbiAoZSwgdCkgewogICAgICBmdW5jdGlvbiBuKGUsIHQsIG4sIGksIG8pIHsKICAgICAgICB2YXIgciA9IHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICByZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKG4sIHIsIG8pLCB7CiAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgICAgICBlLnJlbW92ZUV2ZW50TGlzdGVuZXIobiwgciwgbyk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcyhlLCB0LCBuLCBzKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICBuLmRlbGVnYXRlVGFyZ2V0ID0gaShuLnRhcmdldCwgdCwgITApLCBuLmRlbGVnYXRlVGFyZ2V0ICYmIHMuY2FsbChlLCBuKTsKICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgaSA9IGUoImNsb3Nlc3QiKTsKICAgICAgdC5leHBvcnRzID0gbjsKICAgIH0sIHsKICAgICAgY2xvc2VzdDogMQogICAgfV0sCiAgICAzOiBbZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgbi5ub2RlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSAhPT0gdW5kZWZpbmVkICYmIGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAxID09PSBlLm5vZGVUeXBlOwogICAgICB9LCBuLm5vZGVMaXN0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTsKICAgICAgICByZXR1cm4gZSAhPT0gdW5kZWZpbmVkICYmICgiW29iamVjdCBOb2RlTGlzdF0iID09PSB0IHx8ICJbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXSIgPT09IHQpICYmICJsZW5ndGgiIGluIGUgJiYgKDAgPT09IGUubGVuZ3RoIHx8IG4ubm9kZShlWzBdKSk7CiAgICAgIH0sIG4uc3RyaW5nID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIGUgfHwgZSBpbnN0YW5jZW9mIFN0cmluZzsKICAgICAgfSwgbi5mbiA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICJbb2JqZWN0IEZ1bmN0aW9uXSIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTsKICAgICAgfTsKICAgIH0sIHt9XSwKICAgIDQ6IFtmdW5jdGlvbiAoZSwgdCkgewogICAgICBmdW5jdGlvbiBuKGUsIHQsIG4pIHsKICAgICAgICBpZiAoIWUgJiYgIXQgJiYgIW4pIHRocm93IG5ldyBFcnJvcigiTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMiKTsKICAgICAgICBpZiAoIXIuc3RyaW5nKHQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZyIpOwogICAgICAgIGlmICghci5mbihuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uIik7CiAgICAgICAgaWYgKHIubm9kZShlKSkgcmV0dXJuIHMoZSwgdCwgbik7CiAgICAgICAgaWYgKHIubm9kZUxpc3QoZSkpIHJldHVybiBpKGUsIHQsIG4pOwogICAgICAgIGlmIChyLnN0cmluZyhlKSkgcmV0dXJuIG8oZSwgdCwgbik7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZywgSFRNTEVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBvciBOb2RlTGlzdCIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBzKGUsIHQsIG4pIHsKICAgICAgICByZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHQsIG4pLCB7CiAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgICAgICBlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCwgbik7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaShlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcih0LCBuKTsKICAgICAgICB9KSwgewogICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LCBuKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbyhlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIGEoZG9jdW1lbnQuYm9keSwgZSwgdCwgbik7CiAgICAgIH0KCiAgICAgIHZhciByID0gZSgiLi9pcyIpLAogICAgICAgICAgYSA9IGUoImRlbGVnYXRlIik7CiAgICAgIHQuZXhwb3J0cyA9IG47CiAgICB9LCB7CiAgICAgICIuL2lzIjogMywKICAgICAgZGVsZWdhdGU6IDIKICAgIH1dLAogICAgNTogW2Z1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZ1bmN0aW9uIG4oZSwgdCkgewogICAgICAgIGlmIChpKSByZXR1cm4gaS5jYWxsKGUsIHQpOwoKICAgICAgICBmb3IgKHZhciBuID0gZS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwodCksIHMgPSAwOyBzIDwgbi5sZW5ndGg7ICsrcykgewogICAgICAgICAgaWYgKG5bc10gPT0gZSkgcmV0dXJuICEwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICExOwogICAgICB9CgogICAgICB2YXIgcyA9IEVsZW1lbnQucHJvdG90eXBlLAogICAgICAgICAgaSA9IHMubWF0Y2hlc1NlbGVjdG9yIHx8IHMud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IHMubW96TWF0Y2hlc1NlbGVjdG9yIHx8IHMubXNNYXRjaGVzU2VsZWN0b3IgfHwgcy5vTWF0Y2hlc1NlbGVjdG9yOwogICAgICB0LmV4cG9ydHMgPSBuOwogICAgfSwge31dLAogICAgNjogW2Z1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZ1bmN0aW9uIG4oZSkgewogICAgICAgIHZhciB0OwogICAgICAgIGlmICgiSU5QVVQiID09PSBlLm5vZGVOYW1lIHx8ICJURVhUQVJFQSIgPT09IGUubm9kZU5hbWUpIGUuZm9jdXMoKSwgZS5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlLnZhbHVlLmxlbmd0aCksIHQgPSBlLnZhbHVlO2Vsc2UgewogICAgICAgICAgZS5oYXNBdHRyaWJ1dGUoImNvbnRlbnRlZGl0YWJsZSIpICYmIGUuZm9jdXMoKTsKICAgICAgICAgIHZhciBuID0gd2luZG93LmdldFNlbGVjdGlvbigpLAogICAgICAgICAgICAgIHMgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOwogICAgICAgICAgcy5zZWxlY3ROb2RlQ29udGVudHMoZSksIG4ucmVtb3ZlQWxsUmFuZ2VzKCksIG4uYWRkUmFuZ2UocyksIHQgPSBuLnRvU3RyaW5nKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0OwogICAgICB9CgogICAgICB0LmV4cG9ydHMgPSBuOwogICAgfSwge31dLAogICAgNzogW2Z1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZ1bmN0aW9uIG4oKSB7fQoKICAgICAgbi5wcm90b3R5cGUgPSB7CiAgICAgICAgb246IGZ1bmN0aW9uIG9uKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciBzID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7CiAgICAgICAgICByZXR1cm4gKHNbZV0gfHwgKHNbZV0gPSBbXSkpLnB1c2goewogICAgICAgICAgICBmbjogdCwKICAgICAgICAgICAgY3R4OiBuCiAgICAgICAgICB9KSwgdGhpczsKICAgICAgICB9LAogICAgICAgIG9uY2U6IGZ1bmN0aW9uIG9uY2UoZSwgdCwgbikgewogICAgICAgICAgZnVuY3Rpb24gcygpIHsKICAgICAgICAgICAgaS5vZmYoZSwgcyksIHQuYXBwbHkobiwgYXJndW1lbnRzKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgaSA9IHRoaXM7CiAgICAgICAgICByZXR1cm4gcy5fID0gdCwgdGhpcy5vbihlLCBzLCBuKTsKICAgICAgICB9LAogICAgICAgIGVtaXQ6IGZ1bmN0aW9uIGVtaXQoZSkgewogICAgICAgICAgZm9yICh2YXIgdCA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgbiA9ICgodGhpcy5lIHx8ICh0aGlzLmUgPSB7fSkpW2VdIHx8IFtdKS5zbGljZSgpLCBzID0gMCwgaSA9IG4ubGVuZ3RoOyBzIDwgaTsgcysrKSB7CiAgICAgICAgICAgIG5bc10uZm4uYXBwbHkobltzXS5jdHgsIHQpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0sCiAgICAgICAgb2ZmOiBmdW5jdGlvbiBvZmYoZSwgdCkgewogICAgICAgICAgdmFyIG4gPSB0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSwKICAgICAgICAgICAgICBzID0gbltlXSwKICAgICAgICAgICAgICBpID0gW107CiAgICAgICAgICBpZiAocyAmJiB0KSBmb3IgKHZhciBvID0gMCwgciA9IHMubGVuZ3RoOyBvIDwgcjsgbysrKSB7CiAgICAgICAgICAgIHNbb10uZm4gIT09IHQgJiYgc1tvXS5mbi5fICE9PSB0ICYmIGkucHVzaChzW29dKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBpLmxlbmd0aCA/IG5bZV0gPSBpIDogZGVsZXRlIG5bZV0sIHRoaXM7CiAgICAgICAgfQogICAgICB9LCB0LmV4cG9ydHMgPSBuOwogICAgfSwge31dLAogICAgODogW2Z1bmN0aW9uICh0LCBuLCBzKSB7CiAgICAgICFmdW5jdGlvbiAoaSwgbykgewogICAgICAgIGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBlICYmIGUuYW1kKSBlKFsibW9kdWxlIiwgInNlbGVjdCJdLCBvKTtlbHNlIGlmICh2b2lkIDAgIT09IHMpIG8obiwgdCgic2VsZWN0IikpO2Vsc2UgewogICAgICAgICAgdmFyIHIgPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IHt9CiAgICAgICAgICB9OwogICAgICAgICAgbyhyLCBpLnNlbGVjdCksIGkuY2xpcGJvYXJkQWN0aW9uID0gci5leHBvcnRzOwogICAgICAgIH0KICAgICAgfSh0aGlzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgICAgZnVuY3Rpb24gbihlKSB7CiAgICAgICAgICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogewogICAgICAgICAgICAiZGVmYXVsdCI6IGUKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzKGUsIHQpIHsKICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiB0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICB2YXIgaSA9IG4odCksCiAgICAgICAgICAgIG8gPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgInN5bWJvbCIgPT0gX3R5cGVvZihTeW1ib2wuaXRlcmF0b3IpID8gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBfdHlwZW9mKGUpOwogICAgICAgIH0gOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgU3ltYm9sICYmIGUuY29uc3RydWN0b3IgPT09IFN5bWJvbCA/ICJzeW1ib2wiIDogX3R5cGVvZihlKTsKICAgICAgICB9LAogICAgICAgICAgICByID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgZnVuY3Rpb24gZShlLCB0KSB7CiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykgewogICAgICAgICAgICAgIHZhciBzID0gdFtuXTsKICAgICAgICAgICAgICBzLmVudW1lcmFibGUgPSBzLmVudW1lcmFibGUgfHwgITEsIHMuY29uZmlndXJhYmxlID0gITAsICJ2YWx1ZSIgaW4gcyAmJiAocy53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHMua2V5LCBzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodCwgbiwgcykgewogICAgICAgICAgICByZXR1cm4gbiAmJiBlKHQucHJvdG90eXBlLCBuKSwgcyAmJiBlKHQsIHMpLCB0OwogICAgICAgICAgfTsKICAgICAgICB9KCksCiAgICAgICAgICAgIGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBmdW5jdGlvbiBlKHQpIHsKICAgICAgICAgICAgcyh0aGlzLCBlKSwgdGhpcy5yZXNvbHZlT3B0aW9ucyh0KSwgdGhpcy5pbml0U2VsZWN0aW9uKCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGUucHJvdG90eXBlLnJlc29sdmVPcHRpb25zID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdOwogICAgICAgICAgICB0aGlzLmFjdGlvbiA9IGUuYWN0aW9uLCB0aGlzLmVtaXR0ZXIgPSBlLmVtaXR0ZXIsIHRoaXMudGFyZ2V0ID0gZS50YXJnZXQsIHRoaXMudGV4dCA9IGUudGV4dCwgdGhpcy50cmlnZ2VyID0gZS50cmlnZ2VyLCB0aGlzLnNlbGVjdGVkVGV4dCA9ICIiOwogICAgICAgICAgfSwgZS5wcm90b3R5cGUuaW5pdFNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy50ZXh0ID8gdGhpcy5zZWxlY3RGYWtlKCkgOiB0aGlzLnRhcmdldCAmJiB0aGlzLnNlbGVjdFRhcmdldCgpOwogICAgICAgICAgfSwgZS5wcm90b3R5cGUuc2VsZWN0RmFrZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGUgPSB0aGlzLAogICAgICAgICAgICAgICAgdCA9ICJydGwiID09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoImRpciIpOwogICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKSwgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBlLnJlbW92ZUZha2UoKTsKICAgICAgICAgICAgfSwgdGhpcy5mYWtlSGFuZGxlciA9IGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8ICEwLCB0aGlzLmZha2VFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKSwgdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZSA9ICIxMnB0IiwgdGhpcy5mYWtlRWxlbS5zdHlsZS5ib3JkZXIgPSAiMCIsIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICIwIiwgdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW4gPSAiMCIsIHRoaXMuZmFrZUVsZW0uc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiLCB0aGlzLmZha2VFbGVtLnN0eWxlW3QgPyAicmlnaHQiIDogImxlZnQiXSA9ICItOTk5OXB4IiwgdGhpcy5mYWtlRWxlbS5zdHlsZS50b3AgPSAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApICsgInB4IiwgdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoInJlYWRvbmx5IiwgIiIpLCB0aGlzLmZha2VFbGVtLnZhbHVlID0gdGhpcy50ZXh0LCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmFrZUVsZW0pLCB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBpWyJkZWZhdWx0Il0pKHRoaXMuZmFrZUVsZW0pLCB0aGlzLmNvcHlUZXh0KCk7CiAgICAgICAgICB9LCBlLnByb3RvdHlwZS5yZW1vdmVGYWtlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyICYmIChkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSwgdGhpcy5mYWtlSGFuZGxlciA9IG51bGwsIHRoaXMuZmFrZUhhbmRsZXJDYWxsYmFjayA9IG51bGwpLCB0aGlzLmZha2VFbGVtICYmIChkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pLCB0aGlzLmZha2VFbGVtID0gbnVsbCk7CiAgICAgICAgICB9LCBlLnByb3RvdHlwZS5zZWxlY3RUYXJnZXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIGlbImRlZmF1bHQiXSkodGhpcy50YXJnZXQpLCB0aGlzLmNvcHlUZXh0KCk7CiAgICAgICAgICB9LCBlLnByb3RvdHlwZS5jb3B5VGV4dCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGUgPSB1bmRlZmluZWQ7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGUgPSBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmFjdGlvbik7CiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHsKICAgICAgICAgICAgICBlID0gITE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzdWx0KGUpOwogICAgICAgICAgfSwgZS5wcm90b3R5cGUuaGFuZGxlUmVzdWx0ID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZSA/IHRoaXMuZW1pdHRlci5lbWl0KCJzdWNjZXNzIiwgewogICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sCiAgICAgICAgICAgICAgdGV4dDogdGhpcy5zZWxlY3RlZFRleHQsCiAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyLAogICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiB0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcykKICAgICAgICAgICAgfSkgOiB0aGlzLmVtaXR0ZXIuZW1pdCgiZXJyb3IiLCB7CiAgICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbiwKICAgICAgICAgICAgICB0cmlnZ2VyOiB0aGlzLnRyaWdnZXIsCiAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb246IHRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sIGUucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5ibHVyKCksIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsKICAgICAgICAgIH0sIGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmFrZSgpOwogICAgICAgICAgfSwgcihlLCBbewogICAgICAgICAgICBrZXk6ICJhY3Rpb24iLAogICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHsKICAgICAgICAgICAgICB2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICJjb3B5IiA6IGFyZ3VtZW50c1swXTsKICAgICAgICAgICAgICBpZiAodGhpcy5fYWN0aW9uID0gZSwgImNvcHkiICE9PSB0aGlzLl9hY3Rpb24gJiYgImN1dCIgIT09IHRoaXMuX2FjdGlvbikgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJhY3Rpb24iIHZhbHVlLCB1c2UgZWl0aGVyICJjb3B5IiBvciAiY3V0IicpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9uOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGtleTogInRhcmdldCIsCiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGUpIHsKICAgICAgICAgICAgICBpZiAoZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBpZiAoIWUgfHwgIm9iamVjdCIgIT09ICh2b2lkIDAgPT09IGUgPyAidW5kZWZpbmVkIiA6IG8oZSkpIHx8IDEgIT09IGUubm9kZVR5cGUpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCAidGFyZ2V0IiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpOwogICAgICAgICAgICAgICAgaWYgKCJjb3B5IiA9PT0gdGhpcy5hY3Rpb24gJiYgZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCAidGFyZ2V0IiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgInJlYWRvbmx5IiBpbnN0ZWFkIG9mICJkaXNhYmxlZCIgYXR0cmlidXRlJyk7CiAgICAgICAgICAgICAgICBpZiAoImN1dCIgPT09IHRoaXMuYWN0aW9uICYmIChlLmhhc0F0dHJpYnV0ZSgicmVhZG9ubHkiKSB8fCBlLmhhc0F0dHJpYnV0ZSgiZGlzYWJsZWQiKSkpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCAidGFyZ2V0IiBhdHRyaWJ1dGUuIFlvdSBjYW5cJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoICJyZWFkb25seSIgb3IgImRpc2FibGVkIiBhdHRyaWJ1dGVzJyk7CiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSBlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDsKICAgICAgICAgICAgfQogICAgICAgICAgfV0pLCBlOwogICAgICAgIH0oKTsKCiAgICAgICAgZS5leHBvcnRzID0gYTsKICAgICAgfSk7CiAgICB9LCB7CiAgICAgIHNlbGVjdDogNgogICAgfV0sCiAgICA5OiBbZnVuY3Rpb24gKHQsIG4sIHMpIHsKICAgICAgIWZ1bmN0aW9uIChpLCBvKSB7CiAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgJiYgZS5hbWQpIGUoWyJtb2R1bGUiLCAiLi9jbGlwYm9hcmQtYWN0aW9uIiwgInRpbnktZW1pdHRlciIsICJnb29kLWxpc3RlbmVyIl0sIG8pO2Vsc2UgaWYgKHZvaWQgMCAhPT0gcykgbyhuLCB0KCIuL2NsaXBib2FyZC1hY3Rpb24iKSwgdCgidGlueS1lbWl0dGVyIiksIHQoImdvb2QtbGlzdGVuZXIiKSk7ZWxzZSB7CiAgICAgICAgICB2YXIgciA9IHsKICAgICAgICAgICAgZXhwb3J0czoge30KICAgICAgICAgIH07CiAgICAgICAgICBvKHIsIGkuY2xpcGJvYXJkQWN0aW9uLCBpLnRpbnlFbWl0dGVyLCBpLmdvb2RMaXN0ZW5lciksIGkuY2xpcGJvYXJkID0gci5leHBvcnRzOwogICAgICAgIH0KICAgICAgfSh0aGlzLCBmdW5jdGlvbiAoZSwgdCwgbiwgcykgewogICAgICAgICJ1c2Ugc3RyaWN0IjsKCiAgICAgICAgZnVuY3Rpb24gaShlKSB7CiAgICAgICAgICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogewogICAgICAgICAgICAiZGVmYXVsdCI6IGUKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvKGUsIHQpIHsKICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiB0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByKGUsIHQpIHsKICAgICAgICAgIGlmICghZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTsKICAgICAgICAgIHJldHVybiAhdCB8fCAib2JqZWN0IiAhPSBfdHlwZW9mKHQpICYmICJmdW5jdGlvbiIgIT0gdHlwZW9mIHQgPyBlIDogdDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGEoZSwgdCkgewogICAgICAgICAgaWYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIHQgJiYgbnVsbCAhPT0gdCkgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiICsgX3R5cGVvZih0KSk7CiAgICAgICAgICBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodCAmJiB0LnByb3RvdHlwZSwgewogICAgICAgICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgICAgICAgIHZhbHVlOiBlLAogICAgICAgICAgICAgIGVudW1lcmFibGU6ICExLAogICAgICAgICAgICAgIHdyaXRhYmxlOiAhMCwKICAgICAgICAgICAgICBjb25maWd1cmFibGU6ICEwCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLCB0ICYmIChPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSwgdCkgOiBlLl9fcHJvdG9fXyA9IHQpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYyhlLCB0KSB7CiAgICAgICAgICB2YXIgbiA9ICJkYXRhLWNsaXBib2FyZC0iICsgZTsKICAgICAgICAgIGlmICh0Lmhhc0F0dHJpYnV0ZShuKSkgcmV0dXJuIHQuZ2V0QXR0cmlidXRlKG4pOwogICAgICAgIH0KCiAgICAgICAgdmFyIHUgPSBpKHQpLAogICAgICAgICAgICBkID0gaShuKSwKICAgICAgICAgICAgbCA9IGkocyksCiAgICAgICAgICAgIGggPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgZnVuY3Rpb24gdChuLCBzKSB7CiAgICAgICAgICAgIG8odGhpcywgdCk7CiAgICAgICAgICAgIHZhciBpID0gcih0aGlzLCBlLmNhbGwodGhpcykpOwogICAgICAgICAgICByZXR1cm4gaS5yZXNvbHZlT3B0aW9ucyhzKSwgaS5saXN0ZW5DbGljayhuKSwgaTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gYSh0LCBlKSwgdC5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07CiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgZS5hY3Rpb24gPyBlLmFjdGlvbiA6IHRoaXMuZGVmYXVsdEFjdGlvbiwgdGhpcy50YXJnZXQgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBlLnRhcmdldCA/IGUudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0LCB0aGlzLnRleHQgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBlLnRleHQgPyBlLnRleHQgOiB0aGlzLmRlZmF1bHRUZXh0OwogICAgICAgICAgfSwgdC5wcm90b3R5cGUubGlzdGVuQ2xpY2sgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIgPSAoMCwgbFsiZGVmYXVsdCJdKShlLCAiY2xpY2siLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiB0Lm9uQ2xpY2soZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgdC5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0ID0gZS5kZWxlZ2F0ZVRhcmdldCB8fCBlLmN1cnJlbnRUYXJnZXQ7CiAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uICYmICh0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG51bGwpLCB0aGlzLmNsaXBib2FyZEFjdGlvbiA9IG5ldyB1WyJkZWZhdWx0Il0oewogICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odCksCiAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCh0KSwKICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodCksCiAgICAgICAgICAgICAgdHJpZ2dlcjogdCwKICAgICAgICAgICAgICBlbWl0dGVyOiB0aGlzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSwgdC5wcm90b3R5cGUuZGVmYXVsdEFjdGlvbiA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBjKCJhY3Rpb24iLCBlKTsKICAgICAgICAgIH0sIHQucHJvdG90eXBlLmRlZmF1bHRUYXJnZXQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IGMoInRhcmdldCIsIGUpOwogICAgICAgICAgICBpZiAodCkgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk7CiAgICAgICAgICB9LCB0LnByb3RvdHlwZS5kZWZhdWx0VGV4dCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBjKCJ0ZXh0IiwgZSk7CiAgICAgICAgICB9LCB0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKSwgdGhpcy5jbGlwYm9hcmRBY3Rpb24gJiYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uLmRlc3Ryb3koKSwgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsKTsKICAgICAgICAgIH0sIHQ7CiAgICAgICAgfShkWyJkZWZhdWx0Il0pOwoKICAgICAgICBlLmV4cG9ydHMgPSBoOwogICAgICB9KTsKICAgIH0sIHsKICAgICAgIi4vY2xpcGJvYXJkLWFjdGlvbiI6IDgsCiAgICAgICJnb29kLWxpc3RlbmVyIjogNCwKICAgICAgInRpbnktZW1pdHRlciI6IDcKICAgIH1dCiAgfSwge30sIFs5XSkoOSk7Cn0pLCAkLmV2ZW50LnByb3BzLnB1c2goImRhdGFUcmFuc2ZlciIpLCB3aW5kb3cuQXNzZXRzID0gewogIHM6IHsKICAgIGFzc2V0c0FyZWE6ICQoIiNhc3NldHMtYXJlYSIpLAogICAgbWFudWFsSW5wdXQ6ICQoIiNtYW51YWwtZmlsZS11cGxvYWQiKSwKICAgIGRyYWdQcmV2ZW50OiAhMSwKICAgIGZpbGVzOiBbXQogIH0sCiAgX2JpbmRUb0RyYWdBbmREcm9wOiBmdW5jdGlvbiBfYmluZFRvRHJhZ0FuZERyb3AoKSB7CiAgICB2YXIgZTsKICAgIHRoaXMucy5hc3NldHNBcmVhID0gJCgiI2Fzc2V0cy1hcmVhIiksIHRoaXMucy5tYW51YWxJbnB1dCA9ICQoIiNtYW51YWwtZmlsZS11cGxvYWQiKTsKICAgIHZhciB0ID0gdGhpczsKICAgIHRoaXMucy5hc3NldHNBcmVhLl9vbigiZHJhZ2VudGVyIGRyYWdvdmVyIiwgZnVuY3Rpb24gKG4pIHsKICAgICAgY2xlYXJUaW1lb3V0KGUpLCAhdC5zLmRyYWdQcmV2ZW50ICYmIHQuX3Rlc3RJZkNvbnRhaW5zRmlsZXMobikgJiYgdC5tYWtlTG9va0Ryb3BwYWJsZSgpOwogICAgfSksIHRoaXMucy5hc3NldHNBcmVhLl9vbigiZHJhZ2xlYXZlIGRyYWdvdXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB0LnVubWFrZUxvb2tEcm9wcGFibGUoKTsKICAgICAgfSwgMjAwKTsKICAgIH0pLCB0aGlzLnMuYXNzZXRzQXJlYS5fb24oImRyb3AiLCBmdW5jdGlvbiAoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCksIHQuX3Rlc3RJZkNvbnRhaW5zRmlsZXMoZSkgJiYgdC5oYW5kbGVGaWxlRHJvcChlKTsKICAgIH0pLCB0aGlzLnMubWFudWFsSW5wdXQuX29uKCJjaGFuZ2UiLCB0aGlzLmhhbmRsZUZpbGVTZWxlY3QsIHRoaXMpOwogIH0sCiAgX3Rlc3RJZkNvbnRhaW5zRmlsZXM6IGZ1bmN0aW9uIF90ZXN0SWZDb250YWluc0ZpbGVzKGUpIHsKICAgIHJldHVybiAhIWUuZGF0YVRyYW5zZmVyLnR5cGVzICYmIF8uY29udGFpbnMoZS5kYXRhVHJhbnNmZXIudHlwZXMsICJGaWxlcyIpOwogIH0sCiAgbWFrZUxvb2tEcm9wcGFibGU6IGZ1bmN0aW9uIG1ha2VMb29rRHJvcHBhYmxlKCkgewogICAgdGhpcy5zLmFzc2V0c0FyZWEuYWRkQ2xhc3MoImRyYWdnZWRPbiIpOwogIH0sCiAgdW5tYWtlTG9va0Ryb3BwYWJsZTogZnVuY3Rpb24gdW5tYWtlTG9va0Ryb3BwYWJsZSgpIHsKICAgIHRoaXMucy5hc3NldHNBcmVhLnJlbW92ZUNsYXNzKCJkcmFnZ2VkT24iKTsKICB9LAogIGhhbmRsZUZpbGVEcm9wOiBmdW5jdGlvbiBoYW5kbGVGaWxlRHJvcChlKSB7CiAgICB0aGlzLnByb2Nlc3NGaWxlKGUuZGF0YVRyYW5zZmVyLmZpbGVzKSwgdGhpcy51bm1ha2VMb29rRHJvcHBhYmxlKCk7CiAgfSwKICBoYW5kbGVGaWxlU2VsZWN0OiBmdW5jdGlvbiBoYW5kbGVGaWxlU2VsZWN0KGUpIHsKICAgIHRoaXMucHJvY2Vzc0ZpbGUoZS50YXJnZXQuZmlsZXMpOwogIH0sCiAgTUFYX0ZJTEVTOiAxMCwKICBNQVhfRklMRV9TSVpFOiAyMDk3MTUyLAogIHByb2Nlc3NGaWxlOiBmdW5jdGlvbiBwcm9jZXNzRmlsZShlKSB7CiAgICB0aGlzLm51bUZpbGVzID0gZS5sZW5ndGgsIHRoaXMuZXJyb3JzID0gW10sIGUubGVuZ3RoID4gdGhpcy5NQVhfRklMRVMgPyB0aGlzLl9zaG93VG9vTWFueUZpbGVzTWVzc2FnZSgpIDogdGhpcy5fZmlsZXNUb29CaWcoZSkgPyB0aGlzLl9zaG93RmlsZVRvb0JpZ01lc3NhZ2UoKSA6IHRoaXMuX2ZpbGVzSGF2ZUJhZEZpbGVFeHRlbnNpb24oZSkgPyB0aGlzLl9zaG93QmFkRmlsZUV4dGVuc2lvbk1lc3NhZ2UoKSA6IEFzc2V0c0RhdGEuYW55RHVwbGljYXRlcyhlKSA/IHRoaXMuX2Fza1VzZXJJZlRoZXlXYW50VG9PdmVyd3JpdGVGaWxlcyhlKSA6IHRoaXMuX3NpZ25Bc3NldHNBbmRVcGxvYWQoZSwgIm5vZHVwbGljYXRlcyIpOwogIH0sCiAgX2Fza1VzZXJJZlRoZXlXYW50VG9PdmVyd3JpdGVGaWxlczogZnVuY3Rpb24gX2Fza1VzZXJJZlRoZXlXYW50VG9PdmVyd3JpdGVGaWxlcyhlKSB7CiAgICB2YXIgdCA9IHRoaXM7CiAgICAkLnNob3dNb2RhbCgiL2FqYXgvYXNzZXRzL292ZXJ3cml0ZV9vcl91cGRhdGVfYXNzZXRzIiwgIm1vZGFsLWVycm9yIiwgZnVuY3Rpb24gKCkgewogICAgICB0Ll91cGRhdGVGaWxlc1RvQmVPdmVyd3JpdHRlbk1vZGFsKGUpLCAkKCIjY29uZmlybS1vdmVyd3JpdGUiKS5fb24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICQuaGlkZU1lc3NhZ2UoKSwgdC5fc2lnbkFzc2V0c0FuZFVwbG9hZChlLCAib3Zld3JpdGUiKTsKICAgICAgfSksICQoIiNjb25maXJtLWNyZWF0ZS1uZXciKS5fb24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICQuaGlkZU1lc3NhZ2UoKSwgdC5fc2lnbkFzc2V0c0FuZFVwbG9hZChlLCAibWFrZXVuaXF1ZSIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgX3VwZGF0ZUZpbGVzVG9CZU92ZXJ3cml0dGVuTW9kYWw6IGZ1bmN0aW9uIF91cGRhdGVGaWxlc1RvQmVPdmVyd3JpdHRlbk1vZGFsKGUpIHsKICAgIHZhciB0ID0gQXNzZXRzRGF0YS5kdXBsaWNhdGVOYW1lcyhlKSwKICAgICAgICBuID0gdGhpcy5fZmlsZXNUb0JlT3ZlcndyaXR0ZW5IVE1MKHQpOwoKICAgICQoIiNsaXN0LW9mLWZpbGVzIikuaHRtbChuKTsKICB9LAogIF9maWxlc1RvQmVPdmVyd3JpdHRlbkhUTUw6IGZ1bmN0aW9uIF9maWxlc1RvQmVPdmVyd3JpdHRlbkhUTUwoZSkgewogICAgdmFyIHQgPSAiIjsKICAgIHJldHVybiBfLmZvckVhY2goZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdCArPSAiPHA+IiArIGUgKyAiPC9wPiI7CiAgICB9KSwgdDsKICB9LAogIF9zaWduQXNzZXRzQW5kVXBsb2FkOiBmdW5jdGlvbiBfc2lnbkFzc2V0c0FuZFVwbG9hZChlLCB0KSB7CiAgICAkLnNob3dNZXNzYWdlKCJVcGxvYWRpbmcgZmlsZS4uLiIpOwoKICAgIGZvciAodmFyIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgewogICAgICB2YXIgcyA9IGVbbl0sCiAgICAgICAgICBpID0gRmlsZVV0aWwubWFrZU5hbWVTYWZlVG9TYXZlKHMubmFtZSk7CiAgICAgIHRoaXMucy5maWxlc1tpXSA9IHM7CiAgICAgIHZhciBvID0gMCwKICAgICAgICAgIHIgPSBzLm5hbWUsCiAgICAgICAgICBhID0gQXNzZXRzRGF0YS5maW5kQXNzZXRCeU5hbWUocy5uYW1lKTsKICAgICAgYSAmJiAoIm92ZXdyaXRlIiA9PT0gdCA/IG8gPSBhLmlkIDogIm1ha2V1bmlxdWUiID09PSB0ICYmIChyID0gQXNzZXRzRGF0YS5idWlsZFVuaXF1ZU5hbWUoYS5uYW1lKSkpOwogICAgICB2YXIgYyA9IHRoaXM7CiAgICAgIFMzLnVwbG9hZEFjY291bnRBc3NldEZpbGVUb1MzKHMsIHIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5zdWNjZXNzID8gYy5fZG9uZVVwbG9hZGluZ0FjY291bnRBc3NldFRvUzMoZSwgbykgOiBjLl9hc3NldFVwbG9hZEZhaWxlZChlKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBfZG9uZVVwbG9hZGluZ0FjY291bnRBc3NldFRvUzM6IGZ1bmN0aW9uIF9kb25lVXBsb2FkaW5nQWNjb3VudEFzc2V0VG9TMyhlLCB0KSB7CiAgICB2YXIgbiA9IHQgPiAwID8gIi91cGxvYWRlZF9hc3NldHMvYWNjb3VudF9hc3NldC8iICsgdCA6ICIvdXBsb2FkZWRfYXNzZXRzL2FjY291bnRfYXNzZXQiOwogICAgQUpBWFV0aWxbdCA+IDAgPyAicHV0IiA6ICJwb3N0Il0obiwgdGhpcy5fZ2V0QWNjb3VudEFzc2V0UG9zdFBhcmFtcyhlLmZpbGUsIGUuZmlsZU5hbWUpLCAkLnByb3h5KHRoaXMuX3VwbG9hZENvbXBsZXRlLCB0aGlzKSwgJC5wcm94eSh0aGlzLl9hc3NldFVwbG9hZEZhaWxlZCwgdGhpcykpOwogIH0sCiAgX2dldEFjY291bnRBc3NldFBvc3RQYXJhbXM6IGZ1bmN0aW9uIF9nZXRBY2NvdW50QXNzZXRQb3N0UGFyYW1zKGUsIHQpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6IHQsCiAgICAgIGNvbnRlbnRfdHlwZTogZS50eXBlLAogICAgICBzaXplX2luX2J5dGVzOiBlLnNpemUsCiAgICAgIHJlc3BvbnNlX3R5cGU6IHdpbmRvdy5fX3BhZ2VUeXBlCiAgICB9OwogIH0sCiAgX2ZpbGVzVG9vQmlnOiBmdW5jdGlvbiBfZmlsZXNUb29CaWcoZSkgewogICAgdmFyIHQgPSB0aGlzOwogICAgcmV0dXJuIF8uc29tZShlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5zaXplID4gdC5NQVhfRklMRV9TSVpFOwogICAgfSk7CiAgfSwKICBfZmlsZXNIYXZlQmFkRmlsZUV4dGVuc2lvbjogZnVuY3Rpb24gX2ZpbGVzSGF2ZUJhZEZpbGVFeHRlbnNpb24oZSkgewogICAgcmV0dXJuIF8uc29tZShlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gISFlLm5hbWUubWF0Y2goL14uK1wuKGV4ZSkkLykgfHwgIWUubmFtZS5tYXRjaCgvXi4rXC4uKyQvKTsKICAgIH0pOwogIH0sCiAgX3Nob3dUb29NYW55RmlsZXNNZXNzYWdlOiBmdW5jdGlvbiBfc2hvd1Rvb01hbnlGaWxlc01lc3NhZ2UoKSB7CiAgICAkLnNob3dNb2RhbCgiL2FqYXgvYXNzZXRzL3Rvb19tYW55X2ZpbGVzIiwgIm1vZGFsLWVycm9yIik7CiAgfSwKICBfc2hvd0ZpbGVUb29CaWdNZXNzYWdlOiBmdW5jdGlvbiBfc2hvd0ZpbGVUb29CaWdNZXNzYWdlKCkgewogICAgJC5zaG93TW9kYWwoIi9hamF4L2Fzc2V0cy9maWxlX3Rvb19iaWciLCAibW9kYWwtZXJyb3IiKTsKICB9LAogIF9zaG93QmFkRmlsZUV4dGVuc2lvbk1lc3NhZ2U6IGZ1bmN0aW9uIF9zaG93QmFkRmlsZUV4dGVuc2lvbk1lc3NhZ2UoKSB7CiAgICAkLnNob3dNb2RhbCgiL2FqYXgvYXNzZXRzL2JhZF9leHRlbnNpb24iLCAibW9kYWwtZXJyb3IiKTsKICB9LAogIF9hc3NldFVwbG9hZEZhaWxlZDogZnVuY3Rpb24gX2Fzc2V0VXBsb2FkRmFpbGVkKGUpIHsKICAgIHRoaXMuX2RlY3JlbWVudEZpbGVDb3VudCgpLCAwID09PSB0aGlzLm51bUZpbGVzICYmIEFKQVhVdGlsLnNob3dTdGFuZGFyZEVycm9yTWVzc2FnZShlKTsKICB9LAogIF9kZWNyZW1lbnRGaWxlQ291bnQ6IGZ1bmN0aW9uIF9kZWNyZW1lbnRGaWxlQ291bnQoKSB7CiAgICAtLXRoaXMubnVtRmlsZXM7CiAgfQp9LCAidW5kZWZpbmVkIiA9PSB0eXBlb2Ygd2luZG93LkNvcHkgJiYgKHdpbmRvdy5Db3B5ID0ge30pLCBfLmV4dGVuZCh3aW5kb3cuQ29weSwgewogIGFzc2V0UmVuYW1lZDogJ0Fzc2V0ICI8JT0gbmFtZSAlPiIgcmVuYW1lZCBzdWNjZXNzZnVsbHkhJywKICBhc3NldFVwbG9hZGVkOiAnQXNzZXQgIjwlPSBuYW1lICU+IiB1cGxvYWRlZCBzdWNjZXNzZnVsbHkhJwp9KSwgd2luZG93LkFzc2V0ID0gQ2xhc3MuZXh0ZW5kKHsKICBpbml0OiBmdW5jdGlvbiBpbml0KGUpIHsKICAgIF8uZXh0ZW5kKHRoaXMsIEFKQVhVdGlsKSwgXy5leHRlbmQodGhpcywgZSk7CiAgfSwKICBzYXZlOiBmdW5jdGlvbiBzYXZlKGUpIHsKICAgIHRoaXMucHV0KCIvdXBsb2FkZWRfYXNzZXRzL2FjY291bnRfYXNzZXQvIiArIHRoaXMuaWQsIHsKICAgICAgdGV4dDogZSwKICAgICAgdXBkYXRlX3R5cGU6ICJ0ZXh0IiwKICAgICAgcmVzcG9uc2VfdHlwZTogd2luZG93Ll9fcGFnZVR5cGUKICAgIH0sIHRoaXMuX2RvbmVTYXZlKTsKICB9LAogIF9kb25lU2F2ZTogZnVuY3Rpb24gX2RvbmVTYXZlKGUpIHsKICAgIEh1Yi5wdWIoImFzc2V0LXVwZGF0ZWQiLCBlKTsKICB9LAogICJkZWxldGUiOiBmdW5jdGlvbiBfZGVsZXRlKGUpIHsKICAgIHZhciB0ID0gIi91cGxvYWRlZF9hc3NldHMvYWNjb3VudF9hc3NldC8iICsgdGhpcy5pZCwKICAgICAgICBuID0gdGhpczsKICAgIHRoaXMuZGVsKHQsIHsKICAgICAgcmVzcG9uc2VfdHlwZTogd2luZG93Ll9fcGFnZVR5cGUKICAgIH0sIGZ1bmN0aW9uICh0KSB7CiAgICAgIG4uX2RvbmVEZWxldGUodCwgZSk7CiAgICB9KTsKICB9LAogIF9kb25lRGVsZXRlOiBmdW5jdGlvbiBfZG9uZURlbGV0ZShlLCB0KSB7CiAgICBIdWIucHViKCJhc3NldC1kZWxldGVkIiwgZSksICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgJiYgdChlKTsKICB9Cn0pLCB3aW5kb3cuQXNzZXRzRGF0YSA9IHsKICBhc3NldHM6IHt9LAogIHNlbGVjdGVkQXNzZXQ6IG51bGwsCiAgYm91bmRUb0h1YjogITEsCiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHRoaXMuX2JpbmRUb0h1YigpLCB0aGlzLl9idWlsZEFzc2V0T2JqZWN0c0Zyb21EQkFzc2V0cygpOwogIH0sCiAgX2JpbmRUb0h1YjogZnVuY3Rpb24gX2JpbmRUb0h1YigpIHsKICAgIHRoaXMuYm91bmRUb0h1YiB8fCAodGhpcy5ib3VuZFRvSHViID0gITAsIEh1Yi5zdWIoImFzc2V0LWFkZGVkIiwgJC5wcm94eSh0aGlzLl9vbkFzc2V0QWRkZWQsIHRoaXMpKSwgSHViLnN1YigiYXNzZXQtZGVsZXRlZCIsICQucHJveHkodGhpcy5fb25Bc3NldERlbGV0ZWQsIHRoaXMpKSwgSHViLnN1YigiYXNzZXQtc2VsZWN0ZWQiLCAkLnByb3h5KHRoaXMuX29uQXNzZXRTZWxlY3RlZCwgdGhpcykpLCBIdWIuc3ViKCJhc3NldC1kZXNlbGVjdGVkIiwgJC5wcm94eSh0aGlzLl9vbkFzc2V0RGVzZWxlY3RlZCwgdGhpcykpKTsKICB9LAogIF9vbkFzc2V0QWRkZWQ6IGZ1bmN0aW9uIF9vbkFzc2V0QWRkZWQoZSwgdCkgewogICAgdGhpcy5hZGQodC5hc3NldCk7CiAgfSwKICBfb25Bc3NldFNlbGVjdGVkOiBmdW5jdGlvbiBfb25Bc3NldFNlbGVjdGVkKGUsIHQpIHsKICAgIHRoaXMuc2VsZWN0ZWRBc3NldCA9IHRoaXMuZmluZCh0LmlkKTsKICB9LAogIF9vbkFzc2V0RGVsZXRlZDogZnVuY3Rpb24gX29uQXNzZXREZWxldGVkKGUsIHQpIHsKICAgIHRoaXMuZGVsKHQuYXNzZXQuaWQpLCB0aGlzLnNlbGVjdGVkQXNzZXQgPSBudWxsOwogIH0sCiAgX29uQXNzZXREZXNlbGVjdGVkOiBmdW5jdGlvbiBfb25Bc3NldERlc2VsZWN0ZWQoKSB7CiAgICB0aGlzLnNlbGVjdGVkQXNzZXQgPSBudWxsOwogIH0sCiAgZ2V0U2VsZWN0ZWRBc3NldDogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRBc3NldCgpIHsKICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQXNzZXQ7CiAgfSwKICBfYnVpbGRBc3NldE9iamVjdHNGcm9tREJBc3NldHM6IGZ1bmN0aW9uIF9idWlsZEFzc2V0T2JqZWN0c0Zyb21EQkFzc2V0cygpIHsKICAgIHZhciBlID0gdGhpczsKCiAgICBfLmZvckVhY2goX19hc3NldHMsIGZ1bmN0aW9uICh0KSB7CiAgICAgIGUuYXNzZXRzW3QuaWRdID0gbmV3IEFzc2V0KHQpOwogICAgfSk7CiAgfSwKICBmaW5kOiBmdW5jdGlvbiBmaW5kKGUpIHsKICAgIHJldHVybiB0aGlzLmFzc2V0c1tlXTsKICB9LAogIGFkZDogZnVuY3Rpb24gYWRkKGUpIHsKICAgIF9fYXNzZXRzW2UuaWRdID0gZSwgdGhpcy5hc3NldHNbZS5pZF0gPSBuZXcgQXNzZXQoZSk7CiAgfSwKICBkZWw6IGZ1bmN0aW9uIGRlbChlKSB7CiAgICBkZWxldGUgX19hc3NldHNbZV0sIGRlbGV0ZSB0aGlzLmFzc2V0c1tlXTsKICB9LAogIGFueUR1cGxpY2F0ZXM6IGZ1bmN0aW9uIGFueUR1cGxpY2F0ZXMoZSkgewogICAgcmV0dXJuIHRoaXMuZHVwbGljYXRlTmFtZXMoZSkubGVuZ3RoID4gMDsKICB9LAogIGR1cGxpY2F0ZU5hbWVzOiBmdW5jdGlvbiBkdXBsaWNhdGVOYW1lcyhlKSB7CiAgICB2YXIgdCA9IHRoaXMuX3NhZmVOYW1lcyh0aGlzLmFzc2V0cyksCiAgICAgICAgbiA9IHRoaXMuX3NhZmVOYW1lcyhlKTsKCiAgICByZXR1cm4gXy5pbnRlcnNlY3Rpb24odCwgbik7CiAgfSwKICBfc2FmZU5hbWVzOiBmdW5jdGlvbiBfc2FmZU5hbWVzKGUpIHsKICAgIHJldHVybiBfLm1hcChlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gRmlsZVV0aWwubWFrZU5hbWVTYWZlVG9TYXZlKGUubmFtZSk7CiAgICB9KTsKICB9LAogIGZpbmRBc3NldEJ5TmFtZTogZnVuY3Rpb24gZmluZEFzc2V0QnlOYW1lKGUpIHsKICAgIHJldHVybiBfLmZpbmQodGhpcy5hc3NldHMsIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiB0Lm5hbWUgPT09IGU7CiAgICB9KTsKICB9LAogIGJ1aWxkVW5pcXVlTmFtZTogZnVuY3Rpb24gYnVpbGRVbmlxdWVOYW1lKGUpIHsKICAgIGZvciAodmFyIHQgPSBlLCBuID0gdGhpcy5maW5kQXNzZXRCeU5hbWUodCk7IG47KSB7CiAgICAgIHQgPSB0aGlzLl9hZGRVbmRlcnNjb3JlT25lVG9FeGlzdGluZ05hbWUodCksIG4gPSB0aGlzLmZpbmRBc3NldEJ5TmFtZSh0KTsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9LAogIF9hZGRVbmRlcnNjb3JlT25lVG9FeGlzdGluZ05hbWU6IGZ1bmN0aW9uIF9hZGRVbmRlcnNjb3JlT25lVG9FeGlzdGluZ05hbWUoZSkgewogICAgdmFyIHQgPSBlLnNwbGl0KCIuIiksCiAgICAgICAgbiA9IHQucG9wKCk7CiAgICByZXR1cm4gdC5qb2luKCIuIikgKyAiX2NvcHkuIiArIG47CiAgfQp9LCB3aW5kb3cuRmlsZVV0aWwgPSB7CiAgbWFrZU5hbWVTYWZlVG9TYXZlOiBmdW5jdGlvbiBtYWtlTmFtZVNhZmVUb1NhdmUoZSkgewogICAgcmV0dXJuIGUuc3BsaXQoIiAiKS5qb2luKCJfIik7CiAgfQp9LCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIHZhciBlID0gJzx1bCBjbGFzcz0iZGVzaWduLWFzc2V0LWNvbG9yLXN3YXRjaGVzIj4nOwoKICAgIGZvciAodmFyIG4gaW4gdCkgewogICAgICBlICs9ICI8bGk+PGgyPiIgKyBuICsgIjwvaDI+IiwgdFtuXS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgZSArPSAnPHNwYW4gY2xhc3M9ImRlc2lnbi1hc3NldC1jb3B5LWFzIiBkYXRhLWNsaXBib2FyZC10ZXh0PSInICsgdCArICciIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAnICsgdCArICc7Ij48L3NwYW4+JzsKICAgICAgfSksIGUgKz0gIjwvbGk+IjsKICAgIH0KCiAgICBlICs9ICI8L3VsPiIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjb2xvci1waWNrZXItYXJlYSIpLmlubmVySFRNTCA9IGU7CiAgfQoKICB2YXIgdCA9IHsKICAgIFJlZDogWyIjRkZFQkVFIiwgIiNGRkNERDIiLCAiI0VGOUE5QSIsICIjRTU3MzczIiwgIiNFRjUzNTAiLCAiI0Y0NDMzNiIsICIjRTUzOTM1IiwgIiNEMzJGMkYiLCAiI0M2MjgyOCIsICIjQjcxQzFDIiwgIiNGRjhBODAiLCAiI0ZGNTI1MiIsICIjRkYxNzQ0IiwgIiNENTAwMDAiXSwKICAgIFBpbms6IFsiI0ZDRTRFQyIsICIjRjhCQkQwIiwgIiNGNDhGQjEiLCAiI0YwNjI5MiIsICIjRUM0MDdBIiwgIiNFOTFFNjMiLCAiI0Q4MUI2MCIsICIjQzIxODVCIiwgIiNBRDE0NTciLCAiIzg4MEU0RiIsICIjRkY4MEFCIiwgIiNGRjQwODEiLCAiI0Y1MDA1NyIsICIjQzUxMTYyIl0sCiAgICBQdXJwbGU6IFsiI0YzRTVGNSIsICIjRTFCRUU3IiwgIiNDRTkzRDgiLCAiI0JBNjhDOCIsICIjQUI0N0JDIiwgIiM5QzI3QjAiLCAiIzhFMjRBQSIsICIjN0IxRkEyIiwgIiM2QTFCOUEiLCAiIzRBMTQ4QyIsICIjRUE4MEZDIiwgIiNFMDQwRkIiLCAiI0Q1MDBGOSIsICIjQUEwMEZGIl0sCiAgICAiRGVlcCBQdXJwbGUiOiBbIiNFREU3RjYiLCAiI0QxQzRFOSIsICIjQjM5RERCIiwgIiM5NTc1Q0QiLCAiIzdFNTdDMiIsICIjNjczQUI3IiwgIiM1RTM1QjEiLCAiIzUxMkRBOCIsICIjNDUyN0EwIiwgIiMzMTFCOTIiLCAiI0IzODhGRiIsICIjN0M0REZGIiwgIiM2NTFGRkYiLCAiIzYyMDBFQSJdLAogICAgSW5kaWdvOiBbIiNFOEVBRjYiLCAiI0M1Q0FFOSIsICIjOUZBOERBIiwgIiM3OTg2Q0IiLCAiIzVDNkJDMCIsICIjM0Y1MUI1IiwgIiMzOTQ5QUIiLCAiIzMwM0Y5RiIsICIjMjgzNTkzIiwgIiMxQTIzN0UiLCAiIzhDOUVGRiIsICIjNTM2REZFIiwgIiMzRDVBRkUiLCAiIzMwNEZGRSJdLAogICAgQmx1ZTogWyIjRTNGMkZEIiwgIiNCQkRFRkIiLCAiIzkwQ0FGOSIsICIjNjRCNUY2IiwgIiM0MkE1RjUiLCAiIzIxOTZGMyIsICIjMUU4OEU1IiwgIiMxOTc2RDIiLCAiIzE1NjVDMCIsICIjMEQ0N0ExIiwgIiM4MkIxRkYiLCAiIzQ0OEFGRiIsICIjMjk3OUZGIiwgIiMyOTYyRkYiXSwKICAgICJMaWdodCBCbHVlIjogWyIjRTFGNUZFIiwgIiNCM0U1RkMiLCAiIzgxRDRGQSIsICIjNEZDM0Y3IiwgIiMyOUI2RjYiLCAiIzAzQTlGNCIsICIjMDM5QkU1IiwgIiMwMjg4RDEiLCAiIzAyNzdCRCIsICIjMDE1NzlCIiwgIiM4MEQ4RkYiLCAiIzQwQzRGRiIsICIjMDBCMEZGIiwgIiMwMDkxRUEiXSwKICAgIEN5YW46IFsiI0UwRjdGQSIsICIjQjJFQkYyIiwgIiM4MERFRUEiLCAiIzRERDBFMSIsICIjMjZDNkRBIiwgIiMwMEJDRDQiLCAiIzAwQUNDMSIsICIjMDA5N0E3IiwgIiMwMDgzOEYiLCAiIzAwNjA2NCIsICIjODRGRkZGIiwgIiMxOEZGRkYiLCAiIzAwRTVGRiIsICIjMDBCOEQ0Il0sCiAgICBUZWFsOiBbIiNFMEYyRjEiLCAiI0IyREZEQiIsICIjODBDQkM0IiwgIiM0REI2QUMiLCAiIzI2QTY5QSIsICIjMDA5Njg4IiwgIiMwMDg5N0IiLCAiIzAwNzk2QiIsICIjMDA2OTVDIiwgIiMwMDRENDAiLCAiI0E3RkZFQiIsICIjNjRGRkRBIiwgIiMxREU5QjYiLCAiIzAwQkZBNSJdLAogICAgR3JlZW46IFsiI0U4RjVFOSIsICIjQzhFNkM5IiwgIiNBNUQ2QTciLCAiIzgxQzc4NCIsICIjNjZCQjZBIiwgIiM0Q0FGNTAiLCAiIzQzQTA0NyIsICIjMzg4RTNDIiwgIiMyRTdEMzIiLCAiIzFCNUUyMCIsICIjQjlGNkNBIiwgIiM2OUYwQUUiLCAiIzAwRTY3NiIsICIjMDBDODUzIl0sCiAgICAiTGlnaHQgR3JlZW4iOiBbIiNGMUY4RTkiLCAiI0RDRURDOCIsICIjQzVFMUE1IiwgIiNBRUQ1ODEiLCAiIzlDQ0M2NSIsICIjOEJDMzRBIiwgIiM3Q0IzNDIiLCAiIzY4OUYzOCIsICIjNTU4QjJGIiwgIiMzMzY5MUUiLCAiI0NDRkY5MCIsICIjQjJGRjU5IiwgIiM3NkZGMDMiLCAiIzY0REQxNyJdLAogICAgTGltZTogWyIjRjlGQkU3IiwgIiNGMEY0QzMiLCAiI0U2RUU5QyIsICIjRENFNzc1IiwgIiNENEUxNTciLCAiI0NEREMzOSIsICIjQzBDQTMzIiwgIiNBRkI0MkIiLCAiIzlFOUQyNCIsICIjODI3NzE3IiwgIiNGNEZGODEiLCAiI0VFRkY0MSIsICIjQzZGRjAwIiwgIiNBRUVBMDAiXSwKICAgIFllbGxvdzogWyIjRkZGREU3IiwgIiNGRkY5QzQiLCAiI0ZGRjU5RCIsICIjRkZGMTc2IiwgIiNGRkVFNTgiLCAiI0ZGRUIzQiIsICIjRkREODM1IiwgIiNGQkMwMkQiLCAiI0Y5QTgyNSIsICIjRjU3RjE3IiwgIiNGRkZGOEQiLCAiI0ZGRkYwMCIsICIjRkZFQTAwIiwgIiNGRkQ2MDAiXSwKICAgIEFtYmVyOiBbIiNGRkY4RTEiLCAiI0ZGRUNCMyIsICIjRkZFMDgyIiwgIiNGRkQ1NEYiLCAiI0ZGQ0EyOCIsICIjRkZDMTA3IiwgIiNGRkIzMDAiLCAiI0ZGQTAwMCIsICIjRkY4RjAwIiwgIiNGRjZGMDAiLCAiI0ZGRTU3RiIsICIjRkZENzQwIiwgIiNGRkM0MDAiLCAiI0ZGQUIwMCJdLAogICAgT3JhbmdlOiBbIiNGRkYzRTAiLCAiI0ZGRTBCMiIsICIjRkZDQzgwIiwgIiNGRkI3NEQiLCAiI0ZGQTcyNiIsICIjRkY5ODAwIiwgIiNGQjhDMDAiLCAiI0Y1N0MwMCIsICIjRUY2QzAwIiwgIiNFNjUxMDAiLCAiI0ZGRDE4MCIsICIjRkZBQjQwIiwgIiNGRjkxMDAiLCAiI0ZGNkQwMCJdLAogICAgIkRlZXAgT3JhbmdlIjogWyIjRkJFOUU3IiwgIiNGRkNDQkMiLCAiI0ZGQUI5MSIsICIjRkY4QTY1IiwgIiNGRjcwNDMiLCAiI0ZGNTcyMiIsICIjRjQ1MTFFIiwgIiNFNjRBMTkiLCAiI0Q4NDMxNSIsICIjQkYzNjBDIiwgIiNGRjlFODAiLCAiI0ZGNkU0MCIsICIjRkYzRDAwIiwgIiNERDJDMDAiXSwKICAgIEJyb3duOiBbIiNFRkVCRTkiLCAiI0Q3Q0NDOCIsICIjQkNBQUE0IiwgIiNBMTg4N0YiLCAiIzhENkU2MyIsICIjNzk1NTQ4IiwgIiM2RDRDNDEiLCAiIzVENDAzNyIsICIjNEUzNDJFIiwgIiMzRTI3MjMiXSwKICAgIEdyZXk6IFsiI0ZBRkFGQSIsICIjRjVGNUY1IiwgIiNFRUVFRUUiLCAiI0UwRTBFMCIsICIjQkRCREJEIiwgIiM5RTlFOUUiLCAiIzc1NzU3NSIsICIjNjE2MTYxIiwgIiM0MjQyNDIiLCAiIzIxMjEyMSJdLAogICAgIkJsdWUgR3JleSI6IFsiI0VDRUZGMSIsICIjQ0ZEOERDIiwgIiNCMEJFQzUiLCAiIzkwQTRBRSIsICIjNzg5MDlDIiwgIiM2MDdEOEIiLCAiIzU0NkU3QSIsICIjNDU1QTY0IiwgIiMzNzQ3NEYiLCAiIzI2MzIzOCJdCiAgfTsKICBDUC5Db2xvclBpY2tlciA9IHt9LCBDUC5Db2xvclBpY2tlci5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgZSgpOwogIH07Cn0oKSwgZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIGUoKSB7CiAgICB2YXIgZSA9IG5ldyBDbGlwYm9hcmQoIi5kZXNpZ24tYXNzZXQtY29weS1hcyIpOwogICAgZS5vbigic3VjY2VzcyIsIGZ1bmN0aW9uICgpIHsKICAgICAgJC5zaG93TWVzc2FnZSgiQ29waWVkIHRvIGNsaXBib2FyZCEiKTsKICAgIH0pLCBlLm9uKCJlcnJvciIsIGZ1bmN0aW9uICgpIHsKICAgICAgJC5zaG93TWVzc2FnZSgiQ29weSBmYWlsZWQuIik7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHQoKSB7CiAgICAkKCJib2R5Iikub24oImNsaWNrIiwgIi50cmlnZ2VyLXVuc3BsYXNoLWFwaS1ndWlkZWxpbmUiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9ICQoZS50YXJnZXQpLnBhcmVudCgiW2RhdGEtZG93bmxvYWQtbG9jYXRpb25dIikuZGF0YSgiZG93bmxvYWQtbG9jYXRpb24iKTsKICAgICAgdCArPSAiP2NsaWVudF9pZD0iICsgcywgJC5nZXQodCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIG4oKSB7CiAgICAkKCIjZGVzaWduLWFzc2V0cy1oZWFkZXIiKS5vbigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICQoImJvZHkiKS5oYXNDbGFzcygibGF5b3V0LXNpZGUiKSAmJiAkKCIjZGVzaWduLW1vZGFsLXRhYnMiKS5zbGlkZVRvZ2dsZSgpOwogICAgfSksICQoIiN5b3VyLWZpbGVzLWhlYWRlciIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgJCgiYm9keSIpLmhhc0NsYXNzKCJsYXlvdXQtc2lkZSIpICYmICQoIiNhc3NldHMtYXJlYSIpLnNsaWRlVG9nZ2xlKCk7CiAgICB9KTsKICB9CgogIENQLkRlc2lnbkFzc2V0cyA9IHt9OwogIHZhciBzID0gIjhlMzFlNDVmNGEwZTg5NTlkNDU2YmEyOTE0NzIzNDUxYjgyNjIzMzdmNzViY2VhMmUwNGFlNTM1NDkxZGYxNmQiOwoKICBDUC5EZXNpZ25Bc3NldHMuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIGUoKSwgbigpLCB0KCk7CiAgfTsKfSgpLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgICQoIi5kZXNpZ24tYXNzZXQtaWNvbi1saXN0ID4gbGkiKS5lYWNoKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICQodCkuYXR0cigiZGF0YS1jbGlwYm9hcmQtdGV4dCIsICQudHJpbSh0LmlubmVySFRNTCkpLmFkZENsYXNzKCJkZXNpZ24tYXNzZXQtY29weS1hcyIpOwogICAgfSk7CiAgfQoKICBDUC5JY29uUGlja2VyID0ge30sIENQLkljb25QaWNrZXIuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIGUoKTsKICB9Owp9KCksIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBlKCkgewogICAgJCgiLmRlc2lnbi1hc3NldC1wYXR0ZXJuLWxpc3QgPiBsaSIpLmVhY2goZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgJCh0KS5hdHRyKCJkYXRhLWNsaXBib2FyZC10ZXh0IiwgJCh0KS5hdHRyKCJzdHlsZSIpKS5hZGRDbGFzcygiZGVzaWduLWFzc2V0LWNvcHktYXMiKTsKICAgIH0pOwogIH0KCiAgQ1AuUGF0dGVyblBpY2tlciA9IHt9LCBDUC5QYXR0ZXJuUGlja2VyLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICBlKCk7CiAgfTsKfSgpLCBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gZSgpIHsKICAgIHQoImh0dHBzOi8vYXBpLnVuc3BsYXNoLmNvbS9waG90b3MvcmFuZG9tLz9jb3VudD0iICsgaSArICImY2xpZW50X2lkPSIgKyBvKTsKICB9CgogIGZ1bmN0aW9uIHQoZSkgewogICAgJC5hamF4KHsKICAgICAgdXJsOiBlLAogICAgICB0eXBlOiAiR0VUIgogICAgfSkuZG9uZShmdW5jdGlvbiAoZSkgewogICAgICBzKGUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBuKCkgewogICAgJCgiI3Vuc3BsYXNoLXNlYXJjaCIpLm9uKCJzdWJtaXQiLCBmdW5jdGlvbiAoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCksIHQoImh0dHBzOi8vYXBpLnVuc3BsYXNoLmNvbS9zZWFyY2gvcGhvdG9zP3BhZ2U9MSZwZXJfcGFnZT0iICsgaSArICImcXVlcnk9IiArICQoIiN1bnNwbGFzaC1zZWFyY2gtaW5wdXQiKS52YWwoKSArICImY2xpZW50X2lkPSIgKyBvKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gcyhlKSB7CiAgICBmb3IgKHZhciB0LCBuID0gIiIsIHMgPSAodCA9IGUucmVzdWx0cyA/IGUucmVzdWx0cyA6IGUpLmxlbmd0aCAtIDE7IHMgPj0gMDsgcy0tKSB7CiAgICAgIG4gKz0gcih0W3NdKTsKICAgIH0KCiAgICAkKCIjZGVzaWduLWFzc2V0LXBob3RvLWxpc3QiKS5odG1sKG4pOwogIH0KCiAgQ1AuUGhvdG9QaWNrZXIgPSB7fTsKICB2YXIgaSA9IDEwLAogICAgICBvID0gIjhlMzFlNDVmNGEwZTg5NTlkNDU2YmEyOTE0NzIzNDUxYjgyNjIzMzdmNzViY2VhMmUwNGFlNTM1NDkxZGYxNmQiOwoKICBDUC5QaG90b1BpY2tlci5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgZSgpLCBuKCk7CiAgfTsKCiAgdmFyIHIgPSBfLnRlbXBsYXRlKCc8bGkgZGF0YS1kb3dubG9hZC1sb2NhdGlvbj0iPCU9IGxpbmtzLmRvd25sb2FkX2xvY2F0aW9uICU+Ij48aW1nIHNyYz0iPCU9IHVybHMucmVndWxhciAlPiIgYWx0PSIiIGRhdGEtY2xpcGJvYXJkLXRleHQ9IjwlPSB1cmxzLmZ1bGwgJT4iIGNsYXNzPSJhc3NldC1jb3B5LWFzIHRyaWdnZXItdW5zcGxhc2gtYXBpLWd1aWRlbGluZSI+PGRpdj5CeSA8YSBocmVmPSI8JT0gbGlua3MuaHRtbCAlPj91dG1fc291cmNlPUNvZGVQZW4mdXRtX21lZGl1bT1yZWZlcnJhbCZ1dG1fY2FtcGFpZ249YXBpLWNyZWRpdCI+PCU9IHVzZXIubmFtZSAlPjwvYT48YnV0dG9uIGNsYXNzPSJhc3NldC1kcm9wZG93bi1hcnJvdyBidXR0b24gbWluaS1idXR0b24gYnV0dG9uLW1lZGl1bSBlZGl0b3ItZHJvcGRvd24tYnV0dG9uIiBkYXRhLWRyb3Bkb3duPSIjcGhvdG8tZHJvcGRvd24tPCU9IGlkICU+Ij48c3ZnIGNsYXNzPSJkcm9wZG93bi1hcnJvdyI+PHVzZSB4bGluazpocmVmPSIjYXJyb3ctZG93bi1taW5pIj48L3VzZT48L3N2Zz48L2J1dHRvbj48dWwgaWQ9InBob3RvLWRyb3Bkb3duLTwlPSBpZCAlPiIgY2xhc3M9ImxpbmstbGlzdCBpcy1kcm9wZG93biBlZGl0b3ItZHJvcGRvd24iIGRhdGEtZHJvcGRvd24tcG9zaXRpb249ImNzcyI+PGxpPjxhIGhyZWY9IiMwIiBpZD0iIiBjbGFzcz0iYXNzZXQtY29weS1hcyB0cmlnZ2VyLXVuc3BsYXNoLWFwaS1ndWlkZWxpbmUiIGRhdGEtY2xpcGJvYXJkLXRleHQ9IjwlPSB1cmxzLmZ1bGwgJT4iPkNvcHkgVVJMIDxzcGFuPihGdWxsKTwvc3Bhbj48L2E+PC9saT48bGk+PGEgaHJlZj0iIzAiIGlkPSIiIGNsYXNzPSJhc3NldC1jb3B5LWFzIHRyaWdnZXItdW5zcGxhc2gtYXBpLWd1aWRlbGluZSIgZGF0YS1jbGlwYm9hcmQtdGV4dD0iPCU9IHVybHMuc21hbGwgJT4iPkNvcHkgVVJMIDxzcGFuPihTbWFsbCk8L3NwYW4+PC9hPjwvbGk+PGxpPjxhIGhyZWY9IiMwIiBpZD0iIiBjbGFzcz0iYXNzZXQtY29weS1hcyB0cmlnZ2VyLXVuc3BsYXNoLWFwaS1ndWlkZWxpbmUiIGRhdGEtY2xpcGJvYXJkLXRleHQ9IiZsdDtpbWcgc3JjPVwnPCU9IHVybHMuZnVsbCAlPlwnIGFsdD1cJ1wnJmd0OyI+Q29weSBhcyAmbHQ7aW1nJmd0OyA8c3Bhbj4oRnVsbCk8L3NwYW4+PC9hPjwvbGk+PGxpPjxhIGhyZWY9IiMwIiBpZD0iIiBjbGFzcz0iYXNzZXQtY29weS1hcyB0cmlnZ2VyLXVuc3BsYXNoLWFwaS1ndWlkZWxpbmUiIGRhdGEtY2xpcGJvYXJkLXRleHQ9IiZsdDtpbWcgc3JjPVwnPCU9IHVybHMuc21hbGwgJT5cJyBhbHQ9XCdcJyZndDsiPkNvcHkgYXMgJmx0O2ltZyZndDsgPHNwYW4+KFNtYWxsKTwvc3Bhbj48L2E+PC9saT48bGk+PGEgaHJlZj0iIzAiIGlkPSIiIGNsYXNzPSJhc3NldC1jb3B5LWFzIHRyaWdnZXItdW5zcGxhc2gtYXBpLWd1aWRlbGluZSIgZGF0YS1jbGlwYm9hcmQtdGV4dD0iYmFja2dyb3VuZC1pbWFnZTogdXJsKDwlPSB1cmxzLmZ1bGwgJT4pOyI+Q29weSBhcyBiYWNrZ3JvdW5kIDxzcGFuPihGdWxsKTwvc3Bhbj48L2E+PC9saT48bGk+PGEgaHJlZj0iIzAiIGlkPSIiIGNsYXNzPSJhc3NldC1jb3B5LWFzIHRyaWdnZXItdW5zcGxhc2gtYXBpLWd1aWRlbGluZSIgZGF0YS1jbGlwYm9hcmQtdGV4dD0iYmFja2dyb3VuZC1pbWFnZTogdXJsKDwlPSB1cmxzLnNtYWxsICU+KTsiPkNvcHkgYXMgYmFja2dyb3VuZCA8c3Bhbj4oc21hbGwpPC9zcGFuPjwvYT48L2xpPjwvdWw+PC9kaXY+PC9saT4nKTsKfSgpLCB3aW5kb3cuTWluaXBhZ2VBc3NldHMgPSB7CiAgaXNBc3NldHNSZWFkeTogITEsCiAgaXNBc3NldHNPcGVuOiAhMSwKICBhc3NldHNXcmFwOiAkKCIjYXNzZXRzLXdyYXAiKSwKICBwb3B1cE5hbWU6ICJhc3NldHMiLAogIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICB0aGlzLnVzZXIgPSBfX3VzZXIsIHRoaXMucGFnZVR5cGUgPSAiYXNzZXRzX21pbmkiLCBfLmV4dGVuZCh0aGlzLCBBSkFYVXRpbCksIF8uZXh0ZW5kKHRoaXMsIEFzc2V0cyksIHRoaXMuX2JpbmRUb0RPTSgpLCB0aGlzLl9iaW5kVG9IdWIoKTsKICB9LAogIF9iaW5kVG9IdWI6IGZ1bmN0aW9uIF9iaW5kVG9IdWIoKSB7CiAgICBIdWIuc3ViKCJhc3NldC1hZGRlZCIsICQucHJveHkodGhpcy5fb25Bc3NldEFkZGVkLCB0aGlzKSksIEh1Yi5zdWIoImtleSIsICQucHJveHkodGhpcy5fb25LZXksIHRoaXMpKSwgSHViLnN1YigicG9wdXAtb3BlbiIsICQucHJveHkodGhpcy5fb25Qb3B1cE9wZW4sIHRoaXMpKTsKICB9LAogIF9iaW5kVG9ET006IGZ1bmN0aW9uIF9iaW5kVG9ET00oKSB7CiAgICB2YXIgZSA9IHRoaXM7CiAgICAkKCJib2R5Iikub24oImNsaWNrIiwgIiNhc3NldHMtbGluayIsIGZ1bmN0aW9uICgpIHsKICAgICAgZS5fdG9nZ2xlTWluaUFzc2V0c1ZpZXcoKTsKICAgIH0pOwogIH0sCiAgX2JpbmRBc3NldEV2ZW50czogZnVuY3Rpb24gX2JpbmRBc3NldEV2ZW50cygpIHsKICAgIHZhciBlID0gdGhpczsKICAgIHRoaXMuYWxsRmlsZXMub24oImNsaWNrIiwgIi5maWxlLWRlbGV0ZSIsIGZ1bmN0aW9uICh0KSB7CiAgICAgIGUuZGVsZXRlRmlsZSh0LCB0aGlzKTsKICAgIH0pLCB0aGlzLmFsbEZpbGVzLm9uKCJtb3VzZWVudGVyIiwgIi5maWxlLXByZXZpZXciLCBmdW5jdGlvbiAodCkgewogICAgICBlLnNldEltYWdlUHJldmlld1VSTCh0LCB0aGlzKTsKICAgIH0pLCB0aGlzLmFsbEZpbGVzLm9uKCJjbGljayIsICIuYWRkLWFzLWV4dGVybmFsLXN0eWxlc2hlZXQiLCBmdW5jdGlvbiAodCkgewogICAgICBlLmFkZEFzRXh0ZXJuYWxTdHlsZXNoZWV0KHQsIHRoaXMpOwogICAgfSksIHRoaXMuYWxsRmlsZXMub24oImNsaWNrIiwgIi5hZGQtYXMtZXh0ZXJuYWwtc2NyaXB0IiwgZnVuY3Rpb24gKHQpIHsKICAgICAgZS5hZGRBc0V4dGVybmFsU2NyaXB0KHQsIHRoaXMpOwogICAgfSksICQoIiNhc3NldHMtYXJlYS1jbG9zZS1idXR0b24iKS5fb24oImNsaWNrIiwgdGhpcy5fY2xvc2VBc3NldHNBcmVhLCB0aGlzKTsKICB9LAogIF90b2dnbGVNaW5pQXNzZXRzVmlldzogZnVuY3Rpb24gX3RvZ2dsZU1pbmlBc3NldHNWaWV3KCkgewogICAgdGhpcy5pc0Fzc2V0c09wZW4gPyB0aGlzLl9jbG9zZUFzc2V0c0FyZWEoKSA6IHRoaXMuX29wZW5Bc3NldHNBcmVhKCk7CiAgfSwKICBfY2xvc2VBc3NldHNBcmVhOiBmdW5jdGlvbiBfY2xvc2VBc3NldHNBcmVhKCkgewogICAgdGhpcy5hc3NldHNXcmFwLmxlbmd0aCAmJiB0aGlzLmFzc2V0c1dyYXAucmVtb3ZlQ2xhc3MoIm9wZW4iKSwgdGhpcy5pc0Fzc2V0c09wZW4gPSAhMTsKICB9LAogIF9vcGVuQXNzZXRzQXJlYTogZnVuY3Rpb24gX29wZW5Bc3NldHNBcmVhKCkgewogICAgdmFyIGUgPSB0aGlzOwogICAgdGhpcy5pc0Fzc2V0c1JlYWR5ID8gZS5hc3NldHNXcmFwLmFkZENsYXNzKCJvcGVuIikgOiAkLmdldCgiL2FqYXgvYXNzZXRzL2JpbiIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICQoIiNhc3NldC1iaW4tZ29lcy1oZXJlIikucmVwbGFjZVdpdGgodC5odG1sKSwgZS5fZ2V0QXNzZXRzKCksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGUuYXNzZXRzV3JhcCA9ICQoIiNhc3NldHMtd3JhcCIpLCBlLmFzc2V0c1dyYXAuc2hvdygpLCBlLmFzc2V0c1dyYXAuYWRkQ2xhc3MoIm9wZW4iKSwgZS5hbGxGaWxlcyA9ICQoIiN5b3VyLWZpbGVzLXRhYnMiKSwgQ1AuQ29sb3JQaWNrZXIuaW5pdCgpLCBDUC5JY29uUGlja2VyLmluaXQoKSwgQ1AuUGF0dGVyblBpY2tlci5pbml0KCksIENQLlBob3RvUGlja2VyLmluaXQoKSwgQ1AuRGVzaWduQXNzZXRzLmluaXQoKSwgZS5pc0Fzc2V0c1JlYWR5ID0gITAsIGUuX2JpbmRBc3NldEV2ZW50cygpLCBTZWFyY2hGaWx0ZXIuaW5pdCgpLCBlLl9iaW5kVG9EcmFnQW5kRHJvcCgpOwogICAgICB9LCAxMCk7CiAgICB9KSwgdGhpcy5pc0Fzc2V0c09wZW4gPSAhMCwgSHViLnB1YigicG9wdXAtb3BlbiIsIHRoaXMucG9wdXBOYW1lKTsKICB9LAogIF9nZXRBc3NldHM6IGZ1bmN0aW9uIF9nZXRBc3NldHMoKSB7CiAgICB0aGlzLmdldCgiL3VwbG9hZGVkX2Fzc2V0cy9hY2NvdW50X2Fzc2V0Iiwge30sIHRoaXMuX2RvbmVHZXRBc3NldHMpOwogIH0sCiAgX2RvbmVHZXRBc3NldHM6IGZ1bmN0aW9uIF9kb25lR2V0QXNzZXRzKGUpIHsKICAgIHdpbmRvdy5fX2Fzc2V0cyA9IGUuYXNzZXRzLCBBc3NldHNEYXRhLmluaXQoKSwgJCgiI2Fzc2V0cy1hbGwtZmlsZXMiKS5yZXBsYWNlV2l0aChlLmFzc2V0X2xpc3RfaHRtbCksICQoIiNwcm9ncmVzcyIpLnJlcGxhY2VXaXRoKGUuYXNzZXRzX3NwYWNlX2luZGljYXRvcl9odG1sKSwgJCgiI2Fzc2V0cy1hcmVhIikuYWRkQ2xhc3MoImZpbGVzLWxvYWRlZCIpLCB0aGlzLl9zZXRVcENvcHlCdXR0b25zKCk7CiAgfSwKICBfb25LZXk6IGZ1bmN0aW9uIF9vbktleShlLCB0KSB7CiAgICAiZXNjIiA9PT0gdC5rZXkgJiYgdGhpcy5fY2xvc2VBc3NldHNBcmVhKCk7CiAgfSwKICBfb25Qb3B1cE9wZW46IGZ1bmN0aW9uIF9vblBvcHVwT3BlbihlLCB0KSB7CiAgICB0ICE9PSB0aGlzLnBvcHVwTmFtZSAmJiB0aGlzLl9jbG9zZUFzc2V0c0FyZWEoKTsKICB9LAogIF9zZXRVcENvcHlCdXR0b25zOiBmdW5jdGlvbiBfc2V0VXBDb3B5QnV0dG9ucygpIHsKICAgIHZhciBlID0gbmV3IENsaXBib2FyZCgiLmFzc2V0LWNvcHktYXMiKTsKICAgIGUub24oInN1Y2Nlc3MiLCBmdW5jdGlvbiAoKSB7CiAgICAgICQuc2hvd01lc3NhZ2UoIkNvcGllZCB0byBjbGlwYm9hcmQhIik7CiAgICB9KSwgZS5vbigiZXJyb3IiLCBmdW5jdGlvbiAoKSB7CiAgICAgICQuc2hvd01lc3NhZ2UoIkNvcHlpbmcgZmFpbGVkLiIpOwogICAgfSk7CiAgfSwKICBhZGRBc0V4dGVybmFsU3R5bGVzaGVldDogZnVuY3Rpb24gYWRkQXNFeHRlcm5hbFN0eWxlc2hlZXQoZSwgdCkgewogICAgQ1AuY3NzU2V0dGluZ3NDb250cm9sbGVyLnJlc291cmNlc0NvbnRyb2xsZXIucXVpY2tBZGRSZXNvdXJjZSgiY3NzIiwgJCh0KS5jbG9zZXN0KCIuc2luZ2xlLWFzc2V0IikuZGF0YSgiYXNzZXQtdXJsIikpLCAkLnNob3dNZXNzYWdlKCJBZGRlZCBhcyBFeHRlcm5hbCBDU1MgaW4gUGVuIFNldHRpbmdzISIpOwogIH0sCiAgYWRkQXNFeHRlcm5hbFNjcmlwdDogZnVuY3Rpb24gYWRkQXNFeHRlcm5hbFNjcmlwdChlLCB0KSB7CiAgICBDUC5qc1NldHRpbmdzQ29udHJvbGxlci5yZXNvdXJjZXNDb250cm9sbGVyLnF1aWNrQWRkUmVzb3VyY2UoImpzIiwgJCh0KS5jbG9zZXN0KCIuc2luZ2xlLWFzc2V0IikuZGF0YSgiYXNzZXQtdXJsIikpLCAkLnNob3dNZXNzYWdlKCJBZGRlZCBhcyBFeHRlcm5hbCBKYXZhU2NyaXB0IGluIFBlbiBTZXR0aW5ncyEiKTsKICB9LAogIGRlbGV0ZUZpbGU6IGZ1bmN0aW9uIGRlbGV0ZUZpbGUoZSwgdCkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgdmFyIG4gPSB0aGlzLAogICAgICAgIHMgPSAkKHQpLmRhdGEoImFzc2V0LWlkIik7CiAgICAkLnNob3dNb2RhbCgiL2FqYXgvYXNzZXRzL2NvbmZpcm1fYXNzZXRfZGVsZXRlIiwgIm1vZGFsLXdhcm5pbmciLCBmdW5jdGlvbiAoKSB7CiAgICAgIG4uX2RvbmVDb25maXJtRGVsZXRlQXNzZXQocyk7CiAgICB9KTsKICB9LAogIF9kb25lQ29uZmlybURlbGV0ZUFzc2V0OiBmdW5jdGlvbiBfZG9uZUNvbmZpcm1EZWxldGVBc3NldChlKSB7CiAgICAkKCIjY29uZmlybS1kZWxldGUiKS5fb24oImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmZpbmlzaERlbGV0aW5nQXNzZXQoZSk7CiAgICB9LCB0aGlzKTsKICB9LAogIGZpbmlzaERlbGV0aW5nQXNzZXQ6IGZ1bmN0aW9uIGZpbmlzaERlbGV0aW5nQXNzZXQoZSkgewogICAgJC5oaWRlTWVzc2FnZSgpLCBBc3NldHNEYXRhLmZpbmQoZSlbImRlbGV0ZSJdKCQucHJveHkodGhpcy5kb25lRGVsZXRlRmlsZUFqYXgsIHRoaXMpKTsKICB9LAogIF91cGxvYWRDb21wbGV0ZTogZnVuY3Rpb24gX3VwbG9hZENvbXBsZXRlKGUpIHsKICAgIHRoaXMuX2RlY3JlbWVudEZpbGVDb3VudCgpLCBIdWIucHViKCJhc3NldC1hZGRlZCIsIGUpOwogIH0sCiAgX29uQXNzZXRBZGRlZDogZnVuY3Rpb24gX29uQXNzZXRBZGRlZChlLCB0KSB7CiAgICB0aGlzLl9hZGROZXdBc3NldEhUTUwodCksIHRoaXMuX3Jlc2V0RmlsZUlucHV0KCQoIiNtYW51YWwtZmlsZS11cGxvYWQiKSk7CiAgfSwKICBfYWRkTmV3QXNzZXRIVE1MOiBmdW5jdGlvbiBfYWRkTmV3QXNzZXRIVE1MKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSB0aGlzOwogICAgdGhpcy5fYXNzZXRFbEV4aXN0KGUpID8gJCgiI2Fzc2V0LSIgKyBlLmFzc2V0LmlkKS5zbGlkZVVwKGZ1bmN0aW9uICgpIHsKICAgICAgJCgiI2Fzc2V0LSIgKyBlLmFzc2V0LmlkKS5yZW1vdmUoKSwgKHQgPSAkKGUuYXNzZXRfbGlzdF9odG1sKSkuY3NzKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlWSgwKSIpLCB0LmFkZENsYXNzKCJuZXdseS1hZGRlZCIpLCBuLl9hZGRBc3NldFRvQ2F0ZWdvcnkodCwgZS5hc3NldC5jYXRlZ29yeSksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHQucmVtb3ZlQ2xhc3MoIm5ld2x5LWFkZGVkIiksIHQuY3NzKCJ0cmFuc2Zvcm0iLCAiIik7CiAgICAgIH0sIDUwKTsKICAgIH0pIDogKCh0ID0gJChlLmFzc2V0X2xpc3RfaHRtbCkpLmFkZENsYXNzKCJuZXdseS1hZGRlZCIpLCBuLl9hZGRBc3NldFRvQ2F0ZWdvcnkodCwgZS5hc3NldC5jYXRlZ29yeSksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICB0LnJlbW92ZUNsYXNzKCJuZXdseS1hZGRlZCIpOwogICAgfSwgNTApKTsKICB9LAogIF9hc3NldEVsRXhpc3Q6IGZ1bmN0aW9uIF9hc3NldEVsRXhpc3QoZSkgewogICAgcmV0dXJuICQoIiNhc3NldC0iICsgZS5hc3NldC5pZCkubGVuZ3RoID4gMDsKICB9LAogIF9hZGRBc3NldFRvQ2F0ZWdvcnk6IGZ1bmN0aW9uIF9hZGRBc3NldFRvQ2F0ZWdvcnkoZSwgdCkgewogICAgJCgiYVtocmVmPScjeW91ci1maWxlcy0iICsgdCArICInXSIpLmNsaWNrKCksIGUucHJlcGVuZFRvKCIjZmlsZS1saXN0LSIgKyB0KSwgJCgiI2ZpbGUtbGlzdC0iICsgdCkuZmluZCgiLm5vLWZpbGVzIikucmVtb3ZlKCk7CiAgfSwKICBfcmVzZXRGaWxlSW5wdXQ6IGZ1bmN0aW9uIF9yZXNldEZpbGVJbnB1dChlKSB7CiAgICBlLndyYXAoIjxmb3JtIC8+IikuY2xvc2VzdCgiZm9ybSIpLmdldCgwKS5yZXNldCgpLCBlLnVud3JhcCgpOwogIH0sCiAgZG9uZURlbGV0ZUZpbGVBamF4OiBmdW5jdGlvbiBkb25lRGVsZXRlRmlsZUFqYXgoZSkgewogICAgQXNzZXRzRGF0YS5kZWwoZS5hc3NldC5pZCksIHRoaXMuX3JlbW92ZUxpc3RJdGVtKGUuYXNzZXQuaWQpOwogIH0sCiAgX3JlbW92ZUxpc3RJdGVtOiBmdW5jdGlvbiBfcmVtb3ZlTGlzdEl0ZW0oZSkgewogICAgdmFyIHQgPSAkKCIjYXNzZXQtIiArIGUpOwogICAgMCA9PT0gdC5zaWJsaW5ncygpLmxlbmd0aCAmJiB0LnBhcmVudCgpLmFwcGVuZCgiPGxpIGNsYXNzPSduby1maWxlcyc+VGhlcmUgYXJlIG5vIGZpbGVzIG9mIHRoaXMgdHlwZSZuYnNwO3lldC48L2xpPiIpLCB0LmFkZENsYXNzKCJkZWxldGluZyIpLnNsaWRlVXAoMjUwLCBmdW5jdGlvbiAoKSB7CiAgICAgIHQucmVtb3ZlKCk7CiAgICB9KTsKICB9LAogIHNldEltYWdlUHJldmlld1VSTDogZnVuY3Rpb24gc2V0SW1hZ2VQcmV2aWV3VVJMKGUsIHQpIHsKICAgIHZhciBuID0gJCh0KSwKICAgICAgICBzID0gbi5maW5kKCIudGhlLWltYWdlLXByZXZpZXciKSwKICAgICAgICBpID0gbi5jbG9zZXN0KCIuc2luZ2xlLWFzc2V0IikuZGF0YSgiYXNzZXQtdXJsIikgKyAiP2Q9IiArIERhdGUubm93KCk7CiAgICBzLmNzcyh7CiAgICAgICJiYWNrZ3JvdW5kLWltYWdlIjogInVybCgiICsgaSArICIpIgogICAgfSk7CiAgfQp9LCBNaW5pcGFnZUFzc2V0cy5pbml0KCksIHdpbmRvdy5UZWFtUm9vbU5vdGlmaWNhdGlvbnMgPSBDbGFzcy5leHRlbmQoewogIGluaXQ6IGZ1bmN0aW9uIGluaXQoZSwgdCkgewogICAgdGhpcy51c2VyID0gZSwgdGhpcy5ydERhdGEgPSB0LCB0aGlzLl9kZWJvdW5jZWRDYW5Db2xsYWJPblRlYW0gPSBfLmRlYm91bmNlKHRoaXMuX3Nob3dDYW5Db2xsYWJPblRlYW1QZW5NZXNzYWdlLCAyNTAwKSwgdGhpcy5fZGVib3VuY2VkQ2FuQ29sbGFiU2luZ2xlID0gXy5kZWJvdW5jZSh0aGlzLl9zaG93Q2FuQ29sbGFiT25TaW5nbGVVc2VyTWVzc2FnZSwgMjUwMCksIHRoaXMuX3Nob3VsZEpvaW5Sb29tKHQpOwogIH0sCiAgX3Nob3VsZEpvaW5Sb29tOiBmdW5jdGlvbiBfc2hvdWxkSm9pblJvb20oZSkgewogICAgcmV0dXJuICJlZGl0b3IiID09PSBlLnJvbGUgJiYgZS5wZW4uc2x1Z0hhc2ggJiYgKHRoaXMudXNlci5jdXJyZW50X3RlYW1faWQgPiAwIHx8ICEwID09PSB0aGlzLnVzZXIucGFpZCk7CiAgfSwKICBfb25Db25uZWN0OiBmdW5jdGlvbiBfb25Db25uZWN0KCkgewogICAgdGhpcy5fc3Vic2NyaWJlVG9TZXJ2ZXJFdmVudHMoKSwgdGhpcy5fcHVibGlzaENhbkNvbGxhYk9uVGVhbVBlbigpOwogIH0sCiAgX3N1YnNjcmliZVRvU2VydmVyRXZlbnRzOiBmdW5jdGlvbiBfc3Vic2NyaWJlVG9TZXJ2ZXJFdmVudHMoKSB7fSwKICBfb25DYW5Db2xsYWJPblRlYW1QZW46IGZ1bmN0aW9uIF9vbkNhbkNvbGxhYk9uVGVhbVBlbihlKSB7CiAgICB0aGlzLnVzZXIuaWQgIT09IGUuZGF0YS51c2VyLmlkID8gdGhpcy5fZGVib3VuY2VkQ2FuQ29sbGFiT25UZWFtKGUpIDogdGhpcy5fZGVib3VuY2VkQ2FuQ29sbGFiU2luZ2xlKGUpOwogIH0sCiAgX3Nob3dDYW5Db2xsYWJPblRlYW1QZW5NZXNzYWdlOiBmdW5jdGlvbiBfc2hvd0NhbkNvbGxhYk9uVGVhbVBlbk1lc3NhZ2UoZSkgewogICAgdmFyIHQgPSAiPCU9IG5hbWUgJT4gaXMgYWxzbyB3b3JraW5nIG9uIHRoaXMgcGVuLiBUcnkgQ29sbGFiIE1vZGUgd2l0aCB5b3VyIHRlYW0gbWVtYmVyIDxhIGhyZWY9JzwlPSB1cmwgJT4nIHRhcmdldD0nX2JsYW5rJz5oZXJlPC9hPi4iLAogICAgICAgIG4gPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoL1wvcGVuXC8vLCAiL2NvbGxhYi8iKSwKICAgICAgICBzID0gXy50ZW1wbGF0ZSh0LCB7CiAgICAgIG5hbWU6IGUuZGF0YS51c2VyLm5hbWUsCiAgICAgIHVybDogbgogICAgfSk7CgogICAgJC5zaG93TWVzc2FnZShzLCAidW50aWwtZGlzbWlzcyIpOwogIH0sCiAgX3Nob3dDYW5Db2xsYWJPblNpbmdsZVVzZXJNZXNzYWdlOiBmdW5jdGlvbiBfc2hvd0NhbkNvbGxhYk9uU2luZ2xlVXNlck1lc3NhZ2UoZSkgewogICAgdmFyIHQgPSAiTG9va3MgbGlrZSB0aGlzIFBlbiBpcyBvcGVuIGluIGFub3RoZXIgd2luZG93LiBZb3UgY2FuIHVzZSA8YSBocmVmPSc8JT0gdXJsICU+JyB0YXJnZXQ9J19ibGFuayc+Q29sbGFiIG1vZGU8L2E+IHRvIG1ha2Ugc3VyZSB5b3UgZG9uJ3Qgb3ZlcnJpZGUgeW91ciB3b3JrLiIsCiAgICAgICAgbiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvXC9wZW5cLy8sICIvY29sbGFiLyIpLAogICAgICAgIHMgPSBfLnRlbXBsYXRlKHQsIHsKICAgICAgbmFtZTogZS5kYXRhLnVzZXIubmFtZSwKICAgICAgdXJsOiBuCiAgICB9KTsKCiAgICAkLnNob3dNZXNzYWdlKHMsICJ1bnRpbC1kaXNtaXNzIik7CiAgfSwKICBfcHVibGlzaENhbkNvbGxhYk9uVGVhbVBlbjogZnVuY3Rpb24gX3B1Ymxpc2hDYW5Db2xsYWJPblRlYW1QZW4oKSB7fQp9KSwgQ1BGYWN0b3J5LmJ1aWxkRGF0YU9iamVjdHMoKSwgQ1BGYWN0b3J5LmJ1aWxkRWRpdG9yT2JqZWN0cygpLCBDUEZhY3RvcnkuYnVpbGREZXNrdG9wVmlld0VkaXRvck9iamVjdHMoKSwgQ1AucGVuRGVsZXRlID0gbmV3IFBlbkRlbGV0ZSgpLCBDUC5FZGl0b3JMYXlvdXQuaW5pdCgpLCBIdWIucHViKCJwYWdlLWxvYWRpbmctZG9uZSIpLCBDUC5FZGl0b3JMYXlvdXQuZG9uZUxvYWRpbmcoKSwgQ1AuY2xlYW5FZGl0b3JVUkwoKSwgSHViLnB1YigiY20tdXBkYXRlLWtleWJpbmRpbmdzIiwge30pOw=="},{"version":3,"sources":["/Users/andrew/Projects/Andrew/portfolio/src/assets/images/projects/Gooey Menu_files/index-30d5a6a4baf63d2669095d1502c0169d4aa8e4867abd4a6e84bc489e621f475b.js"],"names":["BarDragger","e","handles","bindHandles","sortByOrder","t","order","Love","_saveLoveToDBFunc","THROTTLE_DELAY","init","_","extend","AJAXUtil","user","window","__user","_bindToDOM","_createSaveLoveToDBFunc","throttle","_saveLoveChange","leading","trailing","$","on","proxy","_onHeartClick","preventDefault","_userNeedsToLogin","_redirectToLogin","target","closest","_heartItem","id","location","_getNextLevel","_showAsHearted","data","_findTextLoveLevel","attr","_nextLoveLevel","match","_showStandardHeartAsHearted","n","s","each","hasClass","i","removeClass","addClass","_updateLoveCount","find","_getValueToAddToCount","html","_getLoveCount","replace","isNaN","_delimit","toString","join","post","_doneSaveLoveChange","Hub","pub","URLBuilder","getViewURLSimple","document","host","LocalDataLoader","latestObject","parseJSON","_localStorageObjNewer","_getComparableClientTime","last_updated","substr","length","fn","serializeObject","serializeArray","name","push","value","User","Class","recentScripts","isUserLoggedIn","saveAccomplishment","anon","isAnon","ownsItem","user_id","current_team_id","team_id","updateUser","addRecentSelectedScript","sub","addEventListener","detail","CustomEvent","dispatchEvent","unsub","removeEventListener","a","o","not","offset","body","offsetWidth","left","outerWidth","Math","max","r","css","key","CP","Dropdowns","forEach","clear","remove","reduce","c","canAnalyze","message","showMessage","showOriginalCode","w","u","l","d","pen","penProcessor","getProcessed","createElement","toUpperCase","C","p","f","h","b","m","editor","scrollIntoView","filter","rule","map","_htmlEntities","addLineWidget","coverGutter","noHScroll","above","g","line","parent","after","v","setOption","setValue","unbindOnChange","y","one","bindToOnChange","ui","editorViewSource","text","P","S","Promise","type","querySelector","parentNode","removeChild","errors","sandbox","className","appendChild","srcdoc","content","Analyze","clearErrors","analyzeCode","CodeEditorAnalyze","clearingShortcut","bindUIActions","_on","analyzeHTML","analyzeCSS","analyzeJS","clearHTMLErrors","clearCSSErrors","clearJSErrors","enableClearingShortcut","Keytrap","bind","_hidePanesOnTopOfEditor","hideMessage","CMEditorSettings","getDefaultEditorConfig","showCursorWhenSelecting","cursorScrollMargin","scrollbarStyle","_getScrollbars","tabSize","getTabSize","indentUnit","indentWithTabs","getIndentWithTabs","lineNumbers","line_numbers","matchBrackets","match_brackets","matchTags","autocomplete","autoCloseBrackets","lineWrapping","line_wrapping","gutters","_getGutters","foldGutter","code_folding","scrollPastEnd","emmet_active","emmet","getEmmetSnippets","markTagPairs","autoRenameTags","getPostEditorConfig","parseInt","tab_size","indent_with","snippets","markupSnippets","unescapeSnippet","stylesheetSnippets","globals","markup","stylesheet","Object","keys","BaseEditorKeyBindingsMixin","_onCmUpdateKeyBindings","key_bindings","_canAdjustRenderedLine","TypesUtil","cmModeToType","getOption","editor_settings","_indentWrappedLines","defaultCharWidth","CodeMirror","countColumn","style","textIndent","paddingLeft","BaseEditor","_viewingSource","_canDrive","pageType","__pageType","BaseEditorViewSourceMixin","_baseBindToHub","_buildEditor","_onPageLoadingDone","refresh","_onKey","_onCMUpdateKeybindingsEvent","_onBasePenChange","_baseBindToHubProfessorMode","_disableUserFromDriving","_enableUserToDrive","__item","execCommand","runRefresh","ObjectUtil","hasNestedValue","_buildCMEditor","_getEditorConfig","_throttledRefresh","_setMode","_bindToHub","_setEditorTypeSpecificOptions","_bindAutoComplete","_syncEditorWithFirepad","_syncWithCollab","_syncWithProfessor","firepad","Firepad","fromCodeMirror","collabRoom","getFirebaseEditorRef","richTextShortcuts","richTextToolbar","defaultText","userId","rtData","onFirepadReady","onFirepadSynced","ProfessorRoom","session_hash","disablePublishEditorChanges","__rtData","role","_getEditorConfigDefaultValue","_getEditorTypeSpecificConfig","extraKeys","Tab","Enter","__browser","platform","_getTextAreaElementToReplaceWithCodeMirror","replaceChild","syntax","state","completionActive","origin","test","commands","completeSingle","_preProcessorChanged","_turnOffReadOnlyView","_changeMode","off","_onEditorChange","getValue","item","setItemValue","_setEditorValue","_getBasicType","getMode","EditorModes","getCMMode","hasFocus","delay","setTimeout","showSource","editorErrorHandler","clearPreprocWidgets","then","_makeEditorReadOnly","_changeModeOnShowSource","_removeEventFromEditorUndoHistory","Copy","returnToSource","_showOriginalCode","_changeModeOnShowOriginalCode","_makeEditable","getAttribute","getHistory","done","pop","setHistory","viewSource","A","k","M","O","get","T","E","x","keyCode","U","shiftKey","Y","clearTimeout","X","G","console","consoleData","val","command","logs","arguments","complexity","I","R","F","setSelectionRange","unshift","H","slice","scrollTop","scrollHeight","contentWindow","postMessage","z","W","L","V","B","shift","N","D","append","readOnly","mode","indexOf","firstLine","lastLine","foldCode","Pos","runMode","json","j","rows","ceil","J","focus","ConsoleEditor","CSSEditor","_onPenChange","css_pre_processor","mobile","normalizeKeyMap","_emmetSupportedSyntaxes","difference","__preprocessors","syntaxes","exclude_emmet_syntaxes","eq","click","CodeEditorsFoldView","foldAll","unfoldAll","editorDropDowns","TEXT_JAVASCRIPT","htmlModes","none","htmlMode","tags","script","haml","slim","markdown","pug","htmlLoaderModes","cssModes","postcss","scss","stylus","less","sass","jsModes","js","coffeescript","livescript","typescript","babel","getLoaderMode","globalVars","slug_hash","CPLocalStorage","getItem","JSON","parse","htmlEditor","cssEditor","jsEditor","marks","CodeEditorsFoldEvents","setItem","stringify","getDoc","getAllMarks","collapsed","from","HTMLEditor","html_pre_processor","profile","autofocus","_completeAfter","showHint","Pass","_completeIfAfterLt","getCursor","getRange","ch","_completeIfInTag","getTokenAt","string","charAt","innerMode","tagName","JSEditor","js_pre_processor","codeEditorResizeController","model","CodeEditorResizeModel","events","CodeEditorsResizeEvents","view","CodeEditorsResizeView","toggle","open","close","expand","resetSizes","syncWithServer","updateEditorSizes","getOpenEditorCount","getEditorPositions","onWindowResize","EnableDisableDriver","bindToEnableDisableHubEvents","_disableUIElements","_getAllUIElements","_disableAllElements","_enableUIElements","_enableAllElements","editorSizes","TOP_TYPES","INITIAL_CONSOLE_SIZES","CodeEditorsUtil","getQueryString","substring","split","prototype","create","Unidragger","staticClick","emitEvent","didFirstClick","doubleClickTimeout","DOUBLE_CLICK_TIME","documentElement","define","amd","exports","module","getStyleProperty","offsetHeight","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","transitionProperty","triggerTransition","clone","width","outerHeight","index","layout","setEditorSizes","height","innerWidth","innerHeight","min","undefined","protocol","pathname","history","replaceState","CodeEditorsSizeStorage","getEditorSizes","closed","saveEditorSizes","time","Date","getTime","CodeEditorsTidyController","CodeEditorTidyModel","CodeEditorsTidyEvents","CodeEditorsTidyView","beautify","disable","$tidyCodeButtons","controller","_onTidyClick","BEAUTIFY_LAMBDA_URL","getSelection","_getIndentWidth","indentWith","_getIndentChar","_beautifyLambdaCallback","replaceSelection","$htmlTidyButton","$cssTidyButton","$jsTidyButton","_syncStateOfTidyButtons","_hideShowTidyButton","include","TransitionsUtil","_transitionEl","_transitions","transition","OTransition","MozTransition","WebkitTransition","getBrowserTransitionEventName","CodeEditorsCSSTransitionHandler","_getBrowserTransitionEventName","getEditorByType","search","CodeEditorsViewSourceController","CodeEditorsViewSourceModel","CodeEditorsViewSourceEvents","CodeEditorsViewSourceView","toggleViewSource","setViewSourceToFalse","_toggleViewSource","_onServerUIChange","_penProcessed","_getType","toLowerCase","_getSource","_setSource","_publishChangeEvent","VIEW_COMPILED_PREFIX","_onUIChange","codeEditorTidyController","Profiled","__profiled","isUserProfiled","is_team","username","UI","buildDefaultUIData","info","__layoutType","settings","pane","tab","addons","PenConstants","TYPES","hideModal","save","__CPDATA","showModal","_fullURL","_onMessage","csrf","loginHandler","showAnonymousUserSignupModal","Pen","title","description","template","html_classes","head","css_prefix","css_starter","npm_packages","newTags","resources","save_disabled","autosavingNow","updated_at","errorCode","saveAttempts","MAX_SAVE_ATTEMPTS","SAVE_ATTEMPT_TIMEOUT","lastSavedPen","redirectingToSavedURL","PenResourcesData","PenNpmPackages","_loadStoredData","_ensureDataIsValid","_ensureResourcesValid","_loadAllNpmManifests","getSaveableCopyOfPen","PenValidator","makePenValid","_cloneObject","_setValue","isObject","isArray","_updateLastUpdated","getLastUpdatedAt","getActiveSlugHash","slug_hash_private","getTags","uniq","concat","newPen","_canSave","_shouldForkPen","_forkPen","_savePenToDB","forkPenInCurrentState","_isPenOwnedByAnotherUser","saveAsPrivate","MAX_PEN_SIZE","_isProfessorOrCollabSession","_shouldSavePenToDB","getCopyOfSaveablePen","fork","doneSave","failedSave","erroredSave","sendPseudoSavedSignal","_getSaveablePen","_updateSaveableTagsPriorToSave","hasPenChanged","_isBlankNewPen","_getDiffPen","merge","new_pen_saved","url","redirect_url","_getFullRedirectURL","last_saved_time_ago","href","_stripQuestionMarkInURL","_stripTemplateQueryPart","showStandardErrorMessage","TimeUtil","countToString","isUserPenOwner","profiled","size","hasPenContentChanged","_diffObjects","_cloneDeep","_getDataRelevantAttributes","_destroy","version","getAttributesThatAffectPenPreview","localStorage","_getUnixTimestamp","mostRecentUpdatedAt","updatedAts","versions","removeItem","debounce","maxWait","penLocalStorage","getPenVersionsData","addPackage","manifest","_loadNpmManifest","_publishNpmPackagesChange","getActiveNpmPackages","values","getActiveNpmPackagesAsDependencies","removePackage","isBuildingPackages","__npm_base_url","getJSON","PenUnsavedMessage","$el","__svg_sprite","$count","currentCount","countDismissedAt","show","hide","update","prepend","_move","is","PenAutosave","autoSaveFunc","AUTOSAVE_TIMER","_showedUserAutoSaveOnMessage","_hasUserEverSaved","_mobile","liveChangesWOSave","_saveViaAutoSave","unsavedMessage","_startAutoSave","_onLiveChange","_onSaved","_penCanBeAutosaved","_conditionallyShowAutosavingNowMessage","_handleAutoSave","_handleNonAutoSave","_autoSavePenRightNow","settingsController","settingsPaneVisible","_showPenSavedMessage","penUpdated","_showAutoSaveOnMessage","autoSavingNow","_userInitiatedSavePreviously","auto_save","_referredFromNewPen","referrer","PenDelete","_deletePen","_deletePenModalCallback","_confirmDeletePen","del","_doneDelete","deletingPen","penID","activeSlugHash","penSaver","skipWarning","MIN_RESOURCES","setResource","_setResourceURL","view_id","_postResourceChange","updateResourcesOrder","_updateResourcesOrder","addEmptyResource","_addNewResource","quickAddResource","_quickAddResource","deleteResource","_deleteResource","getResourcesByType","select","resource_type","setPenResources","_ensureMinNumberOfResourcesForEachType","_storeResourcesByOrder","_ensureResourcesHaveViewIDs","_ensureResourcesHaveActions","_ensureMinNumberOfResourcesForType","getNextMaxOrder","isUndefined","IDGenerator","generate","action","_publishResourcePenChange","sortBy","findIndex","splice","rebind","cloneDeep","PenSaver","_warnAboutLostChanges","potentialLostWork","_shouldWarnAboutLostWork","onbeforeunload","youHaveUnsavedChanges","_isProfessorInProfessorRoom","_isPenOwnerInCollabRoom","professor","LocalDataValidator","makeObjValid","_getValidAttributeValue","_getValidArrayType","_getValidArrayAttributeValue","_getValidObjectType","_getValidSimpleAttributeValue","assign","contains","dataAttributes","prefixes","default_prefix","bases","default_base","styles","scripts","Project","getURLSlugHash","saveDetails","put","_isJSON","payload","project","project_files_attributes","_saveComplete","_updateBrowserURL","SettingsModel","hideSettingsPane","reload","_getURLToProject","base_url","forkProject","source","_successfulFork","PenActions","_savePen","_savePenAsPrivate","_runPen","_liveViewPopout","penRenderer","processAndRender","showPopupOverlay","hidePopupOverlay","trigger","toggleSettingsPane","keyBindings","ClientSidePenValidations","validatePen","_validateHTML","validateCSS","level","pretty_name","_findErrorLineNumber","par","RegExp","exec","PARTemplates","findTemplates","renderTemplates","widgets","eachLine","removeLineClass","lines","errorType","dependency","solution","addLineClass","hits","algolia","npmIndex","all","foundPackages","missingPackages","importPath","error","showErrorImmediately","dependencies","canRenderPen","handleErrorsInEditor","buildFiles","toStore","contentType","textOutput","alert","__jwt","jwt","success","auth_token_expired","auth_token_fail","ProcessorRouter","route","ProcessedPen","processPARs","setProcessedValue","buildToSendAndToStore","toSend","updateAfterProcessing","processedPen","process","PenRecentResourcesManager","addNewPenResource","getRecentPenResources","BunkerBox","makeHeadSafe","_getSafeSandboxType","makeHTMLSafe","makeJSSafe","_isSandboxSupported","_sandboxSupported","_determineIfSandboxIsSupported","IFramePenToHTML","renderPenAsHTML","_getHeadAndCSS","_getJSScripts","_getPenJS","_buildScriptLink","__path_to_console_runner_js","__path_to_live_reloader_js","__favicon_shortcut_icon","__favicon_mask_icon","_getCSSStarterStyles","_getPrefixesStyles","_getStylesToAddToHead","_buildCSSLink","__pen_normalize_css_url","__pen_reset_css_url","__pen_prefix_free_url","_loadAsModule","_includeStopExecutionScript","__path_to_stop_execution_on_timeout","_getPenResourcesAsScripts","floor","random","generateGuid","children","load","iframe_sandbox","iframe_allow","XMLHttpRequest","timeout","setRequestHeader","onload","responseText","status","request","send","hash","serve_url","store_url","__boomboom","IFrameRender","updateIFramePreview","fullRefresh","getElementsByClassName","PenToPreview","updateLiveIFrame","PenRenderer","DEFAULT_TIMEOUT","MAX_TIMEOUT","hasRendered","_processAndRenderInternal","_runIfNotRan","auto_run","_penPreviewAttributeChanged","intersection","_renderProcessedPen","renderablePen","buildRenderableHash","String","fromCharCode","charCodeAt","unescape","encodeURIComponent","md5","pars","postAsync","input","par_suffixes","includes","__processedPenCache","processed","parsHash","_buildAllToSends","_buildToSendAndToStore","_cacheToSendsBeforeProcessing","_buildHTMLToBeProcessed","_buildCSSToBeProcessed","_buildJSToBeProcessed","_baseProcessorData","textInput","_buildPARPrepend","_determineSassVersion","options","SASS_WITH_COMPASS","_getJSProcessorOptions","detectInfiniteLoops","__feature_npm_enabled","_shouldProcessType","_isTypeCached","_areEqual","sort","location_hash","_getScripts","_getStyles","_getExternalURLs","_getBundleScripts","_getResourceURLsByType","_getPARSURLsByType","bundleScripts","BaseSettingsController","BaseSettingsEvents","_setItemValue","_buildBasicData","_setItemValueFromServer","_onServerPenChange","BaseSettingsModel","BaseSettingsView","BehaviorController","BehaviorEvents","BehaviorView","$autoSave","$autoRun","$tabSize","$indentWith","_super","_setAutoSave","_setAutoRun","_onTabSizeChange","_setIndentWith","_buildSettingsPenData","_validTabSize","$body","$indentWithSpaces","$indentWithTabs","_handlePenChange","_setTabSize","prop","CSSSettingsController","CSSSettingsEvents","CSSSettingsModel","CSSSettingsView","resourcesController","ResourcesController","showAddons","hideAddons","$cssPreProcessor","$starterCSS","$cssPrefix","$cssNeedAnAddon","_selectPreProcessor","_selectStartCSS","_selectCSSPrefix","_onClickNeedAnAddonButton","_pubUIChange","$boxCSSEl","$cssPreprocessor","$needAnAddon","$addOns","_updateUI","_setPreProcessor","_selectCSSStarter","_updateAddons","_addClassesToBoxCSS","_toggleNeedAddons","pretty_syntaxes","preprocessors","CacheGet","dataType","onSuccess","HelpFlyouts","_bindToAddOnsDOM","$addOnFilter","_filterAddOns","$addOnFilterClear","_clearAddOnsFilter","$addOnItems","_insertAddOnCode","_addCSSPrefixClassToBoxCSS","innerHTML","HTMLSettingsController","HTMLSettingsEvents","HTMLSettingsModel","HTMLSettingsView","$htmlPreProcessor","$headContent","$htmlClasses","$metaTagInsert","_setHead","_setHTMLClasses","_addCommonMetaTag","_getHeadWithMetaTag","trim","$boxHTML","$htmlPreprocessor","$headWrapper","$head","_addClassBoxHTML","InfoController","InfoEvents","InfoView","$title","$description","$privateCkbx","$passwordCkbx","$templateCkbx","_setTitle","_setDescription","_setPrivacy","_setPasswordUsage","_setTemplate","password_used","$passwordInput","$passwordArea","_hidePenHasUnsavedChanges","_onPenErrors","_onPenSaved","_showPenHasUnsavedChanges","_updateTitle","_togglePasswordArea","_togglePasswordInput","_updateTemplate","_doneWithSignupOrLogin","_isNewPenInProfessorOrCollab","penForked","_updateSavedTimeAgoFooter","_updateTitleAndDescriptionOnDetailsPage","JSSettingsController","JSSettingsEvents","JSSettingsModel","JSSettingsView","$jsPreProcessor","$boxJS","$jsPreprocessor","$npmProcessingMessage","_setDisabledPreprocessorSelect","_addProcessorClassBoxJS","npmSettingsController","npmSettingsEvents","npmSettingsModel","npmSettingsView","_setUpSearch","_handleRemovePackageClick","hint","sources","hitsPerPage","attributesToRetrieve","displayKey","templates","suggestion","escapeHighlightedString","_highlightResult","empty","$settingsTab","_templateHTML","_updatePackagesUI","_setStateOfTab","_buildNPMPackagesHTML","getTemplate","ResourcesEvents","ResourcesView","setItemValueFromServer","setUpAlgoliaSearch","_onAddResourceClick","_onDeleteResource","_getResourcesSelector","_onChangeResource","_makeResourcesSortable","$searchInput","sortable","handle","axis","_getViewIDsToOrders","_checkResourcesSecurity","_getInputsByType","_getElementViewID","cdnCSSIndex","cdnJSIndex","filters","filename","$resources","$quickAdd","_initDOM","_syncExternalInputs","_appendRecentResourcesToUI","_ensureOneEmptyInput","_syncNumberOfDOMElementsWithResources","_syncTheDOMValuesWithResources","_resetQuickAdd","_getExistingExternalsDivs","_appendResourcesToUI","last","replaceWith","_divHTML","_addRecentResourcesToDropdown","_getTemplate","insecure_resource","placeholder","_getPlaceholderForInput","_template","SearchFilter","_onSearchChange","asset_type","content_type","FormData","form_data","fields","ajax","processData","file","fileName","file_ext","team","item_type","item_id","S3","uploadAvatarAssetToS3","uploadAccountAssetFileToS3","uploadScreenshotAssetToS3","jQuery","event","props","ScreenshotUpload","screenshotWrap","imageChanger","imageHolder","fileInput","theBody","deleteBtn","uploading","handleDrop","currentTarget","testIfContainsFiles","highlightDropArea","unHighlightDropArea","handleManualFileSelect","deleteScreenshot","dataTransfer","types","files","processFile","_showUploadingMessage","readImage","_showSavingMessage","_signScreenshotAndUpload","_showSavedMessage","dataURItoBlob","fileExtension","saveScreenshot","atob","ArrayBuffer","Uint8Array","Blob","FileReader","result","readAsDataURL","onabort","onerror","placeScreenshot","now","removeScreenshot","custom_screenshot","_successfulUpdate","screenshot_hashid","description_html","screenshot_url_large","opacity","visibility","SettingsController","popupName","SettingsEvents","SettingsView","selectSettingsTab","unbind","getState","openSettingsPane","PenTagsController","PenTagsModel","PenTagsEvents","PenTagsView","addNewTags","deleteTag","$penTags","_handleTagDelete","_onTagChange","_getTagToDelete","next","_validNewTags","_stripHTMLTags","without","MAX_TAGS","$activeTags","$maxTagsLabel","_initiateView","_updateActiveTagsHTML","_updatePenTagsVal","_getTagsHTML","_warnAboutTooManyTags","ProjectTagsController","ProjectTagsModel","ProjectTagsEvents","ProjectTagsView","updateTags","$projectTags","_onProjectSaved","_updateProjectTagsVal","ShareGist","WAITING_MSG_TIMEOUT","GIST_MSG_TIMEOUT","_shareView","_createGist","waitingForGist","_doneCreateGist","reauth","gistCreated","ShareSMS","_loadSMSPhoneNumberFromCookie","sendSMS","cookie","phone_number","_doneSendSMS","_failedSendSMS","_clearSMSErrors","_setSMSPhoneNumberCookie","sms_left","smsSentTo","expires","domain","path","_getErrorsHTML","ShareView","shareSMS","shareGist","algoliasearch","initIndex","youHaveUnsavedSettings","collectionSavedPenAdded","penAddToCollection","studentWatching","studentsWatching","unsubcribedFromCommentNotifications","subscribedToCommentNotifications","CPFactory","buildDataObjects","itemType","penAutosave","buildEditorObjects","codeEditorAnalayze","buildCommonEditorSettingsObjects","_buildSettingsObjects","shareView","penActions","infoController","tagsController","htmlSettingsController","cssSettingsController","jsSettingsController","behaviorController","buildDesktopViewEditorObjects","codeEditorsCSSTransitionHandler","codeEditorsViewSourceController","cleanEditorURL","HandleIFrameClicks","handleIFrameClickEvent","_allowedToOpenWindows","_cleanURL","_getURLFromEvent","_getIFrameURLRemoved","_sanitizeURL","_HTML_TYPES","_CSS_TYPES","_JS_TYPES","_getSafeInputMode","syntaxToType","__CPTypesUtil","be","ve","q","K","Q","Z","ee","ne","te","ie","oe","se","EditorLayout","toggleConsole","closeConsole","he","_e","Se","we","apply","ce","re","ae","ye","le","ue","de","me","fe","ge","pe","Comment","tweakCommentsSize","Pe","Ce","navigator","userAgent","setConsoleSize","openConsole","doneLoading","ViewSwitcher","$mainHeader","onLayoutTypeButtonClick","changeLayout","changeUILayout","getIsValidLayoutType","slugHash","when","noop","fail","always","appendTo","getScript","__embed_modal_script","embedCommonUI","removeCustomCSS","EmbedModal","firestoreConnect","setItemAttributes","hashid","owner_id","liveView","domain_iframe","paid","global","self","Clipboard","require","Error","code","call","destroy","delegateTarget","node","HTMLElement","nodeType","nodeList","TypeError","Array","delegate","querySelectorAll","Element","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","nodeName","hasAttribute","createRange","selectNodeContents","removeAllRanges","addRange","ctx","once","emit","clipboardAction","__esModule","Symbol","iterator","constructor","enumerable","configurable","writable","defineProperty","resolveOptions","initSelection","emitter","selectedText","selectFake","selectTarget","removeFake","fakeHandlerCallback","fakeHandler","fakeElem","fontSize","border","padding","margin","position","top","pageYOffset","setAttribute","copyText","handleResult","clearSelection","blur","set","_action","_target","tinyEmitter","goodListener","clipboard","ReferenceError","setPrototypeOf","__proto__","listenClick","defaultAction","defaultTarget","listener","onClick","Assets","assetsArea","manualInput","dragPrevent","_bindToDragAndDrop","_testIfContainsFiles","makeLookDroppable","unmakeLookDroppable","handleFileDrop","handleFileSelect","MAX_FILES","MAX_FILE_SIZE","numFiles","_showTooManyFilesMessage","_filesTooBig","_showFileTooBigMessage","_filesHaveBadFileExtension","_showBadFileExtensionMessage","AssetsData","anyDuplicates","_askUserIfTheyWantToOverwriteFiles","_signAssetsAndUpload","_updateFilesToBeOverwrittenModal","duplicateNames","_filesToBeOverwrittenHTML","FileUtil","makeNameSafeToSave","findAssetByName","buildUniqueName","_doneUploadingAccountAssetToS3","_assetUploadFailed","_getAccountAssetPostParams","_uploadComplete","size_in_bytes","response_type","some","_decrementFileCount","assetRenamed","assetUploaded","Asset","update_type","_doneSave","assets","selectedAsset","boundToHub","_buildAssetObjectsFromDBAssets","_onAssetAdded","_onAssetDeleted","_onAssetSelected","_onAssetDeselected","add","asset","getSelectedAsset","__assets","_safeNames","_addUnderscoreOneToExistingName","Red","Pink","Purple","Indigo","Blue","Cyan","Teal","Green","Lime","Yellow","Amber","Orange","Brown","Grey","ColorPicker","slideToggle","DesignAssets","IconPicker","PatternPicker","results","PhotoPicker","MinipageAssets","isAssetsReady","isAssetsOpen","assetsWrap","_onPopupOpen","_toggleMiniAssetsView","_bindAssetEvents","allFiles","deleteFile","setImagePreviewURL","addAsExternalStylesheet","addAsExternalScript","_closeAssetsArea","_openAssetsArea","_getAssets","_doneGetAssets","asset_list_html","assets_space_indicator_html","_setUpCopyButtons","_doneConfirmDeleteAsset","finishDeletingAsset","doneDeleteFileAjax","_addNewAssetHTML","_resetFileInput","_assetElExist","slideUp","_addAssetToCategory","category","prependTo","wrap","reset","unwrap","_removeListItem","siblings","TeamRoomNotifications","_debouncedCanCollabOnTeam","_showCanCollabOnTeamPenMessage","_debouncedCanCollabSingle","_showCanCollabOnSingleUserMessage","_shouldJoinRoom","_onConnect","_subscribeToServerEvents","_publishCanCollabOnTeamPen","_onCanCollabOnTeamPen","penDelete"],"mappings":"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","sourcesContent":["/*!\n * BarDragger\n * draggable bar element in between panels\n * has Draggabilly events http://draggabilly.desandro.com/\n */\nfunction BarDragger(e){this.handles=[e],this.bindHandles()}function sortByOrder(e,t){return e.order-t.order}var Love={_saveLoveToDBFunc:null,THROTTLE_DELAY:500,init:function(){_.extend(this,AJAXUtil),this.user=window.__user,this._bindToDOM(),this._createSaveLoveToDBFunc()},_createSaveLoveToDBFunc:function(){this._saveLoveToDBFunc=_.throttle(this._saveLoveChange,this.THROTTLE_DELAY,{leading:!1,trailing:!0})},_bindToDOM:function(){$(\"body\").on(\"click\",'a[id*=\"loves_\"], button[id*=\"loves_\"], span[id*=\"loves_\"]',$.proxy(this._onHeartClick,this))},_onHeartClick:function(e){if(e.preventDefault(),this._userNeedsToLogin())return this._redirectToLogin();var t=$(e.target).closest(\".loves\");this._heartItem(t)},_userNeedsToLogin:function(){return 1===this.user.id},_redirectToLogin:function(){window.location=\"/login?type=love\"},_heartItem:function(e){var t=this._getNextLevel(e);this._showAsHearted(e,t),this._saveLoveToDBFunc(e.data(\"item\"),e.data(\"hashid\"),t)},_getNextLevel:function(e){var t=this._findTextLoveLevel(e.attr(\"class\"));return this._nextLoveLevel(t)},_findTextLoveLevel:function(e){var t=e.match(/loved-(\\d)/);return t?1*t[1]:0},_nextLoveLevel:function(e){return 3===e?0:e+1},_showAsHearted:function(e,t){this._showStandardHeartAsHearted(e,t)},_showStandardHeartAsHearted:function(e,t){var n=e.data(\"hashid\"),s=$(\"[data-hashid='\"+n+\"']\");$.each(s,function(e,n){var s=$(n);if(!s.hasClass(\"count\")){var i=s.hasClass(\"single-stat\")?s:$(\".heart-button\");i.removeClass(\"loved-1 loved-2 loved-3 loved-0\").attr(\"aria-pressed\",!1).addClass(\"loved-\"+t),0!==t&&i.attr(\"aria-pressed\",!0),Love._updateLoveCount(i,t)}})},_updateLoveCount:function(e,t){var n=e.find(\"span.count\"),s=this._getValueToAddToCount(t);n.html(this._getLoveCount(n,s))},_getValueToAddToCount:function(e){return 0===e?-1:1===e?1:0},_getLoveCount:function(e,t){var n=e.html();if(n){var s=1*n.replace(/[,. ]/g,\"\"),i=isNaN(s)?0:s;return(i+=t)>0?this._delimit(i):\"\"}return\"\"},_delimit:function(e,t){return t=t||\",\",e.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,t)},_saveLoveChange:function(e,t,n){var s=\"/love/\"+[e,t,n].join(\"/\");this.post(s,{},function(){this._doneSaveLoveChange(e)})},_doneSaveLoveChange:function(e){\"undefined\"!=typeof Hub&&Hub.pub(e+\"-hearted\")}};Love.init(),window.URLBuilder={getViewURLSimple:function(e,t,n){return`https://${document.location.host}${t}/${e}/${n}`}},window.LocalDataLoader={latestObject:function(e,t,n){if(!n)return e;if(\"undefined\"===n)return e;var s=$.parseJSON(n);return this._localStorageObjNewer(e,t,s)?s:e},_localStorageObjNewer:function(e,t,n){return this._getComparableClientTime(n,t)>t},_getComparableClientTime:function(e,t){var n=t+\"\";return+(e.last_updated+\"\").substr(0,n.length)}},$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||\"\")):e[this.name]=this.value||\"\"}),e},window.User=Class.extend({recentScripts:{},init:function(){_.extend(this,__user)},isUserLoggedIn:function(){return+this.id>1},saveAccomplishment:function(e){window.__user.anon||AJAXUtil.post(\"/accomplishments\",{name:e})},isAnon:function(){return+this.id<2},ownsItem:function(e){return this.id===e.user_id&&this.current_team_id===e.team_id},updateUser:function(e){_.extend(this,e)},addRecentSelectedScript:function(e){this.recentScripts[e.name]=e}}),window.Hub=window.Hub||{sub:function(e,t){if(\"function\"!=typeof t)throw\"fn MUST be a function\";window.addEventListener(e,e=>t(e,e.detail.data))},pub:function(e,t){var n=new CustomEvent(e,{detail:{data:t}});window.dispatchEvent(n)},unsub:function(e,t){window.removeEventListener(e,t)}},function(){function e(){a.on(\"click\",t)}function t(e){var t=$(e.target),s=t.closest(\".is-dropdown\");if(t.closest(\".new-pen-from-template-label\").length||!s.length){var o=t.closest(\"[data-dropdown]\");o.length?n(e,o):i()}}function n(e,t){e.preventDefault();var n=t.data(\"dropdown\"),i=$(n);i.hasClass(\"open\")?(t.attr(\"aria-expanded\",!1),i.removeClass(\"open\")):(t.attr(\"aria-expanded\",!0),s(i,t),i.addClass(\"open\")),$(\".is-dropdown\").not(i[0]).removeClass(\"open\")}function s(e,t){if(\"css\"!==e.data(\"dropdown-position\")){var n,s=t.offset(),i=\"right\"===e.data(\"dropdown-position\"),o=i?\"right\":\"left\";n=i?document.body.offsetWidth-s.left-t.outerWidth():s.left-e.outerWidth()/2+25,n=Math.max(10,n);var r={};r[o]=n,e.css(r)}}function i(){$(\".is-dropdown\").removeClass(\"open\"),$(\"[aria-expanded]\").attr(\"aria-expanded\",!1)}function o(){Hub.sub(\"key\",r),Hub.sub(\"popup-open\",i),Hub.sub(\"popup-close\",i)}function r(e,t){\"esc\"===t.key&&i()}CP.Dropdowns={};var a=$(\"body\");CP.Dropdowns.init=function(){e(),o()},CP.Dropdowns.init()}(),function(){function e(){t.forEach(e=>{n[e].forEach(e=>{e.clear()}),n[e]=[],$(\"#clear-\"+e+\"-errors\").remove()})}const t=[\"html\",\"css\",\"js\"],n=t.reduce((e,t)=>(e[t]=[],e),{}),s=\"https://gmqxehjo54.execute-api.us-west-2.amazonaws.com/production/analyze\",i=1500,o=async t=>{const n=await r(t),{canAnalyze:s,message:o}=c(t,n);if(!s)return void $.showMessage(o,i);a(t).showOriginalCode(),e();const u=await w(t,n);0!==u.length?l(t,u,n):d(t)},r=async e=>CP.pen[e+\"_pre_processor\"==\"none\"]?CP.pen[e]:CP.penProcessor.getProcessed(e),a=e=>CP[`${e}Editor`],c=(e,t)=>t?\"html\"!==e||u()?{canAnalyze:!0,message:null}:{canAnalyze:!1,message:\"Sorry, we can't analyze safely because your browser doesn't support `srcdoc` ... :(\"}:{canAnalyze:!1,message:\"No code to analyze. All was well...\"},u=()=>\"srcdoc\"in document.createElement(\"iframe\"),d=e=>{$.showMessage(`We couldn't find any errors in your ${e.toUpperCase()}. Rejoice!`,i)},l=(e,t,n)=>{C(e,n),\"html\"===e?p(t):\"css\"===e?f(t):\"js\"===e&&_(t),h(e,t),b(e)},h=(e,t)=>{const n=a(e),s=m(t[0]);n.editor.scrollIntoView(s)},p=e=>{const t=`\\n      <div class='inline-editor-error yellow'>\\n        <h4 style='color: white;''>HTML Inspector warnings:</h4><ul class='html-errors'>\\n        <ul>${e.filter(e=>\"unused-classes\"!==e.rule).map(e=>`<li>${_htmlEntities(e.message)}</li>`).join(\"\")}</ul>\\n      </div>\\n    `,s=a(\"html\").editor.addLineWidget(0,$(t)[0],{coverGutter:!0,noHScroll:!0,above:!0});n.html.push(s)},f=e=>{e.forEach(e=>g(\"css\",\"CSS Lint\",e))},_=e=>{e.forEach(e=>g(\"js\",\"JS Hint\",e))},g=(e,t,s)=>{const i=_htmlEntities(s.message),o=`\\n      <div class='inline-editor-error'>\\n        ${i}\\n        (<a target='_blank'\\n          href='https://google.com/search?q=${t} ${i}\">Google it</a>)\" +\\n      </div>'\\n    `,r=a(e).editor.addLineWidget(m(s),$(o)[0],{coverGutter:!0,noHScroll:!0});n[e].push(r)},m=e=>{if(!e)return 0;const t=(e.line||0)-1;return t>-1?t:0},b=e=>{0!==n[e].length&&$(`#analyze-${e}`).parent().after(v(e))},v=e=>`\\n      <li>\\n      <a href='#0' class='clear-${e}-errors' id='clear-${e}-errors'>\\n      Clear ${e.toUpperCase()} Errors\\n      </a>\\n      </li>\\n    `,C=(t,n)=>{const s=CP.pen[t],i=CP.pen[`${t}_pre_processor`],o=a(t),r=`#box-${t}`,c=`#viewsource-${t}`;\"none\"!==i&&(o.editor.setOption(\"readOnly\",!0),$(r).addClass(\"view-preproc-errors\"),o.setValue(n),o.unbindOnChange(),y(t),$(c).one(\"click\",function(){$(r).removeClass(\"view-preproc-errors\"),e(),o.setValue(s),o.bindToOnChange(),o.editor.setOption(\"readOnly\",!1)}))},y=e=>{const t={ui:{editorViewSource:{}}};CP.ui.editorViewSource[e]=!0,Hub.pub(\"ui-change\",t);const n=$(\".view-compiled-button[data-type='\"+e+\"']\").closest(\".box\").data(\"preprocessor\");$(\".view-compiled-button[data-type='\"+e+\"']\").text(\"View Uncompiled \"+n),$(\".view-compiled-button[data-type='\"+e+\"']\").addClass(\"active\")},w=(e,t)=>\"html\"===e?P(t):\"css\"===e||\"js\"===e?S(e,t):void 0,P=e=>new Promise(t=>{const n=[\"<script src='https://cdnjs.cloudflare.com/ajax/libs/html-inspector/0.8.2/html-inspector.js'></script>\",\"<script>window.inspect = function() { HTMLInspector.inspect({domRoot: document.body,excludeRules: ['unnecessary-elements'],onComplete: function(errors) { var cleanErrors = []; for( var i = 0; i < errors.length; i++) { cleanErrors.push({message: errors[i].message, rule: errors[i].rule}) }; parent.postMessage({type: 'html-errors', errors: cleanErrors}, '*')}});};</script>\",\"<script>window.onload = function() { inspect(); }</script>\",\"<style>\",\"\",\"</style>\",e].join(\"\"),s=e=>{if(e.data&&\"html-errors\"===e.data.type){window.removeEventListener(\"message\",s,!1);var n=document.querySelector(\".hidden-iframe\");n.parentNode.removeChild(n),t(e.data.errors)}},i=document.createElement(\"iframe\");i.sandbox=\"allow-forms allow-scripts\",i.className=\"hidden-iframe\",window.addEventListener(\"message\",s,!1),document.body.appendChild(i),i.srcdoc=n}),S=(e,t)=>new Promise(n=>{$.post(s,{type:e,content:t},n)});window.Analyze={clearErrors:e,analyzeCode:o}}(),window.CodeEditorAnalyze=Class.extend({clearingShortcut:!1,init:function(){this.bindUIActions()},bindUIActions:function(){$(\"#analyze-html\")._on(\"click\",this.analyzeHTML,this),$(\"#analyze-css\")._on(\"click\",this.analyzeCSS,this),$(\"#analyze-js\")._on(\"click\",this.analyzeJS,this),$(document).on(\"click\",\"#clear-html-errors\",$.proxy(this.clearHTMLErrors,this)).on(\"click\",\"#clear-css-errors\",$.proxy(this.clearCSSErrors,this)).on(\"click\",\"#clear-js-errors\",$.proxy(this.clearJSErrors,this))},enableClearingShortcut:function(){Keytrap.bind(\"comctrl+shift+8\",function(){Analyze.clearErrors(\"html\"),Analyze.clearErrors(\"css\"),Analyze.clearErrors(\"js\")},!0),this.clearingShortcut=!0},analyzeHTML:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.analyzeCode(\"html\"),Hub.pub(\"popup-close\"),!1===e.clearingShortcut&&e.enableClearingShortcut()},analyzeCSS:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.analyzeCode(\"css\"),!1===e.clearingShortcut&&e.enableClearingShortcut(),Hub.pub(\"popup-close\")},analyzeJS:function(){this._hidePanesOnTopOfEditor();var e=this;Analyze.analyzeCode(\"js\"),!1===e.clearingShortcut&&e.enableClearingShortcut(),Hub.pub(\"popup-close\")},clearHTMLErrors:function(e){e.preventDefault(),Analyze.clearErrors(\"html\"),this._hidePanesOnTopOfEditor()},clearCSSErrors:function(e){e.preventDefault(),Analyze.clearErrors(\"css\"),this._hidePanesOnTopOfEditor()},clearJSErrors:function(e){e.preventDefault(),Analyze.clearErrors(\"js\"),this._hidePanesOnTopOfEditor()},_hidePanesOnTopOfEditor:function(){$.hideMessage(),Hub.pub(\"popup-close\")}}),window.CMEditorSettings={getDefaultEditorConfig:function(e,t,n){return{value:e,showCursorWhenSelecting:!0,cursorScrollMargin:30,scrollbarStyle:this._getScrollbars(n),tabSize:this.getTabSize(t),indentUnit:this.getTabSize(t),indentWithTabs:this.getIndentWithTabs(t),lineNumbers:t.line_numbers,matchBrackets:t.match_brackets,matchTags:t.match_brackets,autocomplete:t.autocomplete,autoCloseBrackets:t.match_brackets,lineWrapping:t.line_wrapping,gutters:this._getGutters(t),foldGutter:t.code_folding,scrollPastEnd:!0,emmet_active:t.emmet_active,emmet:this.getEmmetSnippets(t),markTagPairs:!0,autoRenameTags:!0}},getPostEditorConfig:function(e){return{showCursorWhenSelecting:!0,tabSize:this.getTabSize(e),indentUnit:this.getTabSize(e),indentWithTabs:this.getIndentWithTabs(e),matchBrackets:e.match_brackets,autoCloseBrackets:e.match_brackets,lineWrapping:!0}},_getScrollbars:function(e){return e?null:\"simple\"},getTabSize:function(e){return parseInt(e.tab_size,10)},getIndentWithTabs:function(e){return\"tabs\"===e.indent_with},getEmmetSnippets:function(e){var t=e.snippets;return t?(t.markupSnippets=this.unescapeSnippet(t.markupSnippets),t.stylesheetSnippets=this.unescapeSnippet(t.stylesheetSnippets),{globals:{markup:{snippets:t.markupSnippets},stylesheet:{snippets:t.stylesheetSnippets}}}):{globals:{markup:{snippets:{}},stylesheet:{snippets:{}}}}},unescapeSnippet:function(e){for(var t=e,n=Object.keys(t),s=0;s<n.length;s++)t[n[s]]=t[n[s]].replace(/\\\\n/g,\"\\n\").replace(/\\\\t/g,\"\\t\");return t},_getGutters:function(e){return!0===e.code_folding?[\"CodeMirror-linenumbers\",\"CodeMirror-foldgutter\"]:[\"\"]}},window.BaseEditorKeyBindingsMixin={_onCmUpdateKeyBindings:function(e){switch(e.key_bindings){case\"vim\":this.editor.setOption(\"vimMode\",!0);break;case\"subl\":this.editor.setOption(\"keyMap\",\"sublime\");break;default:this.editor.setOption(\"keyMap\",\"extendedBase\")}},_canAdjustRenderedLine:function(e){return(\"undefined\"==typeof TypesUtil||\"html\"===TypesUtil.cmModeToType(e.getOption(\"mode\")))&&(\"undefined\"!=typeof CP.pen&&\"tabs\"!==CP.pen.editor_settings.indent_with)},_indentWrappedLines:function(){var e=this.editor.defaultCharWidth(),t=2,n=this;this.editor.on(\"renderLine\",function(s,i,o){if(n._canAdjustRenderedLine(s)){var r=s.getOption(\"tabSize\"),a=CodeMirror.countColumn(i.text,null,r)*e;o.style.textIndent=\"-\"+a+\"px\",o.style.paddingLeft=t+a+\"px\"}})}},window.BaseEditor=Class.extend({editor:\"\",_viewingSource:!1,_canDrive:!0,type:\"\",value:\"\",init:function(e,t){this.type=e,this.value=t,this.pageType=__pageType,_.extend(this,BaseEditorViewSourceMixin),_.extend(this,BaseEditorKeyBindingsMixin),this._baseBindToHub(),this._buildEditor()},_baseBindToHub:function(){Hub.sub(\"page-loading-done\",$.proxy(this._onPageLoadingDone,this)),Hub.sub(\"editor-refresh\",$.proxy(this.refresh,this)),Hub.sub(\"key\",$.proxy(this._onKey,this)),Hub.sub(\"cm-update-keybindings\",$.proxy(this._onCMUpdateKeybindingsEvent,this)),Hub.sub(\"pen-change\",$.proxy(this._onBasePenChange,this)),\"professor\"===window.__pageType&&this._baseBindToHubProfessorMode()},_baseBindToHubProfessorMode:function(){Hub.sub(\"ui-disable\",$.proxy(this._disableUserFromDriving,this)),Hub.sub(\"ui-enable\",$.proxy(this._enableUserToDrive,this))},_onCMUpdateKeybindingsEvent:function(){this._onCmUpdateKeyBindings(window.__item.editor_settings)},_onKey:function(e,t){\"esc\"===t.key&&(this.editor.execCommand(\"clearSearch\"),this.runRefresh(200))},_onBasePenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"pen.editor_settings.indent_with\")&&this.editor.setOption(\"indentWithTabs\",CMEditorSettings.getIndentWithTabs(t.pen.editor_settings)),ObjectUtil.hasNestedValue(t,\"pen.editor_settings.tab_size\")&&(this.editor.setOption(\"tabSize\",CMEditorSettings.getTabSize(t.pen.editor_settings)),this.editor.setOption(\"indentUnit\",CMEditorSettings.getTabSize(t.pen.editor_settings)))},_onPageLoadingDone:function(){this._indentWrappedLines(),this.runRefresh(200)},_buildEditor:function(){this.editor=this._buildCMEditor(this._getEditorConfig());var e=this;this._throttledRefresh=_.throttle(function(){e.editor.refresh()},300),this._setMode(),this._bindToHub(),this._setEditorTypeSpecificOptions(this._getEditorConfig()),this.bindToOnChange(),this._bindAutoComplete(),this._syncEditorWithFirepad()},_syncEditorWithFirepad:function(){\"collab\"===window.__pageType&&this._syncWithCollab(),\"professor\"===window.__pageType&&this._syncWithProfessor()},_syncWithCollab:function(){var e=this;this.firepad=Firepad.fromCodeMirror(CP.collabRoom.getFirebaseEditorRef(this.type),this.editor,{richTextShortcuts:!1,richTextToolbar:!1,defaultText:null,userId:CP.collabRoom.rtData.user.id}),this.firepad.on(\"ready\",function(){CP.collabRoom.onFirepadReady(e.type,e.firepad,e.value)}),this.firepad.on(\"synced\",function(e){CP.collabRoom.onFirepadSynced(e)})},_syncWithProfessor:function(){this.firepad=Firepad.fromCodeMirror(ProfessorRoom.getFirebaseEditorRef(this.type),this.editor,{richTextShortcuts:!1,richTextToolbar:!1,defaultText:this.value,userId:CP.user.session_hash,disablePublishEditorChanges:\"professor\"!==window.__rtData.user.role})},_getEditorConfig:function(){var e=_.extend(CMEditorSettings.getDefaultEditorConfig(this._getEditorConfigDefaultValue(),CP.pen.editor_settings),this._getEditorTypeSpecificConfig());return e.extraKeys={Tab:\"respectfulTab\",Enter:\"emmetInsertLineBreak\"},\"mac\"===__browser.platform?e.extraKeys[\"Shift-Cmd-A\"]=\"emmetWrapWithAbbreviation\":e.extraKeys[\"Shift-Ctrl-A\"]=\"emmetWrapWithAbbreviation\",\"js\"!==this.type&&!0===e.emmet_active&&(e.extraKeys.Tab=function(e){!0!==e.execCommand(\"emmetExpandAbbreviation\")&&e.execCommand(\"respectfulTab\")}),e},_getEditorConfigDefaultValue:function(){return\"collab\"===window.__pageType||\"professor\"===window.__pageType?\"\":this.value},_buildCMEditor:function(e){var t=this._getTextAreaElementToReplaceWithCodeMirror();return CodeMirror(function(e){t.parentNode.replaceChild(e,t)},e)},_getTextAreaElementToReplaceWithCodeMirror:function(){return $(\".code-wrap #\"+this.type)[0]},_bindAutoComplete:function(){var e=this._getEditorConfig();!0===e.autocomplete&&\"html\"!==e.syntax&&this.editor.on(\"inputRead\",function(e,t){!e.state.completionActive&&\"+input\"===t.origin&&1===t.text.length&&/^[a-zA-Z]+$/.test(t.text[0])&&CodeMirror.commands.autocomplete(e,null,{completeSingle:!1})})},_disableUserFromDriving:function(){this._canDrive=!1,this.editor.setOption(\"readOnly\",!0)},_enableUserToDrive:function(){this._canDrive=!0,this.editor.setOption(\"readOnly\",!1)},_preProcessorChanged:function(e){this._turnOffReadOnlyView(),this._changeMode(e)},_turnOffReadOnlyView:function(){this._viewingSource&&this.showOriginalCode()},unbindOnChange:function(){this.editor.off(\"change\",this._onEditorChange.bind(this))},bindToOnChange:function(){this.editor.on(\"change\",this._onEditorChange.bind(this))},_onEditorChange:function(e){if(!this.editor.getOption(\"readOnly\")){var t={origin:\"client\",pen:{}};t.pen[this.type]=e.getValue(),CP.item.setItemValue(t)}},getValue:function(){return this.editor.getValue()},setValue:function(e){this.editor.setValue(e)},_setEditorValue:function(e){\"collab\"!==window.__pageType&&\"professor\"!==window.__pageType&&(this.unbindOnChange(),this.editor.setValue(e),this.bindToOnChange())},_setMode:function(){var e=this._getBasicType(),t=CP.pen[e+\"_pre_processor\"];this._changeMode(t)},getMode:function(){var e=this._getBasicType(),t=CP.pen[e+\"_pre_processor\"];return EditorModes.getCMMode(t,e)},_changeMode:function(e){this.editor.setOption(\"mode\",EditorModes.getCMMode(e,this._getBasicType()))},_getBasicType:function(){throw\"Implement in subclass\"},hasFocus:function(){return this.editor.hasFocus()},refresh:function(e,t){this.runRefresh(t.delay)},runRefresh:function(e){e>0?setTimeout($.proxy(function(){this.runRefresh()},this),e):this._throttledRefresh()}}),window.BaseEditorViewSourceMixin={showSource:function(){editorErrorHandler.clearPreprocWidgets(this.type),CP.penProcessor.getProcessed(this.type).then(e=>{this.unbindOnChange(),this._makeEditorReadOnly(),this._changeModeOnShowSource(),this._setEditorValue(e),this._removeEventFromEditorUndoHistory()})},_changeModeOnShowSource:function(){this._changeMode(\"none\")},_makeEditorReadOnly:function(){$(\"#box-\"+this.type).addClass(\"view-compiled\"),$(\"#viewsource-\"+this.type).attr(\"title\",Copy.returnToSource),this.editor.setOption(\"readOnly\",!0)},showOriginalCode:function(){this._showOriginalCode(),this._changeModeOnShowOriginalCode(),this._makeEditable(),this.bindToOnChange(),this._removeEventFromEditorUndoHistory()},_changeModeOnShowOriginalCode:function(){this._changeMode(CP.pen.getAttribute(this.type+\"_pre_processor\"))},_removeEventFromEditorUndoHistory:function(){var e=this.editor.getHistory();e.done.pop(),e.done.pop(),this.editor.setHistory(e)},_showOriginalCode:function(){this._setEditorValue(CP.pen[this.type])},_makeEditable:function(){$(\"#box-\"+this.type).removeClass(\"view-compiled view-preproc-errors\"),$(\"#viewsource-\"+this.type).attr(\"title\",Copy.viewSource),this._canDrive&&this.editor.setOption(\"readOnly\",!1)}},function(){function e(){window.addEventListener(\"message\",h,!0)}function t(){A=$(\".console-entries\"),k=$(\".console-command-line-input\"),M=$(\".console-clear-button\"),O=k.get(0)}function n(){k.on(\"keydown\",i),k.on(\"keyup propertychange input\",y),M.on(\"click\",v),k.one(\"focus\",C)}function s(){Hub.sub(\"ui-disable\",S),Hub.sub(\"ui-enable\",T),Hub.sub(\"ui-console-opened\",E),Hub.sub(\"console-opened\",w),Hub.sub(\"console-closed\",P),Hub.sub(\"server-console-change\",x),Hub.sub(\"show-processing-logs\",r)}function i(e){if(y(),e.keyCode&&!0!==U){switch(e.keyCode){case 13:if(!e.shiftKey)return e.preventDefault(),void a();break;case 38:c(1);break;case 40:c(-1)}\"professor\"===Y&&(clearTimeout(X),X=setTimeout(function(){o()},G))}}function o(e){var t={console:{consoleData:k.val()}};e?(t.console.command=e,Hub.pub(\"console-change\",t)):Hub.pub(\"console-change\",t)}function r(e,t){t.logs.forEach(function(e){f({\"function\":e.type,arguments:[\"Line \"+e.line+\" \"+e.type.toUpperCase()+\": \"+e.message],complexity:1})})}function a(){var e=k.val();\"\"!==e&&(\"clear()\"!==e&&\"clear();\"!==e?(d(e),k.val(\"\"),g(e),p(e),\"professor\"===Y&&(clearTimeout(X),o(e)),y()):m())}function c(e){1===e&&0===I&&(R=k.val()),(I+=e)<0&&(I=0),I>F.length&&(I=F.length),0===I?k.val(R):k.val(F[I-1]),setTimeout(u,0)}function u(){if(O.setSelectionRange){var e=2*k.val().length;O.setSelectionRange(e,e)}}function d(e){I=0,F.unshift(e),F.length>H&&F.pop()}function l(){var e=$(\".console-message\");e.length>H&&e.slice(0,e.length-H).remove(),A.scrollTop(A.get(0).scrollHeight)}function h(e){var t=e.data;t.length&&\"console\"===t[0]&&(t[1][\"function\"]&&\"clear\"===t[1][\"function\"]?m():f(t[1]))}function p(e){var t={type:\"command\",command:e};$(\".result-iframe\").get(0).contentWindow.postMessage(t,\"*\")}function f(e){e.arguments&&(e.arguments.join(\" \").length>z&&(e=W),!1===L?(V.push(e),V.length>B&&(V.shift(),N=!0)):_(e))}function _(e){var t=$(D);e[\"function\"]&&t.addClass(e[\"function\"]);var n=e.arguments,s=e.complexity,i=n.join(\" \");if(s>1){A.append(t);var o=CodeMirror(t.get(0),{value:i,foldGutter:!0,readOnly:\"nocursor\",gutters:[\"CodeMirror-foldgutter\"],mode:\"javascript\"});if(-1!==i.indexOf(\": function\"))for(var r=o.firstLine(),a=o.lastLine();r<=a;r++)o.foldCode(CodeMirror.Pos(r,0),null,\"fold\")}else t.hasClass(\"error\")?t.text(i):CodeMirror.runMode(i,{name:\"javascript\",json:!0},t.get(0)),A.append(t);l()}function g(e){var t=$(D);t.addClass(\"echo\"),t.text(e),A.append(t),l()}function m(){v(),k.val(\"\"),V=[],N=!1,setTimeout(y,0)}function b(){$(\".console-message .CodeMirror\").each(function(e,t){t.CodeMirror.refresh()}),l()}function v(){$(\".console-message\").remove()}function C(){var e=O.value;O.value=\"\",j=O.scrollHeight,O.value=e}function y(){if(\"\"===$(O).val())O.rows=1;else{var e,t=0|O.getAttribute(\"data-min-rows\");O.rows=t,e=Math.ceil((O.scrollHeight-j)/15),O.rows=t+e}}function w(){L=!0,!0===N&&(_(J),N=!1);for(var e=0;e<V.length;e++)_(V[e]);V=[],setTimeout(b,1)}function P(){L=!1}function S(){k.addClass(\"disabled\"),U=!0}function T(){k.removeClass(\"disabled\"),U=!1}function E(){k.focus()}function x(e,t){k.val(t.console.consoleData),t.console.command&&(g(t.console.command),p(t.console.command))}CP.ConsoleEditor={};var A,k,M,O,D=\"<pre class='console-message CodeMirror-line'></pre>\",F=[],H=100,I=-1,R=\"\",U=!1,j=15,L=!1,V=[],B=11,N=!1,z=5e3,W={\"function\":\"error\",arguments:[\"Log Skipped: Sorry, this log was too large for our console. You might need to use the browser console instead.\"],complexity:1},J={\"function\":\"error\",arguments:[\"Logs Trimmed: To keep things fast we only stored the last \"+(B-1)+\" messages while the CodePen console was closed, the others will be in the browser console.\"],complexity:1},Y=__pageType,X=null,G=250;CP.ConsoleEditor.init=function(){t(),n(),s(),e()}}(),window.CSSEditor=BaseEditor.extend({_getBasicType:function(){return\"css\"},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this)),Hub.sub(\"page-loading-done\",$.proxy(this._onPageLoadingDone,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"pen.css_pre_processor\")&&this._preProcessorChanged(t.pen.css_pre_processor)},_onPageLoadingDone:function(){this.mobile&&setTimeout($.proxy(function(){this.editor.focus()},this),400)},_getEditorTypeSpecificConfig:function(){return{mode:this.getMode(),syntax:\"css\"}},_setEditorTypeSpecificOptions:function(e){var t={};e.extraKeys&&(t=e.extraKeys),t[\"Ctrl-Space\"]=\"autocomplete\",this.editor.setOption(\"extraKeys\",CodeMirror.normalizeKeyMap(t))},_emmetSupportedSyntaxes:function(){return _.difference(__preprocessors.css.syntaxes,__preprocessors.css.exclude_emmet_syntaxes)}}),function(){function e(){for(var e=$(\".editor-dropdown\"),n=0;n<e.length;n++)t(e.eq(n))}function t(e){var t=e.data(\"dropdown-type\");$(\".maximize\",e).click(function(){Hub.pub(\"editor-expand\",t),Hub.pub(\"popup-close\")}),$(\".minimize\",e).click(function(){Hub.pub(\"editor-close\",t),Hub.pub(\"popup-close\")}),$(\".fold-all-button\",e).on(\"click\",function(e){\"collab\"===window.__pageType?CP.CodeEditorsFoldView.foldAll(e,t):Hub.pub(\"fold-all\",t)}),$(\".unfold-all-button\",e).on(\"click\",function(e){\"collab\"===window.__pageType?CP.CodeEditorsFoldView.unfoldAll(e,t):Hub.pub(\"unfold-all\",t)})}CP.editorDropDowns={},CP.editorDropDowns.init=function(){e()}}();const TEXT_JAVASCRIPT=\"text/javascript\";window.EditorModes={htmlModes:{text:\"text\",none:{name:\"htmlmixed\",htmlMode:!0,tags:{script:[[\"type\",/^text\\/x-template$/,\"htmlmixed\"],[\"type\",/^x-shader\\/x-vertex$/,\"text/typescript\"],[\"type\",/^text\\/x-handlebars-template$/,\"htmlmixed\"],[\"type\",/^text\\/paperscript$/,TEXT_JAVASCRIPT],[null,null,TEXT_JAVASCRIPT]]}},html:{name:\"htmlmixed\",htmlMode:!0,tags:{script:[[\"type\",/^text\\/x-template$/,\"htmlmixed\"],[\"type\",/^x-shader\\/x-vertex$/,\"text/typescript\"],[\"type\",/^text\\/x-handlebars-template$/,\"htmlmixed\"],[\"type\",/^x-text\\/paperscript$/,TEXT_JAVASCRIPT],[null,null,TEXT_JAVASCRIPT]]}},haml:\"haml\",slim:\"application/x-slim\",markdown:\"markdown\",pug:\"pug\"},htmlLoaderModes:{text:\"text\",none:\"xml\",html:\"xml\",haml:\"haml\",slim:\"application/x-slim\",markdown:\"markdown\",pug:\"pug\"},cssModes:{none:\"text/css\",css:\"text/css\",postcss:\"text/css\",scss:\"text/x-scss\",stylus:\"text/x-styl\",less:\"text/x-less\",sass:\"text/x-sass\"},jsModes:{none:TEXT_JAVASCRIPT,js:TEXT_JAVASCRIPT,coffeescript:\"text/x-coffeescript\",livescript:\"text/x-livescript\",typescript:\"text/typescript\",babel:\"text/jsx\"},getLoaderMode:function(e,t){return\"html\"===t?e in this.htmlLoaderModes?\"mode_\"+this.htmlLoaderModes[e]:\"mode_text\":\"css\"===t?e in this.cssModes?\"mode_\"+this.cssModes[e]:\"mode_text\":\"js\"===t?e in this.jsModes?\"mode_\"+this.jsModes[e]:\"mode_text\":void 0},getCMMode:function(e,t){return\"html\"===t?e in this.htmlModes?this.htmlModes[e]:\"text\":\"css\"===t?e in this.cssModes?this.cssModes[e]:\"text\":\"js\"===t?e in this.jsModes?{name:this.jsModes[e],globalVars:!0}:\"text\":void 0}},function(){function e(){if(__user&&__item&&1!==__user.id&&__user.id===__item.user_id){var e=__item.slug_hash,n=CPLocalStorage.getItem(e+\"-editor-folding\");if(n){var s=JSON.parse(n);s.html&&t(s.html,CP.htmlEditor.editor),s.css&&t(s.css,CP.cssEditor.editor),s.js&&t(s.js,CP.jsEditor.editor)}}}function t(e,t){e.marks&&$.each(e.marks,function(e,n){t.foldCode(n)})}CP.CodeEditorsFoldEvents={},CP.CodeEditorsFoldEvents.init=function(){e()}}(),function(){function e(){Hub.sub(\"fold-all\",CP.CodeEditorsFoldView.foldAll),Hub.sub(\"unfold-all\",CP.CodeEditorsFoldView.unfoldAll),Hub.sub(\"pen-saved\",t)}function t(){if(__user&&__item&&1!==__user.id&&__user.id===__item.user_id){var e=__item.slug_hash,t=n(CP.htmlEditor.editor),s=n(CP.cssEditor.editor),i=n(CP.jsEditor.editor);CPLocalStorage.setItem(e+\"-editor-folding\",JSON.stringify({html:t,css:s,js:i}))}}function n(e){var t=e.getDoc().getAllMarks(),n={marks:[]};if(t.length)for(var s=t.length-1;s>=0;s--)t[s].collapsed&&\"range\"===t[s].type&&n.marks.push(t[s].find().from);return n}CP.CodeEditorsFoldView={},CP.CodeEditorsFoldView.init=function(){e()},CP.CodeEditorsFoldView.foldAll=function(e,t){CodeMirror.commands.foldAll(CP[t+\"Editor\"].editor)},CP.CodeEditorsFoldView.unfoldAll=function(e,t){CodeMirror.commands.unfoldAll(CP[t+\"Editor\"].editor)},CP.CodeEditorsFoldView.init()}(),window.HTMLEditor=BaseEditor.extend({_getBasicType:function(){return\"html\"},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"pen.html_pre_processor\")&&this._preProcessorChanged(t.pen.html_pre_processor)},_getEditorTypeSpecificConfig:function(){var e=!0;return __pageType&&\"embed\"===__pageType&&(e=!1),{mode:this.getMode(),syntax:\"html\",profile:\"xhtml\",autofocus:e}},_completeAfter:function(e,t){return t&&!t()||setTimeout(function(){e.state.completionActive||e.showHint({completeSingle:!1})},100),CodeMirror.Pass},_completeIfAfterLt:function(e){return this._completeAfter(e,function(){var t=e.getCursor();return\"<\"===e.getRange(CodeMirror.Pos(t.line,t.ch-1),t)})},_completeIfInTag:function(e){return this._completeAfter(e,function(){var t=e.getTokenAt(e.getCursor());return!!(\"string\"!==t.type||/['\"]/.test(t.string.charAt(t.string.length-1))&&1!==t.string.length)&&CodeMirror.innerMode(e.getMode(),t.state).state.tagName})},_setEditorTypeSpecificOptions:function(e){var t={};e.extraKeys&&(t=e.extraKeys),t=CodeMirror.normalizeKeyMap(t),!0===e.autocomplete&&(t[\"Ctrl-Space\"]=\"autocomplete\",t[\"'<'\"]=this._completeAfter.bind(this),t[\"'/'\"]=this._completeIfAfterLt.bind(this),t[\"' '\"]=this._completeIfInTag.bind(this),t[\"'='\"]=this._completeIfInTag.bind(this)),this.editor.setOption(\"extraKeys\",t)}}),window.JSEditor=BaseEditor.extend({_getBasicType:function(){return\"js\"},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"pen.js_pre_processor\")&&this._preProcessorChanged(t.pen.js_pre_processor)},_getEditorTypeSpecificConfig:function(){return{mode:this.getMode()}},_setEditorTypeSpecificOptions:function(){this.editor.setOption(\"extraKeys\",CodeMirror.normalizeKeyMap({Tab:\"respectfulTab\",\"Ctrl-Space\":\"autocomplete\"}))}}),CP.codeEditorResizeController={init:function(){this.model=CP.CodeEditorResizeModel,this.events=CP.CodeEditorsResizeEvents,this.view=CP.CodeEditorsResizeView,this.model.init(),this.events.init(this),this.view.init(this.model)},toggle:function(e){this.model.toggle(e)},open:function(e){this.model.open(e)},close:function(e){this.model.close(e)},expand:function(e){this.model.expand(e)},resetSizes:function(){this.model.resetSizes()},syncWithServer:function(e){this.model.syncWithServer(e)},updateEditorSizes:function(e){this.model.updateEditorSizes(e)},getOpenEditorCount:function(){return this.model.getOpenEditorCount()},getEditorPositions:function(){return this.model.getEditorPositions()},onWindowResize:function(){this.view.onWindowResize()}},window.EnableDisableDriver={_canDrive:!0,bindToEnableDisableHubEvents:function(){Hub.sub(\"ui-disable\",$.proxy(this._disableUserFromDriving,this)),Hub.sub(\"ui-enable\",$.proxy(this._enableUserToDrive,this))},_disableUserFromDriving:function(){this._canDrive=!1,this._disableUIElements()},_disableUIElements:function(){this._getAllUIElements&&this._disableAllElements(this._getAllUIElements())},_disableAllElements:function(e){_.forEach(e,function(e){e&&e.attr(\"disabled\",!0)})},_enableUserToDrive:function(){this._canDrive=!0,this._enableUIElements()},_enableUIElements:function(){this._getAllUIElements&&this._enableAllElements(this._getAllUIElements())},_enableAllElements:function(e){_.forEach(e,function(e){e&&e.attr(\"disabled\",!1)})}},function(){function e(){Hub.sub(\"server-ui-change\",t),Hub.sub(\"ui-change\",n),Hub.sub(\"editor-sizes-change\",o),Hub.sub(\"editor-expand\",i),Hub.sub(\"editor-close\",c),Hub.sub(\"editor-reset-sizes\",r)}function t(e,t){\"editorSizes\"in t.ui&&l.syncWithServer(t)}function n(e,t){t.ui&&t.ui.editorSizes&&s()}function s(){CP.CodeEditorsResizeEvents._canDrive&&l.model.TOP_TYPES.forEach(function(e){var t=$(\"#box-\"+e),n=CP.ui.editorSizes[e],s=0===n;t.find(\".editor-actions-right button\").not(\".close-editor-button\").attr(\"disabled\",s),s=0===n||1===n,t.find(\".close-editor-button\").attr(\"disabled\",s)})}function i(e,t){CP.CodeEditorsResizeEvents._canDrive&&l.expand(t)}function o(e,t){l.updateEditorSizes(t)}function r(){CP.CodeEditorsResizeEvents._canDrive&&l.resetSizes()}function a(){$(window).on(\"resize\",u)}function c(e,t){CP.CodeEditorsResizeEvents._canDrive&&l.close(t)}function u(){clearTimeout(h),h=setTimeout(d,100)}function d(){l.onWindowResize()}var l,h;CP.CodeEditorsResizeEvents={_canDrive:!0};var p=$(\".top-boxes .close-editor-button\");_.extend(CP.CodeEditorsResizeEvents,EnableDisableDriver),CP.CodeEditorsResizeEvents._getAllUIElements=function(){return[p]},CP.CodeEditorsResizeEvents.init=function(t){l=t,this.bindToEnableDisableHubEvents(),a(),e(),s()}}(),function(){function e(e){if(-1===CP.CodeEditorResizeModel.TOP_TYPES.indexOf(e))throw\"Bad editor type: '\"+e+\"'\"}function t(){var e={ui:{editorSizes:CP.ui.editorSizes}};Hub.pub(\"ui-change\",e)}function n(){var e=0;return this.TOP_TYPES.forEach(function(t){var n=CP.ui.editorSizes[t];e+=0!==n?1:0}),e}CP.CodeEditorResizeModel={TOP_TYPES:[\"html\",\"css\",\"js\"],INITIAL_CONSOLE_SIZES:{0:\"closed\",1:1/3,2:1},init:function(){var e=CodeEditorsUtil.getQueryString(\"editors\");if(e&&\"111\"!==e&&\"1110\"!==e){\"000\"===e.substring(0,3)&&(e=\"111\"+e.charAt(3));var t=e.substring(0,3).split(\"\"),n=0;t.forEach(function(e){n+=parseInt(e,10)}),this.TOP_TYPES.forEach(function(t,s){CP.ui.editorSizes[t]=e[s]/n});var s=e.slice(3,4),i=this.INITIAL_CONSOLE_SIZES[s]||\"closed\";CP.ui.editorSizes.console=i}},\ntoggle:function(t){e(t),this[0===CP.ui.editorSizes[t]?\"open\":\"close\"](t)},close:function(n){e(n);var s=CP.ui.editorSizes[n];if(0!==s&&1!==s){CP.ui.editorSizes[n]=0;var i=0;this.TOP_TYPES.forEach(function(e){var t=CP.ui.editorSizes[e];i+=t}),this.TOP_TYPES.forEach(function(e){CP.ui.editorSizes[e]=CP.ui.editorSizes[e]/i}),t()}},open:function(s){if(e(s),0===CP.ui.editorSizes[s]){var i=1/(n()+1);this.TOP_TYPES.forEach(function(e){var t=e===s;CP.ui.editorSizes[e]=t?i:CP.ui.editorSizes[e]*(1-i)}),t()}},expand:function(n){e(n),this.TOP_TYPES.forEach(function(e){CP.ui.editorSizes[e]=e===n?1:0}),t()},syncWithServer:function(e){this.updateEditorSizes(e.ui.editorSizes)},updateEditorSizes:function(e){for(var n in e)CP.ui.editorSizes[n]=e[n];t(),Hub.pub(\"save-editor-sizes\")},getEditorPositions:function(){var e=[],t=0;return this.TOP_TYPES.forEach(function(n){e.push(t);var s=CP.ui.editorSizes[n];t+=s}),e},resetSizes:function(){var e={},t=this.TOP_TYPES.length;this.TOP_TYPES.forEach(function(n){e[n]=1/t}),this.updateEditorSizes(e)}}}(),BarDragger.prototype=Object.create(Unidragger.prototype),BarDragger.prototype.staticClick=function(e,t){this.emitEvent(\"staticClick\",[e,t]),this.didFirstClick?(this.emitEvent(\"doubleClick\",[e,t]),delete this.didFirstClick,clearTimeout(this.doubleClickTimeout)):(this.didFirstClick=!0,this.doubleClickTimeout=setTimeout(function(){delete this.didFirstClick}.bind(this),BarDragger.DOUBLE_CLICK_TIME))},BarDragger.DOUBLE_CLICK_TIME=350,\n/*!\n * getStyleProperty v1.0.4\n * original by kangax\n * http://perfectionkills.com/feature-testing-css-properties/\n * MIT license\n */\nfunction(e){\"use strict\";function t(e){if(e){if(\"string\"==typeof s[e])return e;var t;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=0,o=n.length;i<o;i++)if(t=n[i]+e,\"string\"==typeof s[t])return t}}var n=\"Webkit Moz ms Ms O\".split(\" \"),s=document.documentElement.style;\"function\"==typeof define&&define.amd?define(function(){return t}):\"object\"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),\n/*!\n * triggerTransition\n * CSS Transition helper. Use it like:\n * triggerTransition(elem, { width: 100px}, '0.8s' )\n */\nfunction(){function e(e,r,a,c){var u=!1;for(var d in r)if(o.style[d]=r[d],!(u=e.style[d]===o.style[d]))break;if(!u){var l=[];for(d in r)l.push(d);e.style[n]=l.join(\"\"),e.style[s]=a||\"0.4s\",e.addEventListener(i,function(e){t(e,c)},!1);e.offsetHeight;for(d in r)e.style[d]=r[d]}}function t(e,o){e.target.style[n]=null,e.target.style[s]=null,e.target.removeEventListener(i,t,!1),o&&o()}var n=getStyleProperty(\"transitionProperty\"),s=getStyleProperty(\"transitionDuration\"),i={WebkitTransitionProperty:\"webkitTransitionEnd\",MozTransitionProperty:\"transitionend\",OTransitionProperty:\"otransitionend\",transitionProperty:\"transitionend\"}[n],o=document.createElement(\"div\");window.triggerTransition=e}(),function(){function e(){t(),O.each(n),M.find(\".powers-drag-handle\").each(n),M.each(function(e,t){var n=$(t).find(\".box-title\").clone();n.addClass(\"box-title--resizer\"),O.eq(e).append(n)})}function t(){C=O.width(),y=O.outerHeight(),w=F.outerHeight()}function n(e,t){var n=new BarDragger(t);n.index=e,n.on(\"doubleClick\",r),e>0&&(n.on(\"dragStart\",s),n.on(\"dragMove\",i),n.on(\"dragEnd\",o))}function s(){l(this)}function i(e,t,n){p(this,n)}function o(){f(this)}function r(){_(this)}function a(){Hub.sub(\"ui-change\",c)}function c(e,t){t.ui&&(t.ui.editorSizes&&u(e,t),t.ui.layout&&d())}function u(e,t){CP.CodeEditorsResizeView.setEditorSizes(t.ui.editorSizes,!0),b(),Hub.pub(\"editor-refresh\",{delay:10})}function d(){M.width(\"\").height(\"\"),A.width(\"\").height(\"\"),t(),CP.CodeEditorsResizeView.setEditorSizes(CP.ui.editorSizes,!1)}function l(e){CP.codeEditorResizeController.events&&(CP.codeEditorResizeController.events._canDrive&&!T&&(P=v.getEditorPositions(),S=P[e.index],T=e,h()))}function h(){x=\"top\"===CP.ui.layout?A.innerWidth()-C*H:A.innerHeight()-(y+w)*H}function p(e,t){if(CP.codeEditorResizeController.events._canDrive&&e===T){var n=\"top\"===CP.ui.layout?\"x\":\"y\",s=S+t[n]/x;s=Math.max(0,Math.min(1,s)),P[e.index]=s,P.forEach(function(t,n){n<e.index?P[n]=Math.min(t,s):n>e.index&&(P[n]=Math.max(t,s))});var i={};P.forEach(function(e,t){var n=P[t+1],s=(n=n===undefined?1:n)-e,o=v.TOP_TYPES[t];i[o]=s}),E=i,CP.CodeEditorsResizeView.setEditorSizes(i,!1)}}function f(e){CP.codeEditorResizeController.events._canDrive&&e===T&&(Hub.pub(\"editor-sizes-change\",E),Hub.pub(\"editor-refresh\",{delay:0}),T=null,E=null)}function _(e){var t=v.TOP_TYPES[e.index];1===CP.ui.editorSizes[t]?Hub.pub(\"editor-reset-sizes\"):Hub.pub(\"editor-expand\",t)}function g(e,t){var n=A.innerWidth();e.editor&&A.height(e.editor*(k.height()-D.height()));var s=1-C*H/n;v.TOP_TYPES.forEach(function(i,o){var r=e[i],a=M[o],c={width:100*(r*=s)+\"%\"};t?triggerTransition(a,c):$(a).css(c);var u=O[o],d=r*n<150;$(u)[d?\"addClass\":\"removeClass\"](\"is-horiz-skinny\")})}function m(e,t){var n=y+w;e.editor&&A.width(e.editor*window.innerWidth),v.TOP_TYPES.forEach(function(s,i){var o=e[s],r=M[i],a={height:\"calc((100% - (3 * \"+n+\"px)) * \"+o+\" + \"+w+\"px)\"};t?triggerTransition(r,a):$(r).css(a)})}function b(){var e=v.TOP_TYPES.map(function(e){return CP.ui.editorSizes[e]>0?\"1\":\"0\"});e=e.join(\"\");var t=I[CP.ui.editorSizes.console];t===undefined&&(t=\"1\"),e+=t;var n=window.location,s=n.protocol+\"//\"+n.host+n.pathname+(\"1110\"===e?\"\":\"?editors=\"+e);history.replaceState(\"\",\"\",s)}CP.CodeEditorsResizeView={};var v,C,y,w,P,S,T,E,x,A=$(\".top-boxes\"),k=$(\".page-wrap\"),M=A.find(\".box\"),O=$(\".editor-resizer\"),D=$(\"#resizer\"),F=$(\".box .powers\"),H=M.length;CP.CodeEditorsResizeView.init=function(t){v=t,e();var n=CP.CodeEditorsSizeStorage.getEditorSizes();n&&(CP.ui.editorSizes=JSON.parse(n)),CP.CodeEditorsResizeView.setEditorSizes(CP.ui.editorSizes,!1),a()},CP.CodeEditorsResizeView.setEditorSizes=function(e,t){\"top\"===CP.ui.layout?g(e,t):m(e,t)};var I={closed:\"0\",1:\"2\"};CP.CodeEditorsResizeView.onWindowResize=function(){\"top\"===CP.ui.layout&&CP.CodeEditorsResizeView.setEditorSizes(CP.ui.editorSizes,!1)}}(),CP.CodeEditorsSizeStorage={init:function(){Hub.sub(\"save-editor-sizes\",this.saveEditorSizes)},saveEditorSizes:function(e,t){if(__user&&__item&&(0!==__item.id||t)&&1!==__user.id&&__user.id===__item.user_id){var n=t||__item.slug_hash;CP.ui.editorSizes.time=(new Date).getTime(),CPLocalStorage.setItem(n+\"-editor\",JSON.stringify(CP.ui.editorSizes))}},getEditorSizes:function(){if(__item)return CPLocalStorage.getItem(__item.slug_hash+\"-editor\")}},CP.CodeEditorsSizeStorage.init(),\n/*!\n * triggerTransition\n * CSS Transition helper. Use it like:\n * triggerTransition(elem, { width: 100px}, '0.8s' )\n */\nfunction(){function e(e,r,a){var c=!1;for(var u in r)if(o.style[u]=r[u],!(c=e.style[u]===o.style[u]))break;if(!c){var d=[];for(u in r)d.push(u);e.style[n]=d.join(\"\"),e.style[s]=a||\"0.4s\",e.addEventListener(i,t,!1);e.offsetHeight;for(u in r)e.style[u]=r[u]}}function t(e){e.target.style[n]=null,e.target.style[s]=null,e.target.removeEventListener(i,t,!1)}var n=getStyleProperty(\"transitionProperty\"),s=getStyleProperty(\"transitionDuration\"),i={WebkitTransitionProperty:\"webkitTransitionEnd\",MozTransitionProperty:\"transitionend\",OTransitionProperty:\"otransitionend\",transitionProperty:\"transitionend\"}[n],o=document.createElement(\"div\");window.triggerTransition=e}(),window.CodeEditorsTidyController=Class.extend({init:function(){this.model=new CodeEditorTidyModel,this.events=new CodeEditorsTidyEvents(this),this.view=new CodeEditorsTidyView(this.model)},beautify:function(e){this.model.beautify(e)},disable:function(e,t){this.view.disable(e,t)}}),window.CodeEditorsTidyEvents=Class.extend({$tidyCodeButtons:$(\".tidy-code-button\"),init:function(e){this.controller=e,this._bindToDOM()},_bindToDOM:function(){this.$tidyCodeButtons._on(\"click\",this._onTidyClick,this)},_onTidyClick:function(e,t){this.controller.beautify(t.data(\"type\")),Hub.pub(\"popup-close\")}}),window.CodeEditorTidyModel=Class.extend({init:function(){this.BEAUTIFY_LAMBDA_URL=\"https://gmqxehjo54.execute-api.us-west-2.amazonaws.com/production/beautify\"},beautify:function(e){var t=CP[e+\"Editor\"].editor.getSelection(),n=CP.pen[e],s=\"\"!==t;s&&(n=t),\"js\"===e&&\"typescript\"===CP.pen.js_pre_processor&&(e=\"typescript\"),\"css\"!==e||\"scss\"!==CP.pen.css_pre_processor&&\"less\"!==CP.pen.css_pre_processor||(e=CP.pen.css_pre_processor),$.post(this.BEAUTIFY_LAMBDA_URL,{type:e,content:n,tabSize:this._getIndentWidth(),indentWith:this._getIndentChar()},$.proxy(function(t){this._beautifyLambdaCallback(e,s,t)},this))},_beautifyLambdaCallback:function(e,t,n){\"typescript\"===e&&(e=\"js\"),\"less\"!==e&&\"scss\"!==e||(e=\"css\");var s=CP[e+\"Editor\"].editor;t?(s.replaceSelection(n,\"around\"),\"js\"===e&&s.execCommand(\"indentAuto\")):s.setValue(n)},_getIndentWidth:function(){return\"tabs\"===CP.pen.editor_settings.indent_with?1:parseInt(CP.pen.editor_settings.tab_size,10)},_getIndentChar:function(){return\"tabs\"===CP.pen.editor_settings.indent_with?\"\\t\":\" \"}}),window.CodeEditorsTidyView=Class.extend({$htmlTidyButton:$(\"#html-tidy-code-button\"),$cssTidyButton:$(\"#css-tidy-code-button\"),$jsTidyButton:$(\"#js-tidy-code-button\"),init:function(e){this.data=e,_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents(),this._bindToHub(),this._syncStateOfTidyButtons(CP.pen)},_bindToHub:function(){var e=this;Hub.sub(\"pen-change\",function(t,n){e._syncStateOfTidyButtons(n.pen)})},_syncStateOfTidyButtons:function(e){ObjectUtil.hasNestedValue(e,\"html_pre_processor\")&&this._hideShowTidyButton(e.html_pre_processor,[\"none\"],this.$htmlTidyButton),ObjectUtil.hasNestedValue(e,\"css_pre_processor\")&&this._hideShowTidyButton(e.css_pre_processor,[\"none\",\"scss\",\"less\",\"postcss\"],this.$cssTidyButton),ObjectUtil.hasNestedValue(e,\"js_pre_processor\")&&this._hideShowTidyButton(e.js_pre_processor,[\"none\",\"babel\",\"typescript\"],this.$jsTidyButton)},_hideShowTidyButton:function(e,t,n){_.include(t,e)?n.removeClass(\"hide\"):n.addClass(\"hide\")},_getAllUIElements:function(){return[this.$htmlTidyButton,this.$cssTidyButton,this.$jsTidyButton]},disable:function(e,t){var n;switch(e){case\"css\":n=this.$cssTidyButton;break;case\"html\":n=this.$htmlTidyButton;break;case\"js\":n=this.$jsTidyButton}t?n.addClass(\"disabled\"):n.removeClass(\"disabled\")}}),window.TransitionsUtil=Class.extend({_transitionEl:document.createElement(\"fakeelement\"),_transitions:{transition:\"transitionend\",OTransition:\"oTransitionEnd\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"},getBrowserTransitionEventName:function(){for(var e in this._transitions)if(this._transitionEl.style[e]!==undefined)return this._transitions[e]}}),window.CodeEditorsCSSTransitionHandler=Class.extend({init:function(){this._bindToDOM()},_bindToDOM:function(){var e=_.throttle(function(){Hub.pub(\"editor-refresh\",{delay:10})},300);$(\"#box-html, #box-css #box-js\").on(this._getBrowserTransitionEventName(),e)},_getBrowserTransitionEventName:function(){return(new TransitionsUtil).getBrowserTransitionEventName()}}),window.CodeEditorsUtil={getEditorByType:function(e){return\"html\"===e?CP.htmlEditor:\"css\"===e?CP.cssEditor:CP.jsEditor},getQueryString:function(e){var t=window.location.search;if(t)for(var n=t.substring(1).split(\"&\"),s=0,i=n.length;s<i;s++){var o=n[s].split(\"=\");if(o[0]===e)return o[1]}}},window.CodeEditorsViewSourceController=Class.extend({init:function(){this.model=new CodeEditorsViewSourceModel,this.events=new CodeEditorsViewSourceEvents(this),this.view=new CodeEditorsViewSourceView},toggleViewSource:function(e){this.model.toggleViewSource(e)},setViewSourceToFalse:function(e){this.model.setViewSourceToFalse(e)},syncWithServer:function(e){this.model.syncWithServer(e)}}),window.CodeEditorsViewSourceEvents=Class.extend({_canDrive:!0,init:function(e){this.controller=e,this._bindToDOM(),this._bindToHub()},_bindToDOM:function(){$(\".view-compiled-button\")._on(\"click\",this._toggleViewSource,this)},_bindToHub:function(){Hub.sub(\"ui-disable\",$.proxy(this._disableUserFromDriving,this)),Hub.sub(\"ui-enable\",$.proxy(this._enableUserToDrive,this)),Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this)),Hub.sub(\"server-ui-change\",$.proxy(this._onServerUIChange,this)),Hub.sub(\"live_change\",$.proxy(this._penProcessed,this))},_disableUserFromDriving:function(){this._canDrive=!1},_enableUserToDrive:function(){this._canDrive=!0},_onServerUIChange:function(e,t){\"editorViewSource\"in t.ui&&this.controller.syncWithServer(t)},_toggleViewSource:function(e,t){this._canDrive&&this.controller.toggleViewSource({type:this._getType(t)})},_getType:function(e){return $(e).data(\"type\").toLowerCase()},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"pen.html_pre_processor\")&&this.controller.setViewSourceToFalse({type:\"html\"}),ObjectUtil.hasNestedValue(t,\"pen.css_pre_processor\")&&this.controller.setViewSourceToFalse({type:\"css\"}),ObjectUtil.hasNestedValue(t,\"pen.js_pre_processor\")&&this.controller.setViewSourceToFalse({type:\"js\"})},_penProcessed:function(){for(var e=[\"html\",\"css\",\"js\"],t=0;t<e.length;t++){var n=e[t];CP.ui.editorViewSource[n]&&(this.controller.toggleViewSource({type:n}),this.controller.toggleViewSource({type:n}))}}}),window.CodeEditorsViewSourceModel=Class.extend({init:function(){},toggleViewSource:function(e){var t=!this._getSource(e.type);this._setSource(e.type,t),this._publishChangeEvent(e)},setViewSourceToFalse:function(e){this._setSource(e.type,!1),this._publishChangeEvent(e)},_getSource:function(e){return CP.ui.editorViewSource[e]},_setSource:function(e,t){CP.ui.editorViewSource[e]=t},syncWithServer:function(e){for(var t in e.ui.editorViewSource)CP.ui.editorViewSource[t]=e.ui.editorViewSource[t],this._publishChangeEvent({type:t})},_publishChangeEvent:function(e){var t={ui:{editorViewSource:{}}};t.ui.editorViewSource[e.type]=this._getSource(e.type),Hub.pub(\"ui-change\",t)}});const VIEW_COMPILED_PREFIX=\".view-compiled-button[data-type='\";window.CodeEditorsViewSourceView=Class.extend({init:function(){this._bindToHub(),_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents()},_bindToHub:function(){Hub.sub(\"ui-change\",$.proxy(this._onUIChange,this))},_onUIChange:function(e,t){if(t.ui&&t.ui.editorViewSource)for(var n in t.ui.editorViewSource)this._toggleViewSource(n,t.ui.editorViewSource[n],t)},_toggleViewSource:function(e,t){var n=CodeEditorsUtil.getEditorByType(e);if(t){n.showSource();var s=$(VIEW_COMPILED_PREFIX+e+\"']\").closest(\".box\").data(\"preprocessor\");$(VIEW_COMPILED_PREFIX+e+\"']\").text(\"View Uncompiled \"+(\"None\"!==s?s:\"\")),$(VIEW_COMPILED_PREFIX+e+\"']\").addClass(\"active\"),CP.codeEditorTidyController.disable(e,!0)}else $(VIEW_COMPILED_PREFIX+e+\"']\").text(\"View Compiled \"+e.toUpperCase()),n.showOriginalCode(),$(VIEW_COMPILED_PREFIX+e+\"']\").removeClass(\"active\"),CP.codeEditorTidyController.disable(e,!1)},_getAllUIElements:function(){return[$(\".view-compiled-button\")]}}),window.Profiled=Class.extend({init:function(){_.extend(this,__profiled)},isUserProfiled:function(e){return!this.is_team&&e.username===this.username}}),window.UI={buildDefaultUIData:function(){return{info:\"closed\",layout:window.__layoutType||\"top\",editorViewSource:{html:!1,css:!1,js:!1},editorSizes:{html:1/3,css:1/3,js:1/3,console:\"closed\"},settings:{pane:\"closed\",tab:\"details\",css:{addons:\"closed\"}}}}},window.PenConstants={TYPES:[\"html\",\"css\",\"js\"]},function(){function e(e,s){$.hideModal(),t(e),n(s),CP.pen.save()}function t(e){$(\"meta[name='csrf-token']\").attr(\"content\",e)}function n(e){window.__user=e,CP.user.updateUser(e)}function s(e){return!!e.origin.match(window.__CPDATA.host)&&\"logged-into-codepen\"===e.data.type}function i(){$.showModal(_fullURL(\"/accounts/anon/\"),\"modal-signup\")}_onMessage(function(t){s(t)&&e(t.data.csrf,t.data.user)}),window.CP.loginHandler={showAnonymousUserSignupModal:i}}(),window.Pen=Class.extend({id:\"\",title:\"\",description:\"\",slug_hash:\"\",html:\"\",css:\"\",js:\"\",parent:0,\"private\":!1,template:!1,html_pre_processor:\"none\",html_classes:\"\",head:\"\",css_pre_processor:\"none\",css_prefix:\"neither\",css_starter:\"neither\",js_pre_processor:\"none\",npm_packages:[],editor_settings:{},newTags:[],resources:[],tags:[],save_disabled:!1,autosavingNow:!1,last_updated:\"\",updated_at:\"\",errorCode:\"\",saveAttempts:0,MAX_SAVE_ATTEMPTS:4,SAVE_ATTEMPT_TIMEOUT:1e4,lastSavedPen:{},redirectingToSavedURL:!1,init:function(){_.extend(this,AJAXUtil),_.extend(this,PenResourcesData),_.extend(this,PenNpmPackages),this._loadStoredData(),this._ensureDataIsValid()},_loadStoredData:function(){_.extend(this,__item,!0),this._ensureResourcesValid(),this._loadAllNpmManifests(),this.lastSavedPen=this.getSaveableCopyOfPen()},_ensureDataIsValid:function(){var e=new PenValidator;e.makePenValid(this),e.makePenValid(this.lastSavedPen)},setItemValue:function(e){var t=this._cloneObject(e);for(var n in t.item&&(t.pen=t.item),t.pen)this._setValue(n,t.pen[n]);Hub.pub(\"pen-change\",this._cloneObject(t))},_cloneObject:function(e){return JSON.parse(JSON.stringify(e))},_setValue:function(e,t){if(_.isObject(t)&&!_.isArray(t))for(var n in t)this[e][n]=t[n];else this[e]=t;this._updateLastUpdated()},_updateLastUpdated:function(){this.last_updated=(new Date).getTime()},getLastUpdatedAt:function(){return this.last_updated||new Date(this.updated_at).getTime()},getActiveSlugHash:function(){return this[\"private\"]?this.slug_hash_private:this.slug_hash},getTags:function(){return _.uniq(_.clone(this.tags).concat(_.clone(this.newTags)))},getAttribute:function(e){return this[e]},newPen:function(){window.location=\"/pen\"},save:function(){this.save_disabled||(CP.user.anon?window.CP.loginHandler.showAnonymousUserSignupModal():this._canSave()?this._shouldForkPen()?this._forkPen():this._savePenToDB():Hub.pub(\"pen-errors\",this.errorCode))},forkPenInCurrentState:function(){this.save_disabled||(CP.user.anon?window.CP.loginHandler.showAnonymousUserSignupModal():this._canSave()?this._forkPen(!0):Hub.pub(\"pen-errors\",this.errorCode))},_shouldForkPen:function(){return this._isPenOwnedByAnotherUser()},saveAsPrivate:function(){this._canSave()?(this[\"private\"]=!0,this._savePenToDB()):Hub.pub(\"pen-errors\",this.errorCode)},MAX_PEN_SIZE:1e6,_canSave:function(){return!CP.user.isUserLoggedIn()&&this._isProfessorOrCollabSession()?(this.errorCode=\"anon-cannot-save-during-rt-session\",!1):!(JSON.stringify(this.getSaveableCopyOfPen()).length>this.MAX_PEN_SIZE)||(this.errorCode=\"pen-too-large\",!1)},_isProfessorOrCollabSession:function(){return\"professor\"===__pageType||\"collab\"===__pageType},_forkPen:function(e){if(e||this._shouldSavePenToDB()){var t=this.getCopyOfSaveablePen();t.fork=!0,this.post(\"/pen/save\",{pen:JSON.stringify(t)},this.doneSave,this.failedSave,this.erroredSave)}else this.sendPseudoSavedSignal()},_savePenToDB:function(){this._shouldSavePenToDB()?this.post(\"/pen/save\",{pen:this._getSaveablePen()},this.doneSave,this.failedSave,this.erroredSave):this.sendPseudoSavedSignal()},_getSaveablePen:function(){return JSON.stringify(this.getCopyOfSaveablePen())},getCopyOfSaveablePen:function(){return this._updateSaveableTagsPriorToSave(),this.getSaveableCopyOfPen()},_shouldSavePenToDB:function(){return this.hasPenChanged()||this._isBlankNewPen()||this._isPenOwnedByAnotherUser()},_isBlankNewPen:function(){return\"\"===this.slug_hash},_updateSaveableTagsPriorToSave:function(){this.tags=this.getTags(),this.newTags=[]},sendPseudoSavedSignal:function(){Hub.pub(\"pen-saved\",{})},doneSave:function(e){this.saveAttempts=0;var t=this._getDiffPen(this,this.lastSavedPen);if(this.lastSavedPen=this.getSaveableCopyOfPen(),this.npm_packages=_.merge(this.npm_packages,e.npm_packages),e.new_pen_saved)if(this._isProfessorOrCollabSession()){var n={newPen:!0,url:e.redirect_url,pen:t};Hub.pub(\"pen-saved\",n)}else Hub.pub(\"save-editor-sizes\",e.slug_hash),this.redirectingToSavedURL=!0,window.location=this._getFullRedirectURL(e);else Hub.pub(\"pen-saved\",{pen:t,last_saved_time_ago:e.last_saved_time_ago})},_getFullRedirectURL:function(e){var t=document.location.href.split(\"?\");return t.length>1?this._stripQuestionMarkInURL(e.redirect_url+\"?\"+this._stripTemplateQueryPart(t[1])):e.redirect_url},_stripTemplateQueryPart:function(e){return(e||\"\").replace(/template=\\w+/,\"\")},_stripQuestionMarkInURL:function(e){return e.replace(/\\?$/,\"\")},failedSave:function(e){this.showStandardErrorMessage(e)},erroredSave:function(e,t){if(this.saveAttempts<this.MAX_SAVE_ATTEMPTS){var n=_.template(Copy.errors[\"unable-to-save-try-again\"],{time:TimeUtil.countToString(this.saveAttempts+1)});$.showMessage(n,\"super-slow\"),this.saveAttempts+=1,setTimeout($.proxy(this._savePenToDB,this),this.SAVE_ATTEMPT_TIMEOUT)}else this.saveAttempts=0,this.showStandardErrorMessage(e,t)},isUserPenOwner:function(){return\"\"===this.slug_hash||(CP.profiled.is_team?CP.profiled.id===CP.user.current_team_id:CP.user.isAnon()?this.session_hash===CP.user.session_hash:CP.profiled.id===CP.user.id)},_isPenOwnedByAnotherUser:function(){return!this.isUserPenOwner()},hasPenChanged:function(){return _.size(this._getDiffPen(this,this.lastSavedPen))>0},hasPenContentChanged:function(){var e=this._getDiffPen(this,this.lastSavedPen);return delete e.editor_settings,_.size(e)>0},_getDiffPen:function(e,t){return _diffObjects(t,e)},getSaveableCopyOfPen:function(){return window._cloneDeep(_.reduce(this._getDataRelevantAttributes(),function(e,t){if(e[t]=this[t],\"npm_packages\"===t){const n=Object.keys(this[t]);e[t]=n.reduce((e,n)=>{const s=this[t][n];return e[n]={_destroy:s._destroy,id:s.id,name:n,version:s.version},e},{})}return e},{},this))},_getDataRelevantAttributes:function(){return[\"css\",\"css_pre_processor\",\"css_prefix\",\"css_starter\",\"description\",\"editor_settings\",\"head\",\"html\",\"html_classes\",\"html_pre_processor\",\"id\",\"js\",\"js_pre_processor\",\"newTags\",\"npm_packages\",\"parent\",\"private\",\"resources\",\"slug_hash\",\"slug_hash_private\",\"tags\",\"team_id\",\"template\",\"title\",\"user_id\"]},getAttributesThatAffectPenPreview:function(){return[\"css\",\"css_pre_processor\",\"css_prefix\",\"css_starter\",\"head\",\"html\",\"html_classes\",\"html_pre_processor\",\"js\",\"js_pre_processor\",\"npm_packages\",\"resources\"]}}),function(){function e(){return\"penversions:\"+CP.user.id+\":\"+CP.pen.slug_hash}function t(){var t=localStorage.getItem(e());return\"string\"==typeof t?JSON.parse(t):d}function n(e){var n=t(),s=_getUnixTimestamp();return n.mostRecentUpdatedAt=s,n.updatedAts.unshift(s),n.updatedAts=n.updatedAts.slice(0,u),n.versions.unshift(e),n.versions=n.versions.slice(0,u),n}function s(){if(!$(\".history\").hasClass(\"active\")){var t=CP.pen.getSaveableCopyOfPen();localStorage.setItem(e(),JSON.stringify(n(t)))}}function i(){for(var e=0,t=localStorage.length;e<t;++e){var n=localStorage.key(e),s=localStorage.getItem(n);if(n&&n.match(/^penversions:\\d+/)){if(\"string\"!=typeof s)continue;var i=JSON.parse(s),o=_getUnixTimestamp()-3*c;i.mostRecentUpdatedAt<o&&localStorage.removeItem(n)}}}function o(){return\"collab\"!==window.__pageType&&\"professor\"!==window.__pageType&&(CP.pen.isUserPenOwner()&&localStorage)}function r(){o()&&(Hub.sub(\"pen-change\",l),setTimeout(i,1500))}var a=6e3,c=86400,u=10,d={mostRecentUpdatedAt:0,updatedAts:[],versions:[]},l=_.debounce(s,a,{leading:!1,maxWait:a,trailing:!0});Hub.sub(\"page-loading-done\",r),window.penLocalStorage={getPenVersionsData:t}}(),window.PenNpmPackages={addPackage:function(e,t){this.npm_packages[e]={id:\"\",name:e,version:t,manifest:null,_destroy:!1},this._loadNpmManifest(e,t),this._publishNpmPackagesChange()},getActiveNpmPackages:function(){return Object.values(this.npm_packages).filter(function(e){return!0!==e._destroy})},getActiveNpmPackagesAsDependencies:function(){return this.getActiveNpmPackages().reduce(function(e,t){return e[t.name]={manifest:t.manifest,name:t.name,version:t.version},e},{})},removePackage:function(e){this.npm_packages[e]._destroy=!0,this._publishNpmPackagesChange()},isBuildingPackages:function(){return!!Object.values(this.npm_packages).find(e=>null===e.manifest)},_publishNpmPackagesChange:function(){Hub.pub(\"pen-change\",{pen:{npm_packages:window._cloneDeep(this.getActiveNpmPackages())}})},_loadAllNpmManifests:function(){Object.values(this.npm_packages).forEach(e=>{this._loadNpmManifest(e.name,e.version)})},_loadNpmManifest:function(e,t){const n=`${window.__npm_base_url}/${e}/${t}/${e}.json`;$.getJSON(n,t=>{this.npm_packages[e].manifest=t,this._publishNpmPackagesChange()})}},window.PenUnsavedMessage=Class.extend({$el:$(\"<div />\",{\"class\":\"unsaved-editor-message\"}).html(' unsaved changes <span class=\"dismiss\"><svg class=\"icon-x\"><use xlink:href=\"'+__svg_sprite+'#x\"></use></svg></span>'),$count:$(\"<b>0</b>\"),currentCount:0,countDismissedAt:0,init:function(){this.show=$.proxy(this.show,this),this.hide=$.proxy(this.hide,this),this.update=$.proxy(this.update,this),this.$el.click(this.hide).prepend(this.$count),this._move=$.proxy(this._move,this),$(\"body\").on(\"focusin\",\".box\",null,this._move)},update:function(e){this.currentCount=e,e||(this.countDismissedAt=0),(e-this.countDismissedAt)%5==0&&this.show(),this.$count.text(e<100?e:\"100+\")},show:function(){this.$el.delay(100).addClass(\"visible\")},hide:function(){this.countDismissedAt=this.currentCount,this.$el.removeClass(\"visible\")},_move:function(e){var t=$(e.target?e.target:\".CodeMirror-focused\").closest(\".box\").find(\".editor-actions-left\");this.$el.parent().is(t)||t.delay(100).append(this.$el)}}),window.PenAutosave=Class.extend({autoSaveFunc:null,AUTOSAVE_TIMER:2e4,_showedUserAutoSaveOnMessage:!1,_hasUserEverSaved:!1,_mobile:!1,liveChangesWOSave:0,init:function(){this.autoSaveFunc=_.debounce(this._saveViaAutoSave,this.AUTOSAVE_TIMER,{leading:!1,trailing:!0}),this.unsavedMessage=new window.PenUnsavedMessage,this._bindToHub(),this._startAutoSave()},_bindToHub:function(){Hub.sub(\"live_change\",$.proxy(this._onLiveChange,this)),Hub.sub(\"pen-saved\",$.proxy(this._onSaved,this))},_startAutoSave:function(){this._penCanBeAutosaved()&&this._conditionallyShowAutosavingNowMessage()},_onLiveChange:function(){this._penCanBeAutosaved()?this._handleAutoSave():this._handleNonAutoSave()},_handleAutoSave:function(){this.autoSaveFunc()},_saveViaAutoSave:function(){this._autoSavePenRightNow()&&(CP.pen.autosavingNow=!0,CP.pen.save())},_autoSavePenRightNow:function(){return!$(\".history\").hasClass(\"active\")&&!CP.settingsController.settingsPaneVisible()},_handleNonAutoSave:function(){if(!CP.pen.isUserPenOwner()||CP.pen.save_disabled)return!1;this.liveChangesWOSave+=1,this.unsavedMessage.update(this.liveChangesWOSave);let e=$(\"#save, #update\");this.liveChangesWOSave%2==0&&e.removeClass(\"unsaved-wobble unsaved-grow\"),(this.liveChangesWOSave+10)%20==0&&e.addClass(\"unsaved-wobble\"),this.liveChangesWOSave%20==0&&e.addClass(\"unsaved-grow\"),(this.liveChangesWOSave+15)%30==0&&$.showMessage(\"There have been \"+this.liveChangesWOSave+\" changes without a save. Remember to save your work!\",\"slow\")},_onSaved:function(){this.liveChangesWOSave=0,this._hasUserEverSaved=!0,this._showPenSavedMessage(),this._conditionallyShowAutosavingNowMessage(),this.unsavedMessage.hide()},_showPenSavedMessage:function(){CP.pen.autosavingNow||$.showMessage(Copy.penUpdated),CP.pen.autosavingNow=!1},_conditionallyShowAutosavingNowMessage:function(){this._showedUserAutoSaveOnMessage||this._penCanBeAutosaved()&&this._showAutoSaveOnMessage()},_showAutoSaveOnMessage:function(){this._showedUserAutoSaveOnMessage=!0,setTimeout(function(){$.showMessage(Copy.autoSavingNow,\"slow\")},1500)},_penCanBeAutosaved:function(){return!!this._userInitiatedSavePreviously()&&(CP.user.isUserLoggedIn()&&CP.pen.editor_settings.auto_save&&CP.pen.getActiveSlugHash().length>0&&!this._mobile)},_userInitiatedSavePreviously:function(){return this._referredFromNewPen()||this._hasUserEverSaved},_referredFromNewPen:function(){return!!document.referrer.match(/\\/pen(\\/)?$/)}}),window.PenDelete=Class.extend({init:function(){_.extend(this,AJAXUtil),this._bindToDOM()},_bindToDOM:function(){var e=this;$(\"body\").on(\"click\",\".delete-button\",function(){e._deletePen()})},_deletePen:function(){$.showModal(\"/ajax/confirm_pen_delete\",\"modal-warning\",$.proxy(this._deletePenModalCallback,this))},_deletePenModalCallback:function(){$(\"#confirm-delete\")._on(\"click\",this._confirmDeletePen,this)},_confirmDeletePen:function(){this.del(\"/pen/\"+CP.pen.getActiveSlugHash(),{},this._doneDelete),$.showMessage(Copy.deletingPen,\"super-slow\")},_doneDelete:function(){CPLocalStorage.setItem(\"pen_deleted\",JSON.stringify({penID:CP.pen.id,activeSlugHash:CP.pen.getActiveSlugHash()})),CP.penSaver.skipWarning=!0,window.location=\"/dashboard\"}}),window.PenResourcesData={MIN_RESOURCES:2,setResource:function(e,t){this._setResourceURL(_.find(this.resources,{view_id:e}),t),this._postResourceChange()},updateResourcesOrder:function(e,t){this._updateResourcesOrder(e,t),this._postResourceChange()},addEmptyResource:function(e){this._addNewResource(e,\"\"),this._postResourceChange()},quickAddResource:function(e,t){this._quickAddResource(e,t),this._postResourceChange(!0)},deleteResource:function(e){this._deleteResource(e),this._postResourceChange()},getResourcesByType:function(e){return _.select(this.resources,{resource_type:e})},setPenResources:function(e){this.resources=e.pen.resources,this._postResourceChange()},_ensureResourcesValid:function(){this._ensureMinNumberOfResourcesForEachType(),this._storeResourcesByOrder(),this._ensureResourcesHaveViewIDs(),this._ensureResourcesHaveActions()},_ensureMinNumberOfResourcesForEachType:function(){this._ensureMinNumberOfResourcesForType(\"css\"),this._ensureMinNumberOfResourcesForType(\"js\")},_ensureMinNumberOfResourcesForType:function(e){for(var t=this.MIN_RESOURCES-this.getResourcesByType(e).length,n=0;n<t;n++)this.resources.push({resource_type:e,order:this.getNextMaxOrder(e),url:\"\"})},_ensureResourcesHaveViewIDs:function(){_.forEach(this.resources,function(e){_.isUndefined(e.view_id)&&(e.view_id=IDGenerator.generate())})},_ensureResourcesHaveActions:function(){_.forEach(this.resources,function(e){_.isUndefined(e.action)&&(e.action=\"include_\"+e.resource_type+\"_url\")})},_postResourceChange:function(e){this._updateLastUpdated(),this._ensureResourcesValid(),this._publishResourcePenChange(e)},_quickAddResource:function(e,t){var n=_.find(this.getResourcesByType(e),{url:\"\"});n?this._setResourceURL(n,t):this._addNewResource(e,t)},_setResourceURL:function(e,t){e.url=t.replace(/\\s+/,\"\")},_updateResourcesOrder:function(e,t){for(var n=0,s=this.resources.length;n<s;n++)this.resources[n].resource_type===e&&(this.resources[n].order=t[this.resources[n].view_id]);this._storeResourcesByOrder()},_storeResourcesByOrder:function(){this.resources=_.sortBy(this.resources,\"order\")},_addNewResource:function(e,t){this.resources.push({resource_type:e,order:this.getNextMaxOrder(e),url:t||\"\",view_id:IDGenerator.generate(),action:\"include_\"+e+\"_url\"})},getNextMaxOrder:function(e){for(var t=0,n=0;n<this.resources.length;n++){var s=this.resources[n];e===s.resource_type&&t<=s.order&&(t=s.order+1)}return t},_deleteResource:function(e){var t=_.findIndex(this.resources,{view_id:e});this.resources.splice(t,1)},_publishResourcePenChange:function(e){Hub.pub(\"pen-change\",{origin:\"client\",rebind:e,pen:{resources:_.cloneDeep(this.resources)}})}},window.PenSaver=Class.extend({init:function(){this.pageType=__pageType,this._warnAboutLostChanges()},potentialLostWork:function(){return this._shouldWarnAboutLostWork()},_warnAboutLostChanges:function(){window.onbeforeunload=$.proxy(function(){if(!this.skipWarning)return this._shouldWarnAboutLostWork()?Copy.youHaveUnsavedChanges:void 0},this)},_shouldWarnAboutLostWork:function(){var e=CP.pen.hasPenContentChanged();return\"professor\"===this.pageType?e&&this._isProfessorInProfessorRoom():\"collab\"===this.pageType?e&&this._isPenOwnerInCollabRoom():e&&!CP.pen.redirectingToSavedURL&&!CP.pen.save_disabled},_isProfessorInProfessorRoom:function(){var e=!1;return\"professor\"===this.pageType&&\"undefined\"!=typeof CP.professor&&(e=!0),e},_isPenOwnerInCollabRoom:function(){return\"collab\"===this.pageType&&CP.pen.isUserPenOwner()}}),window.LocalDataValidator={makeObjValid:function(e,t){for(var n in e)t[n]&&(e[n]=this._getValidAttributeValue(t,n,e[n]))},_getValidAttributeValue:function(e,t,n){var s=e[t];return\"array\"===s[\"typeof\"]?this._getValidArrayType(n,s):_.isArray(s[\"typeof\"])?this._getValidArrayAttributeValue(n,s):\"object\"===s[\"typeof\"]?this._getValidObjectType(n,s):this._getValidSimpleAttributeValue(n,s)},_getValidObjectType:function(e,t){return Object.assign({},window._cloneDeep(t[\"default\"]),e)},_getValidArrayType:function(e,t){return _.isArray(e)?e:t[\"default\"]},_getValidArrayAttributeValue:function(e,t){return _.contains(t[\"typeof\"],e)?e:t[\"default\"]},_getValidSimpleAttributeValue:function(e,t){return typeof e===t[\"typeof\"]?e:t[\"default\"]}},window.PenValidator=Class.extend({dataAttributes:{title:{\"typeof\":\"string\",\"default\":\"\"},description:{\"typeof\":\"string\",\"default\":\"\"},slug_hash:{\"typeof\":\"string\",\"default\":\"\"},html:{\"typeof\":\"string\",\"default\":\"\"},css:{\"typeof\":\"string\",\"default\":\"\"},js:{\"typeof\":\"string\",\"default\":\"\"},parent:{\"typeof\":\"number\",\"default\":0},\"private\":{\"typeof\":\"boolean\",\"default\":!1},template:{\"typeof\":\"boolean\",\"default\":!1},npm_packages:{\"typeof\":\"object\",\"default\":{}},html_pre_processor:{\"typeof\":__preprocessors.html.syntaxes,\"default\":__preprocessors.html[\"default\"]},html_classes:{\"typeof\":\"string\",\"default\":\"\"},head:{\"typeof\":\"string\",\"default\":\"\"},css_pre_processor:{\"typeof\":__preprocessors.css.syntaxes,\"default\":__preprocessors.css[\"default\"]},css_prefix:{\"typeof\":__preprocessors.css.prefixes,\"default\":__preprocessors.css.default_prefix},css_starter:{\"typeof\":__preprocessors.css.bases,\"default\":__preprocessors.css.default_base},styles:{\"typeof\":\"array\",\"default\":[]},js_pre_processor:{\"typeof\":__preprocessors.js.syntaxes,\"default\":__preprocessors.js[\"default\"]},scripts:{\"typeof\":\"array\",\"default\":[]}},makePenValid:function(e){LocalDataValidator.makeObjValid(e,this.dataAttributes)}}),window.Project=Class.extend({id:\"\",title:\"\",description:\"\",slug_hash:\"\",parent:0,\"private\":!1,template:!1,tags:[],newTags:[],init:function(){_.extend(this,AJAXUtil),this._loadStoredData(),this._ensureDataIsValid()},_loadStoredData:function(){_.extend(this,__item,!0)},_ensureDataIsValid:function(){},getActiveSlugHash:function(){return this[\"private\"]?this.slug_hash_private:this.slug_hash},getURLSlugHash:function(){return this[\"private\"]?this.slug_hash_private+\"/\"+this.slug_hash:this.slug_hash},getTags:function(){return _.uniq(_.clone(this.tags).concat(_.clone(this.newTags)))},setItemValue:function(e){for(var t in e.item)this._setValue(t,e.item[t])},_setValue:function(e,t){if(_.isObject(t)&&!_.isArray(t))for(var n in t)this[e][n]=t[n];else this[e]=t},_updateSaveableTagsPriorToSave:function(){this.tags=this.getTags(),this.newTags=[]},saveDetails:function(){this._updateSaveableTagsPriorToSave(),this.put(\"/projects/project/\"+this.slug_hash,{_isJSON:!0,json:{payload:{project:{id:this.id,title:this.title,description:this.description,project_files_attributes:[],\"private\":this[\"private\"],tags:this.tags}}}},this._saveComplete)},_saveComplete:function(){this._updateBrowserURL(),CP.SettingsModel.hideSettingsPane(),location.reload()},_updateBrowserURL:function(){if(window.history.replaceState&&CP.item.getActiveSlugHash()){const e=this._getURLToProject();window.history.replaceState(e,\"\",e)}},_getURLToProject:function(){return`https://${document.location.host}${CP.profiled.base_url}/project/details/${CP.item.getActiveSlugHash()}`},forkProject:function(){this.post(\"/projects/fork\",{_isJSON:!0,json:{source:this.slug_hash}},this._successfulFork)},_successfulFork:function(e){var t=e.payload.project.url;window.location=t}}),window.PenActions=Class.extend({init:function(){this._bindToDOM()},_bindToDOM:function(){var e=$(\"body\");e.on(\"click\",\"#save, #update, #save-details\",this._savePen),e.on(\"click\",\"#save-as-private\",this._savePenAsPrivate),e.on(\"click\",\"#run\",this._runPen),$(\"#pen-details-form\")._on(\"submit\",this._savePen,this),e.on(\"click\",\"#live-view-popout-button\",this._liveViewPopout)},_savePen:function(){CP.pen.save()},_savePenAsPrivate:function(){CP.pen.saveAsPrivate()},_runPen:function(){CP.penRenderer.processAndRender(!0)},_liveViewPopout:function(){window.open($(\"#live-link\").attr(\"href\")),CP.CodeEditorsResizeView.setEditorSizes({editor:\"1\"})}}),function(){function e(){\"vim\"===CP.pen.editor_settings.key_bindings&&(CodeMirror.commands.save=function(){CP.pen.save()})}function t(){$(\"body\").on(\"click\",\".keyboard-commands-button\",n),d.on(\"click\",i)}function n(e){e&&e.preventDefault(),l?i():s()}function s(){!l&&u.length&&(u.show(),CP.showPopupOverlay(),l=!0,Hub.pub(\"popup-open\",h))}function i(){l&&u.length&&(u.hide(),CP.hidePopupOverlay(),l=!1)}function o(){Hub.sub(\"key\",r),Hub.sub(\"popup-open\",a)}function r(e,t){\"esc\"===t.key&&i()}function a(e,t){t!==h&&i()}function c(){Keytrap.bind(\"comctrl+e\",function(){$(\"#new-comment\").focus()},!0),Keytrap.bind(\"comctrl+s\",function(){if(\"collab\"!==window.__pageType&&\"professor\"!==window.__pageType||CP.pen.isUserPenOwner()){var e=$(\".inline-title-input\");e.is(\":focus\")?e.trigger(\"blur\"):CP.pen.save()}},!0),Keytrap.bind(\"comctrl+shift+s\",function(){CP.pen.saveAsPrivate()},!0),Keytrap.bind(\"comctrl+p\",function(){CP.pen.newPen()},!0),Keytrap.bind(\"comctrl+shift+7\",function(){CP.penRenderer.processAndRender(!0)},!0),Keytrap.bind(\"comctrl+shift+0\",function(){if(CP.pen.slug_hash){var e=document.location.href.replace(\"/pen/\",\"/full/\");window.open(e)}},!0),Keytrap.bind(\"comctrl+shift+9\",$.proxy(function(){n()},this),!0),Keytrap.bind(\"comctrl+i\",function(){CP.settingsController.toggleSettingsPane()},!0),Keytrap.bind(\"comctrl+shift+.\",function(){CP.htmlEditor.hasFocus()&&CP.htmlEditor.editor.execCommand(\"closeTag\")},!0)}CP.keyBindings={},CP.keyBindings.init=function(){e(),t(),o(),c()};var u=$(\"#keycommands\"),d=$(\"#popup-overlay\"),l=!1,h=\"keyCommands\"}(),function(){function e(){var e=setTimeout(function(){i.removeClass(\"hide\")},r);o.push(e)}function t(){n(),i.addClass(\"hide\")}function n(){for(var e=o.pop();e;)clearTimeout(e),e=o.pop()}function s(n,s){if(ObjectUtil.hasNestedValue(s,\"pen.npm_packages\")){const n=s.pen.npm_packages;CP.pen.isBuildingPackages(n)?e():t()}}var i=$(\"#packages-building-message-settings,#packages-building-message\"),o=[],r=1500;Hub.sub(\"pen-change\",s)}(),window.ClientSidePenValidations={validatePen:function(e){var t={};return this._validateHTML(e,t),this.validateCSS(e,t),t},_validateHTML:function(e,t){/^(\\s+)?<!doctype/i.test(e.html)&&(t.html={line:1,type:\"html\",message:\"You don't need a DOCTYPE on CodePen. Just put here what you would normally put in the <body>.\",level:\"warn\",pretty_name:\"HTML\"})},validateCSS:function(e,t){if(_.contains([\"scss\",\"sass\"],e.css_pre_processor)){var n=/inline-image/i;n.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,n),type:\"css\",message:\"The function inline-image can not be used on CodePen since it depends on reading images from disk. We've removed it.\",level:\"warn\",pretty_name:\"SCSS\"});var s=/image-width\\(/i;s.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,s),type:\"css\",message:\"The function image-width can not be used on CodePen since it depends on reading images from disk. We've removed it.\",level:\"warn\",pretty_name:\"SCSS\"});var i=/image-height\\(/i;i.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,i),type:\"css\",message:\"The function image-height can not be used on CodePen since it depends on reading images from disk. We've removed it.\",level:\"warn\",pretty_name:\"SCSS\"})}if(\"less\"===e.css_pre_processor){var o=/data-uri/i;o.test(e.css)&&(t.css={\nline:this._findErrorLineNumber(e.css,o),type:\"css\",message:\"The function data-uri can not be used because it's insecure. We've removed it from your LESS code.\",level:\"warn\",pretty_name:\"LESS\"})}if(e.css){var r=/<style>/i;r.test(e.css)&&(t.css={line:this._findErrorLineNumber(e.css,r),type:\"css\",message:\"You don't need to include a style tag. Just put here what you would normally include in the style tag.\",level:\"warn\",pretty_name:\"CSS\"})}return t},_findErrorLineNumber:function(e,t){for(var n=e.split(\"\\n\"),s=0,i=n.length;s<i;s++)if(t.test(n[s]))return s+1;return 1}},function(){function e(e){return(e||\"\").match(/(\\[\\[\\[\\S+\\..{2,10}\\/\\S+\\/pen\\/(\\w{5,})\\]\\]\\])/gm)||[]}function t(e,t){return t.reduce((t,i)=>(i.par&&\"html\"===i.source.type&&(t=t.replace(n(i),s(e,i))),t),e)}function n(e){const t=e.id.replace(/\\//g,\"\\\\/\").replace(/\\[/g,\"\\\\[\").replace(/\\]/g,\"\\\\]\");return new RegExp(t,\"g\")}function s(e,t){const n=i(e,t.id);return n?(t.source.body||\"\").split(/\\r|\\n/).join(n):t.source.body}function i(e,t){const n=\"(\\\\s+)?\"+t.replace(/\\[/g,\"\\\\[\").replace(/\\//g,\"\\\\/\").replace(/\\]/g,\"\\\\]\"),s=new RegExp(n,\"mg\").exec(e);return s?s[1]:\"\"}window.PARTemplates={findTemplates:e,renderTemplates:t}}(),function(){function e(e){var t=$(e.target).closest(\"div.box\").data(\"type\");$(\"#box-\"+t+\" .inline-editor-error\").removeClass(\"inline-error-hidden\"),P(t),E(t),Hub.pub(\"editor-refresh\",{delay:0})}function t(e){return!_.find(e,{level:\"error\"})}function n(e){clearTimeout(k),s(\"all\"),_.size(e)&&o(e)}function s(e){(\"all\"===e?x:[e]).forEach(function(e){i(e)}),E()}function i(e){var t=(CodeEditorsUtil.getEditorByType(e)||{}).editor;if(t){for(var n=A[e].widgets,s=0,i=n.length;s<i;s++)n[s].clear();t.eachLine(function(e){t.removeLineClass(e,\"background\",\"line-highlight\")}),A[e].widgets=[],A[e].lines=[]}}function o(e){k=setTimeout(function(){c(e)},100)}function r(e){return\"undefined\"==typeof e.line||\"undefined\"==typeof e.message}function a(e,t){A[e.type].widgets.push(t),A[e.type].lines.push(e.line),e.errorType===M.dependency&&(A[e.type].solution=e)}function c(e){for(var t in e){var n=e[t];if(!r(n)){g(n);var s=u(CodeEditorsUtil.getEditorByType(n.type).editor,n);T(n),a(n,s)}}}function u(e,t){var n=$(y(t))[0],s=parseInt(t.line-1,10);return e.addLineClass(s,\"background\",\"line-highlight\"),e.addLineWidget(s,n,{coverGutter:!0,noHScroll:!0})}function d(e,t){for(var n=0;n<t.hits.length;n++){var s=t.hits[n];if(s.name===e.name)return e.version,{name:s.name,version:s.version}}return null}function l(e){var t=e.map(function(e){return window.algolia.npmIndex.search(e.name)});return Promise.all(t).then(function(t){for(var n=[],s=[],i=0;i<t.length;i++){var o=t[i],r=e[i],a=d(r,o);a?s.push(a):n.push(r)}return{foundPackages:s,missingPackages:n}})}function h(e,t){var n=\"Unable to find '\"+t[0].importPath+\"' on npm.\";return[Object.assign({},e,{errorType:M.error,message:n,showErrorImmediately:!0})]}function p(){CP.pen.setItemValue({origin:\"client\",pen:{js_pre_processor:\"babel\"}})}function f(e){e.preventDefault();var t=A.js.solution;t.errorType===M.dependency&&(p(),l(t.dependencies).then(function(e){e.missingPackages.length>0?n(h(t,e.missingPackages)):(e.foundPackages.forEach(function(e){CP.pen.addPackage(e.name,e.version)}),CP.pen.save())}))}function g(e){e.errorType===M.dependency&&l(e.dependencies.filter(function(e){return\"peer\"===e.type})).then(function(e){e.foundPackages.forEach(function(e){CP.pen.addPackage(e.name,e.version)}),CP.pen.save()})}function m(e){var t=e.dependencies.map(function(e){return e.importPath}),n=t[0];return t.length>2?n+\" and \"+(t.length-1)+\" other packages haven't been loaded.\":2===t.length?n+\" and \"+t[1]+\" haven't been loaded.\":n+\" hasn't been loaded.\"}function b(e){return e.errorType===M.dependency?m(e):e.message}function v(e){return e.errorType===M.dependency||e.showErrorImmediately}function C(e){var t=v(e)?\"\":\"inline-error-hidden\";return e.errorType===M.dependency?\"<div class='inline-editor-error yellow \"+t+\"'><div class='inline-error-message'><%= message %> <a href='#' class='js-editor-solution'>Install now?</a></div></div>\":\"<div class='inline-editor-error \"+t+\"'><div class='inline-error-message'><%= message %></div></div>\"}function y(e){var t=b(e);return _.template(C(e),{message:w(t)})}function w(e){return _htmlEntities(e).replace(/&lt;br \\/&gt;/g,\"<br />\").replace(/-&gt;/g,\"->\")}function P(e){var t=S(A[e].lines[0]);CodeEditorsUtil.getEditorByType(e).editor.scrollIntoView(t)}function S(e){return e-2>0?e-2:0}function T(e){v(e)||$(\"#error-bar-\"+e.type).show()}function E(e){e?$(\"#error-bar-\"+e).hide():$(\".error-bar\").hide()}var x=[\"html\",\"css\",\"js\"],A=x.reduce(function(e,t){return e[t]={lines:[],solution:null,widgets:[]},e},{}),k=0;$(\"body\").on(\"click\",\".js-editor-solution\",f);var M={error:\"error\",dependency:\"dependency\",importPath:\"importPath\"};$(\".error-icon\").on(\"click\",e),Hub.sub(\"error-infinite-loop\",function(e,t){n(t)}),window.editorErrorHandler={canRenderPen:t,clearPreprocWidgets:s,handleErrorsInEditor:n}}(),function(){function e(e,n){return{buildFiles:t(n.toStore,e),errors:s(e),payload:e}}function t(e,t){return Object.assign({},e,n(t))}function n(e){return Object.values(e).reduce(function(e,t){return e[t.contentType]=t.textOutput,e},{})}function s(e){return Object.values(e).reduce(function(e,t){if(t.errors&&t.errors[0]){var n=t.errors[0];e[t.contentType]=Object.assign({},n,{level:\"error\",line:n.line,message:n.message,solution:n.solution,syntax:t.syntax,type:t.contentType})}return e},{})}function i(e){_>p?alert(\"You're session expired. Refresh the page to continue\"):AJAXUtil.post(\"/processor_jwts\",\"\",function(t){window.__jwt=t.payload.jwt,_+=1,e()})}function o(e){if(!e.success){var t=e.errors;if(t.auth_token_expired||t.auth_token_fail)return!0}return!1}function r(e){return new Promise(function(t){a(e)?c(e,t):t({payload:e})})}function a(e){return Object.keys(e).length>0}function c(e,t){window.ProcessorRouter.route(e,function(n){o(n)?i(function(){c(e,t)}):t(n)})}function u(t,n){if(CP.pen.isBuildingPackages())return;const s=new ProcessedPen(n);let i;CP.processPARs(CP.pen).then(function(e){return s.setProcessedValue(\"parsHash\",e),s.setProcessedValue(\"resources\",CP.pen.resources),r((i=s.buildToSendAndToStore()).toSend)}).then(function(t){return e(t.payload,i)}).then(function(e){const{buildFiles:n,errors:i,payload:o}=e,r=d(o);Hub.pub(\"show-processing-logs\",{logs:r}),s.updateAfterProcessing(n),f=s,t({errors:i,processedPen:s})})[\"catch\"](function(e){console.error(\"Error processing Pen\",{error:e})})}function d(e){var t=[];for(var n in e){var s=e[n].logs;if(e[n].logs){for(var i=e[n].contentType,o=0,r=s.length;o<r;o++)t.push({line:s[o].line,message:s[o].message,type:i});t=t.concat()}}return t}function l(e){return f.getProcessed(e)||\"\"===f.getProcessed(e)?f.getProcessed(e):\"\\ud83d\\udc3b Bear with us while we compile your code to \"+e}function h(e){return new Promise(t=>{f?t(l(e)):u(()=>{t(l(e))})})}const p=100;let f,_=0;CP.penProcessor={getProcessed:h,process:u}}(),function(){function e(e,t,n){for(var s=0;s<e.length;s++)if(e[s]&&e[s][t]&&e[s][t]===n)return s;return-1}function t(){n()}function n(){var e=CPLocalStorage.getItem(c);e&&(r=JSON.parse(e))}function s(t,n,s){if((\"css\"===t||\"js\"===t)&&s!==undefined){var o=e(r[t],\"name\",s);o>-1?(r[t].splice(o,1),r[t].unshift({name:s,url:n})):r[t].unshift({name:s,url:n}),r[t].length>a&&(r[t].length=a),i()}}function i(){CPLocalStorage.setItem(c,JSON.stringify(r))}function o(e){return r[e]}var r={css:[],js:[]},a=6,c=\"CP_recent_pen_resources\";CP.PenRecentResourcesManager={},CP.PenRecentResourcesManager.addNewPenResource=s,CP.PenRecentResourcesManager.getRecentPenResources=o,t()}(),window.BunkerBox={makeHeadSafe:function(e,t){return e=e||\"\",\"public\"===(t=this._getSafeSandboxType(t))&&(e=e.replace(/<script.+/gim,\"\")),e=this.makeHTMLSafe(e,t)},makeHTMLSafe:function(e,t){return e=e||\"\",t=this._getSafeSandboxType(t),e=(e=(e=(e=e.replace(/(<.*?\\s)(autofocus=(\"|')autofocus(\"|')|autofocus)/g,\"$1\")).replace(/iframe.+src=.+(&#)/gim,\"\")).replace(/autoPlay=true/gim,\"autoPlay=false\")).replace(/http-equiv=\"refresh\"/gim,\"\"),e=this.makeJSSafe(e,t)},makeJSSafe:function(e,t){return e=e||\"\",t=this._getSafeSandboxType(t),e=(e=e.replace(/location\\.replace\\s*\\(\\s*\\)/gim,\"location.removedByCodePen()\")).replace(/location\\.reload\\s*\\(\\s*\\)/gim,\"location.removedByCodePen()\"),\"public\"===t&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(\"beforeunloadreplacedbycodepen\")).replace(/debugger(\\s+)?;/gim,\"\")).replace(/console\\.(\\S+)\\(([\\s\\S]*?)\\);/gim,\"\")).replace(/(alert|confirm|prompt)\\(([\\s\\S]*?)\\);/gim,\"\")).replace(/geolocation/gim,\"\")).replace(/audiocontext/gim,\"\")).replace(/getusermedia/gim,\"\")).replace(/initMouseEvent/gim,\"\")).replace(/download/gim,\"\")).replace(/\\.click\\(/gim,\"\")).replace(/YT.Player/gim,\"YT.CodePenRemovedPlayer\")),this._isSandboxSupported()||(e=(e=(e=(e=(e=e.replace(/window(\\s+)?\\[(\\s+)?(\"|\")l/gim,\"\")).replace(/self(\\s+)?\\[(\\s+)?(\"|\")loc/gim,\"\")).replace(/\\.submit\\(\\)/gim,\"\")).replace(/fromCharCode/gim,\"\")).replace(/\\blocation(\\s+)?=/gim,\"\")),e},_getSafeSandboxType:function(e){return void 0===e?\"public\":\"public\"===e?\"public\":\"personal\"},_sandboxSupported:null,_isSandboxSupported:function(){return null===this._sandboxSupported&&(this._sandboxSupported=this._determineIfSandboxIsSupported()),this._sandboxSupported},_determineIfSandboxIsSupported:function(){try{return\"sandbox\"in document.createElement(\"iframe\")}catch(e){return!1}}},window.IFramePenToHTML={renderPenAsHTML:function(e){return`\\n<!DOCTYPE html>\\n<html lang='en' class='${e.html_classes}'>\\n  ${this._getHeadAndCSS(e)}\\n  <body>\\n    ${BunkerBox.makeHTMLSafe(e.html,\"personal\")}\\n    ${this._getJSScripts(e)}\\n    ${this._getPenJS(e)}\\n  </body>\\n</html>\\n    `},_getHeadAndCSS:function(e){return`\\n      <head>\\n        ${this._buildScriptLink(window.__path_to_console_runner_js)}\\n        ${this._buildScriptLink(window.__path_to_live_reloader_js)}\\n        <meta charset='UTF-8'>\\n        <meta name=\"robots\" content=\"noindex\">\\n        <link rel=\"shortcut icon\" type=\"image/x-icon\"\\n          href=\"${window.__favicon_shortcut_icon}\" />\\n        <link rel=\"mask-icon\" type=\"\"\\n        href=\"${window.__favicon_mask_icon}\" color=\"#111\" />\\n        <link rel=\"canonical\" href=\"${document.location.href}\" />\\n        ${e.head}\\n        ${this._getCSSStarterStyles(e)}\\n        ${this._getPrefixesStyles(e)}\\n        ${this._getStylesToAddToHead(e.styles)}\\n        <style class=\"cp-pen-styles\">\\n          ${e.css}\\n        </style>\\n      </head>\\n    `},_getCSSStarterStyles:function(e){return\"normalize\"===e.css_starter?this._buildCSSLink(window.__pen_normalize_css_url):\"reset\"===e.css_starter?this._buildCSSLink(window.__pen_reset_css_url):\"\"},_getPrefixesStyles:function(e){return\"prefixfree\"===e.css_prefix?this._buildScriptLink(window.__pen_prefix_free_url):\"\"},_getStylesToAddToHead:function(e){return e.reduce((e,t)=>(t.url?e+=this._buildCSSLink(t.url):t.content&&(e+=\"\\n<style>\\n\"+t.content+\"\\n</style>\"),e),\"\")},_buildCSSLink:function(e){return`<link rel=\"stylesheet\" href=\"${e}\">`},_getPenJS:function(e){const t=BunkerBox.makeJSSafe(e.js,\"personal\");if(t){return`\\n        <script id=\"rendered-js\"${this._loadAsModule(t)?' type=\"module\"':\"\"}>\\n          ${t}\\n          //# sourceURL=pen.js\\n        </script>`}return\"\"},_loadAsModule:function(e){return/import\\s+([\\S\\s]+\\s+from\\s+)?[\"'].+[\"']/m.test(e)},_getJSScripts:function(e){var t=\"\";return this._includeStopExecutionScript(e)&&(t+=this._buildScriptLink(__path_to_stop_execution_on_timeout)),t+this._getPenResourcesAsScripts(e.scripts)},_includeStopExecutionScript:function(e){return e.js},_getPenResourcesAsScripts:function(e){return e.reduce((e,t)=>(t.url?e+=this._buildScriptLink(t.url):t.content&&(e+=\"\\n<script>\"+t.content+\"</script>\"),e),\"\")},_buildScriptLink:function(e){return`<script src=\"${e}\"></script>`}},function(){function e(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+\"-\"+e()+\"-\"+e()+\"-\"+e()+\"-\"+e()+e()+e()}window.generateGuid=e}(),function(){function e(){$(\"#loading-text\").remove()}function t(e,t){for(var n=e.children(\"iframe\"),s=0,i=n.length;s<i;s++)n[s].id!==t&&$(n[s]).remove();$(\"#\"+t).removeClass(\"iframe-visual-update\")}function n(n,s){t(n,s),e()}function s(e,t){e.prepend(a(t)),i(e,t)}function i(e,t){var s=!1,i=setTimeout(function(){s||(n(e,t),s=!0)},f);$(\"#\"+t).load(function(){clearTimeout(i),s||(n(e,t),s=!0)})}function o(){return window.__CPDATA.iframe_sandbox}function r(){return window.__CPDATA.iframe_allow}function a(e){return\"<iframe id='\"+e+\"' src='\"+u(e)+\"' name='CodePen' allowfullscreen='true' sandbox='\"+o()+\"' allow='\"+r()+\"' allowTransparency='true' allowpaymentrequest='true' class='result-iframe iframe-visual-update' ></iframe>\"}function c(e,t){return new Promise(n=>{const s=new XMLHttpRequest;s.open(\"POST\",e,!0),s.timeout=g,s.setRequestHeader(\"Content-Type\",\"text/plain; charset=utf-8\"),s.onload=(()=>{let e={};try{e=JSON.parse(s.responseText)}catch(t){}if(s.status>=200&&s.status<400)return void n({error:null,data:e});const t={message:\"Server Error\",request:s};n({error:t,data:e})});const i=JSON.stringify(t);s.send(i)})}function u(e){const t=d(e),n=document.location.hash;return`${_.serve_url}${t}${n}`}function d(e){return/\\?/.test(document.location.search)?`${document.location.search}&key=${e}`:`?key=${e}`}function l(){return\"iFrameKey-\"+generateGuid()}function h(e,t){return c(`${_.store_url}?token=${window.__jwt}`,{key:e,html:t})}async function p(e,t){const n=l();return await h(n,t),s(e,n),u(n)}const f=300,_=window.__boomboom,g=3e4;window.IFrameRender={updateIFramePreview:p}}(),function(){function e(e){return\"infinite-loop\"!==e.data.action}function t(){window._onMessage(function(t){try{if(e(t))return;var s=n(t.data.line);Hub.pub(\"error-infinite-loop\",{js:{errorType:\"error\",level:\"error\",line:s,message:i(s),syntax:CP.pen.js_pre_processor,type:\"js\"}})}catch(o){}})}function n(e){var t=s(e);t=t.replace(/\\s+/g,\"\");var n=_.map(CP.pen.js.split(/\\r\\n?|\\n/),function(e){return e.replace(/\\s+/g,\"\")});return _.indexOf(n,t)+1}function s(e){for(var t=f.split(/\\r\\n?|\\n/),n=e;n>-1&&t[n].match(/(break;|shouldStopExecution)/);)n-=1;return t[n]}function i(e){return\"Infinite loop found on line \"+e+\". The line number is approximated so look carefully.\"}function o(e){if(null===C)return C=_.cloneDeep(e,!0),void l(e);if(r(e))try{d(e)}catch(t){l(e)}else l(e)}function r(e){if(a(e))return!1;if(e.fullRefresh)return!1;var t=u(e,C);return C=_.clone(e,!0),t}function a(e){return!!c(e)||(e.css||\"\").match(/(keyframes|:target|animation|CP_DoFullRefresh)/gi)}function c(e){var t=e.html||\"\",n=e.css||\"\";return t.match(/svg/i)&&n.match(/background/)}function u(e,t){if(null===t)return!1;var n=_diffObjects(e,t);return delete n.css,delete n.fullRefresh,0===_.size(n)}function d(e){for(var t=document.getElementsByClassName(\"result-iframe\"),n=0;n<t.length;n++){var s={action:g,data:{css:e.css,head:e.head}};Hub.pub(g,s),t[n].contentWindow.postMessage(s,\"*\")}}function l(e){clearTimeout(v),v=setTimeout(function(){h(e)},b)}function h(e){f=IFramePenToHTML.renderPenAsHTML(e),IFrameRender.updateIFramePreview(p,f).then(function(t){var n={action:m,data:{url:t,head:e.head}};Hub.pub(m,n)})}var p=$(\"#result_div, #result-box\"),f=\"\",g=\"ACTION_LIVE_VIEW_RELOAD_CSS\",m=\"ACTION_LIVE_VIEW_UPDATE_URL\",b=700,v=0,C=null;t(),window.PenToPreview={updateLiveIFrame:o}}(),window.PenRenderer=Class.extend({DEFAULT_TIMEOUT:700,MAX_TIMEOUT:2500,hasRendered:!1,init:function(){this._bindToHub(),this.processAndRender=_.debounce(this._processAndRenderInternal.bind(this),this.DEFAULT_TIMEOUT,{leading:!1,maxWait:this.MAX_TIMEOUT}),$(\".result-iframe.iframe-empty\").length&&(CP.pen.css||CP.pen.html||CP.pen.js)&&this._runIfNotRan()},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this)),Hub.sub(\"console-opened\",$.proxy(this._runIfNotRan,this))},_runIfNotRan:function(){this.hasRendered||this.processAndRender(!0)},_onPenChange:function(e,t){CP.pen.getAttribute(\"editor_settings\").auto_run&&this._penPreviewAttributeChanged(t.pen)&&this.processAndRender()},_penPreviewAttributeChanged:function(e){var t=CP.pen.getAttributesThatAffectPenPreview();return _.intersection(t,_.keys(e)).length>0},_processAndRenderInternal:function(e){CP.penProcessor.process(this._renderProcessedPen.bind(this),{fullRefresh:e||!1})},_renderProcessedPen:function(e){editorErrorHandler.canRenderPen(e.errors)&&(this.hasRendered=!0,this.renderablePen=e.processedPen.buildRenderableHash(),Hub.pub(\"live_change\",this.renderablePen),PenToPreview.updateLiveIFrame(this.renderablePen)),editorErrorHandler.handleErrorsInEditor(e.errors)}}),\n/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction(e){\"use strict\";function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function s(e,s,i,o,r,a){return t(n(t(t(s,e),t(o,a)),r),i)}function i(e,t,n,i,o,r,a){return s(t&n|~t&i,e,t,o,r,a)}function o(e,t,n,i,o,r,a){return s(t&i|n&~i,e,t,o,r,a)}function r(e,t,n,i,o,r,a){return s(t^n^i,e,t,o,r,a)}function a(e,t,n,i,o,r,a){return s(n^(t|~i),e,t,o,r,a)}function c(e,n){var s,c,u,d,l;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var h=1732584193,p=-271733879,f=-1732584194,_=271733878;for(s=0;s<e.length;s+=16)c=h,u=p,d=f,l=_,p=a(p=a(p=a(p=a(p=r(p=r(p=r(p=r(p=o(p=o(p=o(p=o(p=i(p=i(p=i(p=i(p,f=i(f,_=i(_,h=i(h,p,f,_,e[s],7,-680876936),p,f,e[s+1],12,-389564586),h,p,e[s+2],17,606105819),_,h,e[s+3],22,-1044525330),f=i(f,_=i(_,h=i(h,p,f,_,e[s+4],7,-176418897),p,f,e[s+5],12,1200080426),h,p,e[s+6],17,-1473231341),_,h,e[s+7],22,-45705983),f=i(f,_=i(_,h=i(h,p,f,_,e[s+8],7,1770035416),p,f,e[s+9],12,-1958414417),h,p,e[s+10],17,-42063),_,h,e[s+11],22,-1990404162),f=i(f,_=i(_,h=i(h,p,f,_,e[s+12],7,1804603682),p,f,e[s+13],12,-40341101),h,p,e[s+14],17,-1502002290),_,h,e[s+15],22,1236535329),f=o(f,_=o(_,h=o(h,p,f,_,e[s+1],5,-165796510),p,f,e[s+6],9,-1069501632),h,p,e[s+11],14,643717713),_,h,e[s],20,-373897302),f=o(f,_=o(_,h=o(h,p,f,_,e[s+5],5,-701558691),p,f,e[s+10],9,38016083),h,p,e[s+15],14,-660478335),_,h,e[s+4],20,-405537848),f=o(f,_=o(_,h=o(h,p,f,_,e[s+9],5,568446438),p,f,e[s+14],9,-1019803690),h,p,e[s+3],14,-187363961),_,h,e[s+8],20,1163531501),f=o(f,_=o(_,h=o(h,p,f,_,e[s+13],5,-1444681467),p,f,e[s+2],9,-51403784),h,p,e[s+7],14,1735328473),_,h,e[s+12],20,-1926607734),f=r(f,_=r(_,h=r(h,p,f,_,e[s+5],4,-378558),p,f,e[s+8],11,-2022574463),h,p,e[s+11],16,1839030562),_,h,e[s+14],23,-35309556),f=r(f,_=r(_,h=r(h,p,f,_,e[s+1],4,-1530992060),p,f,e[s+4],11,1272893353),h,p,e[s+7],16,-155497632),_,h,e[s+10],23,-1094730640),f=r(f,_=r(_,h=r(h,p,f,_,e[s+13],4,681279174),p,f,e[s],11,-358537222),h,p,e[s+3],16,-722521979),_,h,e[s+6],23,76029189),f=r(f,_=r(_,h=r(h,p,f,_,e[s+9],4,-640364487),p,f,e[s+12],11,-421815835),h,p,e[s+15],16,530742520),_,h,e[s+2],23,-995338651),f=a(f,_=a(_,h=a(h,p,f,_,e[s],6,-198630844),p,f,e[s+7],10,1126891415),h,p,e[s+14],15,-1416354905),_,h,e[s+5],21,-57434055),f=a(f,_=a(_,h=a(h,p,f,_,e[s+12],6,1700485571),p,f,e[s+3],10,-1894986606),h,p,e[s+10],15,-1051523),_,h,e[s+1],21,-2054922799),f=a(f,_=a(_,h=a(h,p,f,_,e[s+8],6,1873313359),p,f,e[s+15],10,-30611744),h,p,e[s+6],15,-1560198380),_,h,e[s+13],21,1309151649),f=a(f,_=a(_,h=a(h,p,f,_,e[s+4],6,-145523070),p,f,e[s+11],10,-1120210379),h,p,e[s+2],15,718787259),_,h,e[s+9],21,-343485551),h=t(h,c),p=t(p,u),f=t(f,d),_=t(_,l);return[h,p,f,_]}function u(e){var t,n=\"\",s=32*e.length;for(t=0;t<s;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=undefined,t=0;t<n.length;t+=1)n[t]=0;var s=8*e.length;for(t=0;t<s;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function l(e){return u(c(d(e),8*e.length))}function h(e,t){var n,s,i=d(e),o=[],r=[];for(o[15]=r[15]=undefined,i.length>16&&(i=c(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],r[n]=1549556828^i[n];return s=c(o.concat(d(t)),512+8*t.length),u(c(r.concat(s),640))}function p(e){var t,n,s=\"0123456789abcdef\",i=\"\";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=s.charAt(t>>>4&15)+s.charAt(15&t);return i}function f(e){return unescape(encodeURIComponent(e))}function _(e){return l(f(e))}function g(e){return p(_(e))}function m(e,t){return h(f(e),f(t))}function b(e,t){return p(m(e,t))}function v(e,t,n){return t?n?m(t,e):b(t,e):n?_(e):g(e)}\"function\"==typeof define&&define.amd?define(function(){return v}):\"object\"==typeof module&&module.exports?module.exports=v:e.md5=v}(this),function(){async function e(e){return t(await n(e),a(e))}function t(e,t){const n={html:{},css:{},js:{}};return e.forEach(e=>{n[e.source.type][e.id]=e}),t.forEach(e=>{n[e.source.type][e.id]||(n[e.source.type][e.id]=e)}),n}async function n(e){const t=i(e);if(t.pen.pars.length>0){const e=md5(JSON.stringify(t));if(s(),p[e])return p[e];const n=await AJAXUtil.postAsync(\"/pens_as_resources\",{data:JSON.stringify(t)});return p[e]=_cloneDeep(n.pars),n.pars}return[]}function s(){f>0||(f=setTimeout(()=>{p={},f=-1},h))}function i(e){const t=o(e),n=r(e),s=t.concat(n);return{pen:{html_pre_processor:e.html_pre_processor,css_pre_processor:e.css_pre_processor,js_pre_processor:e.js_pre_processor,pars:s}}}function o(e){return PARTemplates.findTemplates(e.html).map(e=>({id:e,order:0,input:{body:e,type:\"html\"}}))}function r(e){return e.resources.filter(t=>!u(e,t)&&(d(t.url)||l(t.url))).map(e=>({id:e.url,order:e.order,input:{body:e.url,type:e.resource_type}}))}function a(e){return e.resources.filter(e=>d(e.url)).map(e=>({id:e.url,order:e.order,par:!1,source:{body:c(e.url,e.resource_type),syntax:e.resource_type,type:e.resource_type}}))}function c(e,t){return`${(e||\"\").split(\"?\").shift().replace(/\\/$/,\"\").replace(/\\..{2,10}$/,\"\")}.${t}`}function u(e,t){const{resource_type:n}=t;return\"none\"===e[`${n}_pre_processor`]}function d(e){return/\\S+\\..{2,10}\\/\\S+\\/pen\\/(\\w{5,})/i.test(e)}function l(e){const t=e.split(\".\").pop();return window.__preprocessors.css.par_suffixes.includes(t)}window.CP.processPARs=e;const h=3e5;let p={},f=-1}(),window.__processedPenCache={toSend:{},toStore:{}},window.ProcessedPen=Class.extend({fullRefresh:!1,processed:{parsHash:{html:{},css:{},js:{}}},resources:[],init:function(e){this.fullRefresh=e.fullRefresh},setValue:function(e,t){this[e]=t},setProcessedValue:function(e,t){void 0!==t&&(this.processed[e]=t)},getProcessed:function(e){return this.processed[e]},updateAfterProcessing:function(e){PenConstants.TYPES.forEach(t=>{this.setProcessedValue(t,e[t]),window.__processedPenCache.toStore[t]=e[t]})},buildToSendAndToStore:function(){const e=this._buildAllToSends(),{toSend:t,toStore:n}=this._buildToSendAndToStore(e);return this._cacheToSendsBeforeProcessing(e),{toSend:t,toStore:n}},_cacheToSendsBeforeProcessing:function(e){Object.keys(e).forEach(t=>{window.__processedPenCache.toSend[t]=e[t]})},_buildAllToSends:function(){return{html:this._buildHTMLToBeProcessed(),css:this._buildCSSToBeProcessed(),js:this._buildJSToBeProcessed()}},_buildHTMLToBeProcessed:function(){const e=this._baseProcessorData(\"html\");return e.textInput=PARTemplates.renderTemplates(CP.pen.html,Object.values(this.processed.parsHash.html)),e},_buildCSSToBeProcessed:function(){const e=this._baseProcessorData(\"css\"),t=this._buildPARPrepend(\"css\",this.processed.parsHash.css);return e.textInput=`${t}${CP.pen.css}`,\"scss\"!==e.syntax&&\"sass\"!==e.syntax||(e.version=this._determineSassVersion(e.textInput)),\"autoprefixer\"===CP.pen.css_prefix&&(e.options[CP.pen.css_prefix]=!0),e},SASS_WITH_COMPASS:\"3.4.22\",_determineSassVersion:function(e){var t=\"string\"==typeof e?e:\"\";return/@import\\s+('|\")?compass('|\")?/i.test(t)?this.SASS_WITH_COMPASS:\"default\"},_buildJSToBeProcessed:function(){const e=this._baseProcessorData(\"js\"),t=this._buildPARPrepend(\"js\",this.processed.parsHash.js);return e.textInput=`${t}${CP.pen.js}`,e.options=this._getJSProcessorOptions(),e},_getJSProcessorOptions:function(){const e={detectInfiniteLoops:!0,dependencies:{}};return window.__feature_npm_enabled&&(e.dependencies=Object.values(CP.pen.getActiveNpmPackagesAsDependencies())),e},_baseProcessorData:function(e){return{contentType:e,id:e,options:{},syntax:CP.pen[`${e}_pre_processor`],version:\"default\"}},_buildToSendAndToStore:function(e){return PenConstants.TYPES.reduce((t,n)=>{const s=e[n],i=this._shouldProcessType(s),o=this._isTypeCached(n,s);return i&&!o?t.toSend[n]=s:t.toStore[n]=i&&o?window.__processedPenCache.toStore[n]:s.textInput,t},{toSend:{},toStore:{}})},_shouldProcessType:function(e){return!!e.textInput&&(\"none\"!==e.syntax||Object.keys(e.options).length>0)},_isTypeCached:function(e,t){const n=window.__processedPenCache.toSend[e];return window._areEqual(t,n)},_buildPARPrepend:function(e,t){const n=Object.values(t).filter(t=>t.par&&t.source.type===e);return n.sort(sortByOrder),n.map(e=>e.source.body).join(\"\\n\")},buildRenderableHash:function(){return{css_prefix:CP.pen.css_prefix,css_starter:CP.pen.css_starter,css:this.processed.css,fullRefresh:this.fullRefresh,head:CP.pen.head,html_classes:CP.pen.html_classes,html:this.processed.html,js_pre_processor:CP.pen.js_pre_processor,js:this.processed.js,location_hash:window.location.hash,scripts:this._getScripts(),styles:this._getStyles()}},_getStyles:function(){return this._getExternalURLs(\"css\",this.processed.resources,this.processed.parsHash.css)},_getScripts:function(){const e=this._getExternalURLs(\"js\",this.processed.resources,this.processed.parsHash.js);return this._getBundleScripts().concat(e)},_getExternalURLs:function(e,t,n){const s=this._getResourceURLsByType(e,t,n),i=this._getPARSURLsByType(e,n),o=s.concat(i);return o.sort(sortByOrder),o},_getResourceURLsByType:function(e,t,n){return t.filter(t=>t.resource_type===e&&!n[t.url]&&t.url).map(e=>({order:e.order,type:e.resource_type,url:e.url}))},_getPARSURLsByType:function(e,t){return Object.values(t).filter(e=>!e.par).map(t=>({order:t.order,type:e,url:t.source.body}))},_getBundleScripts:function(){return Object.keys(CP.pen.getActiveNpmPackages()).length>0?bundleScripts:[]}});const bundleScripts=[{content:`window.__webpack_public_path__ = \"${window.__npm_base_url}\";`,order:0},{order:1,url:window.__npm_base_url+\"/runtime.js\"}];window.BaseSettingsController=Class.extend({setItemValue:function(e){this.item||(this.item=this.pen),this.item.setItemValue(e)},syncWithServer:function(e){this.model.syncWithServer(e)}}),window.BaseSettingsEvents=Class.extend({type:\"\",_canDrive:!0,init:function(e){this.controller=e,_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents()},_setItemValue:function(e){this.controller.setItemValue(this._buildBasicData(e))},_setItemValueFromServer:function(e){this.controller.setItemValue(e)},_onServerPenChange:function(e,t){this.controller.setItemValue(t)},_buildBasicData:function(e){return{origin:\"client\",pen:e}}}),window.BaseSettingsModel=Class.extend({init:function(){}}),window.BaseSettingsView=Class.extend({type:\"\",_canDrive:!0,init:function(){}}),window.BehaviorController=BaseSettingsController.extend({init:function(e){this.pen=e,this.events=new BehaviorEvents(this),this.view=new BehaviorView(e)}}),window.BehaviorEvents=BaseSettingsEvents.extend({$autoSave:$(\"#auto-save\"),$autoRun:$(\"#auto-run\"),$tabSize:$(\"#tab-size\"),$indentWith:$(\"input[name='indent-with']\"),init:function(e){this._super(e),_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents(),this._bindToDOM(),this._bindToHub()},_bindToDOM:function(){this.$autoSave._on(\"click\",this._setAutoSave,this,!0),this.$autoRun._on(\"click\",this._setAutoRun,this,!0),this.$tabSize._on(\"change\",this._onTabSizeChange,this),this.$indentWith._on(\"click\",this._setIndentWith,this,!0)},_bindToHub:function(){Hub.sub(\"server-pen-change\",$.proxy(this._onServerPenChange,this))},_onServerPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"pen.editor_settings\")&&this._setItemValueFromServer(t)},_setAutoSave:function(e,t){this._canDrive&&this._setItemValue(this._buildSettingsPenData(\"auto_save\",t.is(\":checked\")))},_setAutoRun:function(e,t){this._canDrive&&this._setItemValue(this._buildSettingsPenData(\"auto_run\",t.is(\":checked\")))},_setIndentWith:function(){this._canDrive&&this._setItemValue(this._buildSettingsPenData(\"indent_with\",$(\"input[name='indent-with']:checked\").val()))},_onTabSizeChange:function(e,t){this._canDrive&&this._setItemValue(this._buildSettingsPenData(\"tab_size\",this._validTabSize(t.val())))},_validTabSize:function(e){var t=1*e;return t<1||t>6?\"1\":e},_buildSettingsPenData:function(e,t){var n={editor_settings:{}};return n.editor_settings[e]=t,n},_getAllUIElements:function(){return[this.$autoSave,this.$autoRun,this.$tabSize,this.$indentWith]}}),window.BehaviorView=Class.extend({$body:$(\"body\"),$autoSave:$(\"#auto-save\"),$autoRun:$(\"#auto-run\"),$tabSize:$(\"#tab-size\"),$indentWithSpaces:$(\"#indent-with-spaces\"),$indentWithTabs:$(\"#indent-with-tabs\"),init:function(e){this._bindToHub(),this._handlePenChange(e)},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){this._handlePenChange(t.pen)},_handlePenChange:function(e){ObjectUtil.hasNestedValue(e,\"editor_settings.auto_run\")&&this._setAutoRun(e.editor_settings.auto_run),ObjectUtil.hasNestedValue(e,\"editor_settings.auto_save\")&&this._setAutoSave(e.editor_settings.auto_save),ObjectUtil.hasNestedValue(e,\"editor_settings.indent_with\")&&this._setIndentWith(e.editor_settings.indent_with),ObjectUtil.hasNestedValue(e,\"editor_settings.tab_size\")&&this._setTabSize(e.editor_settings.tab_size)},_setAutoRun:function(e){e?(this.$autoRun.prop(\"checked\",!0),this.$body.removeClass(\"show-run-button\")):(this.$autoRun.prop(\"checked\",!1),this.$body.addClass(\"show-run-button\"))},_setAutoSave:function(e){this.$autoSave.prop(\"checked\",e)},_setIndentWith:function(e){\"tabs\"===e?(this.$indentWithTabs.prop(\"checked\",!0),this.$indentWithSpaces.prop(\"checked\",!1)):(this.$indentWithTabs.prop(\"checked\",!1),this.$indentWithSpaces.prop(\"checked\",!0))},_setTabSize:function(e){this.$tabSize.val(e)}}),window.CSSSettingsController=BaseSettingsController.extend({init:function(e){this.pen=e,this.events=new CSSSettingsEvents(this),this.model=new CSSSettingsModel,this.view=new CSSSettingsView(e),this.resourcesController=new ResourcesController(\"css\")},showAddons:function(e){this.model.showAddons(e)},hideAddons:function(e){this.model.hideAddons(e)},syncWithServer:function(e){this.model.syncWithServer(e)}}),window.CSSSettingsEvents=BaseSettingsEvents.extend({type:\"css\",$cssPreProcessor:$(\"#css-preprocessor\"),$starterCSS:$(\"input[name='startercss']\"),$cssPrefix:$(\"input[name='prefix']\"),$cssNeedAnAddon:$(\"#css-need-an-addon-button\"),init:function(e){this._super(e),_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents(),this._bindToDOM(),this._bindToHub()},_bindToDOM:function(){this.$cssPreProcessor._on(\"change\",this._selectPreProcessor,this,!0),this.$starterCSS._on(\"click\",this._selectStartCSS,this,!0),this.$cssPrefix._on(\"click\",this._selectCSSPrefix,this,!0),this.$cssNeedAnAddon._on(\"click\",this._onClickNeedAnAddonButton,this)},_bindToHub:function(){Hub.sub(\"server-ui-change\",$.proxy(this._onServerUIChange,this)),Hub.sub(\"server-pen-change\",$.proxy(this._onServerPenChange,this))},_onServerUIChange:function(e,t){ObjectUtil.hasNestedValue(t,\"ui.settings.css.addons\")&&this.controller.syncWithServer(t)},_onServerPenChange:function(e,t){(ObjectUtil.hasNestedValue(t,\"pen.css_pre_processor\")||ObjectUtil.hasNestedValue(t,\"pen.css_prefix\")||ObjectUtil.hasNestedValue(t,\"pen.css_starter\"))&&this._setItemValueFromServer(t)},_selectPreProcessor:function(e,t){this._canDrive&&(this._setItemValue({css_pre_processor:t.val()}),this.controller.hideAddons({origin:\"client\"}))},_selectStartCSS:function(e,t){this._canDrive&&this._setItemValue({css_starter:t.val()})},_selectCSSPrefix:function(e,t){this._canDrive&&this._setItemValue({css_prefix:t.val()})},_getAllUIElements:function(){return[this.$cssPreProcessor,this.$starterCSS,this.$cssPrefix,this.$cssNeedAnAddon]},_onClickNeedAnAddonButton:function(){this._canDrive&&(\"open\"===CP.ui.settings.css.addons?this.controller.hideAddons({origin:\"client\"}):this.controller.showAddons({origin:\"client\"}))}}),window.CSSSettingsModel=BaseSettingsModel.extend({type:\"css\",init:function(){this._super()},showAddons:function(e){CP.ui.settings.css.addons=\"open\",this._pubUIChange(e)},hideAddons:function(e){CP.ui.settings.css.addons=\"closed\",this._pubUIChange(e)},syncWithServer:function(e){CP.ui.settings.css.addons=e.ui.settings.css.addons,this._pubUIChange(e)},_pubUIChange:function(e){Hub.pub(\"ui-change\",{origin:e.origin,ui:{settings:{css:{addons:CP.ui.settings.css.addons}}}})}}),window.CSSSettingsView=BaseSettingsView.extend({$boxCSSEl:$(\"#box-css\"),$cssPreprocessor:$(\"#css-preprocessor\"),$needAnAddon:$(\"#need-an-addon\"),$addOns:$(\"#add-ons\"),type:\"css\",init:function(e){this._super(),this._bindToHub(),this._updateUI(e)},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this)),Hub.sub(\"ui-change\",$.proxy(this._onUIChange,this))},_onPenChange:function(e,t){this._updateUI(t.pen)},_updateUI:function(e){ObjectUtil.hasNestedValue(e,\"css_pre_processor\")&&this._setPreProcessor(e),ObjectUtil.hasNestedValue(e,\"css_starter\")&&this._selectCSSStarter(e),ObjectUtil.hasNestedValue(e,\"css_prefix\")&&this._selectCSSPrefix(e)},_onUIChange:function(e,t){ObjectUtil.hasNestedValue(t,\"ui.settings.css.addons\")&&this._updateAddons(t.ui.settings.css.addons)},_setPreProcessor:function(e){this._selectPreProcessor(e),this._addClassesToBoxCSS(e),this._toggleNeedAddons(e)},_selectPreProcessor:function(e){this.$cssPreprocessor.val(e.css_pre_processor)},_addClassesToBoxCSS:function(e){this.$boxCSSEl.data(\"preprocessor\",__preprocessors.css.pretty_syntaxes[e.css_pre_processor]),this.$boxCSSEl.removeClass(__preprocessors.css.syntaxes.join(\" \")).removeClass(__preprocessors.css.prefixes.join(\" \")).addClass(e.css_pre_processor),$(\".css-editor-title\").removeClass(__preprocessors.css.syntaxes.join(\" \")).removeClass(__preprocessors.css.prefixes.join(\" \")).addClass(e.css_pre_processor)},_toggleNeedAddons:function(e){if(_.contains(__preprocessors.css.preprocessors,e.css_pre_processor)){var t=this;CacheGet.find({key:\"/editor/constants/addons/\"+e.css_pre_processor,url:\"/editor/constants/addons/\"+e.css_pre_processor,dataType:\"json\",onSuccess:function(e){t.$addOns.html(e.html),CP.HelpFlyouts.init(),t.$needAnAddon.removeClass(\"hide\"),t._bindToAddOnsDOM()}})}else this.$needAnAddon.addClass(\"hide\")},_bindToAddOnsDOM:function(){this.$addOnFilter=$(\"#css-add-ons-filter\"),this.$addOnFilter._on(\"keyup\",this._filterAddOns,this),this.$addOnFilterClear=$(\"#css-clear-addon-filter\"),this.$addOnFilterClear._on(\"click\",this._clearAddOnsFilter,this),this.$addOnItems=$(\"#css-add-ons-list\").find(\"li\"),this.$addOnItems.find(\".add-add-on\")._on(\"click\",this._insertAddOnCode,this)},_insertAddOnCode:function(e,t){e.preventDefault();var n=CP.cssEditor.editor.getValue(),s=t.parent().find(\".add-on-code\").html()+\"\\n\"+n;CP.cssEditor.editor.setValue(s),$.showMessage(\"Preprocessor Add-On Added!\")},_updateAddons:function(e){\"open\"===e?this.$addOns.removeClass(\"hide\"):this.$addOns.addClass(\"hide\")},_selectCSSStarter:function(e){$(\"#startercss-options-form input[value='\"+e.css_starter+\"']\").prop(\"checked\",!0)},_selectCSSPrefix:function(e){$(\"#prefix-options-form input[value='\"+e.css_prefix+\"']\").prop(\"checked\",!0),this._addCSSPrefixClassToBoxCSS(e)},_addCSSPrefixClassToBoxCSS:function(e){this.$boxCSSEl.removeClass(__preprocessors.css.prefixes.join(\" \")).addClass(e.css_prefix)},_filterAddOns:function(){var e=this.$addOnFilter.val();if(\"\"!==e){this.$addOnItems.hide(),this.$addOnFilterClear.show();for(var t=0;t<this.$addOnItems.length;t++)if(this.$addOnItems[t].innerHTML.indexOf(e)>-1&&($(this.$addOnItems[t]).show(),$(this.$addOnItems[t]).hasClass(\"depends-on\")))for(var n=t;n>=0;n--)if(!$(this.$addOnItems[n]).hasClass(\"depends-on\")){$(this.$addOnItems[n]).show();break}}else this.$addOnFilterClear.hide(),this.$addOnItems.show()},_clearAddOnsFilter:function(){this.$addOnFilter.val(\"\"),this.$addOnItems.show(),this.$addOnFilterClear.hide()}}),window.HTMLSettingsController=BaseSettingsController.extend({init:function(e){this.pen=e,this.events=new HTMLSettingsEvents(this),this.model=new HTMLSettingsModel(this),this.view=new HTMLSettingsView(e)}}),window.HTMLSettingsEvents=BaseSettingsEvents.extend({type:\"html\",$htmlPreProcessor:$(\"#html-preprocessor\"),$headContent:$(\"#head-content\"),$htmlClasses:$(\"#html-classes\"),$metaTagInsert:$(\"#meta-tag-insert\"),init:function(e){this._super(e),_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents(),this._bindToDOM(),this._bindToHub()},_bindToDOM:function(){this.$htmlPreProcessor._on(\"change\",this._selectPreProcessor,this,!0),this.$headContent._on(\"keyup change\",this._setHead,this,!0),this.$htmlClasses._on(\"keyup change\",this._setHTMLClasses,this,!0),this.$metaTagInsert._on(\"click\",this._addCommonMetaTag,this,!1)},_bindToHub:function(){Hub.sub(\"server-pen-change\",$.proxy(this._onServerPenChange,this))},_onServerPenChange:function(e,t){(ObjectUtil.hasNestedValue(t,\"pen.html_pre_processor\")||ObjectUtil.hasNestedValue(t,\"pen.head\")||ObjectUtil.hasNestedValue(t,\"pen.html_classes\"))&&this._setItemValueFromServer(t)},_selectPreProcessor:function(e,t){this._canDrive&&this._setItemValue({html_pre_processor:t.val()})},_setHead:function(e,t){this._canDrive&&this._setItemValue({head:t.val()})},_setHTMLClasses:function(e,t){this._canDrive&&this._setItemValue({html_classes:t.val()})},_addCommonMetaTag:function(){this._canDrive&&this._setItemValue({head:this._getHeadWithMetaTag()})},_getHeadWithMetaTag:function(){return $.trim($(\"#head-content\").val()+'\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">')},_getAllUIElements:function(){return[this.$htmlPreProcessor,this.$headContent,this.$htmlClasses,this.$metaTagInsert]}}),window.HTMLSettingsModel=BaseSettingsModel.extend({type:\"html\",init:function(){this._super()}}),window.HTMLSettingsView=BaseSettingsView.extend({$boxHTML:$(\"#box-html\"),$htmlPreprocessor:$(\"#html-preprocessor\"),$htmlClasses:$(\"#html-classes\"),$headWrapper:$(\".head-content-wrapper\"),$head:$(\"#head-content\"),type:\"html\",init:function(e){this._super(),this._bindToHub(),this._updateUI(e)},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){this._updateUI(t.pen)},_updateUI:function(e){ObjectUtil.hasNestedValue(e,\"html_pre_processor\")&&this._setPreProcessor(e.html_pre_processor),ObjectUtil.hasNestedValue(e,\"head\")&&this._setHead(e.head),ObjectUtil.hasNestedValue(e,\"html_classes\")&&this._setHTMLClasses(e.html_classes)},_setHead:function(e){this.$head.val()!==e&&this.$head.val(e),-1!==e.indexOf(\"http://\")?this.$headWrapper.addClass(\"insecure-resource\"):this.$headWrapper.removeClass(\"insecure-resource\")},_setHTMLClasses:function(e){this.$htmlClasses.val()!==e&&this.$htmlClasses.val(e)},_setPreProcessor:function(e){this._addClassBoxHTML(e),this._selectPreProcessor(e)},_selectPreProcessor:function(e){this.$htmlPreprocessor.val(e)},_addClassBoxHTML:function(e){this.$boxHTML.data(\"preprocessor\",__preprocessors.html.pretty_syntaxes[e]),this.$boxHTML.removeClass(__preprocessors.html.syntaxes.join(\" \")).addClass(e),$(\".html-editor-title\").removeClass(__preprocessors.html.syntaxes.join(\" \")).addClass(e)}}),window.InfoController=Class.extend({init:function(){this.events=new InfoEvents,this.view=new InfoView}}),window.InfoEvents=Class.extend({$title:$(\"#item-details-title\"),$description:$(\"#item-details-description\"),$privateCkbx:$(\"#item-details-private\"),$passwordCkbx:$(\"#item-details-password\"),$templateCkbx:$(\"#item-details-template\"),init:function(e){this.controller=e,this._bindToDOM()},_bindToDOM:function(){this.$title.on(\"keyup\",$.proxy(this._setTitle,this)),this.$description.on(\"keyup\",$.proxy(this._setDescription,this)),this.$privateCkbx._on(\"click\",this._setPrivacy,this,!0),this.$passwordCkbx._on(\"click\",this._setPasswordUsage,this,!0),this.$templateCkbx._on(\"click\",this._setTemplate,this,!0)},_setTitle:function(){CP.item.setItemValue({origin:\"client\",item:{title:this.$title.val()}})},_setDescription:function(){CP.item.setItemValue({origin:\"client\",item:{description:this.$description.val()}})},_setPrivacy:function(){CP.item.setItemValue({origin:\"client\",item:{\"private\":this.$privateCkbx.is(\":checked\")}})},_setPasswordUsage:function(){CP.item.setItemValue({origin:\"client\",item:{password_used:this.$passwordCkbx.is(\":checked\")}})},_setTemplate:function(){CP.item.setItemValue({origin:\"client\",item:{template:this.$templateCkbx.is(\":checked\")}})}}),window.InfoView=Class.extend({$body:$(\"body\"),$title:$(\"#item-details-title\"),$templateCkbx:$(\"#item-details-template\"),$privateCkbx:$(\"#item-details-private\"),$passwordInput:$(\"#item-details-password-value\"),$passwordArea:$(\".password-protect-toggle-wrap\"),init:function(){this.pageType=__pageType,this._bindToHub(),this._hidePenHasUnsavedChanges()},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this)),Hub.sub(\"pen-errors\",$.proxy(this._onPenErrors,this)),Hub.sub(\"pen-saved\",$.proxy(this._onPenSaved,this))},_onPenChange:function(e,t){this._showPenHasUnsavedChanges(),ObjectUtil.hasNestedValue(t,\"pen.title\")&&this._updateTitle(t),ObjectUtil.hasNestedValue(t,\"pen.private\")&&(this.$privateCkbx.prop(\"checked\",t.item[\"private\"]),this._togglePasswordArea(t)),ObjectUtil.hasNestedValue(t,\"pen.password_used\")&&this._togglePasswordInput(t),ObjectUtil.hasNestedValue(t,\"pen.template\")&&this._updateTemplate(t)},_updateTitle:function(e){this.$title.val(e.pen.title)},_togglePasswordArea:function(e){e.pen[\"private\"]?this.$passwordArea.removeClass(\"hide\"):this.$passwordArea.addClass(\"hide\")},_togglePasswordInput:function(e){e.pen.password_used?this.$passwordInput.removeClass(\"hide\"):this.$passwordInput.addClass(\"hide\")},_updateTemplate:function(e){this.$templateCkbx.is(\":checked\")!==e.pen.template&&this.$templateCkbx.attr(\"checked\",e.pen.template)},_onPenErrors:function(e,t){$.showMessage(Copy.errors[t],\"slow\")},_doneWithSignupOrLogin:function(e){CP.user.updateUser(e.user),CP.pen.save()},_onPenSaved:function(e,t){this._isNewPenInProfessorOrCollab(t)?$.showMessage(_.template(Copy.penForked,t),8e3):(this._hidePenHasUnsavedChanges(),this._updateSavedTimeAgoFooter(t),this._updateTitleAndDescriptionOnDetailsPage())},_isNewPenInProfessorOrCollab:function(e){return _.contains([\"professor\",\"collab\"],this.pageType)&&e.newPen},_updateSavedTimeAgoFooter:function(e){$(\"#last-saved-time-ago\").html(e.last_saved_time_ago)},_updateTitleAndDescriptionOnDetailsPage:function(){\"details\"===this.pageType&&window.location.reload()},_showPenHasUnsavedChanges:function(){CP.pen.save_disabled||this.$body.addClass(\"unsaved\")},_hidePenHasUnsavedChanges:function(){this.$body.removeClass(\"unsaved\")}}),window.JSSettingsController=BaseSettingsController.extend({type:\"js\",init:function(e){this.pen=e,this.events=new JSSettingsEvents(this),this.model=new JSSettingsModel(this),this.view=new JSSettingsView(e),this.resourcesController=new ResourcesController(\"js\")}}),window.JSSettingsEvents=BaseSettingsEvents.extend({type:\"js\",$jsPreProcessor:$(\"#js-preprocessor\"),init:function(e){this._super(e),_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents(),this._bindToDOM(),this._bindToHub()},_bindToDOM:function(){this.$jsPreProcessor._on(\"change\",this._selectPreProcessor,this,!0)},_bindToHub:function(){Hub.sub(\"server-pen-change\",$.proxy(this._onServerPenChange,this))},_onServerPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"item.js_pre_processor\")&&this._setItemValueFromServer(t)},_selectPreProcessor:function(e,t){this._canDrive&&this._setItemValue({js_pre_processor:t.val()})},_getAllUIElements:function(){return[this.$jsPreProcessor]}}),window.JSSettingsModel=BaseSettingsModel.extend({type:\"js\",init:function(){this._super()}}),window.JSSettingsView=BaseSettingsView.extend({$boxJS:$(\"#box-js\"),$jsPreprocessor:$(\"#js-preprocessor\"),$npmProcessingMessage:$(\"#preprocessing-with-npm-message\"),type:\"js\",init:function(e){this._super(),this._bindToHub(),this._updateUI(e)},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){this._updateUI(t.pen)},_updateUI:function(e){ObjectUtil.hasNestedValue(e,\"js_pre_processor\")&&this._setPreProcessor(e.js_pre_processor),ObjectUtil.hasNestedValue(e,\"npm_packages\")&&this._setDisabledPreprocessorSelect(e.npm_packages)},_setDisabledPreprocessorSelect:function(e){if(Object.keys(e).length){var t=!this.$jsPreprocessor.attr(\"disabled\");this.$jsPreprocessor.attr(\"disabled\",!0),this.$npmProcessingMessage.removeClass(\"hide\"),this.$jsPreprocessor.val(\"babel\"),t&&this.$jsPreprocessor.trigger(\"change\")}else this.$jsPreprocessor.attr(\"disabled\",!1),this.$npmProcessingMessage.addClass(\"hide\")},_setPreProcessor:function(e){this._addProcessorClassBoxJS(e),this._selectPreProcessor(e)},_selectPreProcessor:function(e){this.$jsPreprocessor.val(e)},_addProcessorClassBoxJS:function(e){this.$boxJS.data(\"preprocessor\",__preprocessors.js.pretty_syntaxes[e]),this.$boxJS.removeClass(__preprocessors.js.syntaxes.join(\" \")).addClass(e),$(\".js-editor-title\").removeClass(__preprocessors.js.syntaxes.join(\" \")).addClass(e)}}),window.npmSettingsController=BaseSettingsController.extend({type:\"npm\",init:function(e){this.pen=e,this.events=new npmSettingsEvents(this),this.model=new npmSettingsModel(this),this.view=new npmSettingsView(e)},addPackage:function(e,t){CP.pen.addPackage(e,t)},removePackage:function(e){CP.pen.removePackage(e)}}),window.npmSettingsEvents=BaseSettingsEvents.extend({type:\"npm\",init:function(e){this._super(e),_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents(),this._bindToDOM(),this._bindToHub(),this._setUpSearch()},_bindToDOM:function(){$(\"#npm-packages\").on(\"click\",\".remove-npm-package\",this._handleRemovePackageClick.bind(this))},_bindToHub:function(){Hub.sub(\"server-pen-change\",this._onServerPenChange.bind(this))},_onServerPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"item.packages\")&&this._setItemValueFromServer(t)},_handleRemovePackageClick:function(e){e.preventDefault();var t=$(e.target).closest(\".npm-row\").data(\"name\");return this.controller.removePackage(t),!1},_setUpSearch:function(){var e=this;$(\"#npm-search\").autocomplete({hint:!1},[{source:$.fn.autocomplete.sources.hits(window.algolia.npmIndex,{hitsPerPage:8,attributesToRetrieve:[\"name\",\"version\",\"description\"]}),displayKey:\"name\",templates:{suggestion:function(e){return\"<div class='package-title'>\"+$.fn.autocomplete.escapeHighlightedString(e._highlightResult.name.value)+\"</div><div class='package-description'>\"+$.fn.autocomplete.escapeHighlightedString(e.description)+\"</div><div class='package-version'>\"+$.fn.autocomplete.escapeHighlightedString(e.version)+\"</div>\"},empty:\"<div>No results.</div>\"}}]).on(\"autocomplete:selected\",function(t,n){e.controller.addPackage(n.name,n.version),$(\"#npm-search\").autocomplete(\"val\",\"\")})}}),window.npmSettingsModel=window.BaseSettingsModel.extend({type:\"npm\",init:function(){this._super()}}),window.npmSettingsView=BaseSettingsView.extend({type:\"npm\",init:function(){this._super(),this._bindToHub(),this.$settingsTab=$(\"#item-settings-javascript-npm\"),this._templateHTML=document.querySelector(\"#npm-package-template\").innerHTML,this._updatePackagesUI(CP.pen.getActiveNpmPackages())},_bindToHub:function(){Hub.sub(\"pen-change\",this._onPenChange.bind(this))},_onPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"pen.npm_packages\")&&this._updatePackagesUI(t.pen.npm_packages),ObjectUtil.hasNestedValue(t.pen,\"js_pre_processor\")&&this._setStateOfTab(t.pen.js_pre_processor)},_setStateOfTab:function(e){\"none\"===e||\"babel\"===e?this.$settingsTab.removeClass(\"npm-settings-disabled\"):this.$settingsTab.addClass(\"npm-settings-disabled\")},_updatePackagesUI:function(e){$(\"#npm-packages\").html(this._buildNPMPackagesHTML(e))},_buildNPMPackagesHTML:function(e){return Object.keys(e).sort().map(function(t){var n=e[t];return this.getTemplate(n)}.bind(this)).join(\"\")},getTemplate:function(e){return _.template(this._templateHTML,{name:window._htmlEntities(e.name),version:window._htmlEntities(e.version),url:\"https://www.npmjs.com/package/\"+e.name})}}),window.ResourcesController=Class.extend({init:function(e){this.type=e,this.events=new ResourcesEvents(this,e),this.view=new ResourcesView(this,e)},setItemValueFromServer:function(e){CP.pen.setPenResources(e)},addEmptyResource:function(e){CP.pen.addEmptyResource(e)},quickAddResource:function(e,t,n){CP.pen.quickAddResource(e,t),CP.PenRecentResourcesManager.addNewPenResource(e,t,n)},deleteResource:function(e){CP.pen.deleteResource(e)},setResource:function(e,t){CP.pen.setResource(e,t)},updateResourcesOrder:function(e,t){CP.pen.updateResourcesOrder(e,t)}}),window.ResourcesEvents=Class.extend({init:function(e,t){this.controller=e,this.type=t,_.extend(this,EnableDisableDriver),this.bindToEnableDisableHubEvents(),this._bindToDOM(),this._bindToHub(),this.setUpAlgoliaSearch()},_bindToDOM:function(){$(\"#add-\"+this.type+\"-resource\")._on(\"click\",this._onAddResourceClick,this),$(\"#\"+this.type+\"-external-resources\").on(\"click\",\".remove-external-url\",$.proxy(this._onDeleteResource,this)).on(\"keydown\",this._getResourcesSelector(),$.proxy(this._onChangeResource,this)).on(\"change\",this._getResourcesSelector(),$.proxy(this._onChangeResource,this)),this._makeResourcesSortable(),this.$searchInput=$(\"#external-\"+this.type+\"-search\")},_getResourcesSelector:function(){return\"input.\"+this.type+\"-resource[name='external-\"+this.type+\"']\"},\n_bindToHub:function(){Hub.sub(\"server-pen-change\",$.proxy(this._onServerPenChange,this))},_onServerPenChange:function(e,t){ObjectUtil.hasNestedValue(t,\"pen.resources\")&&this.controller.setItemValueFromServer(t)},_makeResourcesSortable:function(){var e=this;$(\"#\"+this.type+\"-external-resources\").sortable({handle:\".move-external-url\",axis:\"y\",update:function(){e._updateResourcesOrder()}})},_updateResourcesOrder:function(){this._canDrive&&this.controller.updateResourcesOrder(this.type,this._getViewIDsToOrders())},_checkResourcesSecurity:function(e){var t=$(\"#external-resource-input-\"+e),n=t.closest(\".external-resource-url-row\");\"http:\"===t.val().substr(0,5)?n.addClass(\"insecure-resource\"):n.removeClass(\"insecure-resource\"),CP.HelpFlyouts.init()},_getViewIDsToOrders:function(){return _.reduce(this._getInputsByType(),function(e,t,n){return e[this._getElementViewID(t)]=n,e},{},this)},_getInputsByType:function(){return _.select($(\"#\"+this.type+\"-external-resources input\"),function(e){return $(e).attr(\"id\")})},_onChangeResource:function(e){if(this._canDrive){var t=this._getElementViewID(e.target);this.controller.setResource(t,$(e.target).val()),$(\".open-external-url[data-view-id=\"+t+\"]\").attr(\"href\",$(e.target).val()),this._updateResourcesOrder();var n=this;setTimeout(function(){n._checkResourcesSecurity(t)},0)}},_onAddResourceClick:function(){this._canDrive&&this.controller.addEmptyResource(this.type)},_onDeleteResource:function(e){return e.preventDefault(),this._canDrive&&(this.controller.deleteResource(this._getElementViewID(e.target)),this._updateResourcesOrder()),!1},_getElementViewID:function(e){return $(e).attr(\"data-view-id\")},_getAllUIElements:function(){return[$(\"#add-\"+this.type+\"-resource\"),$(\"#\"+this.type+\"-quick-add\"),$(this._getResourcesSelector())]},setUpAlgoliaSearch:function(){var e=this;$(\"#external-\"+e.type+\"-search\").autocomplete({hint:!1},[{source:$.fn.autocomplete.sources.hits(window.algolia.cdnCSSIndex,{hitsPerPage:8,attributesToRetrieve:[\"fileType\",\"filename\",\"_highlightResult\",\"version\",\"name\",\"description\"]}),displayKey:\"name\",templates:{suggestion:function(e){return\"<div class='package-title'>\"+e._highlightResult.name.value+\"</div><div class='package-description'>\"+e.description+\"</div><div class='package-version'>\"+e.version+\"</div>\"}}},{source:$.fn.autocomplete.sources.hits(window.algolia.cdnJSIndex,{hitsPerPage:8,attributesToRetrieve:[\"fileType\",\"filename\",\"_highlightResult\",\"version\",\"name\",\"description\"],filters:\"fileType:\"+e.type}),displayKey:\"name\",templates:{suggestion:function(e){return\"<div class='package-title'>\"+e._highlightResult.name.value+\"</div><div class='package-description'>\"+e.description.substring(0,200)+\"</div><div class='package-version'>\"+e.version+\"</div>\"},empty:'<div class=\"typeahead-no-results\">No results.</div>'}}]).on(\"autocomplete:selected\",function(t,n){var s=\"https://cdnjs.cloudflare.com/ajax/libs/\";s+=n.name+\"/\",s+=n.version+\"/\",s+=n.filename,e.controller.quickAddResource(e.type,s,n.name),e._updateResourcesOrder(),$(\"#external-\"+e.type+\"-search\").autocomplete(\"val\",\"\")})}}),window.ResourcesView=Class.extend({$resources:null,$quickAdd:null,init:function(e,t){this.controller=e,this.type=t,this._initDOM(),this._bindToHub()},_initDOM:function(){this.$resources=$(\"#\"+this.type+\"-external-resources\"),this.$quickAdd=$(\"#\"+this.type+\"-quick-add\"),this._syncExternalInputs(CP.pen.getResourcesByType(this.type)),this._appendRecentResourcesToUI(CP.PenRecentResourcesManager.getRecentPenResources(this.type))},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this))},_onPenChange:function(e,t){if(ObjectUtil.hasNestedValue(t,\"pen.resources\")){var n=CP.pen.getResourcesByType(this.type);this._syncExternalInputs(n,t.rebind),this._ensureOneEmptyInput(n)}},_syncExternalInputs:function(e){this._syncNumberOfDOMElementsWithResources(e),this._syncTheDOMValuesWithResources(e),this._resetQuickAdd()},_syncNumberOfDOMElementsWithResources:function(e){var t=this._getExistingExternalsDivs(),n=e.length-t.length;if(n>0)for(;n--;){var s=e.length-1-n;this._appendResourcesToUI(e[s],s)}else if(n<0)for(n*=-1;n--;)$(t.last()).remove()},_syncTheDOMValuesWithResources:function(e){_.forEach(this._getExistingExternalsDivs(),function(t,n){t=$(t);var s=e[n];if(s.view_id===t.attr(\"data-view-id\")){$(\"#external-resource-input-view-link-\"+s.view_id).attr(\"href\",s.url);var i=$(\"#external-resource-input-\"+s.view_id);s.url!==i.val()&&i.val(s.url)}else t.replaceWith(this._divHTML(s))},this)},_getExistingExternalsDivs:function(){return $(\"#\"+this.type+\"-external-resources > div\")},_appendResourcesToUI:function(e,t){var n=$(this._divHTML(e,t));this.$resources.append(n),CP.HelpFlyouts.init()},_ensureOneEmptyInput:function(e){0===e.reduce(function(e,t){var n=(t.url||\"\").replace(/\\s/g,\"\");return\"\"===n&&e.push(n),e},[]).length&&this.controller.addEmptyResource(this.type)},_appendRecentResourcesToUI:function(e){this._addRecentResourcesToDropdown(e)},_addRecentResourcesToDropdown:function(e){var t=$(\"#\"+this.type+\"-quick-add\"),n=$(\".recent-resources\",t),s=$(\".popular-resources\",t);if(e.length>0)for(var i=0;i<e.length;i++)$('option[value=\"'+e[i].url+'\"]',s).remove(),n.append($('<option value=\"'+e[i].url+'\" label=\"'+e[i].name+'\">'+e[i].name+\"</option>\"))},_divHTML:function(e,t){return _.template(this._getTemplate(),{url:e.url,insecure_resource:\"http:\"===e.url.substr(0,5)?\"insecure-resource\":\"\",view_id:e.view_id,placeholder:this._getPlaceholderForInput(e.resource_type,t)})},_template:\"\",_getTemplate:function(){return\"\"===this._template&&(this._template=$(\"#\"+this.type+\"-external-resources-template\").html()),this._template},_getPlaceholderForInput:function(e,t){return t%2==0?\"css\"===e?\"https://yourwebsite.com/style.css\":\"https://yourwebsite.com/script.js\":\"https://codepen.io/username/pen/aBcDef\"},_resetQuickAdd:function(){this.$quickAdd.prop(\"selectedIndex\",0)}}),window.SearchFilter={init:function(){this._bindToDOM()},_bindToDOM:function(){$(\"#assets-search\")._on(\"keyup click search\",this._onSearchChange,this,!0)},_onSearchChange:function(e,t){var n=$.trim(t.val().toLowerCase());\"\"===n?$(\".single-asset\").removeClass(\"hide\"):($(\".single-asset\").addClass(\"hide\"),$(\".single-asset[data-searchable-name*='\"+n+\"']\").closest(\".single-asset\").removeClass(\"hide\"))}},function(){function e(e,t){return{asset_type:\"account\",name:t,size:e.size,content_type:e.type}}function t(e,t,n){AJAXUtil.post(\"/uploaded_assets/asset_upload_request\",e,function(e){var s=new FormData;for(var i in e.form_data.fields)s.append(i,e.form_data.fields[i]);s.append(\"file\",t),$.ajax({url:e.form_data.action,data:s,processData:!1,contentType:!1,type:\"POST\",success:function(t,s){n(e,s)}})})}function n(n,s,i){t(e(n,s),n,function(e,t){i(\"success\"===t?{success:!0,file:n,fileName:s}:{success:!1,file:n,error:t.text})})}function s(e,t,n){var s={asset_type:\"avatar\",file_ext:e.toLowerCase(),content_type:t};return n&&(s.team=!0),s}function i(e,t,n){return{asset_type:\"screenshot\",item_type:n,item_id:CP.pen.id,file_ext:e.toLowerCase(),content_type:t}}function o(e,n,i,o,r){t(s(i,e.type,o),n,function(e,t){a(r,e,t)})}function r(e,n,s,o,r){t(i(o,n.type,e),s,function(e,t){a(r,e,t)})}function a(e,t,n){var s=t.form_data.action+\"/\"+t.form_data.fields.key;e(\"success\"===n?{success:!0,url:s}:{success:!1,error:n.text})}window.S3=window.S3||{},window.S3.uploadAvatarAssetToS3=o,window.S3.uploadAccountAssetFileToS3=n,window.S3.uploadScreenshotAssetToS3=r}(),jQuery.event.props.push(\"dataTransfer\"),window.ScreenshotUpload={screenshotWrap:$(\"#settings-screenshot-wrap\"),imageChanger:$(\"#screenshot-image-changer\"),imageHolder:$(\"#custom-screenshot\"),fileInput:$(\"#personal-profile-image-upload-input\"),theBody:$(\"body\"),deleteBtn:$(\"#delete-screenshot\"),init:function(){_.extend(this,AJAXUtil),this.bindUIActions()},bindUIActions:function(){var e=this;this.uploading=this.screenshotWrap.find(\".uploading-message\"),this.imageChanger._on(\"drop\",function(e){e.preventDefault(),window.ScreenshotUpload.handleDrop(e)}),this.theBody._on(\"dragover\",function(e){e.currentTarget===window.ScreenshotUpload.theBody[0]&&window.ScreenshotUpload.testIfContainsFiles(e)&&window.ScreenshotUpload.highlightDropArea()}),this.theBody._on(\"dragleave\",function(e){e.currentTarget===window.ScreenshotUpload.theBody[0]&&window.ScreenshotUpload.unHighlightDropArea()}),window.ScreenshotUpload.fileInput._on(\"change\",function(e){window.ScreenshotUpload.handleManualFileSelect(e)}),this.screenshotWrap.on(\"click\",\"#delete-screenshot\",function(t){t.preventDefault(),$.showModal(\"/ajax/confirm_custom_screenshot_delete\",\"modal-warning\",function(){$(\"#confirm-delete-screenshot\")._on(\"click\",function(t){t.preventDefault(),e.deleteScreenshot()})})})},testIfContainsFiles:function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if(\"Files\"===e.dataTransfer.types[t])return!0;return!1},highlightDropArea:function(){window.ScreenshotUpload.imageChanger.addClass(\"drop-here\")},unHighlightDropArea:function(){window.ScreenshotUpload.imageChanger.removeClass(\"drop-here\")},handleDrop:function(e){var t=e.dataTransfer.files;window.ScreenshotUpload.processFile(t)},handleManualFileSelect:function(e){var t=e.target.files;window.ScreenshotUpload.processFile(t)},processFile:function(e){this.unHighlightDropArea(),this._showUploadingMessage(!0);var t=e[0];if(t.type.match(\"image.*\")){var n=this;this.readImage(t,function(e){\"string\"!=typeof e?$.showMessage(\"Oops! We couldn't upload that image. Try again.\"):(n._showSavingMessage(),n._signScreenshotAndUpload(e,t))})}else $.showMessage(\"Oops! That file wasn't a JPG or PNG.\"),window.ScreenshotUpload.unHighlightDropArea()},_showSavingMessage:function(){$.showMessage(\"Saving Screenshot...\")},_showSavedMessage:function(){$.showMessage(\"Pen Screenshot is saved. It may take a minute to update everywhere.\")},_signScreenshotAndUpload:function(e,t){var n=this.dataURItoBlob(e),s=this.fileExtension(t.name),i=this;S3.uploadScreenshotAssetToS3(\"pen\",t,n,s,function(e){e.success?setTimeout(function(){i.saveScreenshot(e.url)},500):$.showMessage(\"Oops! We couldn't upload that image. Try again.\")})},fileExtension:function(e){return e.split(\".\").pop()},dataURItoBlob:function(e){for(var t=atob(e.split(\",\")[1]),n=new ArrayBuffer(t.length),s=new Uint8Array(n),i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return new Blob([n],{type:\"image/jpeg\"})},readImage:function(e,t){var n=new FileReader;n.onload=function(){t(this.result)},n.readAsDataURL(e),n.onabort=function(){$.showMessage(\"The upload was aborted.\")},n.onerror=function(){$.showMessage(\"An error occurred while reading the file.\")}},placeScreenshot:function(e,t){this.screenshotWrap.html(t),$(\"#custom-screenshot\").css(\"background-image\",\"url(\"+e+\"?\"+Date.now()+\")\"),this.deleteBtn.show(),this.uploading=this.screenshotWrap.find(\".uploading-message\")},removeScreenshot:function(e,t){this.screenshotWrap.html(t),this.deleteBtn.hide(),this.uploading=this.screenshotWrap.find(\".uploading-message\")},saveScreenshot:function(e){var t=this,n={item_type:\"pen\",item_id:CP.pen.slug_hash};null===CP.pen.custom_screenshot?this.post(\"/custom_screenshot\",n,function(n){t._successfulUpdate(n,e)}):this.put(\"/custom_screenshot/\"+CP.pen.custom_screenshot,n,function(n){t._successfulUpdate(n,e)})},_successfulUpdate:function(e,t){CP.pen.custom_screenshot=e.screenshot_hashid,this._showSavedMessage(),this.placeScreenshot(t,e.description_html),this._showUploadingMessage(!1)},deleteScreenshot:function(){this.del(\"/custom_screenshot/\"+CP.pen.custom_screenshot,{item_type:\"pen\",item_id:CP.pen.slug_hash},function(e){$.hideModal(),this.removeScreenshot(e.screenshot_url_large,e.description_html),CP.pen.custom_screenshot=null})},_showUploadingMessage:function(e){e?this.uploading.css({opacity:1,visibility:\"visible\"}):this.uploading.css({opacity:0,visibility:\"hidden\"})}},window.ScreenshotUpload.init(),window.SettingsController=Class.extend({popupName:\"penSettings\",init:function(){CP.SettingsEvents.init(this),this.model=CP.SettingsModel,this.model.init(this),CP.SettingsView.init(this.model)},syncWithServer:function(e){this.model.syncWithServer(e)},toggleSettingsPane:function(){this.model.toggleSettingsPane()},hideSettingsPane:function(){this.model.hideSettingsPane()},selectSettingsTab:function(e){this.model.selectSettingsTab(e)},settingsPaneVisible:function(){return this.model.settingsPaneVisible()}}),function(){function e(){f._on(\"click\",t,window),$(\"body\").on(\"click\",\"#edit-settings\",n),C._on(\"click\",s,window),y._on(\"click\",i,window),$(\"#item-settings-modal .tabs > nav a\").unbind(),g._on(\"click\",o,window),$(\"body\")._on(\"click\",r,window,!0),m._on(\"click\",a,window),$(\".resource-search-bar\").on(\"click\",function(e){return e.preventDefault(),!1})}function t(e,t){CP.SettingsEvents._canDrive&&(n(),p.selectSettingsTab(t.data(\"type\")))}function n(){CP.SettingsEvents._canDrive&&p.toggleSettingsPane()}function s(){n(),setTimeout(function(){$(\"#item-details-description\").focus()},600)}function i(){n(),setTimeout(function(){$(\"#pen-tags\").focus(),$(\"#project-tags\").focus()},600)}function o(e){if(CP.SettingsEvents._canDrive){var t=$(e.target).data(\"type\");t&&p.selectSettingsTab(t)}}function r(e){if(v.length){var t=v[0].contains(e.target);$(\"#edit-settings\").length&!t&&(t=$(\"#edit-settings\")[0].contains(e.target)),t||p.hideSettingsPane()}}function a(){CP.SettingsEvents._canDrive&&p.hideSettingsPane()}function c(){Hub.sub(\"key\",l),Hub.sub(\"pen-saved\",d),Hub.sub(\"server-ui-change\",u),Hub.sub(\"popup-open\",h)}function u(e,t){(ObjectUtil.hasNestedValue(t,\"ui.settings.pane\")||ObjectUtil.hasNestedValue(t,\"ui.settings.tab\"))&&p.syncWithServer(t)}function d(){p.hideSettingsPane()}function l(e,t){\"esc\"===t.key&&p.hideSettingsPane()}function h(e,t){t!==p.popupName&&p.hideSettingsPane()}var p,f=$(\"button.settings-nub\"),g=$(\"#settings-tabs\"),m=$(\"#close-settings\"),b=$(\"#popup-overlay\"),v=$(\"#item-settings-modal\"),C=$(\".edit-details-reminder\"),y=$(\".edit-tags-reminder\");CP.SettingsEvents={},_.extend(CP.SettingsEvents,EnableDisableDriver),CP.SettingsEvents._getAllUIElements=function(){return[f,$(\"#edit-settings\"),g,b,m]},CP.SettingsEvents.init=function(t){p=t,this.bindToEnableDisableHubEvents(),e(),c()}}(),function(){function e(){Hub.pub(\"ui-change\",CP.SettingsModel.getState())}function t(t){CP.ui&&CP.ui.settings.pane!==t&&(CP.ui.settings.pane=t,e(),\"open\"===t&&Hub.pub(\"popup-open\",n.popupName))}var n;CP.SettingsModel={init:function(e){n=e},syncWithServer:function(t){CP.ui.settings.tab=t.ui.settings.tab,CP.ui.settings.pane=t.ui.settings.pane,e()},toggleSettingsPane:function(){t(this.settingsPaneVisible()?\"closed\":\"open\")},hideSettingsPane:function(){t(\"closed\")},openSettingsPane:function(){t(\"open\")},selectSettingsTab:function(t){CP.ui.settings.tab=t,e()},getState:function(){return{ui:{settings:{pane:CP.ui.settings.pane,tab:CP.ui.settings.tab}}}},settingsPaneVisible:function(){return\"open\"===CP.ui.settings.pane}}}(),function(){function e(){Hub.sub(\"ui-change\",t)}function t(e,t){ObjectUtil.hasNestedValue(t,\"ui.settings.pane\")&&n(t.ui.settings.pane),ObjectUtil.hasNestedValue(t,\"ui.settings.tab\")&&(\"details\"===t.ui.settings.tab&&0===$(\".settings-tab-details\").length&&(t.ui.settings.tab=\"html\"),r(t.ui.settings))}function n(e){\"open\"===e?s():i()}function s(){a||(c.addClass(\"open\"),CP.showPopupOverlay(),o(),a=!0)}function i(){a&&(c.removeClass(\"open\"),CP.hidePopupOverlay(),a=!1)}function o(){setTimeout(function(){l.focus()},500)}function r(e){u.removeClass(\"active\"),d.removeClass(\"active\"),$(\"#settings-\"+e.tab+\"-tab\").addClass(\"active\"),$(\"#settings-\"+e.tab).addClass(\"active\")}var a=!1,c=$(\"#item-settings-modal\"),u=$(\"#settings-tabs a\"),d=$(\"div.settings\"),l=$(\"#item-details-title\");CP.SettingsView={},CP.SettingsView.init=function(n){t(null,n.getState()),e()}}(),window.PenTagsController=Class.extend({init:function(){this.model=new PenTagsModel,this.events=new PenTagsEvents(this),this.view=new PenTagsView(this.model)},addNewTags:function(e){this.model.addNewTags(e)},deleteTag:function(e){this.model.deleteTag(e)}}),window.PenTagsEvents=Class.extend({$body:$(\"body\"),$penTags:$(\"#pen-tags\"),init:function(e){this.controller=e,this._bindToDOM()},_bindToDOM:function(){this.$body.on(\"click\",\"#active-tags span span.tag-x\",$.proxy(this._handleTagDelete,this)),this.$penTags._on(\"keyup\",this._onTagChange,this)},_onTagChange:function(){this.controller.addNewTags(this.$penTags.val())},_handleTagDelete:function(e){return e.preventDefault(),this.controller.deleteTag(this._getTagToDelete(e)),!1},_getTagToDelete:function(e){var t=$(e.target);return $.trim(t.next().html())}}),window.PenTagsModel=Class.extend({init:function(){},getTags:function(){return CP.pen.getTags()},addNewTags:function(e){CP.item.setItemValue({origin:\"client\",pen:{newTags:this._validNewTags(e)}})},_validNewTags:function(e){return _.uniq(_.map(e.split(\",\"),function(e){return _stripHTMLTags($.trim(e).toLowerCase()).replace(/(&|#)/g,\"\")}))},deleteTag:function(e){CP.item.setItemValue({origin:\"client\",action:\"delete-tag\",pen:{tags:_.without(CP.pen.tags,e)}}),CP.item.setItemValue({origin:\"client\",action:\"delete-tag\",pen:{newTags:_.without(CP.pen.newTags,e)}})}}),window.PenTagsView=Class.extend({MAX_TAGS:5,$activeTags:$(\"#active-tags\"),$maxTagsLabel:$(\"#max-tags-label\"),$penTags:$(\"#pen-tags\"),init:function(e){this.model=e,this._initiateView(),this._bindToHub()},_initiateView:function(){this._updateActiveTagsHTML(this.model.getTags())},_bindToHub:function(){Hub.sub(\"pen-change\",$.proxy(this._onPenChange,this)),Hub.sub(\"pen-saved\",$.proxy(this._onPenSaved,this))},_onPenSaved:function(){this.$penTags.val(\"\")},_onPenChange:function(e,t){\"pen\"in t&&(\"tags\"in t.pen&&this._updateActiveTagsHTML(this.model.getTags()),\"newTags\"in t.pen&&(this._updatePenTagsVal(t),this._updateActiveTagsHTML(this.model.getTags())))},_updateActiveTagsHTML:function(e){this.$activeTags.html(this._getTagsHTML(e)),this._warnAboutTooManyTags(e)},_getTagsHTML:function(e){for(var t=\"\",n=0;n<e.length;n++)e[n]&&(t+=\"<span class='tag'>\",t+=\"<span class='tag-x' style='cursor:pointer;'>\",t+=\"<span class='tag-x'>\\xd7</span>&nbsp;\",t+=\"<span class='tag-name'>\"+e[n]+\"</span> \",t+=\"</span> \",t+=\"</span>\");return t},_updatePenTagsVal:function(e){\"delete-tag\"===e.action&&this.$penTags.val(e.pen.newTags.join(\",\"))},_warnAboutTooManyTags:function(e){e.length>=this.MAX_TAGS?this.$maxTagsLabel.addClass(\"at-capacity\"):this.$maxTagsLabel.removeClass(\"at-capacity\")}}),window.ProjectTagsController=Class.extend({init:function(){this.model=new ProjectTagsModel,this.events=new ProjectTagsEvents(this),this.view=new ProjectTagsView(this.model)},addNewTags:function(e){this.model.addNewTags(e),this.view.updateTags()},deleteTag:function(e){this.model.deleteTag(e)}}),window.ProjectTagsEvents=Class.extend({$body:$(\"body\"),$projectTags:$(\"#project-tags\"),init:function(e){this.controller=e,this._bindToDOM()},_bindToDOM:function(){this.$body.on(\"click\",\"#active-tags span span.tag-x\",$.proxy(this._handleTagDelete,this)),this.$projectTags._on(\"keyup\",this._onTagChange,this)},_onTagChange:function(){this.controller.addNewTags(this.$projectTags.val())},_handleTagDelete:function(e){return e.preventDefault(),this.controller.deleteTag(this._getTagToDelete(e)),!1},_getTagToDelete:function(e){var t=$(e.target);return $.trim(t.next().html())}}),window.ProjectTagsModel=Class.extend({init:function(){},getTags:function(){return CP.item.getTags()},addNewTags:function(e){CP.item.setItemValue({origin:\"client\",item:{newTags:this._validNewTags(e)}})},_validNewTags:function(e){return _.uniq(_.map(e.split(\",\"),function(e){return _stripHTMLTags($.trim(e).toLowerCase()).replace(\"&\",\"\")}))},deleteTag:function(e){CP.item.setItemValue({origin:\"client\",action:\"delete-tag\",item:{tags:_.without(CP.item.tags,e)}}),CP.item.setItemValue({origin:\"client\",action:\"delete-tag\",item:{newTags:_.without(CP.item.newTags,e)}})}}),window.ProjectTagsView=Class.extend({MAX_TAGS:5,$activeTags:$(\"#active-tags\"),$maxTagsLabel:$(\"#max-tags-label\"),$projectTags:$(\"#project-tags\"),init:function(e){this.model=e,this._initiateView()},_initiateView:function(){this._updateActiveTagsHTML(this.model.getTags())},_onProjectSaved:function(){this.$projectTags.val(\"\")},updateTags:function(){this._updateActiveTagsHTML(this.model.getTags()),this._updateProjectTagsVal(CP.item.newTags),this._updateActiveTagsHTML(this.model.getTags())},_updateActiveTagsHTML:function(e){this.$activeTags.html(this._getTagsHTML(e)),this._warnAboutTooManyTags(e)},_getTagsHTML:function(e){for(var t=\"\",n=0;n<e.length;n++)e[n]&&(t+='<span class=\"tag\">',t+='<span class=\"tag-x\" style=\"cursor:pointer;\">',t+='<span class=\"tag-x\">\\xd7</span>&nbsp;',t+='<span class=\"tag-name\">'+e[n]+\"</span> \",t+=\"</span> \",t+=\"</span>\");return t},_updateProjectTagsVal:function(e){\"delete-tag\"===e.action&&this.$projectTags.val(e.project.newTags.join(\",\"))},_warnAboutTooManyTags:function(e){e.length>=this.MAX_TAGS?this.$maxTagsLabel.addClass(\"at-capacity\"):this.$maxTagsLabel.removeClass(\"at-capacity\")}}),window.ShareGist=Class.extend({WAITING_MSG_TIMEOUT:1e4,GIST_MSG_TIMEOUT:7e3,init:function(e){_.extend(this,AJAXUtil),this._shareView=e,this._bindToDOM()},_bindToDOM:function(){$(\"body\").on(\"click\",\"#share-gist\",$.proxy(this._createGist,this))},_createGist:function(){$.showMessage(Copy.waitingForGist,this.WAITING_MSG_TIMEOUT),this.post(\"/share/gist.json\",{data:JSON.stringify(CP.pen)},this._doneCreateGist)},_doneCreateGist:function(e){if(e.reauth&&$.showModal(\"/ajax/reauthenticate_github\",\"modal-error\",function(){$(\"#cancel-reauth\")._on(\"click\",function(){$.hideModal()})}),e.url){var t=_.template(Copy.gistCreated,{url:e.url});$.showMessage(t,this.GIST_MSG_TIMEOUT),window.open(e.url)}}}),window.ShareSMS=Class.extend({init:function(e){_.extend(this,AJAXUtil),this._shareView=e,this._bindToDOM(),this._loadSMSPhoneNumberFromCookie()},_bindToDOM:function(){$(\"body\").on(\"submit\",\"#send-to-phone-form\",$.proxy(this.sendSMS,this))},_loadSMSPhoneNumberFromCookie:function(){$.cookie(\"sms_phone_number\")&&$(\"#send-to-phone\").val($.cookie(\"sms_phone_number\"))},sendSMS:function(e){e.preventDefault(),$(\"#sms-send-button\").prop(\"disabled\",!0);var t={phone_number:$(\"#send-to-phone\").val(),item_type:\"pen\",item_id:CP.pen.getActiveSlugHash()};this.post(\"/share/sms/\",t,this._doneSendSMS,this._failedSendSMS)},_doneSendSMS:function(e){this._clearSMSErrors(),this._setSMSPhoneNumberCookie(e),$(\"#sms-send-button\").prop(\"disabled\",!1),$(\"#texts-left\").html(e.sms_left),$.showMessage(_.template(Copy.smsSentTo,{phone_number:e.phone_number}),\"slow\")},_setSMSPhoneNumberCookie:function(e){var t={expires:30,domain:document.location.host,path:\"/\"};$.cookie(\"sms_phone_number\",e.phone_number,t)},_failedSendSMS:function(e){this._clearSMSErrors(),$(\"#sms-send-button\").prop(\"disabled\",!1),$(\"#sms-phone\").addClass(\"error\"),$(\"#sms-phone\").append(this._getErrorsHTML(e))},_getErrorsHTML:function(e){var t=\"\";for(var n in e.errors)t+=\"<div class='error-message'>\"+e.errors[n]+\"</div>\";return t},_clearSMSErrors:function(){$(\"#sms-phone\").removeClass(\"error\"),$(\".error-message\").remove()}}),window.ShareView=Class.extend({init:function(){this.shareSMS=new ShareSMS(this),this.shareGist=new ShareGist(this)}}),function(){var e=algoliasearch(\"OFCNCOG2CU\",\"8d75223955d5e0d6c5d1bcdcd86afaab\"),t=algoliasearch(\"2QWLVLXZB6\",\"2663c73014d2e4d6d1778cc8ad9fd010\"),n=algoliasearch(\"ZBX58NY9U9\",\"6a47cf22c8472e2881147714b1de28fa\");window.algolia={cdnJSIndex:t.initIndex(\"libraries\"),npmIndex:e.initIndex(\"npm-search\"),cdnCSSIndex:n.initIndex(\"add_to_cdnjs_css_results\")}}(),window.Copy={autoSavingNow:\"Autosave enabled. <a href='https://blog.codepen.io/documentation/editor/autosave/' target='_blank'>?</a>\",penUpdated:\"Pen saved.\",penForked:\"We forked this Pen. It's saved to your account, but you can <a href='<%= url %>' target='_blank'>view it here.</a>\",waitingForGist:\"Creating GitHub Gist. Please be patient and stay awesome.\",gistCreated:\"Thanks for staying awesome. <a href='<%= url %>' target='_blank'> Here's a link to your Gist.</a>\",youHaveUnsavedChanges:\"You have NOT saved your Pen. Stop and save if you want to keep your Pen.\",youHaveUnsavedSettings:\"You have unsaved settings changes, are you sure you want to leave without saving?\",collectionSavedPenAdded:\"Your Collection '<%= name %>' was created and this Pen was added to it. <a href='<%= url %>'>View Collection</a>.\",penAddToCollection:\"This Pen was added to the '<%= name %>' Collection. <a href='<%= url %>'>View Collection</a>.\",smsSentTo:\"Text sent to phone <%= phone_number %>.\",studentWatching:\"Student Watching\",studentsWatching:\"Students Watching\",unsubcribedFromCommentNotifications:\"You've been unsubscribed from comments for this Pen\",subscribedToCommentNotifications:\"You've been subscribed to comments for this Pen\",deletingPen:\"Deleting this Pen. Buckle up!\",viewSource:\"View Source\",returnToSource:\"Return to Source\",errors:{\"anon-cannot-save-during-rt-session\":\"Please login to save this Pen.\",\"unable-to-save-try-again\":\"Unable to save Pen (<%= time %> attempt). Please wait while we try again...\",\"unable-to-save-ever\":\"Unable to save pen. Please contact support@codepen.io.\",\"disabled-cookies\":\"You will not be able to see live changes to a Pen while cookies are disabled\",\"pen-too-large\":\"This Pen is larger than the 1 megabyte limit. Try removing data from this Pen and trying again.\"}},window.CPFactory={buildDataObjects:function(){CP.profiled=new Profiled,CP.user=new User,CP.item=window.__item,\"pen\"===CP.item.itemType?(CP.pen=new Pen,CP.item=CP.pen,CP.penSaver=new PenSaver,CP.penAutosave=new PenAutosave,CP.ui=UI.buildDefaultUIData()):\"project\"===CP.item.itemType&&(CP.item=new Project,CP.ui=UI.buildDefaultUIData())},buildEditorObjects:function(e){CP.penRenderer=new PenRenderer,CP.codeEditorAnalayze=new CodeEditorAnalyze,CP.htmlEditor=new HTMLEditor(\"html\",CP.pen.html),CP.cssEditor=new CSSEditor(\"css\",CP.pen.css),CP.jsEditor=new JSEditor(\"js\",CP.pen.js),e||CP.ConsoleEditor.init(),this.buildCommonEditorSettingsObjects(),this._buildSettingsObjects()},buildCommonEditorSettingsObjects:function(){CP.item&&\"pen\"===CP.item.itemType?(CP.shareView=new ShareView,CP.settingsController=new SettingsController,CP.penActions=new PenActions,CP.infoController=new InfoController,CP.tagsController=new PenTagsController):CP.item&&\"project\"===CP.item.itemType&&(CP.settingsController=new SettingsController,CP.infoController=new InfoController,CP.tagsController=new ProjectTagsController)},_buildSettingsObjects:function(){CP.htmlSettingsController=new HTMLSettingsController(CP.pen),CP.cssSettingsController=new CSSSettingsController(CP.pen),CP.jsSettingsController=new JSSettingsController(CP.pen),CP.behaviorController=new BehaviorController(CP.pen),window.__feature_npm_enabled&&(CP.npmSettingsController=new npmSettingsController(CP.pen))},buildDesktopViewEditorObjects:function(){CP.codeEditorResizeController.init(),CP.editorDropDowns.init(),CP.CodeEditorsFoldEvents.init(),CP.codeEditorTidyController=new CodeEditorsTidyController,CP.codeEditorsCSSTransitionHandler=new CodeEditorsCSSTransitionHandler,CP.codeEditorsViewSourceController=new CodeEditorsViewSourceController,CP.keyBindings.init()}},function(){function e(){var e=document.location.href.replace(/&?bookmarklet_id=[^=]+/,\"\").replace(/\\?$/,\"\");window.history.replaceState(e,\"\",e)}window.CP.cleanEditorURL=e}(),window.HandleIFrameClicks={init:function(e){this.pen=e,this._bindToDOM()},_bindToDOM:function(){_onMessage($.proxy(this.handleIFrameClickEvent,this))},handleIFrameClickEvent:function(e){if(this._allowedToOpenWindows()){var t=this._cleanURL(this._getURLFromEvent(e));t.match(/^https?:\\/\\/\\S+$/)&&window.open(t)}},_allowedToOpenWindows:function(){return this.pen.user_id>1},_getURLFromEvent:function(e){return\"string\"==typeof e.data?e.data:\"\"},_cleanURL:function(e){var t=this._getIFrameURLRemoved(e);return t=(t=(t=(t=this._sanitizeURL(t)).replace(/(java|vb)?script/gim,\"\")).replace(/eval/gim,\"\")).split(\"?\")[0]},_getIFrameURLRemoved:function(e){return e.replace(/http(s)?:\\/\\/(s\\.)?codepen\\.(dev|io)\\/(boomerang\\/\\S+|\\S+\\/fullpage)\\/\\w+(\\.html)?/m,\"\")},_sanitizeURL:function(e){return e.replace(/[^-A-Za-z0-9+&@#/%?=~_|!:,.;\\(\\)]/,\"\")}},window.TimeUtil={countToString:function(e){var t={1:\"first\",2:\"second\",3:\"third\",4:\"fourth\",5:\"fifth\"};return e in t?t[e]:e}},window.TypesUtil={_HTML_TYPES:[\"html\",\"xml\",\"haml\",\"markdown\",\"slim\",\"pug\",\"application/x-slim\"],_CSS_TYPES:[\"css\",\"less\",\"scss\",\"sass\",\"stylus\",\"postcss\",\"text/css\",\"text/x-sass\",\"text/x-scss\",\"text/x-less\",\"text/x-styl\"],_JS_TYPES:[\"js\",\"javascript\",\"coffeescript\",\"livescript\",\"typescript\",\"babel\",\"text/javascript\",\"text/x-coffeescript\",\"text/x-livescript\",\"text/typescript\"],cmModeToType:function(e){var t=this._getSafeInputMode(e);return this._getType(t)},_getSafeInputMode:function(e){return(\"string\"==typeof e?e:e.name).toLowerCase()},syntaxToType:function(e){return this._getType(e)},_getType:function(e){return-1!==this._HTML_TYPES.indexOf(e)?\"html\":-1!==this._CSS_TYPES.indexOf(e)?\"css\":-1!==this._JS_TYPES.indexOf(e)?\"js\":\"unknown\"}},window.__CPTypesUtil=window.TypesUtil,function(){function e(){be=$(window),ve=$(\"body\"),L=$(\"#result_div\"),V=$(\"#resizer\"),B=$(\"#editor-drag-cover\"),N=$(\"#width-readout\"),z=$(\".boxes\"),W=$(\".top-boxes\"),J=$(\"#html-toggle\"),Y=$(\"#css-toggle\"),X=$(\"#js-toggle\"),G=$(\"#result-toggle\"),q=$(\"#box-html\"),K=$(\"#box-css\"),Q=$(\"#box-js\"),Z=\"html\",ee=!0,ne=$(\".output-sizer\"),te=$(\".box-console\"),ie=$(\".page-wrap\"),oe=$('meta[name=\"viewport\"]'),se=te.find(\".close-editor-button\")}function t(){be.on(\"resize\",s);var e=new BarDragger(V[0]);e.on(\"pointerDown\",C),e.on(\"pointerUp\",y),e.on(\"dragStart\",w),e.on(\"dragMove\",E),e.on(\"dragEnd\",M),n($(\".editor-resizer-console\")[0]),n($(\".box-console .powers\")[0]),ve.on(\"click\",\".console-toggle-button\",i),se.on(\"click\",o)}function n(e){if(e){var t=new BarDragger(e);t.on(\"pointerDown\",C),t.on(\"pointerUp\",y),t.on(\"dragStart\",O),t.on(\"dragMove\",D),t.on(\"dragEnd\",H),t.on(\"doubleClick\",I)}}function s(){R()}function i(e){e.preventDefault(),CP.EditorLayout&&CP.EditorLayout.toggleConsole()}function o(e){e.preventDefault(),CP.EditorLayout.closeConsole()}function r(){J.on(\"click\",()=>{l(\"html\")}),Y.on(\"click\",()=>{l(\"css\")}),X.on(\"click\",()=>{l(\"js\")}),G.on(\"click\",()=>{p()})}function a(){function e(){oe.attr(\"content\",n)}function t(){oe.attr(\"content\",n+\", maximum-scale=1.0\")}var n=oe.attr(\"content\");ve.on(\"touchend\",\"input, select, textarea\",function(){t(),setTimeout(e,200)});var s=\"touchstart\";[\"htmlEditor\",\"cssEditor\",\"jsEditor\"].map(n=>{CP[n]&&CP[n].editor&&CP[n].editor.on(s,function(){t(),ve.one(\"touchcancel touchend\",e)})})}function c(){Hub.sub(\"ui-change\",u)}function u(e,t){var n=t.ui&&t.ui.editorSizes&&t.ui.editorSizes.console;n!==undefined&&f(n)}function d(){var e=CodeEditorsUtil.getQueryString(\"editors\");if(e){for(var t=e.split(\"\"),n=[\"html\",\"css\",\"js\"],s=0,i=t.length;s<i;s++){if(1===t[s]&&n[s]){l(n[s]);break}}1===t[3]&&g()}}function l(e){if(h(),e===Z)return z.addClass(\"mobile-hide-code\"),Z=\"\",void p();switch(\"\"===Z&&(z.removeClass(\"mobile-hide-code\"),p()),e){case\"html\":q.removeClass(j),Z=\"html\",J.addClass(\"selected\");break;case\"css\":K.removeClass(j),Z=\"css\",Y.addClass(\"selected\");break;case\"js\":Q.removeClass(j),Z=\"js\",X.addClass(\"selected\");break;default:q.removeClass(j),J.addClass(\"selected\")}}function h(){q.addClass(j),J.removeClass(\"selected\"),K.addClass(j),Y.removeClass(\"selected\"),Q.addClass(j),X.removeClass(\"selected\")}function p(e){(ee=e!==undefined?e:!ee)||\"\"===Z?(ee=!0,G.addClass(\"selected\"),z.removeClass(\"mobile-hide-result\")):(G.removeClass(\"selected\"),z.addClass(\"mobile-hide-result\"))}function f(e){if(\"closed\"!==e){if(0!==he){g();var t=_e/he,n=e*(1-t)+t;te.height(100*n+\"%\"),Se=e}}else m()}function g(){we||(Hub.pub(\"console-opened\"),te.show(),p(!0),T(),we=!0)}function m(){we&&(Hub.pub(\"console-closed\"),te.hide(),we=!1)}function b(e){Hub.pub(\"editor-sizes-change\",{console:e})}function v(){var e=CP.ui.editorSizes.console;\"closed\"!==e&&(g(),f(e))}function C(){B.show()}function y(){B.hide()}function w(){(\"top\"===CP.ui.layout?P:S).apply(this,arguments)}function P(){ce=W.height(),re=z.height(),ae=V.outerHeight(),ye=parseInt(W.css(\"minHeight\"),10),we&&T()}function S(){le=W.width(),ue=z.width(),de=V.outerWidth()}function T(){he=me=ne.height(),fe=te.height(),ge=ce=W.height(),pe=fe,_e||(_e=te.find(\".editor-resizer\").outerHeight()+te.find(\".powers\").outerHeight())}function E(){(\"top\"===CP.ui.layout?x:k).apply(this,arguments)}function x(e,t,n){var s=ce+n.y;s=Math.max(0,s);var i=re-ae;i-=we?_e:0,s=Math.min(i,s),s=Math.max(ye,s),W.height(s),he=re-s-ae,A()}function A(){if(we){var e=(fe-_e)/(he-_e);e=Math.min(1,e),fe=Math.min(he,fe),f(e)}}function k(e,t,n){var s=n.x*(\"right\"===CP.ui.layout?-1:1),i=le+s;i=Math.max(0,i);var o=ue-de;i=Math.min(o,i),W.width(i),R()}\nfunction M(){\"function\"==typeof Comment.tweakCommentsSize&&Comment.tweakCommentsSize(),Hub.pub(\"editor-refresh\",{delay:0});var e={editor:\"top\"===CP.ui.layout?W.height()/(ie.height()-ae):W.width()/window.innerWidth};we&&(e.console=Se),Hub.pub(\"editor-sizes-change\",e)}function O(){CP.EditorLayout._canDrive&&T()}function D(e,t,n){if(CP.EditorLayout._canDrive){var s=pe-n.y;s=Math.max(_e,s),f(((s=Math.min(he,s))-_e)/(he-_e)),F(n)}}function F(e){if(\"top\"===CP.ui.layout){var t=me+e.y-fe;t>=0||(ge=Math.min(ce+t,ge),W.height(ge),he=Math.max(he,me-t))}}function H(){CP.EditorLayout._canDrive&&Hub.pub(\"editor-sizes-change\",{console:Se})}function I(){CP.EditorLayout._canDrive&&b(1===Se?Pe:1)}function R(){clearTimeout(Ce),N.addClass(\"visible\"),N.text(L.width()+\"px\"),Ce=setTimeout(function(){N.removeClass(\"visible\")},1e3)}function U(){\"top\"===CP.ui.layout&&(!!navigator.userAgent.match(/(iPad)/g)&&$(\"head\").append(\"<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no'>\"))}CP.EditorLayout={};const j=\"switch-off\";var L,V,B,N,z,W,J,Y,X,G,q,K,Q,Z,ee,te,ne,se,ie,oe,re,ae,ce,ue,de,le,he,pe,fe,_e,ge,me,be=$(window),ve=$(\"body\"),Ce=0,ye=0,we=!1,Pe=1/3,Se=Pe;CP.EditorLayout.init=function(){e(),t(),c(),a(),this.bindToEnableDisableHubEvents(),v(),U(),r(),d()},CP.EditorLayout.setConsoleSize=f,CP.EditorLayout.openConsole=function(){b(Se)},CP.EditorLayout.closeConsole=function(){b(\"closed\")},CP.EditorLayout.toggleConsole=function(){\"closed\"===CP.ui.editorSizes.console?(Hub.pub(\"ui-console-opened\"),this.openConsole()):this.closeConsole()},CP.EditorLayout.doneLoading=function(){ve.removeClass(\"prelayout\"),be.load(function(){ve.removeClass(\"preload\")})},_.extend(CP.EditorLayout,EnableDisableDriver),CP.EditorLayout._getAllUIElements=function(){return[se,$(\".console-toggle-button\")]}}(),window.ViewSwitcher={TYPES:[\"top\",\"left\",\"right\"],$body:$(\"body\"),$mainHeader:$(\"#main-header\"),init:function(){this._bindToDOM(),this._bindToHub()},_bindToDOM:function(){this.$body.on(\"click\",\"[data-layout-type]\",this.onLayoutTypeButtonClick)},onLayoutTypeButtonClick:function(e){e.preventDefault();var t=$(e.currentTarget).attr(\"data-layout-type\");window.ViewSwitcher.changeLayout(t)},_bindToHub:function(){Hub.sub(\"server-ui-change\",$.proxy(this._onServerUIChange,this))},_onServerUIChange:function(e,t){t.ui&&t.ui.layout&&this.changeUILayout(t.ui.layout)},changeLayout:function(e){this.changeUILayout(e),$.cookie(\"__cp_layout\",e,{expires:30,path:\"/\"})},changeUILayout:function(e){this.getIsValidLayoutType(e),this.$body.removeClass(\"layout-\"+CP.ui.layout);var t=\"left\"===e||\"right\"===e;this.$body[t?\"addClass\":\"removeClass\"](\"layout-side\"),this.$body.addClass(\"layout-\"+e),CP.ui.layout=e,Hub.pub(\"ui-change\",{ui:{layout:e}}),Hub.pub(\"editor-refresh\",{delay:0})},getIsValidLayoutType:function(e){var t=_.contains(this.TYPES,e);if(!t)throw\"Invalid layout type: \"+e;return t}},window.ViewSwitcher.init(),function(){function e(){d.on(\"click\",\".embed-builder-button\",t),$(\"#popup-overlay\").on(\"click\",r)}function t(e){e.preventDefault(),h?(n(),o()):s()}function n(){Hub.pub(\"embed-reshown\",{})}function s(){if(!p){var e=_.template(\"<%= username %>/embed/mini/builder/<%= slugHash %>/\",{username:CP.profiled.base_url,slugHash:CP.pen.getActiveSlugHash()});$.when(AJAXUtil.get(e,{},$.noop)).done(i).fail(AJAXUtil.showStandardErrorMessage).always(function(){p=!1}),p=!0}}function i(e){(u=$(\"<div />\",{id:\"embed-modal\",\"class\":\"modal embed-modal loading\",html:e.html})).appendTo(d),$.getScript(__embed_modal_script),$(\"#embed-modal-close-button\").on(\"click\",r),Keytrap.bind(\"esc\",r),h=!0,o()}function o(){l||(u.addClass(\"open\"),CP.showPopupOverlay(),l=!0,Hub.pub(\"popup-open\",f))}function r(){l&&(u&&u.removeClass(\"open\"),window.embedCommonUI&&embedCommonUI.removeCustomCSS(),CP.hidePopupOverlay(),l=!1)}function a(){Hub.sub(\"popup-open\",c)}function c(e,t){t!==f&&r()}CP.EmbedModal={};var u,d=$(\"body\"),l=!1,h=!1,p=!1,f=\"embedModal\";CP.EmbedModal.init=function(){e(),a()},CP.EmbedModal.init()}(),function(){function e(e){clearTimeout(r),r=setTimeout(function(){firestoreConnect.setItemAttributes(o.hashid,CP.user.owner_id,{liveView:e})},a)}function t(){const e=o[\"private\"]?o.slug_hash_private:o.hashid;return`${window.__CPDATA.domain_iframe}${CP.user.base_url}/fullpage/${e}?_t=${(new Date).getTime()}`}function n(){e({action:u,data:{url:t()}})}function s(t,n){e(n)}function i(){o.id&&CP.user.paid&&CP.user.ownsItem(o)&&(Hub.sub(\"pen-saved\",n),Hub.sub(c,s),Hub.sub(u,s))}var o=window.__item,r=0,a=500,c=\"ACTION_LIVE_VIEW_RELOAD_CSS\",u=\"ACTION_LIVE_VIEW_UPDATE_URL\";Hub.sub(\"page-loading-done\",i)}(),\n/*!\n * clipboard.js v1.5.12\n * https://zenorocha.github.io/clipboard.js\n *\n * Licensed MIT © Zeno Rocha\n */\nfunction(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).Clipboard=e()}}(function(){var e;return function t(e,n,s){function i(r,a){if(!n[r]){if(!e[r]){var c=\"function\"==typeof require&&require;if(!a&&c)return c(r,!0);if(o)return o(r,!0);var u=new Error(\"Cannot find module '\"+r+\"'\");throw u.code=\"MODULE_NOT_FOUND\",u}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){var n=e[r][1][t];return i(n||t)},d,d.exports,t,e,n,s)}return n[r].exports}for(var o=\"function\"==typeof require&&require,r=0;r<s.length;r++)i(s[r]);return i}({1:[function(e,t){var n=e(\"matches-selector\");t.exports=function(e,t,s){for(var i=s?e:e.parentNode;i&&i!==document;){if(n(i,t))return i;i=i.parentNode}}},{\"matches-selector\":5}],2:[function(e,t){function n(e,t,n,i,o){var r=s.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}function s(e,t,n,s){return function(n){n.delegateTarget=i(n.target,t,!0),n.delegateTarget&&s.call(e,n)}}var i=e(\"closest\");t.exports=n},{closest:1}],3:[function(e,t,n){n.node=function(e){return e!==undefined&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==undefined&&(\"[object NodeList]\"===t||\"[object HTMLCollection]\"===t)&&\"length\"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return\"string\"==typeof e||e instanceof String},n.fn=function(e){return\"[object Function]\"===Object.prototype.toString.call(e)}},{}],4:[function(e,t){function n(e,t,n){if(!e&&!t&&!n)throw new Error(\"Missing required arguments\");if(!r.string(t))throw new TypeError(\"Second argument must be a String\");if(!r.fn(n))throw new TypeError(\"Third argument must be a Function\");if(r.node(e))return s(e,t,n);if(r.nodeList(e))return i(e,t,n);if(r.string(e))return o(e,t,n);throw new TypeError(\"First argument must be a String, HTMLElement, HTMLCollection, or NodeList\")}function s(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function i(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function o(e,t,n){return a(document.body,e,t,n)}var r=e(\"./is\"),a=e(\"delegate\");t.exports=n},{\"./is\":3,delegate:2}],5:[function(e,t){function n(e,t){if(i)return i.call(e,t);for(var n=e.parentNode.querySelectorAll(t),s=0;s<n.length;++s)if(n[s]==e)return!0;return!1}var s=Element.prototype,i=s.matchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector;t.exports=n},{}],6:[function(e,t){function n(e){var t;if(\"INPUT\"===e.nodeName||\"TEXTAREA\"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute(\"contenteditable\")&&e.focus();var n=window.getSelection(),s=document.createRange();s.selectNodeContents(e),n.removeAllRanges(),n.addRange(s),t=n.toString()}return t}t.exports=n},{}],7:[function(e,t){function n(){}n.prototype={on:function(e,t,n){var s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function s(){i.off(e,s),t.apply(n,arguments)}var i=this;return s._=t,this.on(e,s,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),s=0,i=n.length;s<i;s++)n[s].fn.apply(n[s].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),s=n[e],i=[];if(s&&t)for(var o=0,r=s.length;o<r;o++)s[o].fn!==t&&s[o].fn._!==t&&i.push(s[o]);return i.length?n[e]=i:delete n[e],this}},t.exports=n},{}],8:[function(t,n,s){!function(i,o){if(\"function\"==typeof e&&e.amd)e([\"module\",\"select\"],o);else if(void 0!==s)o(n,t(\"select\"));else{var r={exports:{}};o(r,i.select),i.clipboardAction=r.exports}}(this,function(e,t){\"use strict\";function n(e){return e&&e.__esModule?e:{\"default\":e}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var i=n(t),o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol?\"symbol\":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=function(){function e(t){s(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=\"\"},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var e=this,t=\"rtl\"==document.documentElement.getAttribute(\"dir\");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener(\"click\",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement(\"textarea\"),this.fakeElem.style.fontSize=\"12pt\",this.fakeElem.style.border=\"0\",this.fakeElem.style.padding=\"0\",this.fakeElem.style.margin=\"0\",this.fakeElem.style.position=\"absolute\",this.fakeElem.style[t?\"right\":\"left\"]=\"-9999px\",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+\"px\",this.fakeElem.setAttribute(\"readonly\",\"\"),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i[\"default\"])(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener(\"click\",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,i[\"default\"])(this.target),this.copyText()},e.prototype.copyText=function(){var e=undefined;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit(\"success\",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit(\"error\",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},r(e,[{key:\"action\",set:function(){var e=arguments.length<=0||arguments[0]===undefined?\"copy\":arguments[0];if(this._action=e,\"copy\"!==this._action&&\"cut\"!==this._action)throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"')},get:function(){return this._action}},{key:\"target\",set:function(e){if(e!==undefined){if(!e||\"object\"!==(void 0===e?\"undefined\":o(e))||1!==e.nodeType)throw new Error('Invalid \"target\" value, use a valid Element');if(\"copy\"===this.action&&e.hasAttribute(\"disabled\"))throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');if(\"cut\"===this.action&&(e.hasAttribute(\"readonly\")||e.hasAttribute(\"disabled\")))throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})},{select:6}],9:[function(t,n,s){!function(i,o){if(\"function\"==typeof e&&e.amd)e([\"module\",\"./clipboard-action\",\"tiny-emitter\",\"good-listener\"],o);else if(void 0!==s)o(n,t(\"./clipboard-action\"),t(\"tiny-emitter\"),t(\"good-listener\"));else{var r={exports:{}};o(r,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=r.exports}}(this,function(e,t,n,s){\"use strict\";function i(e){return e&&e.__esModule?e:{\"default\":e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){var n=\"data-clipboard-\"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var u=i(t),d=i(n),l=i(s),h=function(e){function t(n,s){o(this,t);var i=r(this,e.call(this));return i.resolveOptions(s),i.listenClick(n),i}return a(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];this.action=\"function\"==typeof e.action?e.action:this.defaultAction,this.target=\"function\"==typeof e.target?e.target:this.defaultTarget,this.text=\"function\"==typeof e.text?e.text:this.defaultText},t.prototype.listenClick=function(e){var t=this;this.listener=(0,l[\"default\"])(e,\"click\",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u[\"default\"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return c(\"action\",e)},t.prototype.defaultTarget=function(e){var t=c(\"target\",e);if(t)return document.querySelector(t)},t.prototype.defaultText=function(e){return c(\"text\",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(d[\"default\"]);e.exports=h})},{\"./clipboard-action\":8,\"good-listener\":4,\"tiny-emitter\":7}]},{},[9])(9)}),$.event.props.push(\"dataTransfer\"),window.Assets={s:{assetsArea:$(\"#assets-area\"),manualInput:$(\"#manual-file-upload\"),dragPrevent:!1,files:[]},_bindToDragAndDrop:function(){var e;this.s.assetsArea=$(\"#assets-area\"),this.s.manualInput=$(\"#manual-file-upload\");var t=this;this.s.assetsArea._on(\"dragenter dragover\",function(n){clearTimeout(e),!t.s.dragPrevent&&t._testIfContainsFiles(n)&&t.makeLookDroppable()}),this.s.assetsArea._on(\"dragleave dragout\",function(){e=setTimeout(function(){t.unmakeLookDroppable()},200)}),this.s.assetsArea._on(\"drop\",function(e){e.preventDefault(),t._testIfContainsFiles(e)&&t.handleFileDrop(e)}),this.s.manualInput._on(\"change\",this.handleFileSelect,this)},_testIfContainsFiles:function(e){return!!e.dataTransfer.types&&_.contains(e.dataTransfer.types,\"Files\")},makeLookDroppable:function(){this.s.assetsArea.addClass(\"draggedOn\")},unmakeLookDroppable:function(){this.s.assetsArea.removeClass(\"draggedOn\")},handleFileDrop:function(e){this.processFile(e.dataTransfer.files),this.unmakeLookDroppable()},handleFileSelect:function(e){this.processFile(e.target.files)},MAX_FILES:10,MAX_FILE_SIZE:2097152,processFile:function(e){this.numFiles=e.length,this.errors=[],e.length>this.MAX_FILES?this._showTooManyFilesMessage():this._filesTooBig(e)?this._showFileTooBigMessage():this._filesHaveBadFileExtension(e)?this._showBadFileExtensionMessage():AssetsData.anyDuplicates(e)?this._askUserIfTheyWantToOverwriteFiles(e):this._signAssetsAndUpload(e,\"noduplicates\")},_askUserIfTheyWantToOverwriteFiles:function(e){var t=this;$.showModal(\"/ajax/assets/overwrite_or_update_assets\",\"modal-error\",function(){t._updateFilesToBeOverwrittenModal(e),$(\"#confirm-overwrite\")._on(\"click\",function(){$.hideMessage(),t._signAssetsAndUpload(e,\"ovewrite\")}),$(\"#confirm-create-new\")._on(\"click\",function(){$.hideMessage(),t._signAssetsAndUpload(e,\"makeunique\")})})},_updateFilesToBeOverwrittenModal:function(e){var t=AssetsData.duplicateNames(e),n=this._filesToBeOverwrittenHTML(t);$(\"#list-of-files\").html(n)},_filesToBeOverwrittenHTML:function(e){var t=\"\";return _.forEach(e,function(e){t+=\"<p>\"+e+\"</p>\"}),t},_signAssetsAndUpload:function(e,t){$.showMessage(\"Uploading file...\");for(var n=0;n<e.length;n++){var s=e[n],i=FileUtil.makeNameSafeToSave(s.name);this.s.files[i]=s;var o=0,r=s.name,a=AssetsData.findAssetByName(s.name);a&&(\"ovewrite\"===t?o=a.id:\"makeunique\"===t&&(r=AssetsData.buildUniqueName(a.name)));var c=this;S3.uploadAccountAssetFileToS3(s,r,function(e){e.success?c._doneUploadingAccountAssetToS3(e,o):c._assetUploadFailed(e)})}},_doneUploadingAccountAssetToS3:function(e,t){var n=t>0?\"/uploaded_assets/account_asset/\"+t:\"/uploaded_assets/account_asset\";AJAXUtil[t>0?\"put\":\"post\"](n,this._getAccountAssetPostParams(e.file,e.fileName),$.proxy(this._uploadComplete,this),$.proxy(this._assetUploadFailed,this))},_getAccountAssetPostParams:function(e,t){return{name:t,content_type:e.type,size_in_bytes:e.size,response_type:window.__pageType}},_filesTooBig:function(e){var t=this;return _.some(e,function(e){return e.size>t.MAX_FILE_SIZE})},_filesHaveBadFileExtension:function(e){return _.some(e,function(e){return!!e.name.match(/^.+\\.(exe)$/)||!e.name.match(/^.+\\..+$/)})},_showTooManyFilesMessage:function(){$.showModal(\"/ajax/assets/too_many_files\",\"modal-error\")},_showFileTooBigMessage:function(){$.showModal(\"/ajax/assets/file_too_big\",\"modal-error\")},_showBadFileExtensionMessage:function(){$.showModal(\"/ajax/assets/bad_extension\",\"modal-error\")},_assetUploadFailed:function(e){this._decrementFileCount(),0===this.numFiles&&AJAXUtil.showStandardErrorMessage(e)},_decrementFileCount:function(){--this.numFiles}},\"undefined\"==typeof window.Copy&&(window.Copy={}),_.extend(window.Copy,{assetRenamed:'Asset \"<%= name %>\" renamed successfully!',assetUploaded:'Asset \"<%= name %>\" uploaded successfully!'}),window.Asset=Class.extend({init:function(e){_.extend(this,AJAXUtil),_.extend(this,e)},save:function(e){this.put(\"/uploaded_assets/account_asset/\"+this.id,{text:e,update_type:\"text\",response_type:window.__pageType},this._doneSave)},_doneSave:function(e){Hub.pub(\"asset-updated\",e)},\"delete\":function(e){var t=\"/uploaded_assets/account_asset/\"+this.id,n=this;this.del(t,{response_type:window.__pageType},function(t){n._doneDelete(t,e)})},_doneDelete:function(e,t){Hub.pub(\"asset-deleted\",e),\"function\"==typeof t&&t(e)}}),window.AssetsData={assets:{},selectedAsset:null,boundToHub:!1,init:function(){this._bindToHub(),this._buildAssetObjectsFromDBAssets()},_bindToHub:function(){this.boundToHub||(this.boundToHub=!0,Hub.sub(\"asset-added\",$.proxy(this._onAssetAdded,this)),Hub.sub(\"asset-deleted\",$.proxy(this._onAssetDeleted,this)),Hub.sub(\"asset-selected\",$.proxy(this._onAssetSelected,this)),Hub.sub(\"asset-deselected\",$.proxy(this._onAssetDeselected,this)))},_onAssetAdded:function(e,t){this.add(t.asset)},_onAssetSelected:function(e,t){this.selectedAsset=this.find(t.id)},_onAssetDeleted:function(e,t){this.del(t.asset.id),this.selectedAsset=null},_onAssetDeselected:function(){this.selectedAsset=null},getSelectedAsset:function(){return this.selectedAsset},_buildAssetObjectsFromDBAssets:function(){var e=this;_.forEach(__assets,function(t){e.assets[t.id]=new Asset(t)})},find:function(e){return this.assets[e]},add:function(e){__assets[e.id]=e,this.assets[e.id]=new Asset(e)},del:function(e){delete __assets[e],delete this.assets[e]},anyDuplicates:function(e){return this.duplicateNames(e).length>0},duplicateNames:function(e){var t=this._safeNames(this.assets),n=this._safeNames(e);return _.intersection(t,n)},_safeNames:function(e){return _.map(e,function(e){return FileUtil.makeNameSafeToSave(e.name)})},findAssetByName:function(e){return _.find(this.assets,function(t){return t.name===e})},buildUniqueName:function(e){for(var t=e,n=this.findAssetByName(t);n;)t=this._addUnderscoreOneToExistingName(t),n=this.findAssetByName(t);return t},_addUnderscoreOneToExistingName:function(e){var t=e.split(\".\"),n=t.pop();return t.join(\".\")+\"_copy.\"+n}},window.FileUtil={makeNameSafeToSave:function(e){return e.split(\" \").join(\"_\")}},function(){function e(){var e='<ul class=\"design-asset-color-swatches\">';for(var n in t)e+=\"<li><h2>\"+n+\"</h2>\",t[n].forEach(function(t){e+='<span class=\"design-asset-copy-as\" data-clipboard-text=\"'+t+'\" style=\"background-color: '+t+';\"></span>'}),e+=\"</li>\";e+=\"</ul>\",document.querySelector(\"#color-picker-area\").innerHTML=e}var t={Red:[\"#FFEBEE\",\"#FFCDD2\",\"#EF9A9A\",\"#E57373\",\"#EF5350\",\"#F44336\",\"#E53935\",\"#D32F2F\",\"#C62828\",\"#B71C1C\",\"#FF8A80\",\"#FF5252\",\"#FF1744\",\"#D50000\"],Pink:[\"#FCE4EC\",\"#F8BBD0\",\"#F48FB1\",\"#F06292\",\"#EC407A\",\"#E91E63\",\"#D81B60\",\"#C2185B\",\"#AD1457\",\"#880E4F\",\"#FF80AB\",\"#FF4081\",\"#F50057\",\"#C51162\"],Purple:[\"#F3E5F5\",\"#E1BEE7\",\"#CE93D8\",\"#BA68C8\",\"#AB47BC\",\"#9C27B0\",\"#8E24AA\",\"#7B1FA2\",\"#6A1B9A\",\"#4A148C\",\"#EA80FC\",\"#E040FB\",\"#D500F9\",\"#AA00FF\"],\"Deep Purple\":[\"#EDE7F6\",\"#D1C4E9\",\"#B39DDB\",\"#9575CD\",\"#7E57C2\",\"#673AB7\",\"#5E35B1\",\"#512DA8\",\"#4527A0\",\"#311B92\",\"#B388FF\",\"#7C4DFF\",\"#651FFF\",\"#6200EA\"],Indigo:[\"#E8EAF6\",\"#C5CAE9\",\"#9FA8DA\",\"#7986CB\",\"#5C6BC0\",\"#3F51B5\",\"#3949AB\",\"#303F9F\",\"#283593\",\"#1A237E\",\"#8C9EFF\",\"#536DFE\",\"#3D5AFE\",\"#304FFE\"],Blue:[\"#E3F2FD\",\"#BBDEFB\",\"#90CAF9\",\"#64B5F6\",\"#42A5F5\",\"#2196F3\",\"#1E88E5\",\"#1976D2\",\"#1565C0\",\"#0D47A1\",\"#82B1FF\",\"#448AFF\",\"#2979FF\",\"#2962FF\"],\"Light Blue\":[\"#E1F5FE\",\"#B3E5FC\",\"#81D4FA\",\"#4FC3F7\",\"#29B6F6\",\"#03A9F4\",\"#039BE5\",\"#0288D1\",\"#0277BD\",\"#01579B\",\"#80D8FF\",\"#40C4FF\",\"#00B0FF\",\"#0091EA\"],Cyan:[\"#E0F7FA\",\"#B2EBF2\",\"#80DEEA\",\"#4DD0E1\",\"#26C6DA\",\"#00BCD4\",\"#00ACC1\",\"#0097A7\",\"#00838F\",\"#006064\",\"#84FFFF\",\"#18FFFF\",\"#00E5FF\",\"#00B8D4\"],Teal:[\"#E0F2F1\",\"#B2DFDB\",\"#80CBC4\",\"#4DB6AC\",\"#26A69A\",\"#009688\",\"#00897B\",\"#00796B\",\"#00695C\",\"#004D40\",\"#A7FFEB\",\"#64FFDA\",\"#1DE9B6\",\"#00BFA5\"],Green:[\"#E8F5E9\",\"#C8E6C9\",\"#A5D6A7\",\"#81C784\",\"#66BB6A\",\"#4CAF50\",\"#43A047\",\"#388E3C\",\"#2E7D32\",\"#1B5E20\",\"#B9F6CA\",\"#69F0AE\",\"#00E676\",\"#00C853\"],\"Light Green\":[\"#F1F8E9\",\"#DCEDC8\",\"#C5E1A5\",\"#AED581\",\"#9CCC65\",\"#8BC34A\",\"#7CB342\",\"#689F38\",\"#558B2F\",\"#33691E\",\"#CCFF90\",\"#B2FF59\",\"#76FF03\",\"#64DD17\"],Lime:[\"#F9FBE7\",\"#F0F4C3\",\"#E6EE9C\",\"#DCE775\",\"#D4E157\",\"#CDDC39\",\"#C0CA33\",\"#AFB42B\",\"#9E9D24\",\"#827717\",\"#F4FF81\",\"#EEFF41\",\"#C6FF00\",\"#AEEA00\"],Yellow:[\"#FFFDE7\",\"#FFF9C4\",\"#FFF59D\",\"#FFF176\",\"#FFEE58\",\"#FFEB3B\",\"#FDD835\",\"#FBC02D\",\"#F9A825\",\"#F57F17\",\"#FFFF8D\",\"#FFFF00\",\"#FFEA00\",\"#FFD600\"],Amber:[\"#FFF8E1\",\"#FFECB3\",\"#FFE082\",\"#FFD54F\",\"#FFCA28\",\"#FFC107\",\"#FFB300\",\"#FFA000\",\"#FF8F00\",\"#FF6F00\",\"#FFE57F\",\"#FFD740\",\"#FFC400\",\"#FFAB00\"],Orange:[\"#FFF3E0\",\"#FFE0B2\",\"#FFCC80\",\"#FFB74D\",\"#FFA726\",\"#FF9800\",\"#FB8C00\",\"#F57C00\",\"#EF6C00\",\"#E65100\",\"#FFD180\",\"#FFAB40\",\"#FF9100\",\"#FF6D00\"],\"Deep Orange\":[\"#FBE9E7\",\"#FFCCBC\",\"#FFAB91\",\"#FF8A65\",\"#FF7043\",\"#FF5722\",\"#F4511E\",\"#E64A19\",\"#D84315\",\"#BF360C\",\"#FF9E80\",\"#FF6E40\",\"#FF3D00\",\"#DD2C00\"],Brown:[\"#EFEBE9\",\"#D7CCC8\",\"#BCAAA4\",\"#A1887F\",\"#8D6E63\",\"#795548\",\"#6D4C41\",\"#5D4037\",\"#4E342E\",\"#3E2723\"],Grey:[\"#FAFAFA\",\"#F5F5F5\",\"#EEEEEE\",\"#E0E0E0\",\"#BDBDBD\",\"#9E9E9E\",\"#757575\",\"#616161\",\"#424242\",\"#212121\"],\"Blue Grey\":[\"#ECEFF1\",\"#CFD8DC\",\"#B0BEC5\",\"#90A4AE\",\"#78909C\",\"#607D8B\",\"#546E7A\",\"#455A64\",\"#37474F\",\"#263238\"]};CP.ColorPicker={},CP.ColorPicker.init=function(){e()}}(),function(){function e(){var e=new Clipboard(\".design-asset-copy-as\");e.on(\"success\",function(){$.showMessage(\"Copied to clipboard!\")}),e.on(\"error\",function(){$.showMessage(\"Copy failed.\")})}function t(){$(\"body\").on(\"click\",\".trigger-unsplash-api-guideline\",function(e){var t=$(e.target).parent(\"[data-download-location]\").data(\"download-location\");t+=\"?client_id=\"+s,$.get(t)})}function n(){$(\"#design-assets-header\").on(\"click\",function(){$(\"body\").hasClass(\"layout-side\")&&$(\"#design-modal-tabs\").slideToggle()}),$(\"#your-files-header\").on(\"click\",function(){$(\"body\").hasClass(\"layout-side\")&&$(\"#assets-area\").slideToggle()})}CP.DesignAssets={};var s=\"8e31e45f4a0e8959d456ba2914723451b8262337f75bcea2e04ae535491df16d\";CP.DesignAssets.init=function(){e(),n(),t()}}(),function(){function e(){$(\".design-asset-icon-list > li\").each(function(e,t){$(t).attr(\"data-clipboard-text\",$.trim(t.innerHTML)).addClass(\"design-asset-copy-as\")})}CP.IconPicker={},CP.IconPicker.init=function(){e()}}(),function(){function e(){$(\".design-asset-pattern-list > li\").each(function(e,t){$(t).attr(\"data-clipboard-text\",$(t).attr(\"style\")).addClass(\"design-asset-copy-as\")})}CP.PatternPicker={},CP.PatternPicker.init=function(){e()}}(),function(){function e(){t(\"https://api.unsplash.com/photos/random/?count=\"+i+\"&client_id=\"+o)}function t(e){$.ajax({url:e,type:\"GET\"}).done(function(e){s(e)})}function n(){$(\"#unsplash-search\").on(\"submit\",function(e){e.preventDefault(),t(\"https://api.unsplash.com/search/photos?page=1&per_page=\"+i+\"&query=\"+$(\"#unsplash-search-input\").val()+\"&client_id=\"+o)})}function s(e){for(var t,n=\"\",s=(t=e.results?e.results:e).length-1;s>=0;s--)n+=r(t[s]);$(\"#design-asset-photo-list\").html(n)}CP.PhotoPicker={};var i=10,o=\"8e31e45f4a0e8959d456ba2914723451b8262337f75bcea2e04ae535491df16d\";CP.PhotoPicker.init=function(){e(),n()};var r=_.template('<li data-download-location=\"<%= links.download_location %>\"><img src=\"<%= urls.regular %>\" alt=\"\" data-clipboard-text=\"<%= urls.full %>\" class=\"asset-copy-as trigger-unsplash-api-guideline\"><div>By <a href=\"<%= links.html %>?utm_source=CodePen&utm_medium=referral&utm_campaign=api-credit\"><%= user.name %></a><button class=\"asset-dropdown-arrow button mini-button button-medium editor-dropdown-button\" data-dropdown=\"#photo-dropdown-<%= id %>\"><svg class=\"dropdown-arrow\"><use xlink:href=\"#arrow-down-mini\"></use></svg></button><ul id=\"photo-dropdown-<%= id %>\" class=\"link-list is-dropdown editor-dropdown\" data-dropdown-position=\"css\"><li><a href=\"#0\" id=\"\" class=\"asset-copy-as trigger-unsplash-api-guideline\" data-clipboard-text=\"<%= urls.full %>\">Copy URL <span>(Full)</span></a></li><li><a href=\"#0\" id=\"\" class=\"asset-copy-as trigger-unsplash-api-guideline\" data-clipboard-text=\"<%= urls.small %>\">Copy URL <span>(Small)</span></a></li><li><a href=\"#0\" id=\"\" class=\"asset-copy-as trigger-unsplash-api-guideline\" data-clipboard-text=\"&lt;img src=\\'<%= urls.full %>\\' alt=\\'\\'&gt;\">Copy as &lt;img&gt; <span>(Full)</span></a></li><li><a href=\"#0\" id=\"\" class=\"asset-copy-as trigger-unsplash-api-guideline\" data-clipboard-text=\"&lt;img src=\\'<%= urls.small %>\\' alt=\\'\\'&gt;\">Copy as &lt;img&gt; <span>(Small)</span></a></li><li><a href=\"#0\" id=\"\" class=\"asset-copy-as trigger-unsplash-api-guideline\" data-clipboard-text=\"background-image: url(<%= urls.full %>);\">Copy as background <span>(Full)</span></a></li><li><a href=\"#0\" id=\"\" class=\"asset-copy-as trigger-unsplash-api-guideline\" data-clipboard-text=\"background-image: url(<%= urls.small %>);\">Copy as background <span>(small)</span></a></li></ul></div></li>')}(),window.MinipageAssets={isAssetsReady:!1,isAssetsOpen:!1,assetsWrap:$(\"#assets-wrap\"),popupName:\"assets\",init:function(){this.user=__user,this.pageType=\"assets_mini\",_.extend(this,AJAXUtil),_.extend(this,Assets),this._bindToDOM(),this._bindToHub()},_bindToHub:function(){Hub.sub(\"asset-added\",$.proxy(this._onAssetAdded,this)),Hub.sub(\"key\",$.proxy(this._onKey,this)),Hub.sub(\"popup-open\",$.proxy(this._onPopupOpen,this))},_bindToDOM:function(){var e=this;$(\"body\").on(\"click\",\"#assets-link\",function(){e._toggleMiniAssetsView()})},_bindAssetEvents:function(){var e=this;this.allFiles.on(\"click\",\".file-delete\",function(t){e.deleteFile(t,this)}),this.allFiles.on(\"mouseenter\",\".file-preview\",function(t){e.setImagePreviewURL(t,this)}),this.allFiles.on(\"click\",\".add-as-external-stylesheet\",function(t){e.addAsExternalStylesheet(t,this)}),this.allFiles.on(\"click\",\".add-as-external-script\",function(t){e.addAsExternalScript(t,this)}),$(\"#assets-area-close-button\")._on(\"click\",this._closeAssetsArea,this)},_toggleMiniAssetsView:function(){this.isAssetsOpen?this._closeAssetsArea():this._openAssetsArea()},_closeAssetsArea:function(){this.assetsWrap.length&&this.assetsWrap.removeClass(\"open\"),this.isAssetsOpen=!1},_openAssetsArea:function(){var e=this;this.isAssetsReady?e.assetsWrap.addClass(\"open\"):$.get(\"/ajax/assets/bin\",function(t){$(\"#asset-bin-goes-here\").replaceWith(t.html),e._getAssets(),setTimeout(function(){e.assetsWrap=$(\"#assets-wrap\"),e.assetsWrap.show(),e.assetsWrap.addClass(\"open\"),e.allFiles=$(\"#your-files-tabs\"),CP.ColorPicker.init(),CP.IconPicker.init(),CP.PatternPicker.init(),CP.PhotoPicker.init(),CP.DesignAssets.init(),e.isAssetsReady=!0,e._bindAssetEvents(),SearchFilter.init(),e._bindToDragAndDrop()},10)}),this.isAssetsOpen=!0,Hub.pub(\"popup-open\",this.popupName)},_getAssets:function(){this.get(\"/uploaded_assets/account_asset\",{},this._doneGetAssets)},_doneGetAssets:function(e){window.__assets=e.assets,AssetsData.init(),$(\"#assets-all-files\").replaceWith(e.asset_list_html),$(\"#progress\").replaceWith(e.assets_space_indicator_html),$(\"#assets-area\").addClass(\"files-loaded\"),this._setUpCopyButtons()},_onKey:function(e,t){\"esc\"===t.key&&this._closeAssetsArea()},_onPopupOpen:function(e,t){t!==this.popupName&&this._closeAssetsArea()},_setUpCopyButtons:function(){var e=new Clipboard(\".asset-copy-as\");e.on(\"success\",function(){$.showMessage(\"Copied to clipboard!\")}),e.on(\"error\",function(){$.showMessage(\"Copying failed.\")})},addAsExternalStylesheet:function(e,t){CP.cssSettingsController.resourcesController.quickAddResource(\"css\",$(t).closest(\".single-asset\").data(\"asset-url\")),$.showMessage(\"Added as External CSS in Pen Settings!\")},addAsExternalScript:function(e,t){CP.jsSettingsController.resourcesController.quickAddResource(\"js\",$(t).closest(\".single-asset\").data(\"asset-url\")),$.showMessage(\"Added as External JavaScript in Pen Settings!\")},deleteFile:function(e,t){e.preventDefault();var n=this,s=$(t).data(\"asset-id\");$.showModal(\"/ajax/assets/confirm_asset_delete\",\"modal-warning\",function(){n._doneConfirmDeleteAsset(s)})},_doneConfirmDeleteAsset:function(e){$(\"#confirm-delete\")._on(\"click\",function(){this.finishDeletingAsset(e)},this)},finishDeletingAsset:function(e){$.hideMessage(),AssetsData.find(e)[\"delete\"]($.proxy(this.doneDeleteFileAjax,this))},_uploadComplete:function(e){this._decrementFileCount(),Hub.pub(\"asset-added\",e)},_onAssetAdded:function(e,t){this._addNewAssetHTML(t),this._resetFileInput($(\"#manual-file-upload\"))},_addNewAssetHTML:function(e){var t,n=this;this._assetElExist(e)?$(\"#asset-\"+e.asset.id).slideUp(function(){$(\"#asset-\"+e.asset.id).remove(),(t=$(e.asset_list_html)).css(\"transform\",\"translateY(0)\"),t.addClass(\"newly-added\"),n._addAssetToCategory(t,e.asset.category),setTimeout(function(){t.removeClass(\"newly-added\"),t.css(\"transform\",\"\")},50)}):((t=$(e.asset_list_html)).addClass(\"newly-added\"),n._addAssetToCategory(t,e.asset.category),setTimeout(function(){t.removeClass(\"newly-added\")},50))},_assetElExist:function(e){return $(\"#asset-\"+e.asset.id).length>0},_addAssetToCategory:function(e,t){$(\"a[href='#your-files-\"+t+\"']\").click(),e.prependTo(\"#file-list-\"+t),$(\"#file-list-\"+t).find(\".no-files\").remove()},_resetFileInput:function(e){e.wrap(\"<form />\").closest(\"form\").get(0).reset(),e.unwrap()},doneDeleteFileAjax:function(e){AssetsData.del(e.asset.id),this._removeListItem(e.asset.id)},_removeListItem:function(e){var t=$(\"#asset-\"+e);0===t.siblings().length&&t.parent().append(\"<li class='no-files'>There are no files of this type&nbsp;yet.</li>\"),t.addClass(\"deleting\").slideUp(250,function(){t.remove()})},setImagePreviewURL:function(e,t){var n=$(t),s=n.find(\".the-image-preview\"),i=n.closest(\".single-asset\").data(\"asset-url\")+\"?d=\"+Date.now();s.css({\"background-image\":\"url(\"+i+\")\"})}},MinipageAssets.init(),window.TeamRoomNotifications=Class.extend({init:function(e,t){this.user=e,this.rtData=t,this._debouncedCanCollabOnTeam=_.debounce(this._showCanCollabOnTeamPenMessage,2500),this._debouncedCanCollabSingle=_.debounce(this._showCanCollabOnSingleUserMessage,2500),this._shouldJoinRoom(t)},_shouldJoinRoom:function(e){return\"editor\"===e.role&&e.pen.slugHash&&(this.user.current_team_id>0||!0===this.user.paid)},_onConnect:function(){this._subscribeToServerEvents(),this._publishCanCollabOnTeamPen()},_subscribeToServerEvents:function(){},_onCanCollabOnTeamPen:function(e){this.user.id!==e.data.user.id?this._debouncedCanCollabOnTeam(e):this._debouncedCanCollabSingle(e)},_showCanCollabOnTeamPenMessage:function(e){var t=\"<%= name %> is also working on this pen. Try Collab Mode with your team member <a href='<%= url %>' target='_blank'>here</a>.\",n=document.location.href.replace(/\\/pen\\//,\"/collab/\"),s=_.template(t,{name:e.data.user.name,url:n});$.showMessage(s,\"until-dismiss\")},_showCanCollabOnSingleUserMessage:function(e){var t=\"Looks like this Pen is open in another window. You can use <a href='<%= url %>' target='_blank'>Collab mode</a> to make sure you don't override your work.\",n=document.location.href.replace(/\\/pen\\//,\"/collab/\"),s=_.template(t,{name:e.data.user.name,url:n});$.showMessage(s,\"until-dismiss\")},_publishCanCollabOnTeamPen:function(){}}),CPFactory.buildDataObjects(),CPFactory.buildEditorObjects(),CPFactory.buildDesktopViewEditorObjects(),CP.penDelete=new PenDelete,CP.EditorLayout.init(),Hub.pub(\"page-loading-done\"),CP.EditorLayout.doneLoading(),CP.cleanEditorURL(),Hub.pub(\"cm-update-keybindings\",{});"]}]}